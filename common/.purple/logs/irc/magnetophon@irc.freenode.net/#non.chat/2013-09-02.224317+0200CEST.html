<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #non at Mon 02 Sep 2013 10:43:17 PM CEST on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #non at Mon 02 Sep 2013 10:43:17 PM CEST on magnetophon@irc.freenode.net (irc)</h3>
<font color="#A82F2F"><font size="2">(10:43:19 PM)</font> <b>barjavel.freenode.net:</b></font> (notice) [freenode-info] please register your nickname...don&apos;t forget to auto-identify! http://freenode.net/faq.shtml#nicksetup<br/>
<font color="#16569E"><font size="2">(10:44:10 PM)</font> <b>magnetophon:</b></font> male: But if I understood correctly, you're going to make these windows floating, right? Also the other parameter editors, I assume?<br/>
<font size="2">(10:44:38 PM)</font><b> baumy left the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:44:40 PM)</font> <b>male:</b></font> magnetophon: I have no control over that.<br/>
<font size="2">(10:44:52 PM)</font><b> magnetophon1 left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:44:56 PM)</font> <b>male:</b></font> magnetophon: Each WM will interpret the UTILITY hint differently, if I were to set it.<br/>
<font color="#16569E"><font size="2">(10:44:57 PM)</font> <b>magnetophon:</b></font> male: I mean: set the hint<br/>
<font color="#16569E"><font size="2">(10:45:12 PM)</font> <b>magnetophon:</b></font> male: good enough for me!<br/>
<font color="#16569E"><font size="2">(10:45:36 PM)</font> <b>magnetophon:</b></font> male: Thanks!<br/>
<font color="#A82F2F"><font size="2">(10:47:13 PM)</font> <b>male:</b></font> magnetophon: Then some other user will complain that it breaks something in Awesome ;-)<br/>
<font color="#16569E"><font size="2">(10:47:15 PM)</font> <b>magnetophon:</b></font> male: In dutch we say: &quot;mustard after the meal&quot;: http://postimg.org/image/uboy5hy4h/879afa11/<br/>
<font color="#16569E"><font size="2">(10:47:24 PM)</font> <b>magnetophon:</b></font> male: why?<br/>
<font size="2">(10:47:29 PM)</font><b> btwe left the room (&quot;too late&quot;).</b><br/>
<font color="#16569E"><font size="2">(10:47:56 PM)</font> <b>magnetophon:</b></font> male: just a random example of what could happen, ore based on something?<br/>
<font color="#A82F2F"><font size="2">(10:48:41 PM)</font> <b>male:</b></font> magnetophon: So, the alignment of the word Spatializer tells me that NTK at least knows the actual dimensions.<br/>
<font color="#16569E"><font size="2">(10:48:43 PM)</font> <b>magnetophon:</b></font> male: are you just saying &quot;you can't please everyone&quot; or is there some technical issue you foresee?<br/>
<font color="#16569E"><font size="2">(10:49:09 PM)</font> <b>magnetophon:</b></font> male: I didn't follow that last one...<br/>
<font color="#A82F2F"><font size="2">(10:49:15 PM)</font> <b>male:</b></font> magnetophon: I&apos;ve never heard of the hint before, so I don&apos;t have a clue how various WMs respond to it.<br/>
<font color="#A82F2F"><font size="2">(10:49:22 PM)</font> <b>male:</b></font> magnetophon: Your screenshot.<br/>
<font color="#A82F2F"><font size="2">(10:49:30 PM)</font> <b>male:</b></font> magnetophon: The word Spatializer is centered.<br/>
<font color="#A82F2F"><font size="2">(10:49:43 PM)</font> <b>male:</b></font> magnetophon: In the window that is far larger in width than it was supposed to be.<br/>
<font color="#A82F2F"><font size="2">(10:50:05 PM)</font> <b>male:</b></font> magnetophon: Ah. nevermind. I&apos;m wrong.<br/>
<font color="#A82F2F"><font size="2">(10:50:08 PM)</font> <b>male:</b></font> magnetophon: It&apos;s supposed to be right justified.<br/>
<font color="#A82F2F"><font size="2">(10:50:22 PM)</font> <b>fundamental:</b></font> hm, that does not seem to be as bad as it was originally made to seem to be<br/>
<font color="#16569E"><font size="2">(10:50:23 PM)</font> <b>magnetophon:</b></font> male: right. got ya<br/>
<font color="#A82F2F"><font size="2">(10:50:24 PM)</font> <b>male:</b></font> magnetophon: So NTK doesn&apos;t know the bogus dimensions. It still thinks the window is the requested size.<br/>
<font color="#A82F2F"><font size="2">(10:50:54 PM)</font> <b>male:</b></font> magnetophon: I think.<br/>
<font color="#A82F2F"><font size="2">(10:51:33 PM)</font> <b>male:</b></font> magnetophon: This is a good opportunity for an easter egg. I&apos;ll put i3 sucks in the extra pixels.<br/>
<font color="#16569E"><font size="2">(10:51:35 PM)</font> <b>magnetophon:</b></font> male: seems that way<br/>
<font color="#16569E"><font size="2">(10:51:53 PM)</font> <b>magnetophon:</b></font> male: that was mean! :)<br/>
<font color="#A82F2F"><font size="2">(10:52:11 PM)</font> <b>male:</b></font> magnetophon: j/k :-P<br/>
<font color="#16569E"><font size="2">(10:52:42 PM)</font> <b>magnetophon:</b></font> male: what's j/k ?<br/>
<font color="#A82F2F"><font size="2">(10:52:49 PM)</font> <b>male:</b></font> magnetophon: Just Kidding.<br/>
<font color="#A82F2F"><font size="2">(10:53:11 PM)</font> <b>male:</b></font> magnetophon: I&apos;ll have to install one of these goofy WMs to reproduce the issue.<br/>
<font color="#16569E"><font size="2">(10:53:32 PM)</font> <b>magnetophon:</b></font> male: Would you? Thanks!<br/>
<font color="#16569E"><font size="2">(10:54:13 PM)</font> <b>magnetophon:</b></font> male: and i3 really has it's advantages. I tried MANY tiling wm's before settling on this one.<br/>
<font color="#16569E"><font size="2">(10:54:40 PM)</font> <b>magnetophon:</b></font> male though I'm researching stumpWM (again) as we speak.<br/>
<font color="#A82F2F"><font size="2">(10:54:44 PM)</font> <b>male:</b></font> fundamental: I think the only way to handle it in Zyn would be a scroll widget, since there&apos;s really no room to shrink anything.<br/>
<font color="#A82F2F"><font size="2">(10:55:22 PM)</font> <b>male:</b></font> magnetophon: StumpWM can be hacked at runtime.<br/>
<font color="#A82F2F"><font size="2">(10:55:33 PM)</font> <b>male:</b></font> magnetophon: Which is it&apos;s main point of awesomeness.<br/>
<font color="#A82F2F"><font size="2">(10:55:47 PM)</font> <b>fundamental:</b></font> male: if it is zyn, I&apos;ll just say switch to floating mode, it&apos;s confusing enough as it already is :p<br/>
<font color="#A82F2F"><font size="2">(10:55:49 PM)</font> <b>male:</b></font> magnetophon: It&apos;s not exactly liteweight though, being written in lisp.<br/>
<font color="#16569E"><font size="2">(10:56:10 PM)</font> <b>magnetophon:</b></font> male, fundamental: yes, zyn in a small screen with a tiling wm is troublesome<br/>
<font color="#A82F2F"><font size="2">(10:56:35 PM)</font> <b>male:</b></font> fundamental: But I don&apos;t thing floating mode helps if the window is bigger than the screen. At least it&apos;s not clear to me if i3 behaves sensibly in that situation.<br/>
<font color="#16569E"><font size="2">(10:56:47 PM)</font> <b>magnetophon:</b></font> male: Ah, that's why I didn't research further when I was searching for a wm<br/>
<font color="#A82F2F"><font size="2">(10:57:02 PM)</font> <b>male:</b></font> In most WMs you can Alt+Drag to pan a too-big window.<br/>
<font color="#16569E"><font size="2">(10:58:24 PM)</font> <b>magnetophon:</b></font> male, fundamental: sure, floating is not the ideal solution for zyn either, but it's what I do now.<br/>
<font color="#A82F2F"><font size="2">(11:00:20 PM)</font> <b>fundamental:</b></font> in theory it should be feasible to allow some windows to grow the whitespace between fixed blocks, but it&apos;s a bit of a pain to get it setup properly in fluid<br/>
<font color="#16569E"><font size="2">(11:15:17 PM)</font> <b>magnetophon:</b></font> male: I have to leave again. Could you point me to some explanation on how to integrate nsm with dmenu?<br/>
<font color="#16569E"><font size="2">(11:16:38 PM)</font> <b>magnetophon:</b></font> male: btw: It's great having developers that also use tiling wm's. Otherwise you probably wouldn't even had that conversation with the i3 people.<br/>
<font color="#16569E"><font size="2">(11:17:09 PM)</font> <b>magnetophon:</b></font> fundamental: and cool that you actually use i3!<br/>
<font color="#16569E"><font size="2">(11:17:16 PM)</font> <b>magnetophon:</b></font> bbl<br/>
<font size="2">(11:18:00 PM)</font><b> emias left the room (&quot;:q&quot;).</b><br/>
<font color="#A82F2F"><font size="2">(11:22:04 PM)</font> <b>male:</b></font> magnetophon: It&apos;s all in the NSM documentation.<br/>
<font color="#A82F2F"><font size="2">(11:22:08 PM)</font> <b>fundamental:</b></font> male: on an unrelated note - since you appeared interested, could you get me a data point on the rtosc performance test case?<br/>
<font color="#A82F2F"><font size="2">(11:25:22 PM)</font> <b>male:</b></font> fundamental: Sure, what do I have to do?<br/>
<font color="#A82F2F"><font size="2">(11:25:45 PM)</font> <b>fundamental:</b></font> male: build it and run the &apos;performance&apos; binary<br/>
<font color="#A82F2F"><font size="2">(11:26:07 PM)</font> <b>fundamental:</b></font> that will produce the average cost of a single dispatch<br/>
<font color="#A82F2F"><font size="2">(11:26:41 PM)</font> <b>male:</b></font> fundamental: Ok. BTW, since the primary use case is internal, have you considered just interning the pathnames/<br/>
<font color="#A82F2F"><font size="2">(11:26:54 PM)</font> <b>male:</b></font> fundamental: That would turn it into integer comparsions rather than string...<br/>
<font color="#A82F2F"><font size="2">(11:28:11 PM)</font> <b>fundamental:</b></font> male: that idea starts to fall apart with wildcards and then there needs to be an extra stage of massaging every proper OSC message into an array of interned symbols<br/>
<font color="#062585"><font size="2">(11:28:27 PM)</font> <b>***male</b></font> never uses OSC wildcards anyway.<br/>
<font color="#A82F2F"><font size="2">(11:28:57 PM)</font> <b>male:</b></font> fundamental: RTOSC Performace: 127.500000 ns per dispatch<br/>
<font color="#A82F2F"><font size="2">(11:29:02 PM)</font> <b>fundamental:</b></font> male: well, I don&apos;t use &apos;*&apos; yet, however I do use a little syntax for array path specification<br/>
<font color="#A82F2F"><font size="2">(11:30:20 PM)</font> <b>fundamental:</b></font> male: hm, that&apos;s consistent with the last performance comparison indicating that your system is ~2x faster than anything here<br/>
<font color="#A82F2F"><font size="2">(11:30:45 PM)</font> <b>male:</b></font> fundamental: I also have a few fancy things in my cflags. Does your build use them?<br/>
<font color="#A82F2F"><font size="2">(11:31:09 PM)</font> <b>fundamental:</b></font> male: I have it set to -O2<br/>
<font color="#A82F2F"><font size="2">(11:31:16 PM)</font> <b>male:</b></font> fundamental: in particular I use: -march=native -msse4.2 -mfpmath=sse -O3<br/>
<font color="#A82F2F"><font size="2">(11:31:43 PM)</font> <b>fundamental:</b></font> male: you can get a little bit extra from -march=native and -O3, but not too much<br/>
<font color="#A82F2F"><font size="2">(11:32:00 PM)</font> <b>fundamental:</b></font> male: I don&apos;t think my cpu has sse4.2 support<br/>
<font color="#A82F2F"><font size="2">(11:32:18 PM)</font> <b>male:</b></font> fundamental: It&apos;s not going to matter anyway unless you&apos;re doing floating point.<br/>
<font size="2">(11:33:03 PM)</font><b> HisaoNakai left the room (quit: Quit: &quot;We will not go quietly into the night!&quot; https://www.prism-break.org).</b><br/>
<font color="#A82F2F"><font size="2">(11:33:16 PM)</font> <b>male:</b></font> fundamental: lots of ifs here that might benefit from __builtin_expect.<br/>
<font color="#A82F2F"><font size="2">(11:33:37 PM)</font> <b>fundamental:</b></font> male: sse4.2 does have some string comparison instructions it would seem<br/>
<font color="#A82F2F"><font size="2">(11:34:13 PM)</font> <b>male:</b></font> fundamental: Theoretically builtinn strcmp should be using something fancy if available.<br/>
<font color="#A82F2F"><font size="2">(11:34:48 PM)</font> <b>fundamental:</b></font> male: when I used the builtin strcmp it seemed to give the same performance as strcmp itself<br/>
<font color="#A82F2F"><font size="2">(11:35:09 PM)</font> <b>male:</b></font> fundamental: Yes, that&apos;s true. Unless you give --std= something.<br/>
<font color="#A82F2F"><font size="2">(11:35:15 PM)</font> <b>male:</b></font> fundamental: Because strcmp is builtin strcmp.<br/>
<font color="#A82F2F"><font size="2">(11:35:39 PM)</font> <b>fundamental:</b></font> male: I thought strcmp mapped to glibc&apos;s strcmp<br/>
<font color="#A82F2F"><font size="2">(11:37:07 PM)</font> <b>male:</b></font> fundamental: http://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html<br/>
<font color="#A82F2F"><font size="2">(11:37:46 PM)</font> <b>fundamental:</b></font> male: hm, I guess I stumbled on some out of date mailing list discussions then<br/>
<font size="2">(11:42:00 PM)</font><b> violetina left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(11:42:22 PM)</font> <b>male:</b></font> fundamental: So is the performance of the dispatch really a bottleneck or are you just trying to get it as fast as possible?<br/>
<font color="#A82F2F"><font size="2">(11:42:57 PM)</font> <b>fundamental:</b></font> male: I&apos;m trying to flatten out the time spent in the process() callback<br/>
<font color="#A82F2F"><font size="2">(11:43:50 PM)</font> <b>fundamental:</b></font> male: before this tweak the time was noticeable, though generally workable if I limited the event rate<br/>
<font color="#A82F2F"><font size="2">(11:44:38 PM)</font> <b>fundamental:</b></font> male: previously it seemed to be pretty solid with event rates caped at 10 or 50 events a cycle<br/>
<font color="#A82F2F"><font size="2">(11:45:47 PM)</font> <b>fundamental:</b></font> male: I&apos;ve run some microbenchmarks via valgrind to track the time spent in every separate process() callback and I&apos;ve been trying to chase down some of the outliers<br/>
<font color="#A82F2F"><font size="2">(11:45:49 PM)</font> <b>male:</b></font> fundamental: I think to get it any faster you&apos;re going to have to intern strings..<br/>
<font color="#A82F2F"><font size="2">(11:46:17 PM)</font> <b>male:</b></font> fundamental: Hmm.<br/>
<font color="#A82F2F"><font size="2">(11:46:46 PM)</font> <b>male:</b></font> fundamental: Maybe you could also try some kind of b-tree lookup.<br/>
<font color="#A82F2F"><font size="2">(11:47:27 PM)</font> <b>fundamental:</b></font> male: +1 on adding in the builtin_expect<br/>
<font color="#A82F2F"><font size="2">(11:47:43 PM)</font> <b>male:</b></font> fundamental: Did it make a difference?<br/>
<font color="#A82F2F"><font size="2">(11:48:11 PM)</font> <b>fundamental:</b></font> male: ~15% difference in runtime by adding it in one location<br/>
<font color="#A82F2F"><font size="2">(11:48:16 PM)</font> <b>male:</b></font> fundamental: Sweet.<br/>
<font size="2">(11:49:02 PM)</font><b> alex-EU left the room (quit: Quit: Ex-Chat).</b><br/>
<font color="#A82F2F"><font size="2">(11:49:32 PM)</font> <b>fundamental:</b></font> male: I guessing that I can&apos;t really get much more performance out of this before I start making things a complicated mess so I&apos;ll likely go back to hacking away chunks of code in zyn&apos;s note initialization routines<br/>
<font color="#A82F2F"><font size="2">(11:50:35 PM)</font> <b>fundamental:</b></font> male: there is one section of code that I&apos;ve been thinking about removing as it seems like an obscure feature that eats up a lot of cpu time at inconvenient locations<br/>
<font color="#A82F2F"><font size="2">(11:51:27 PM)</font> <b>fundamental:</b></font> more or less there is one or two minor features of the adsynth oscillator generation routine which make it impossible to precompute the output of a ifft()<br/>
<font color="#A82F2F"><font size="2">(11:52:12 PM)</font> <b>fundamental:</b></font> if I can kill them, then adsynth&apos;s oscillators can essentially be condensed into wavetables that don&apos;t need to be bound to notes<br/>
<font color="#A82F2F"><font size="2">(11:52:53 PM)</font> <b>male:</b></font> fundamental: That sounds nice.<br/>
<font color="#A82F2F"><font size="2">(11:53:56 PM)</font> <b>fundamental:</b></font> male: yep, and _most_ of the objects currently shoved into notes are small enough that they could be statically allocated removing malloc() from the realtime thread<br/>
<font color="#A82F2F"><font size="2">(11:57:10 PM)</font> <b>male:</b></font> fundamental: That should take priority over shaving a few ns off of even dispatching, I&apos;d think ;-)<br/>
<font color="#A82F2F"><font size="2">(11:58:11 PM)</font> <b>fundamental:</b></font> male: well, opening a window can result in a few hundred events being dispatch which all will travel through 6 or so layers of dispatching, so the cost is not as minimal as you would think<br/>
<font color="#A82F2F"><font size="2">(11:58:29 PM)</font> <b>fundamental:</b></font> male: also, I don&apos;t have to deal with users saying &quot;I was using that feature&quot; :p<br/>
<font color="#A82F2F"><font size="2">(12:00:36 AM)</font> <b>fundamental:</b></font> also, hitting the point where you are shaving off nanoseconds is just fun for some odd reason<br/>
<font color="#A82F2F"><font size="2">(12:01:12 AM)</font> <b>fundamental:</b></font> I must have bumped my head on an optimization theory book as a child<br/>
<font color="#A82F2F"><font size="2">(12:02:02 AM)</font> <b>male:</b></font> fundamental: Yeah. I get in that mood sometimes as well.<br/>
<font color="#A82F2F"><font size="2">(12:02:53 AM)</font> <b>male:</b></font> fundamental: But eventually you run out of things to optimize when you see that the code spends all its time doing some necessary *= and there&apos;s just no way to sqeeze any more out of it.<br/>
<font color="#A82F2F"><font size="2">(12:03:53 AM)</font> <b>fundamental:</b></font> male: usually I get bothered as I know I could make it go faster if I had some ASIC like superpowers, but you do eventually run out of instructions<br/>
<font color="#A82F2F"><font size="2">(12:04:39 AM)</font> <b>male:</b></font> fundamental: Yeah. I was actually pretty disappointed with how small a difference sse vectorization makes on my hardware.<br/>
<font color="#A82F2F"><font size="2">(12:05:20 AM)</font> <b>male:</b></font> fundamental: Of course, I haven&apos;t tried hand crafted code yet, just using gcc&apos;s autovectorizer.<br/>
<font color="#A82F2F"><font size="2">(12:05:38 AM)</font> <b>male:</b></font> fundamental: But the assembly looks reasonable and it is using the vector routines.<br/>
<font color="#A82F2F"><font size="2">(12:05:39 AM)</font> <b>fundamental:</b></font> male: yep, I really wanted to see some nice differences with the SSE4 packed multiply sum instruction, but for IIR filters there is just too much work to get the words into the registers<br/>
<font color="#A82F2F"><font size="2">(12:05:45 AM)</font> <b>male:</b></font> s/routines/instructions/<br/>
<font color="#A82F2F"><font size="2">(12:06:03 AM)</font> <b>fundamental:</b></font> after reading the asm for a while, that is where clang seems to be very clever<br/>
<font color="#A82F2F"><font size="2">(12:06:41 AM)</font> <b>fundamental:</b></font> it is able to have the results sit in just the right spots through an odd and unseen hexadecimal dance<br/>
<font color="#A82F2F"><font size="2">(12:07:28 AM)</font> <b>male:</b></font> fundamental: Heh. Also, I&apos;ve been fairly disappointed with the gains possible from an 8-core CPU. The workload just isn&apos;t there. THe only way I can max it out is compiling things.<br/>
<font color="#A82F2F"><font size="2">(12:07:52 AM)</font> <b>male:</b></font> fundamental: It&apos;d be waaaaay better to have a twice as fast 4-core system.<br/>
<font color="#A82F2F"><font size="2">(12:09:18 AM)</font> <b>fundamental:</b></font> male: that&apos;s part of the reason why I have not bothered to upgrade my system, the incremental gains are just not really there for me<br/>
<font color="#A82F2F"><font size="2">(12:10:45 AM)</font> <b>male:</b></font> OT: Half way done remixing the album.<br/>
<font color="#A82F2F"><font size="2">(12:11:51 AM)</font> <b>fundamental:</b></font> male: album? I only saw the one track that was popping up here from time to time<br/>
<font color="#A82F2F"><font size="2">(12:12:31 AM)</font> <b>male:</b></font> fundamental: I&apos;m remixing/mastering 10 songs for an album.<br/>
<font color="#A82F2F"><font size="2">(12:14:09 AM)</font> <b>male:</b></font> fundamental: I got stuck on one that I needed to completely rerecord for... shit... several months.<br/>
<font color="#A82F2F"><font size="2">(12:15:32 AM)</font> <b>male:</b></font> fundamental: The goal was to get it done in 2013!<br/>
<font color="#A82F2F"><font size="2">(12:16:35 AM)</font> <b>fundamental:</b></font> male: long term dates are hard to nail down<br/>
<font color="#A82F2F"><font size="2">(12:52:37 AM)</font> <b>male:</b></font> fundamental: It&apos;s going pretty quickly now... Got 4 or 5 songs done in about twice as many days.<br/>
<font color="#A82F2F"><font size="2">(12:53:10 AM)</font> <b>male:</b></font> fundamental: Just remixing everything with the new spatialization/reverb, cleaning a few things up, and doing some double tracking.<br/>
<font color="#A82F2F"><font size="2">(12:54:25 AM)</font> <b>fundamental:</b></font> male: if the github contributions stuff is any indicator you&apos;re a heck of a lot more consistent at getting stuff done than I am<br/>
<font color="#A82F2F"><font size="2">(12:54:33 AM)</font> <b>fundamental:</b></font> *indicator,<br/>
<font color="#A82F2F"><font size="2">(02:08:48 AM)</font> <b>male:</b></font> fundamental: http://nevermindhim.com/she-begged-me.ogg<br/>
<font color="#A82F2F"><font size="2">(02:09:50 AM)</font> <b>male:</b></font> fundamental: Only 4 left to go.<br/>
<font color="#A82F2F"><font size="2">(02:14:43 AM)</font> <b>fundamental:</b></font> male: it seems to have a very nice warmth to it, which I can&apos;t quite decide if it&apos;s from the amplification or the early reverb, but I like it. I&apos;ll have to listen to it a few times to get the words, but I like the overall color it has<br/>
<font color="#A82F2F"><font size="2">(02:15:37 AM)</font> <b>male:</b></font> fundamental: Everything was recorded bone dry. There&apos;s a bit of guitarix and a lot of tubewarmth in there in addition to all the spatialization stuff.<br/>
<font size="2">(03:34:31 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
