<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #debian at Thu 05 Feb 2015 02:11:16 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #debian at Thu 05 Feb 2015 02:11:16 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(02:11:16 PM)</font><b> The topic for #debian is: Jessie frozen: /msg dpkg jessie freeze | wheezy released: /msg dpkg squeeze-&gt;wheezy | current point release: /msg dpkg 7.8 | NO FLOOD: /msg dpkg paste | /msg bots NOT people | offtopic: #debian-offtopic | testing/unstable: #debian-next (irc.oftc.net) | chanlogs: /msg dpkg irclog</b><br/>
<font size="2">(02:11:16 PM)</font><b> Topic for #debian set by abrotman!~abrotman@pdpc/supporter/active/abrotman at 02:21:31 PM on 01/12/2015</b><br/>
<font size="2">(02:12:03 PM)</font><b> mode (+l 1512) by debhelper</b><br/>
<font color="#A82F2F"><font size="2">(02:12:15 PM)</font> <b>jeddi:</b></font> hello.  i&apos;ve upgraded my laptop to jessie and i&apos;m starting to work out systemd.  i&apos;ve got a problem where kdm restarts every minute (pretty much), whether i&apos;ve logged into KDE or not.  i thought it might be the missing &apos;faces&apos; dir problem, but i&apos;ve fixed that with genkdmconf.  still restarting.  how do i start to troubleshoot such a weird bug?<br/>
<font color="#A82F2F"><font size="2">(02:13:33 PM)</font> <b>jeddi:</b></font> &apos;kdm.service entered failed state&apos;.   i ask here first primarily because this is a vanilla jessie upgrade / install, and I suspect it&apos;s previously covered territory.<br/>
<font color="#A82F2F"><font size="2">(02:16:19 PM)</font> <b>mjt:</b></font> jeddi: you may want to ask in #debian-next; systemd is just a messenger here, kdm is failing for some reason. I dunno if it performs some logging. journalctl is the systemd way to show logs.<br/>
<font color="#A82F2F"><font size="2">(02:17:20 PM)</font> <b>jeddi:</b></font> mjt: thanks - i&apos;m reading up on journalctl now - ~/.xsession-errors is my usual place, of course, along with /var/log/Xorg.log ... but no insights on either front.   wonderful learning experience. :)<br/>
<font color="#A82F2F"><font size="2">(02:17:44 PM)</font> <b>jeddi:</b></font> it runs for ~60s each time, though, which suggests a weird time-out issue, rather than outright failure state.<br/>
<font color="#A82F2F"><font size="2">(02:18:54 PM)</font> <b>daemonkeeper:</b></font> journalctl is only used if you use that as syslog exclusively. You can, and most likely have, still a regular rsyslog-or-whatever installed, and is thus logging as people are used to.<br/>
<font color="#A82F2F"><font size="2">(02:20:30 PM)</font> <b>jeddi:</b></font> daemonkeeper: i have Xorg.0.log - but it shows nothing other than startup (X) info.   i&apos;ve identified a ~90s restart cycle - regardless of whether i&apos;ve logged into kde or not - of kdm.   very strange.<br/>
<font color="#A82F2F"><font size="2">(02:20:47 PM)</font> <b>mjt:</b></font> that&apos;s kdm prob not Xorg prob<br/>
<font color="#A82F2F"><font size="2">(02:20:58 PM)</font> <b>jeddi:</b></font> mjt: i believe you&apos;re right.<br/>
<font color="#A82F2F"><font size="2">(02:21:15 PM)</font> <b>mjt:</b></font> I mean, you want logging from kdm not Xorg<br/>
<font color="#A82F2F"><font size="2">(02:21:25 PM)</font> <b>jeddi:</b></font> daemon.log:  &apos;Failed to start KDE Display Manager.&apos;  // Dependency failed for X11 Display Manager. // Unit kdm.service entered failed state.<br/>
<font color="#A82F2F"><font size="2">(02:21:50 PM)</font> <b>daemonkeeper:</b></font> That&apos;s what you know already.<br/>
<font color="#A82F2F"><font size="2">(02:22:01 PM)</font> <b>jeddi:</b></font> kdm.log perversely only shows one EE line:  719 (EE) Server terminated successfully (0). Closing log file.<br/>
<font color="#A82F2F"><font size="2">(02:22:12 PM)</font> <b>jeddi:</b></font> and then kdm log restarts (x.org xserver ... startup stanza<br/>
<font color="#A82F2F"><font size="2">(02:22:58 PM)</font> <b>mjt:</b></font> journalctl should have better info, logged from systemd PoV, no?<br/>
<font color="#A82F2F"><font size="2">(02:23:20 PM)</font> <b>jeddi:</b></font> mjt: yup - still trying to get my head around how to entice journalctl into revealing everything.<br/>
<font color="#A82F2F"><font size="2">(02:23:37 PM)</font> <b>mjt:</b></font> just `journalctl&apos; as root should do<br/>
<font color="#A82F2F"><font size="2">(02:23:40 PM)</font> <b>jeddi:</b></font> without params it doesn&apos;t reveal anything beyond what i&apos;ve just mentioned.<br/>
<font color="#A82F2F"><font size="2">(02:23:42 PM)</font> <b>daemonkeeper:</b></font> journald is a better logger than syslog as it contains more meta information, and is technically superior to traditional logs, but it knows just as much as other logger.<br/>
<font color="#A82F2F"><font size="2">(02:23:53 PM)</font> <b>jeddi:</b></font> &apos;failed to starrt&apos; and &apos;dependency failed&apos;.<br/>
<font color="#A82F2F"><font size="2">(02:24:00 PM)</font> <b>jeddi:</b></font> without specifying the dependency.<br/>
<font color="#A82F2F"><font size="2">(02:24:55 PM)</font> <b>jeddi:</b></font> it&apos;s the 90s cycling that worries me .. that&apos;s a timeout, not a failure.<br/>
<font color="#A82F2F"><font size="2">(02:25:12 PM)</font> <b>jeddi:</b></font> (well, in my humble experiences, anything that long, and that regular, is a timeout, rather than a failure outright)<br/>
<font color="#A82F2F"><font size="2">(02:27:36 PM)</font> <b>jeddi:</b></font> trying one of those &apos;just in case&apos; things - i&apos;d fiddled with inittab a while back to block out getty&apos;s on physical tty&apos;s 5 and 6, as i like X to live on 5 (alt-f5), rather than 7.   rebooting to confirm if that makes any difference.  i really hope not.<br/>
<font color="#A82F2F"><font size="2">(02:29:31 PM)</font> <b>jeddi:</b></font> this is a brand new install on a funky dell high-dpi exclusively SSD box that takes ~7 seconds to get from asking for / cryptfs password to the KDM login ... but doing ctrl-alt-f2 takes 3s, and another 3s to start a getty on ctrl-alt-f3, etc ... so there&apos;s obviously still a few streamlining things to be done in there.<br/>
<font color="#A82F2F"><font size="2">(02:29:37 PM)</font> <b>daemonkeeper:</b></font> You&apos;d be better off to start kdm manually rather than via service then you&apos;d be likely getting better output. Moreover, journald, if you use, can log stdout/stderr.<br/>
<font color="#A82F2F"><font size="2">(02:30:00 PM)</font> <b>jeddi:</b></font> daemonkeeper: okay ... happy to startx / kdm start from cli as local user next.<br/>
<font color="#A82F2F"><font size="2">(02:30:18 PM)</font> <b>daemonkeeper:</b></font> kdm is not started as user, but as root.<br/>
<font color="#A82F2F"><font size="2">(02:30:20 PM)</font> <b>cobra-the-joker:</b></font> Hey guys ... can i install debian 7 32 bit on a 384 mb ram machine ?<br/>
<font color="#A82F2F"><font size="2">(02:30:29 PM)</font> <b>jeddi:</b></font> daemonkeeper: just waiting 90s now to see if it restarts after this last reboot.<br/>
<font color="#A82F2F"><font size="2">(02:30:30 PM)</font> <b>daemonkeeper:</b></font> As user you can only start your KDE session directly.<br/>
<font color="#A82F2F"><font size="2">(02:30:39 PM)</font> <b>jeddi:</b></font> daemonkeeper: sorry, yes, you&apos;re right - kdm is started as root, of course.<br/>
<font color="#A82F2F"><font size="2">(02:31:04 PM)</font> <b>daemonkeeper:</b></font> cobra-the-joker: You can. Does not mean you could do a lot of work on it.<br/>
<font color="#A82F2F"><font size="2">(02:31:16 PM)</font> <b>jeddi:</b></font> cobra-the-joker: raspberry pi?  or my old 386?<br/>
<font color="#A82F2F"><font size="2">(02:31:35 PM)</font> <b>cobra-the-joker:</b></font> jeddi: my old 386<br/>
<font color="#A82F2F"><font size="2">(02:32:16 PM)</font> <b>cobra-the-joker:</b></font> daemonkeeper: install maybe nginix on it and such<br/>
<font color="#A82F2F"><font size="2">(02:32:18 PM)</font> <b>jeddi:</b></font> cobra-the-joker: USD$35 gets you a pi with 1024MB RAM.  is it worth the pain?  (I appreciate this isn&apos;t an entirely useful answer, but, as daemonkeeper alludes, it won&apos;t be a particularly satisfying experience)<br/>
<font color="#A82F2F"><font size="2">(02:35:15 PM)</font> <b>daemonkeeper:</b></font> These days you can barely even open a browser without running out of memory if you have less than 1G.<br/>
<font color="#A82F2F"><font size="2">(02:37:21 PM)</font> <b>cobra-the-joker:</b></font> daemonkeeper: just s cmd<br/>
<font color="#A82F2F"><font size="2">(02:37:29 PM)</font> <b>SynrG:</b></font> Yep. I&apos;ll attest to that. On a 2G system with chromium and icedove and a moderate amount of extensions, I really have to watch how many things are open at once or tabs on the browser start dying.<br/>
<font color="#A82F2F"><font size="2">(02:38:20 PM)</font> <b>jeddi:</b></font> daemonkeeper:  stopping kdm (cheating via /etc/init.d/kdm stop - but i think that&apos;s functionally the same as service stop and also systemctl stop) ... and then running it manually as root with just &apos;kdm&apos; ... means that kdm is still sitting there, at the login prompt, 3 minutes later.   no errors on the (text) console.<br/>
<font color="#A82F2F"><font size="2">(02:38:25 PM)</font> <b>jeddi:</b></font> that&apos;s a bit frustrating.<br/>
<font color="#A82F2F"><font size="2">(02:39:10 PM)</font> <b>jeddi:</b></font> when i upgraded my desktop to 32gb some years back various nerdy friends accused me of over-spec&apos;ing ... they aren&apos;t laughing now.  mind, they weren&apos;t laughing then, either, so perhaps not very conclusive.<br/>
<font color="#A82F2F"><font size="2">(02:39:58 PM)</font> <b>jeddi:</b></font> i guess in the short term, i can just launch kdm manually.<br/>
<font color="#A82F2F"><font size="2">(02:41:50 PM)</font> <b>daemonkeeper:</b></font> jeddi: Then you may need to find out what triggers a kill, and if it&apos;s systemd why it does.<br/>
<font color="#A82F2F"><font size="2">(02:42:02 PM)</font> <b>jeddi:</b></font> daemonkeeper: indeed .. a fun project for the weekend. :)<br/>
<font size="2">(02:42:02 PM)</font><b> mode (+l 1519) by debhelper</b><br/>
<font color="#A82F2F"><font size="2">(02:42:18 PM)</font> <b>jeddi:</b></font> sadly i&apos;m going to spend the next four days away from network connectivity of any sort.   mixed blessings there.<br/>
<font size="2">(02:43:15 PM)</font><b> pvoigt_ is now known as pvoigt</b><br/>
<font size="2">(03:02:26 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
