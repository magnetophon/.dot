<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #lad at Mon 05 Jan 2015 10:57:20 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #lad at Mon 05 Jan 2015 10:57:20 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(10:57:20 PM)</font><b> The topic for #lad is: Linux Audio Developers | Don&apos;t ask to ask, just ask | Lists: <a href="http://lists.linuxaudio.org">http://lists.linuxaudio.org</a> | Jack: <a href="http://jackaudio.org">http://jackaudio.org</a> | LV2: <a href="http://lv2plug.in">http://lv2plug.in</a></b><br/>
<font size="2">(10:57:20 PM)</font><b> Topic for #lad set by tapas!~tapas@static.231.2.63.178.clients.your-server.de at 10:37:26 AM on 05/13/2013</b><br/>
<font color="#A82F2F"><font size="2">(10:58:57 PM)</font> <b>edogawa:</b></font> nice name for a plugin series ;) herpes simplex, zoster, genitalis, you name it<br/>
<font color="#A82F2F"><font size="2">(11:02:07 PM)</font> <b>HarryHaaren:</b></font> kfoltman, any joy with -W trick?<br/>
<font color="#A82F2F"><font size="2">(11:02:32 PM)</font> <b>kfoltman:</b></font> HarryHaaren: trying now<br/>
<font color="#A82F2F"><font size="2">(11:03:04 PM)</font> <b>HarryHaaren:</b></font> no rush, just wondering<br/>
<font color="#A82F2F"><font size="2">(11:03:20 PM)</font> <b>kfoltman:</b></font> so you reckon that jalv unloads the .so while something is still trying to call the code in it?<br/>
<font color="#A82F2F"><font size="2">(11:03:25 PM)</font> <b>kfoltman:</b></font> (possibly the signal handlers)<br/>
<font color="#A82F2F"><font size="2">(11:03:52 PM)</font> <b>HarryHaaren:</b></font> there are issues with Cairo IIRC, since JALV also uses GTK / Cairo, and unloading the library causes the static stuff to get messed up<br/>
<font color="#A82F2F"><font size="2">(11:03:54 PM)</font> <b>HarryHaaren:</b></font> or something.<br/>
<font color="#A82F2F"><font size="2">(11:03:55 PM)</font> <b>HarryHaaren:</b></font> I&apos;m not sure.<br/>
<font color="#A82F2F"><font size="2">(11:04:26 PM)</font> <b>HarryHaaren:</b></font> Hence if jalv.qt works OK, its because Jalv isn&apos;t crashing *after* the unload due to the GTK/Cairo statics getting scrambled<br/>
<font color="#A82F2F"><font size="2">(11:04:33 PM)</font> <b>HarryHaaren:</b></font> I think falktx or drobilla will know more<br/>
<font color="#A82F2F"><font size="2">(11:04:40 PM)</font> <b>HarryHaaren:</b></font> Hermann from the Guitarix project knows about it too<br/>
<font color="#A82F2F"><font size="2">(11:05:09 PM)</font> <b>kfoltman:</b></font> HarryHaaren: it worked, but it turned my plugins into herpes<br/>
<font color="#A82F2F"><font size="2">(11:05:24 PM)</font> <b>kfoltman:</b></font> not sure if it&apos;s an acceptable side effect<br/>
<font color="#A82F2F"><font size="2">(11:05:59 PM)</font> <b>HarryHaaren:</b></font> that&apos;s normal, don&apos;t worry. No wait - what!?<br/>
<font color="#A82F2F"><font size="2">(11:06:34 PM)</font> <b>kfoltman:</b></font> might be better to find out who and why calls into unloaded code<br/>
<font color="#A82F2F"><font size="2">(11:06:45 PM)</font> <b>kfoltman:</b></font> it&apos;s being called from g_object_unref, so at least there&apos;s that<br/>
<font color="#A82F2F"><font size="2">(11:07:09 PM)</font> <b>kfoltman:</b></font> perhaps the code unloads the plugin first and then unrefs some references<br/>
<font color="#A82F2F"><font size="2">(11:07:12 PM)</font> <b>kfoltman:</b></font> which would be a jalv bug<br/>
<font color="#A82F2F"><font size="2">(11:08:19 PM)</font> <b>HarryHaaren:</b></font> kfoltman, i think its an issue that Cairo probably calls its &quot;cleanup_statics()&quot; on module unload (generally it should too!) but then JALV still needs them<br/>
<font color="#A82F2F"><font size="2">(11:08:29 PM)</font> <b>HarryHaaren:</b></font> aka, not designed for plugins. Again, I&apos;m over my head here: this is a hunch<br/>
<font color="#A82F2F"><font size="2">(11:08:43 PM)</font> <b>HarryHaaren:</b></font> feel free to file a ticket against JALV / Cairo though<br/>
<font color="#062585"><font size="2">(11:08:52 PM)</font> <b>***HarryHaaren</b></font> has AVTK now, and doesn&apos;t have the issue<br/>
<font color="#062585"><font size="2">(11:09:05 PM)</font> <b>***kfoltman</b></font> tickets drobilla<br/>
<font color="#A82F2F"><font size="2">(11:11:31 PM)</font> <b>kfoltman:</b></font> HarryHaaren: BTW, Markus made a better version of that &quot;free beer&quot; picture, no hacking necessary :)<br/>
<font color="#A82F2F"><font size="2">(11:15:45 PM)</font> <b>HarryHaaren:</b></font> cool, thanks. Perhaps ping the LMP guys too to use your one instead of mine: i pinged them this morning about my version<br/>
<font color="#A82F2F"><font size="2">(11:36:12 PM)</font> <b>kfoltman:</b></font> HarryHaaren: pushed the version with your option now, but I&apos;m going to try a less brutal approach later<br/>
<font color="#A82F2F"><font size="2">(11:43:11 PM)</font> <b>HarryHaaren:</b></font> kfoltman, get back to me if you find a fix. I think falktx and hermann-guitarix will be interested too<br/>
<font color="#A82F2F"><font size="2">(11:43:53 PM)</font> <b>kfoltman:</b></font> I think this problem and their problem are different problems<br/>
<font color="#A82F2F"><font size="2">(11:44:00 PM)</font> <b>kfoltman:</b></font> mine might just be a calf-specific fuckup<br/>
<font color="#A82F2F"><font size="2">(11:45:34 PM)</font> <b>HarryHaaren:</b></font> oh ok, i&apos;m not sure there. Good luck anyway<br/>
<font color="#A82F2F"><font size="2">(11:48:13 PM)</font> <b>kfoltman:</b></font> calf_curve_finalize is the method that is being called after the object is unloaded<br/>
<font color="#A82F2F"><font size="2">(11:48:16 PM)</font> <b>kfoltman:</b></font> that sounds kinda shitty<br/>
<font color="#A82F2F"><font size="2">(11:49:30 PM)</font> <b>HarryHaaren:</b></font> hmm what does it do? Draw a curve? or is it a velocity curve or something?<br/>
<font color="#A82F2F"><font size="2">(11:49:46 PM)</font> <b>kfoltman:</b></font> velocity curve, yes<br/>
<font color="#A82F2F"><font size="2">(11:49:51 PM)</font> <b>kfoltman:</b></font> but the point is, it&apos;s a custom control<br/>
<font color="#A82F2F"><font size="2">(11:50:44 PM)</font> <b>HarryHaaren:</b></font> hm. Good luck: i&apos;m not at all familiar with the codebase, so i&apos;m of no use to you!<br/>
<font color="#A82F2F"><font size="2">(12:19:36 AM)</font> <b>kfoltman:</b></font> HarryHaaren: I have a better fix now<br/>
<font color="#A82F2F"><font size="2">(12:19:46 AM)</font> <b>HarryHaaren:</b></font> cool, do say<br/>
<font color="#A82F2F"><font size="2">(12:20:30 AM)</font> <b>kfoltman:</b></font> if I remove all the widgets from the parent GUI container, it works fine<br/>
<font color="#A82F2F"><font size="2">(12:21:23 AM)</font> <b>HarryHaaren:</b></font> let me guess: that makes GTK disconnect all signal-handlers from the main-window on destruction? And hence no stray callbacks either<br/>
<font color="#A82F2F"><font size="2">(12:21:58 AM)</font> <b>kfoltman:</b></font> well, the problem is the finalize method of the widget itself<br/>
<font color="#A82F2F"><font size="2">(12:22:16 AM)</font> <b>kfoltman:</b></font> the host does a destroy on parent window, which causes cascade destroy on child windows and their children etc.<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>kfoltman:</b></font> but destroy calls widget&apos;s finalize method, which is implemented in the (just unloaded) .so ... BOOM headshot<br/>
<font color="#A82F2F"><font size="2">(12:23:21 AM)</font> <b>kfoltman:</b></font> it only happens for the custom widgets that implement custom finalize method, so it&apos;s kinda tricky<br/>
<font color="#A82F2F"><font size="2">(12:24:01 AM)</font> <b>HarryHaaren:</b></font> LAbot tell falktx that kfoltman found an alternative to passing -W,-z-nodelete to the linker to solve the GTK widget close crash: &quot;if I remove all the widgets from the parent GUI container, it works fine&quot;-kfoltman<br/>
<font color="#A82F2F"><font size="2">(12:24:01 AM)</font> <b>LAbot:</b></font> HarryHaaren: Error: I haven&apos;t seen falktx, I&apos;ll let you do the telling.<br/>
<font color="#A82F2F"><font size="2">(12:24:11 AM)</font> <b>HarryHaaren:</b></font> aaah LAbot you&apos;re useless :P<br/>
<font color="#A82F2F"><font size="2">(12:24:38 AM)</font> <b>HarryHaaren:</b></font> kfoltman, ah ok, that probably explains why the GTK devs don&apos;t / didn&apos;t / haven&apos;t-yet noticed<br/>
<font color="#A82F2F"><font size="2">(12:34:06 AM)</font> <b>kfoltman:</b></font> now I have another crash<br/>
<font color="#A82F2F"><font size="2">(12:34:19 AM)</font> <b>HarryHaaren:</b></font> love that<br/>
<font color="#A82F2F"><font size="2">(12:34:25 AM)</font> <b>HarryHaaren:</b></font> fix 1 compile error -&gt; 20 compile errors<br/>
<font color="#A82F2F"><font size="2">(12:35:39 AM)</font> <b>nedko:</b></font> can&apos;t nsa make less cpu intensive implants?<br/>
<font color="#A82F2F"><font size="2">(12:35:53 AM)</font> <b>nedko:</b></font> my laptop is at 92C damn it<br/>
<font color="#A82F2F"><font size="2">(12:37:26 AM)</font> <b>HarryHaaren:</b></font> haha<br/>
<font color="#A82F2F"><font size="2">(12:40:25 AM)</font> <b>kfoltman:</b></font> nedko: they can, they just don&apos;t bother, it&apos;s not their damn cpus ;)<br/>
<font color="#A82F2F"><font size="2">(12:42:22 AM)</font> <b>nedko:</b></font> but they own them!<br/>
<font color="#A82F2F"><font size="2">(12:43:53 AM)</font> <b>nedko:</b></font> i would think they are helping to rise the temp in the room (it is quite cold in sofia), but they&apos;ve been doing this during summer too!<br/>
<font color="#A82F2F"><font size="2">(12:44:47 AM)</font> <b>HarryHaaren:</b></font> are you coming to the LAC nedko?<br/>
<font color="#A82F2F"><font size="2">(12:45:05 AM)</font> <b>nedko:</b></font> i doubt<br/>
<font color="#A82F2F"><font size="2">(12:45:20 AM)</font> <b>nedko:</b></font> i think i shall finally go to WGT...<br/>
<font color="#A82F2F"><font size="2">(12:45:22 AM)</font> <b>HarryHaaren:</b></font> sofia is quite a distance away right?<br/>
<font color="#A82F2F"><font size="2">(12:45:36 AM)</font> <b>nedko:</b></font> where is lac2015?<br/>
<font color="#A82F2F"><font size="2">(12:45:49 AM)</font> <b>HarryHaaren:</b></font> never head of WGT what is it? Frankfut am Mainz area, Germany<br/>
<font color="#A82F2F"><font size="2">(12:47:25 AM)</font> <b>nedko:</b></font> https://en.wikipedia.org/wiki/Wave-Gotik-Treffen<br/>
<font color="#A82F2F"><font size="2">(12:47:27 AM)</font> <b>LAbot:</b></font> Title: Wave-Gotik-Treffen - Wikipedia, the free encyclopedia (at en.wikipedia.org)<br/>
<font color="#A82F2F"><font size="2">(12:47:32 AM)</font> <b>nedko:</b></font> a festival<br/>
<font color="#A82F2F"><font size="2">(12:47:39 AM)</font> <b>nedko:</b></font> in germany<br/>
<font color="#A82F2F"><font size="2">(12:47:59 AM)</font> <b>nedko:</b></font> germany is not that far, i just don&apos;t like to travel<br/>
<font color="#A82F2F"><font size="2">(12:51:47 AM)</font> <b>HarryHaaren:</b></font> Leipzig is a 4/5 hours from Frankfurt IIRC.<br/>
<font color="#A82F2F"><font size="2">(12:52:10 AM)</font> <b>HarryHaaren:</b></font> fair enough, enjoy the WGT<br/>
<font color="#A82F2F"><font size="2">(12:57:28 AM)</font> <b>kfoltman:</b></font> HarryHaaren: I reverted the second fix for now, looks like something else is deleting the widgets before I do<br/>
<font color="#A82F2F"><font size="2">(12:57:44 AM)</font> <b>HarryHaaren:</b></font> ah ok.<br/>
<font color="#A82F2F"><font size="2">(12:57:48 AM)</font> <b>HarryHaaren:</b></font> thanks for the note<br/>
<font color="#A82F2F"><font size="2">(12:59:30 AM)</font> <b>kfoltman:</b></font> Still, the reason for the crash is correct, it&apos;s just that I have a bad mixup between controls and containers (with notebook control being sort of both, in a very nasty way)<br/>
<font color="#A82F2F"><font size="2">(04:26:05 AM)</font> <b>sax_man_flash:</b></font> I currently have a focusrite Saffire and am looking to switch to a Scarlett (firewire to usb) I know that ffador-mixer works I am researching about the usb equivelent to replace Focusrite&apos;s closed source software. The most recent I am finding as a year old about issues (quite severe) of it not working and missing functionality. Also, problems with working with jack (setting rates and such). Does anyone have more current<br/>
<font color="#A82F2F"><font size="2">(04:26:06 AM)</font> <b>sax_man_flash:</b></font> info on the status of Scarlett devices (i18i8 and such) or know where to send me?<br/>
<font color="#A82F2F"><font size="2">(05:07:17 AM)</font> <b>damo22:</b></font> sax_man_flash: i know the linux kernel had some recent activity for the mixer on those devices<br/>
<font color="#A82F2F"><font size="2">(05:07:48 AM)</font> <b>damo22:</b></font> sax_man_flash: but your saffire pres are probably better quality imho<br/>
<font color="#A82F2F"><font size="2">(05:48:41 AM)</font> <b>sax_man_flash:</b></font> I thought they were the same pres between the saffire pro40 and the scarlett 18i20 i thought the only difference was usb vs firewire.<br/>
<font color="#A82F2F"><font size="2">(07:03:14 AM)</font> <b>damo22:</b></font> sax_man_flash: i have heard differently, but i cant remember where<br/>
<font size="2">(11:38:50 AM)</font><b> corresponder_ is now known as corresponder</b><br/>
<font size="2">(12:00:43 PM)</font><b> edogawa_ is now known as edogawa</b><br/>
<font size="2">(02:04:53 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
