<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #lad at Tue 06 Jan 2015 03:07:17 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #lad at Tue 06 Jan 2015 03:07:17 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(03:07:17 PM)</font><b> The topic for #lad is: Linux Audio Developers | Don&apos;t ask to ask, just ask | Lists: <a href="http://lists.linuxaudio.org">http://lists.linuxaudio.org</a> | Jack: <a href="http://jackaudio.org">http://jackaudio.org</a> | LV2: <a href="http://lv2plug.in">http://lv2plug.in</a></b><br/>
<font size="2">(03:07:17 PM)</font><b> Topic for #lad set by tapas!~tapas@static.231.2.63.178.clients.your-server.de at 10:37:26 AM on 05/13/2013</b><br/>
<font color="#A82F2F"><font size="2">(03:07:25 PM)</font> <b>kfoltman_:</b></font> well, not really fixed, but at least papered over<br/>
<font color="#A82F2F"><font size="2">(03:08:06 PM)</font> <b>falktx:</b></font> kfoltman_: I don&apos;t think so<br/>
<font color="#A82F2F"><font size="2">(03:08:25 PM)</font> <b>falktx:</b></font> kfoltman_: I&apos;m already using -Wl,-z,-nodelete in my builds<br/>
<font color="#A82F2F"><font size="2">(03:08:32 PM)</font> <b>falktx:</b></font> I use that flag on all gtk based plugins<br/>
<font color="#A82F2F"><font size="2">(03:09:19 PM)</font> <b>kfoltman_:</b></font> different bug then?<br/>
<font color="#A82F2F"><font size="2">(03:09:25 PM)</font> <b>kfoltman_:</b></font> I haven&apos;t caught it here<br/>
<font color="#A82F2F"><font size="2">(03:09:37 PM)</font> <b>falktx:</b></font> I&apos;ll need to do more testing<br/>
<font color="#A82F2F"><font size="2">(03:09:43 PM)</font> <b>falktx:</b></font> race conditions are tricky...<br/>
<font color="#A82F2F"><font size="2">(03:10:53 PM)</font> <b>falktx:</b></font> kfoltman_: anyone else from the calf team going as well?<br/>
<font color="#A82F2F"><font size="2">(03:11:35 PM)</font> <b>kfoltman_:</b></font> falktx: Markus and Chrischi will be there too<br/>
<font color="#A82F2F"><font size="2">(03:11:51 PM)</font> <b>falktx:</b></font> nice<br/>
<font color="#A82F2F"><font size="2">(03:12:20 PM)</font> <b>kfoltman_:</b></font> falktx: what I found so far is that jalv destroys the window after unloading the GUI .so, which means that the finalize method gets called after the implementation is no longer in memory<br/>
<font color="#A82F2F"><font size="2">(03:12:46 PM)</font> <b>falktx:</b></font> that sounds awful...<br/>
<font color="#A82F2F"><font size="2">(03:13:16 PM)</font> <b>kfoltman_:</b></font> it may be worked around by destroying the child widgets myself, but I need to do it in proper order, I tried to do it yesterday but ran into problems<br/>
<font color="#A82F2F"><font size="2">(03:13:31 PM)</font> <b>falktx:</b></font> I saw the commit<br/>
<font color="#A82F2F"><font size="2">(03:13:39 PM)</font> <b>kfoltman_:</b></font> the whole structure is awful, I need to sort it out so that I can start with innermost child and go outwards from there<br/>
<font color="#A82F2F"><font size="2">(03:13:57 PM)</font> <b>kfoltman_:</b></font> or destroy the C++ objects from widget destroy signal<br/>
<font color="#A82F2F"><font size="2">(03:14:01 PM)</font> <b>falktx:</b></font> doesn&apos;t the parent delete the child widgets?<br/>
<font color="#A82F2F"><font size="2">(03:14:17 PM)</font> <b>kfoltman_:</b></font> it does, but it doesn&apos;t delete the C++ objects that keep the calf-specific state<br/>
<font color="#A82F2F"><font size="2">(03:14:35 PM)</font> <b>kfoltman_:</b></font> and when the parent deletes them, the finalize implementation .so might be unloaded<br/>
<font color="#A82F2F"><font size="2">(03:14:44 PM)</font> <b>kfoltman_:</b></font> say, in case of calf_curve and a few more<br/>
<font color="#A82F2F"><font size="2">(03:15:14 PM)</font> <b>falktx:</b></font> isn&apos;t that a bug in jalv then?<br/>
<font color="#A82F2F"><font size="2">(03:15:31 PM)</font> <b>kfoltman_:</b></font> bug in jalv? HERETIC! BURN HIM!<br/>
<font color="#A82F2F"><font size="2">(03:15:46 PM)</font> <b>falktx:</b></font> when it calls ui-cleanup, we can remove the calf ui from the jalv gtk window no?<br/>
<font color="#A82F2F"><font size="2">(03:15:53 PM)</font> <b>falktx:</b></font> and then safely delete the calf widgets<br/>
<font color="#A82F2F"><font size="2">(03:15:57 PM)</font> <b>kfoltman_:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(03:16:08 PM)</font> <b>falktx:</b></font> I&apos;m not seeing how can this be an issue...<br/>
<font color="#A82F2F"><font size="2">(03:16:17 PM)</font> <b>kfoltman_:</b></font> that&apos;s what I was trying to do, more or less, but ran into problems in my own code<br/>
<font color="#A82F2F"><font size="2">(03:16:34 PM)</font> <b>falktx:</b></font> sadly I don&apos;t know enough of gtk to help much<br/>
<font color="#A82F2F"><font size="2">(03:16:38 PM)</font> <b>kfoltman_:</b></font> the whole container vs control distinction that isn&apos;t really that useful because there is a control that is also a container<br/>
<font size="2">(06:51:26 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
