<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #lad at Mon 29 Dec 2014 03:15:20 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #lad at Mon 29 Dec 2014 03:15:20 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(03:15:20 AM)</font><b> The topic for #lad is: Linux Audio Developers | Don&apos;t ask to ask, just ask | Lists: <a href="http://lists.linuxaudio.org">http://lists.linuxaudio.org</a> | Jack: <a href="http://jackaudio.org">http://jackaudio.org</a> | LV2: <a href="http://lv2plug.in">http://lv2plug.in</a></b><br/>
<font size="2">(03:15:20 AM)</font><b> Topic for #lad set by tapas!~tapas@static.231.2.63.178.clients.your-server.de at 10:37:26 AM on 05/13/2013</b><br/>
<font color="#A82F2F"><font size="2">(12:38:01 PM)</font> <b>kfoltman:</b></font> anyone at 31c3?<br/>
<font color="#A82F2F"><font size="2">(12:46:43 PM)</font> <b>damo22:</b></font> wish i was<br/>
<font color="#A82F2F"><font size="2">(01:02:01 PM)</font> <b>nedko:</b></font> kfoltman: what are you doing at ccc?<br/>
<font color="#A82F2F"><font size="2">(01:02:20 PM)</font> <b>kfoltman:</b></font> nedko: pretending to be a geek ;)<br/>
<font color="#A82F2F"><font size="2">(01:02:51 PM)</font> <b>kfoltman:</b></font> nedko: also, eating pretzels and danish hot dogs and drinking fritz lemonade ;)<br/>
<font color="#A82F2F"><font size="2">(01:03:20 PM)</font> <b>nedko:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(01:03:42 PM)</font> <b>kfoltman:</b></font> and currently I&apos;m watching a lightning talk about roguelikes<br/>
<font color="#A82F2F"><font size="2">(01:06:30 PM)</font> <b>nedko:</b></font> i recently implemented x11 framebuffer (from scratch)<br/>
<font color="#A82F2F"><font size="2">(01:06:54 PM)</font> <b>nedko:</b></font> next step will probably to use the shmem extension for speedup<br/>
<font color="#A82F2F"><font size="2">(01:07:03 PM)</font> <b>nedko:</b></font> and i&apos;m researching into mtrr/pat<br/>
<font color="#A82F2F"><font size="2">(01:08:48 PM)</font> <b>kfoltman:</b></font> mtrr?<br/>
<font color="#A82F2F"><font size="2">(01:09:25 PM)</font> <b>nedko:</b></font> https://en.wikipedia.org/wiki/Memory_type_range_register<br/>
<font color="#A82F2F"><font size="2">(01:09:26 PM)</font> <b>LAbot:</b></font> Title: Memory type range register - Wikipedia, the free encyclopedia (at en.wikipedia.org)<br/>
<font size="2">(02:16:01 PM)</font><b> edogawa_ is now known as edogawa</b><br/>
<font color="#A82F2F"><font size="2">(03:39:00 PM)</font> <b>andrewFn:</b></font> Hello, everybody! How to send midi notes to MIDI output channel from my lv2 plugin? Any guides?<br/>
<font size="2">(03:48:43 PM)</font><b> custos-m1ndi is now known as custos-mundi</b><br/>
<font color="#A82F2F"><font size="2">(04:02:59 PM)</font> <b>rgareus:</b></font> andrewFn: not a guide but  an example:  https://github.com/x42/midifilter.lv2/blob/master/midifilter.c#L94<br/>
<font color="#A82F2F"><font size="2">(04:03:30 PM)</font> <b>andrewFn:</b></font> Thanx )<br/>
<font color="#A82F2F"><font size="2">(04:08:33 PM)</font> <b>rgareus:</b></font> andrewFn: actually there&apos;s an official guide/example.  the eg-fifths.lv2 plugin<br/>
<font color="#A82F2F"><font size="2">(04:08:51 PM)</font> <b>rgareus:</b></font> http://lv2plug.in/book/#_fifths<br/>
<font color="#A82F2F"><font size="2">(04:08:52 PM)</font> <b>LAbot:</b></font> Title: Programming LV2 Plugins (at lv2plug.in)<br/>
<font color="#A82F2F"><font size="2">(04:09:12 PM)</font> <b>rgareus:</b></font> should be easier to digest.<br/>
<font color="#A82F2F"><font size="2">(04:09:57 PM)</font> <b>andrewFn:</b></font> Excellent!<br/>
<font color="#A82F2F"><font size="2">(04:10:15 PM)</font> <b>andrewFn:</b></font> Thnx!<br/>
<font color="#A82F2F"><font size="2">(04:10:26 PM)</font> <b>rgareus:</b></font> andrewFn: you&apos;re welcome<br/>
<font color="#A82F2F"><font size="2">(04:14:25 PM)</font> <b>rgareus:</b></font> kfoltman: have you seen stallman this morning?<br/>
<font color="#A82F2F"><font size="2">(04:29:48 PM)</font> <b>kfoltman:</b></font> rgareus: no<br/>
<font color="#A82F2F"><font size="2">(04:31:54 PM)</font> <b>rgareus:</b></font> kfoltman: I watched the stream. dude, he&apos;s becoming old. both phyically as well as message wise.<br/>
<font color="#A82F2F"><font size="2">(04:32:24 PM)</font> <b>rgareus:</b></font> kfoltman: have a Club Mate for me, please.<br/>
<font color="#A82F2F"><font size="2">(04:35:27 PM)</font> <b>kfoltman:</b></font> rgareus: ? :)<br/>
<font color="#A82F2F"><font size="2">(04:36:10 PM)</font> <b>kfoltman:</b></font> rgareus: are you here or watching online?<br/>
<font color="#A82F2F"><font size="2">(04:36:43 PM)</font> <b>rgareus:</b></font> kfoltman: I&apos;m not in Berlin. just watching the streams this year<br/>
<font color="#A82F2F"><font size="2">(04:36:44 PM)</font> <b>kfoltman:</b></font> rgareus: if you&apos;re in Ireland, you can get a Club Mate from TOG i think ;)<br/>
<font color="#A82F2F"><font size="2">(04:37:35 PM)</font> <b>rgareus:</b></font> kfoltman: I&apos;m based in Paris and there are two clubs/hackerspaces that sell them, too.<br/>
<font color="#A82F2F"><font size="2">(04:39:29 PM)</font> <b>rgareus:</b></font> but I don&apos;t get one nearly often enough.<br/>
<font size="2">(04:44:58 PM)</font><b> kfoltman left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(04:48:52 PM)</font> <b>abique|home:</b></font> Hey<br/>
<font color="#A82F2F"><font size="2">(04:49:38 PM)</font> <b>abique|home:</b></font> I worked on a new plugin interface, which is hosted here: https://github.com/free-audio/clap<br/>
<font color="#A82F2F"><font size="2">(04:49:59 PM)</font> <b>abique|home:</b></font> I&apos;m looking for feedback/review, thanks :)<br/>
<font color="#A82F2F"><font size="2">(05:11:31 PM)</font> <b>rgareus:</b></font> abique|home:    &quot;In-place processing is not supported.&quot;  that won&apos;t fly<br/>
<font color="#A82F2F"><font size="2">(05:11:52 PM)</font> <b>rgareus:</b></font> abique|home: apart from that it looks like subset of LV2<br/>
<font color="#062585"><font size="2">(05:14:11 PM)</font> <b>***rgareus</b></font> would rather prefer if people would spend time to write some &apos;convenience headers&apos; for LV2.<br/>
<font color="#A82F2F"><font size="2">(05:14:27 PM)</font> <b>rgareus:</b></font> an LV2 API wrapper could be similarly easy/clever.<br/>
<font color="#A82F2F"><font size="2">(05:16:17 PM)</font> <b>rgareus:</b></font> clap just hardcoded some IDs which are dynamically mapped in LV2  eg   clap_event_type<br/>
<font color="#A82F2F"><font size="2">(05:18:17 PM)</font> <b>rgareus:</b></font> abique|home: Do I understand corretly that you share memory between the GUI and the plugin? and that the GUI requires a plugin-instance pointer?<br/>
<font color="#A82F2F"><font size="2">(05:18:42 PM)</font> <b>abique|home:</b></font> rgareus, the interface specify not much about the gui<br/>
<font color="#A82F2F"><font size="2">(05:18:52 PM)</font> <b>rgareus:</b></font>  plugin-&gt;extension(plugin, CLAP_EXT_GUI);<br/>
<font color="#A82F2F"><font size="2">(05:18:54 PM)</font> <b>abique|home:</b></font> it is 100% the plugin job<br/>
<font color="#A82F2F"><font size="2">(05:19:12 PM)</font> <b>abique|home:</b></font> yes then you get the gui interface<br/>
<font color="#A82F2F"><font size="2">(05:19:20 PM)</font> <b>abique|home:</b></font> and you call gui-&gt;open(plugin)<br/>
<font color="#A82F2F"><font size="2">(05:19:24 PM)</font> <b>rgareus:</b></font> so the host is not involved i this at all<br/>
<font color="#A82F2F"><font size="2">(05:19:34 PM)</font> <b>rgareus:</b></font> s/i/in/<br/>
<font color="#A82F2F"><font size="2">(05:19:44 PM)</font> <b>abique|home:</b></font> the host is not involved<br/>
<font color="#A82F2F"><font size="2">(05:21:57 PM)</font> <b>rgareus:</b></font> abique|home: what is the motivation for not allowing in-place processing?<br/>
<font color="#A82F2F"><font size="2">(05:23:26 PM)</font> <b>abique|home:</b></font> I spoke with claes from bitwig, and he told me that in place processing did not improve performance in his case<br/>
<font color="#A82F2F"><font size="2">(05:23:47 PM)</font> <b>rgareus:</b></font> that sounds like Bitwig&apos;s design is broken.<br/>
<font color="#A82F2F"><font size="2">(05:23:48 PM)</font> <b>abique|home:</b></font> rgareus, I&apos;ll speak again with him and I&apos;ll add a note to explain why<br/>
<font color="#A82F2F"><font size="2">(05:24:37 PM)</font> <b>rgareus:</b></font> well on a modern machine with 4 tracks and 6 plugins. right. It&apos;ll be hard to measure a big difference.<br/>
<font color="#A82F2F"><font size="2">(05:24:44 PM)</font> <b>rgareus:</b></font> but it certainly won&apos;t scale.<br/>
<font color="#A82F2F"><font size="2">(05:25:06 PM)</font> <b>rgareus:</b></font> memcpy all over the place. and eventually cache misses.<br/>
<font color="#A82F2F"><font size="2">(05:25:09 PM)</font> <b>kfoltman:</b></font> rgareus: does in-place processing really make that much difference?<br/>
<font color="#A82F2F"><font size="2">(05:26:23 PM)</font> <b>rgareus:</b></font> kfoltman: There&apos;s no way to answer that question.<br/>
<font color="#A82F2F"><font size="2">(05:26:53 PM)</font> <b>kfoltman:</b></font> I don&apos;t think LV2 allows inplace processing either<br/>
<font color="#A82F2F"><font size="2">(05:26:58 PM)</font> <b>rgareus:</b></font> but yes. it certainly always will be better than memcpy or non-register operations on the shared area<br/>
<font color="#A82F2F"><font size="2">(05:27:16 PM)</font> <b>kfoltman:</b></font> even with two threads accessing the same region?<br/>
<font color="#A82F2F"><font size="2">(05:27:28 PM)</font> <b>rgareus:</b></font> SSE etc  for example  read/process/write to the same area.<br/>
<font color="#A82F2F"><font size="2">(05:28:31 PM)</font> <b>rgareus:</b></font> kfoltman: multi-threaded plugins?  you lost already :)<br/>
<font color="#A82F2F"><font size="2">(05:28:48 PM)</font> <b>rgareus:</b></font> kfoltman: one good example is convolution or EQ.<br/>
<font color="#A82F2F"><font size="2">(05:29:21 PM)</font> <b>kfoltman:</b></font> no, just running two plugins in two threads<br/>
<font color="#A82F2F"><font size="2">(05:29:32 PM)</font> <b>kfoltman:</b></font> on the same input buffer<br/>
<font color="#A82F2F"><font size="2">(05:29:42 PM)</font> <b>kfoltman:</b></font> not that I ever managed to achieve that<br/>
<font color="#A82F2F"><font size="2">(05:29:53 PM)</font> <b>rgareus:</b></font> on a 100 track session with an Eq on every track. I&apos;m sure you&apos;ll find a major performance improvement operating on the same buffer (instead of copying it)<br/>
<font color="#A82F2F"><font size="2">(05:31:01 PM)</font> <b>rgareus:</b></font> but i bitwig&apos;s case - they probably have a built-in EQ and that using in-place.<br/>
<font color="#A82F2F"><font size="2">(05:31:38 PM)</font> <b>abique|home:</b></font> rgareus, there is no such memcpy<br/>
<font color="#A82F2F"><font size="2">(05:31:57 PM)</font> <b>rgareus:</b></font>  read here ...  write there<br/>
<font color="#A82F2F"><font size="2">(05:32:06 PM)</font> <b>rgareus:</b></font> is a at best a memcpy<br/>
<font color="#A82F2F"><font size="2">(05:32:11 PM)</font> <b>abique|home:</b></font> read, fct(x), write<br/>
<font color="#A82F2F"><font size="2">(05:32:25 PM)</font> <b>abique|home:</b></font> yes ok<br/>
<font color="#A82F2F"><font size="2">(05:32:40 PM)</font> <b>rgareus:</b></font> abique|home: you still have risk of TLB shootdowns<br/>
<font color="#A82F2F"><font size="2">(05:33:00 PM)</font> <b>abique|home:</b></font> depends on the size of the buffer<br/>
<font color="#A82F2F"><font size="2">(05:33:17 PM)</font> <b>kfoltman:</b></font> TLB is per 4KB though?<br/>
<font color="#A82F2F"><font size="2">(05:33:23 PM)</font> <b>abique|home:</b></font> if you&apos;re on 128, you can put both input and output in the same cache line<br/>
<font color="#A82F2F"><font size="2">(05:33:38 PM)</font> <b>kfoltman:</b></font> or is it not a paging TLB?<br/>
<font color="#A82F2F"><font size="2">(05:33:43 PM)</font> <b>abique|home:</b></font> kfoltman, depends on the architecture as well, but on intel I think so<br/>
<font color="#A82F2F"><font size="2">(05:34:15 PM)</font> <b>rgareus:</b></font> well, it may or may not be a real problem..   but just use in-place -&gt; don&apos;t worry<br/>
<font color="#A82F2F"><font size="2">(05:34:46 PM)</font> <b>rgareus:</b></font> abique|home: there are of course cases where in-place does not work in the first place  e.g. mono -&gt; stereo reverb<br/>
<font color="#A82F2F"><font size="2">(05:34:58 PM)</font> <b>rgareus:</b></font> abique|home: but just omitting it in the spec seems backwards to me<br/>
<font color="#A82F2F"><font size="2">(05:35:37 PM)</font> <b>rgareus:</b></font> on Linux there&apos;s a lot of work currently (by our friend Lennart) to make shmem work for kdbus<br/>
<font color="#062585"><font size="2">(05:36:13 PM)</font> <b>***kfoltman</b></font> gets an instant eczema<br/>
<font color="#A82F2F"><font size="2">(05:37:36 PM)</font> <b>kfoltman:</b></font> dbus... Lennart.... *gets red in face* *dies*<br/>
<font color="#A82F2F"><font size="2">(05:37:40 PM)</font> <b>abique|home:</b></font> &lt;&lt; the idea behind it would be that you let the plugin accumulate to an existing buffer, but no one is gonna use this for summing as they need to put a &quot;mixer&quot; after the plugin anyway &gt;&gt;<br/>
<font color="#A82F2F"><font size="2">(05:38:43 PM)</font> <b>abique|home:</b></font> that was the argument<br/>
<font color="#A82F2F"><font size="2">(05:38:58 PM)</font> <b>abique|home:</b></font> I like systemd :)<br/>
<font color="#A82F2F"><font size="2">(05:49:34 PM)</font> <b>rgareus:</b></font> kfoltman: Lennart lives in Berlin. maybe he&apos;s at CCC, too. goo have a beer with him. He&apos;s a very nice guy to get along with.<br/>
<font color="#A82F2F"><font size="2">(05:49:51 PM)</font> <b>rgareus:</b></font> kfoltman: I&apos;m not a fan of all his software, either.<br/>
<font color="#A82F2F"><font size="2">(05:50:40 PM)</font> <b>rgareus:</b></font> kfoltman: but he&apos;s smart, knows a lot and is fun to hang out with.<br/>
<font color="#A82F2F"><font size="2">(05:50:47 PM)</font> <b>kfoltman:</b></font> rgareus: I don&apos;t know what I dislike more, pulseaudio or beer ;)<br/>
<font color="#A82F2F"><font size="2">(05:51:25 PM)</font> <b>rgareus:</b></font> kfoltman: heh.<br/>
<font color="#A82F2F"><font size="2">(05:51:32 PM)</font> <b>rgareus:</b></font> kfoltman: coffee?<br/>
<font color="#062585"><font size="2">(06:20:21 PM)</font> <b>***kfoltman</b></font> is trying to prepare a Calf (pre-)release with Markus and Chrischi<br/>
<font size="2">(06:38:17 PM)</font><b> D-HUND is now known as debdog</b><br/>
<font size="2">(12:09:43 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
