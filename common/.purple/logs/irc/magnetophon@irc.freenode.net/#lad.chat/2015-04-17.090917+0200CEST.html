<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #lad at Fri 17 Apr 2015 09:09:17 AM CEST on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #lad at Fri 17 Apr 2015 09:09:17 AM CEST on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(09:09:17 AM)</font><b> The topic for #lad is: Linux Audio Developers | Don&apos;t ask to ask, just ask | Lists: <a href="http://lists.linuxaudio.org">http://lists.linuxaudio.org</a> | Jack: <a href="http://jackaudio.org">http://jackaudio.org</a> | LV2: <a href="http://lv2plug.in">http://lv2plug.in</a></b><br/>
<font size="2">(09:09:17 AM)</font><b> Topic for #lad set by tapas!~tapas@static.231.2.63.178.clients.your-server.de at 10:37:26 AM on 05/13/2013</b><br/>
<font size="2">(09:10:04 AM)</font><b> falktx [<em>~falktx@x5ce227a2.dyn.telefonica.de</em>] entered the room.</b><br/>
<font size="2">(09:24:18 AM)</font><b> falktx left the room (quit: Quit: Konversation terminated!).</b><br/>
<font size="2">(10:22:30 AM)</font><b> falktx [<em>~falktx@178.19.210.162</em>] entered the room.</b><br/>
<font size="2">(10:23:36 AM)</font><b> gianMOD [<em>~gianMOD@178.19.210.162</em>] entered the room.</b><br/>
<font size="2">(11:51:49 AM)</font><b> edogawa [<em>~quassel@193-154-234-97.adsl.highway.telekom.at</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(12:26:39 PM)</font> <b>nilsge:</b></font> fundamental: guess what just happened<br/>
<font color="#A82F2F"><font size="2">(12:26:45 PM)</font> <b>nilsge:</b></font> http://pastebin.com/UiLZmbFb<br/>
<font color="#A82F2F"><font size="2">(12:26:49 PM)</font> <b>nilsge:</b></font> this. A zyn compile error<br/>
<font size="2">(12:27:33 PM)</font><b> gianMOD left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(12:29:31 PM)</font> <b>falktx:</b></font> compiler bugs are so nice<br/>
<font color="#A82F2F"><font size="2">(12:35:06 PM)</font> <b>falktx:</b></font> let&apos;s see if I can build it<br/>
<font color="#A82F2F"><font size="2">(12:35:19 PM)</font> <b>nilsge:</b></font> this is from git obviously<br/>
<font color="#A82F2F"><font size="2">(12:36:13 PM)</font> <b>falktx:</b></font> yep, just did a clone now<br/>
<font color="#A82F2F"><font size="2">(12:37:15 PM)</font> <b>falktx:</b></font> fundamental: if I want to run the zyn dsp and UI sides separate, what&apos;s the best way to make them communicate?<br/>
<font color="#A82F2F"><font size="2">(12:37:54 PM)</font> <b>falktx:</b></font> I have some pipe code working for carla-plugin. I think it can work for zyn too<br/>
<font color="#A82F2F"><font size="2">(12:38:21 PM)</font> <b>falktx:</b></font> fundamental: the rtosc messages can be converted to strings right?<br/>
<font color="#A82F2F"><font size="2">(12:39:06 PM)</font> <b>falktx:</b></font> building... https://launchpad.net/~kxstudio-debian/+archive/ubuntu/plugins/+build/7336594<br/>
<font color="#A82F2F"><font size="2">(12:39:07 PM)</font> <b>LAbot:</b></font> Title: amd64 build of zynaddsubfx-git 2.5.0+git20150417-1kxstudio1 : Plugins : “KXStudio Debian” team (at launchpad.net)<br/>
<font color="#A82F2F"><font size="2">(12:40:36 PM)</font> <b>falktx:</b></font> nilsge: good news! the compiler crashes for me too :)<br/>
<font color="#A82F2F"><font size="2">(12:40:45 PM)</font> <b>falktx:</b></font> src/Misc/Master.cpp:103:14: internal compiler error: Segmentation fault<br/>
<font color="#A82F2F"><font size="2">(12:40:56 PM)</font> <b>nilsge:</b></font> this is better as an isolated crash on one system only<br/>
<font color="#A82F2F"><font size="2">(12:41:04 PM)</font> <b>falktx:</b></font> using gcc-4.8 here<br/>
<font color="#A82F2F"><font size="2">(12:41:13 PM)</font> <b>nilsge:</b></font> 4.9.2<br/>
<font size="2">(12:43:06 PM)</font><b> gianMOD [<em>~gianMOD@178.19.210.162</em>] entered the room.</b><br/>
<font size="2">(12:43:21 PM)</font><b> gianMOD left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(01:28:34 PM)</font><b> falktx left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(01:34:30 PM)</font> <b>AndreeeCZ:</b></font> hiall. Im implementing wavetable synthesis. I have my saw wavetables generated (by stacking sine waves &lt; 16kHz).<br/>
<font color="#A82F2F"><font size="2">(01:34:56 PM)</font> <b>AndreeeCZ:</b></font> They play very nice when the played frequency equals the frequency of the wavetable<br/>
<font color="#A82F2F"><font size="2">(01:35:31 PM)</font> <b>AndreeeCZ:</b></font> then its just beautiful saw waves with a brickwall cut at 16k<br/>
<font color="#A82F2F"><font size="2">(01:37:23 PM)</font> <b>AndreeeCZ:</b></font> but when i play at a lower frequency than that of the wavetable, i get frequency contenct above 16k<br/>
<font color="#A82F2F"><font size="2">(01:37:42 PM)</font> <b>AndreeeCZ:</b></font> and i&apos;m also doing linear interpolation between two adjacent samples.<br/>
<font color="#A82F2F"><font size="2">(01:37:59 PM)</font> <b>AndreeeCZ:</b></font> any shot-in-the-dark hints on why is this happening?<br/>
<font color="#A82F2F"><font size="2">(01:45:52 PM)</font> <b>JimsonDrift:</b></font> whats your basefreq?<br/>
<font color="#A82F2F"><font size="2">(01:46:37 PM)</font> <b>wrl:</b></font> AndreeeCZ: have you tried cubic interpolation?<br/>
<font color="#A82F2F"><font size="2">(01:46:55 PM)</font> <b>wrl:</b></font> i mean the long and short of it is that linear interpolation isn&apos;t all that good for resampling<br/>
<font color="#A82F2F"><font size="2">(01:47:00 PM)</font> <b>wrl:</b></font> and what you are doing is resampling<br/>
<font color="#A82F2F"><font size="2">(01:47:07 PM)</font> <b>JimsonDrift:</b></font> I would assume that you get step/aliasing artefacts during interpolation<br/>
<font color="#A82F2F"><font size="2">(01:47:12 PM)</font> <b>wrl:</b></font> yes, exactly<br/>
<font color="#A82F2F"><font size="2">(01:47:20 PM)</font> <b>wrl:</b></font> and there are a few different ways of combatting that<br/>
<font color="#A82F2F"><font size="2">(01:48:21 PM)</font> <b>JimsonDrift:</b></font> Maybe starting with a lower basefrequnecy/ longer wavetable<br/>
<font color="#A82F2F"><font size="2">(02:02:33 PM)</font> <b>wrl:</b></font> if you can spare the memory (can be ROM), use mipmaps<br/>
<font color="#A82F2F"><font size="2">(02:14:41 PM)</font> <b>AndreeeCZ:</b></font> wrl, isnt cubic interpolation far more expensive than linear?<br/>
<font color="#A82F2F"><font size="2">(02:14:48 PM)</font> <b>AndreeeCZ:</b></font> i dont have much memory available<br/>
<font color="#A82F2F"><font size="2">(02:15:07 PM)</font> <b>AndreeeCZ:</b></font> so fo me, both memory and computation speed are an issue<br/>
<font color="#A82F2F"><font size="2">(02:16:43 PM)</font> <b>nedko:</b></font> http://www.reenigne.org/blog/8088-pc-speaker-mod-player-how-its-done/<br/>
<font color="#A82F2F"><font size="2">(02:17:43 PM)</font> <b>AndreeeCZ:</b></font> JimsonDrift, now i&apos;m testing a situation where the frequency i&apos;m playing is 180Hz and the wavetable frequency is<br/>
<font color="#A82F2F"><font size="2">(02:17:43 PM)</font> <b>AndreeeCZ:</b></font> 177.778Hz         Sample Count: 270<br/>
<font color="#A82F2F"><font size="2">(02:17:54 PM)</font> <b>AndreeeCZ:</b></font> for SRT = 48k<br/>
<font color="#A82F2F"><font size="2">(02:18:32 PM)</font> <b>AndreeeCZ:</b></font> this is from baudline: http://i.imgur.com/yHjDT5P.png<br/>
<font color="#A82F2F"><font size="2">(02:24:16 PM)</font> <b>JimsonDrift:</b></font> have you tried using just one sine wave at 177.778<br/>
<font size="2">(02:25:14 PM)</font><b> falktx [<em>~falktx@178.19.210.162</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(02:25:42 PM)</font> <b>AndreeeCZ:</b></font> JimsonDrift, yes. then it&apos;s a beautiful saw wave at that freq with nothing beyond 16k<br/>
<font color="#A82F2F"><font size="2">(02:25:47 PM)</font> <b>AndreeeCZ:</b></font> they&apos;re saw waves<br/>
<font size="2">(02:27:36 PM)</font><b> karswell` is now known as karswell</b><br/>
<font color="#A82F2F"><font size="2">(02:28:19 PM)</font> <b>wrl:</b></font> AndreeeCZ: i wouldn&apos;t say &quot;far&quot; more expensive<br/>
<font color="#A82F2F"><font size="2">(02:28:59 PM)</font> <b>wrl:</b></font> sinc interpolation is the one that&apos;s far more expensive<br/>
<font color="#A82F2F"><font size="2">(02:31:30 PM)</font> <b>JimsonDrift:</b></font> try sine waves. Have you checked that when one period of the table is played you correctly jump back to the beginning of the table?<br/>
<font color="#A82F2F"><font size="2">(02:36:51 PM)</font> <b>AndreeeCZ:</b></font> this is the code<br/>
<font color="#A82F2F"><font size="2">(02:36:52 PM)</font> <b>AndreeeCZ:</b></font> http://pastie.org/10098114<br/>
<font color="#A82F2F"><font size="2">(02:36:53 PM)</font> <b>LAbot:</b></font> Title: #10098114 - Pastie (at pastie.org)<br/>
<font color="#A82F2F"><font size="2">(02:48:58 PM)</font> <b>JimsonDrift:</b></font> @AndreeeCZ: Does BLSawSamplesTable[] store the lengths of the waves in wavetable[][]? Is BLSawSamplesTable a float array?<br/>
<font color="#A82F2F"><font size="2">(02:50:21 PM)</font> <b>JimsonDrift:</b></font> didnt see he&apos;s gone :)<br/>
<font color="#A82F2F"><font size="2">(02:50:50 PM)</font> <b>AndreeeCZ_:</b></font> http://pastebin.de/88627<br/>
<font color="#A82F2F"><font size="2">(02:50:52 PM)</font> <b>LAbot:</b></font> Title: /* Frequency listing for each wavetable: 24Hz Sample Count: 2000 25.70 | Pastebin.de - Share text and code with Pastebin (at pastebin.de)<br/>
<font color="#A82F2F"><font size="2">(02:51:03 PM)</font> <b>AndreeeCZ_:</b></font> our internet here is funky<br/>
<font color="#A82F2F"><font size="2">(02:51:29 PM)</font> <b>AndreeeCZ_:</b></font> JimsonDrift, the answers are yes and yes, if i understood them correctly<br/>
<font color="#A82F2F"><font size="2">(02:51:48 PM)</font> <b>nedko:</b></font> AndreeeCZ_: this sounds like adv for no net neutrality<br/>
<font color="#A82F2F"><font size="2">(02:52:13 PM)</font> <b>AndreeeCZ_:</b></font> nedko, ? what does?<br/>
<font color="#A82F2F"><font size="2">(02:52:25 PM)</font> <b>nedko:</b></font> &quot;our internet here is funky&quot;<br/>
<font color="#A82F2F"><font size="2">(02:52:32 PM)</font> <b>wargreen:</b></font> hi all !<br/>
<font color="#A82F2F"><font size="2">(02:52:33 PM)</font> <b>AndreeeCZ_:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(02:52:34 PM)</font> <b>AndreeeCZ_:</b></font> heh<br/>
<font color="#A82F2F"><font size="2">(02:52:44 PM)</font> <b>AndreeeCZ_:</b></font> wargreen, \o<br/>
<font color="#A82F2F"><font size="2">(02:54:36 PM)</font> <b>AndreeeCZ_:</b></font> btw the generator i made is great and is free for the taking. it generates a header file like the one i pastebinned.de<br/>
<font size="2">(03:00:03 PM)</font><b> AndreeeCZ_ left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font size="2">(03:00:14 PM)</font><b> AndreeeCZ_ [<em>~AndreeeCZ@gumitek-2.superhosting.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(03:00:33 PM)</font> <b>AndreeeCZ_:</b></font> and again<br/>
<font color="#A82F2F"><font size="2">(03:00:39 PM)</font> <b>AndreeeCZ_:</b></font> did i miss something?<br/>
<font color="#A82F2F"><font size="2">(03:08:43 PM)</font> <b>JimsonDrift:</b></font> I dont really understand why you save the wavetable lengths as floats in BLSawSamplesTable. But maybe the issue is with varying values in BLSawSamplesTable during on cycle?<br/>
<font color="#A82F2F"><font size="2">(03:12:00 PM)</font> <b>JimsonDrift:</b></font> The nameing of variables in the supplied function is irritating. For e.g: realSample and nextSample are samplePOSITIONS while leftSample and rightSample are the values at those positions. I&apos;d suggest reflecting that in the names.<br/>
<font color="#A82F2F"><font size="2">(03:14:45 PM)</font> <b>AndreeeCZ_:</b></font> yes okay. its a float for no reason, i wanted to change it to ints but forgot<br/>
<font color="#A82F2F"><font size="2">(03:16:58 PM)</font> <b>AndreeeCZ_:</b></font> &quot;But maybe the issue is with varying values in BLSawSamplesTable during on cycle?&quot;<br/>
<font color="#A82F2F"><font size="2">(03:17:03 PM)</font> <b>AndreeeCZ_:</b></font> i dont understand this, JimsonDrift<br/>
<font color="#A82F2F"><font size="2">(03:18:18 PM)</font> <b>JimsonDrift:</b></font> there seems to be no error in that code. When you generate the wavetable, do you watch out the periodicity constraint is fullfilled? There could be a sample missing at the end or the beginning of the table<br/>
<font color="#A82F2F"><font size="2">(03:18:49 PM)</font> <b>AndreeeCZ_:</b></font> :-O good point<br/>
<font color="#A82F2F"><font size="2">(03:18:50 PM)</font> <b>AndreeeCZ_:</b></font> i dont<br/>
<font color="#A82F2F"><font size="2">(03:19:43 PM)</font> <b>JimsonDrift:</b></font> &quot;But maybe the issue is with varying values in BLSawSamplesTable during on cycle?&quot;: I meant if youre running concurent threads and mistakenly change the array<br/>
<font color="#A82F2F"><font size="2">(03:20:44 PM)</font> <b>AndreeeCZ_:</b></font> no, tableNum stays the same and i run only one oscillator ATM<br/>
<font color="#A82F2F"><font size="2">(03:21:59 PM)</font> <b>AndreeeCZ_:</b></font> but that unfullfilled periodicity in the wavetables is propably an issue<br/>
<font color="#A82F2F"><font size="2">(03:22:18 PM)</font> <b>AndreeeCZ_:</b></font> how do i end the periods if the periods &apos;wants&apos; to end in between the samples??<br/>
<font color="#A82F2F"><font size="2">(03:22:40 PM)</font> <b>AndreeeCZ_:</b></font> but wait, that shouldnt happen<br/>
<font color="#A82F2F"><font size="2">(03:23:19 PM)</font> <b>AndreeeCZ_:</b></font> the table size for a frequency is exactly the size of one period<br/>
<font color="#A82F2F"><font size="2">(03:23:36 PM)</font> <b>AndreeeCZ_:</b></font> which means that it will fit and all the harmonics will also fit, no?<br/>
<font color="#A82F2F"><font size="2">(03:36:28 PM)</font> <b>JimsonDrift:</b></font> Hi so say you determine the size of the wavetable by   mWaveTableSize=mSamplerate/180 (for a table that corresponds to a frequency of 180Hz)<br/>
<font color="#A82F2F"><font size="2">(03:37:43 PM)</font> <b>fundamental:</b></font> nilsge: yeah, that&apos;s been reported to gcc and I know the workaround<br/>
<font color="#A82F2F"><font size="2">(03:38:38 PM)</font> <b>JimsonDrift:</b></font> then you can initialize it with a sine by   mWaveTable[i]=sin(2*M_PI*i/(mWaveTableSize-1)); where 0&lt;= i&lt;= mWaveTableSize-1<br/>
<font color="#A82F2F"><font size="2">(03:38:42 PM)</font> <b>fundamental:</b></font> falktx: any OSC message is a series of bytes, so I guess so<br/>
<font color="#A82F2F"><font size="2">(03:39:43 PM)</font> <b>JimsonDrift:</b></font> notice the mWaveTableSize-1 as opposed to mWaveTableSize in the sin function<br/>
<font color="#A82F2F"><font size="2">(03:40:52 PM)</font> <b>JimsonDrift:</b></font> I for myself wrote a small wavetable synth which I&apos;ll post on github this evening.<br/>
<font color="#A82F2F"><font size="2">(03:41:46 PM)</font> <b>fundamental:</b></font> nilsge: this is the bug if you&apos;re interested https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65727 and I&apos;ll put the workaround back into place before heading out this morning<br/>
<font color="#A82F2F"><font size="2">(03:41:48 PM)</font> <b>LAbot:</b></font> Title: Bug 65727 [4.8/4.9/5/6 Regression] Segfault With Decltype In Lambda Expression Used To Initialize Static Class Member (at gcc.gnu.org)<br/>
<font color="#A82F2F"><font size="2">(03:53:38 PM)</font> <b>falktx:</b></font> fundamental: do you know how to get a patch from that fix? I want to fix gcc-4.8 here but that web interface kinda sucks...<br/>
<font color="#A82F2F"><font size="2">(03:54:54 PM)</font> <b>falktx:</b></font> wait, I think I got it<br/>
<font color="#A82F2F"><font size="2">(03:55:06 PM)</font> <b>falktx:</b></font> https://gcc.gnu.org/ml/gcc-patches/2014-09/msg01878.html + https://gcc.gnu.org/viewcvs/gcc/trunk/gcc/cp/lambda.c?view=patch&amp;r1=222132&amp;r2=222131&amp;pathrev=222132<br/>
<font color="#A82F2F"><font size="2">(03:55:07 PM)</font> <b>LAbot:</b></font> Title: Jason Merrill - C++ PATCH for c++/63320 (lambda in static member function) (at gcc.gnu.org)<br/>
<font color="#A82F2F"><font size="2">(03:57:39 PM)</font> <b>fundamental:</b></font> falktx: the fix I was talking about was a code modification to zyn<br/>
<font color="#A82F2F"><font size="2">(03:57:57 PM)</font> <b>fundamental:</b></font> if you want to use it now I can make the change right now<br/>
<font color="#A82F2F"><font size="2">(03:58:03 PM)</font> <b>falktx:</b></font> yes, but we might trigger a similar thing in the future<br/>
<font color="#A82F2F"><font size="2">(03:58:18 PM)</font> <b>fundamental:</b></font> it&apos;s pretty easy to avoid<br/>
<font color="#A82F2F"><font size="2">(03:58:45 PM)</font> <b>fundamental:</b></font> the only reason I made the regression occur again was to avoid symbol collision s.t. stoat had a better parse of the code<br/>
<font color="#A82F2F"><font size="2">(03:58:49 PM)</font> <b>falktx:</b></font> well, the sooner the better. I might forget about this later on :)<br/>
<font color="#A82F2F"><font size="2">(03:59:02 PM)</font> <b>fundamental:</b></font> (it doesn&apos;t handle translation unit local symbols that well)<br/>
<font color="#A82F2F"><font size="2">(04:01:24 PM)</font> <b>fundamental:</b></font> ok, that looks fixed<br/>
<font color="#A82F2F"><font size="2">(04:01:28 PM)</font> <b>fundamental:</b></font> now for a quick test<br/>
<font color="#A82F2F"><font size="2">(04:02:44 PM)</font> <b>fundamental:</b></font> falktx: you should be able to pull now<br/>
<font color="#A82F2F"><font size="2">(04:03:37 PM)</font> <b>falktx:</b></font> ok, let me try building it<br/>
<font color="#A82F2F"><font size="2">(04:03:39 PM)</font> <b>falktx:</b></font> brb<br/>
<font size="2">(04:04:51 PM)</font><b> falktx left the room (quit: Quit: Konversation terminated!).</b><br/>
<font size="2">(04:06:06 PM)</font><b> edogawa left the room (quit: Ping timeout: 272 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(04:32:40 PM)</font> <b>nilsge:</b></font> any oscilloscope recommendations? software, I mean<br/>
<font color="#A82F2F"><font size="2">(04:36:47 PM)</font> <b>fundamental:</b></font> nilsge: I haven&apos;t actually used it yet, but http://x42.github.io/sisco.lv2/ looks like it has a nice feature set<br/>
<font color="#A82F2F"><font size="2">(04:36:48 PM)</font> <b>LAbot:</b></font> Title: LV2 Plugin Documentation (at x42.github.io)<br/>
<font color="#A82F2F"><font size="2">(04:37:16 PM)</font> <b>marcdinkum:</b></font> nilsge: purely software? I recently bought a BitScope, a hardware USB-scope with software for Linux<br/>
<font color="#A82F2F"><font size="2">(04:37:34 PM)</font> <b>AndreeeCZ_:</b></font> bitscope is nice<br/>
<font color="#A82F2F"><font size="2">(04:38:27 PM)</font> <b>marcdinkum:</b></font> I&apos;m really happy with the scope. Haven&apos;t used all the other options yet... function generator, logic analyser...<br/>
<font color="#A82F2F"><font size="2">(04:43:03 PM)</font> <b>nilsge:</b></font> that is a bit too much for my simple usecases :)<br/>
<font color="#A82F2F"><font size="2">(04:43:19 PM)</font> <b>nilsge:</b></font> I don&apos;t even know what I would use the bitscope for<br/>
<font color="#A82F2F"><font size="2">(04:44:10 PM)</font> <b>nilsge:</b></font> although I have a spare raspi lying around here<br/>
<font size="2">(04:54:58 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
