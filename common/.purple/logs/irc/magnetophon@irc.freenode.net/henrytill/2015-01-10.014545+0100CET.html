<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with henrytill at Sat 10 Jan 2015 01:45:45 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with henrytill at Sat 10 Jan 2015 01:45:45 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font color="#16569E"><font size="2">(01:45:50 AM)</font> <b>magnetophon:</b></font> ping<br/>
<font color="#A82F2F"><font size="2">(01:45:50 AM)</font> <b>henrytill &lt;AUTO-REPLY&gt;:</b></font> ...<br/>
<font color="#A82F2F"><font size="2">(01:48:41 AM)</font> <b>henrytill:</b></font> hello<br/>
<font color="#16569E"><font size="2">(01:49:44 AM)</font> <b>magnetophon:</b></font> quick audio question: how is ardour supposed to find it's plugins?<br/>
<font color="#16569E"><font size="2">(01:50:00 AM)</font> <b>magnetophon:</b></font> as it can't find any...<br/>
<font color="#A82F2F"><font size="2">(01:50:48 AM)</font> <b>henrytill:</b></font> i have no idea<br/>
<font color="#16569E"><font size="2">(01:51:01 AM)</font> <b>magnetophon:</b></font> hmm, ok<br/>
<font color="#A82F2F"><font size="2">(01:51:05 AM)</font> <b>henrytill:</b></font> you can&apos;t set them yourself?<br/>
<font color="#A82F2F"><font size="2">(01:51:15 AM)</font> <b>henrytill:</b></font> (the paths, that is)<br/>
<font color="#A82F2F"><font size="2">(01:52:15 AM)</font> <b>henrytill:</b></font> in the manual it seems to suggest that it reads the *_PATH variables<br/>
<font color="#16569E"><font size="2">(01:52:19 AM)</font> <b>magnetophon:</b></font> I'd have to manually tel ardour about each individual plugin then, right?<br/>
<font color="#A82F2F"><font size="2">(01:52:49 AM)</font> <b>henrytill:</b></font> do you have plugins in LADSPA_PATH, LV2_PATH, etc?<br/>
<font color="#16569E"><font size="2">(01:53:10 AM)</font> <b>magnetophon:</b></font> idk, I'll check<br/>
<font color="#16569E"><font size="2">(01:54:32 AM)</font> <b>magnetophon:</b></font> those paths are empty<br/>
<font color="#A82F2F"><font size="2">(01:54:53 AM)</font> <b>henrytill:</b></font> are you installing plugins by hand or with nix?<br/>
<font color="#16569E"><font size="2">(01:55:09 AM)</font> <b>magnetophon:</b></font> nix<br/>
<font color="#A82F2F"><font size="2">(01:55:41 AM)</font> <b>henrytill:</b></font> can you give me the name of one so i can look in the repository?<br/>
<font color="#16569E"><font size="2">(01:56:32 AM)</font> <b>magnetophon:</b></font> distrho<br/>
<font color="#A82F2F"><font size="2">(01:57:16 AM)</font> <b>henrytill:</b></font> are you installing from environment.systemPackages or nix-env -i?<br/>
<font color="#16569E"><font size="2">(01:57:29 AM)</font> <b>magnetophon:</b></font> system<br/>
<font color="#A82F2F"><font size="2">(01:58:02 AM)</font> <b>henrytill:</b></font> so check the contents of /run/current-system/sw/lib/lv2<br/>
<font color="#A82F2F"><font size="2">(01:59:13 AM)</font> <b>henrytill:</b></font> anything there?<br/>
<font color="#16569E"><font size="2">(01:59:18 AM)</font> <b>magnetophon:</b></font> lots of stuff in there<br/>
<font color="#A82F2F"><font size="2">(01:59:37 AM)</font> <b>henrytill:</b></font> and echo $LV2_PATH gives you that dir?<br/>
<font color="#16569E"><font size="2">(02:00:22 AM)</font> <b>magnetophon:</b></font> nope<br/>
<font color="#16569E"><font size="2">(02:00:28 AM)</font> <b>magnetophon:</b></font> nothing<br/>
<font color="#A82F2F"><font size="2">(02:00:43 AM)</font> <b>henrytill:</b></font> that&apos;s weird, are you using the musnix-starter import?<br/>
<font color="#16569E"><font size="2">(02:01:41 AM)</font> <b>magnetophon:</b></font> nope (shame emoticon)<br/>
<font color="#A82F2F"><font size="2">(02:02:24 AM)</font> <b>henrytill:</b></font> do you have environment.shellInit set up exporting the plugin paths in your configuration?<br/>
<font color="#16569E"><font size="2">(02:03:14 AM)</font> <b>magnetophon:</b></font> mope<br/>
<font color="#16569E"><font size="2">(02:03:20 AM)</font> <b>magnetophon:</b></font> nope*<br/>
<font color="#A82F2F"><font size="2">(02:03:35 AM)</font> <b>henrytill:</b></font> ah, well look at that thing you put in musnix-starter<br/>
<font color="#A82F2F"><font size="2">(02:03:53 AM)</font> <b>henrytill:</b></font> LV2_PATH is working on my musnix VM<br/>
<font color="#16569E"><font size="2">(02:04:23 AM)</font> <b>magnetophon:</b></font> OK, thanks, I'll go include musnix starter...<br/>
<font color="#A82F2F"><font size="2">(02:04:42 AM)</font> <b>henrytill:</b></font> good luck<br/>
<font color="#16569E"><font size="2">(02:04:48 AM)</font> <b>magnetophon:</b></font> thanks<br/>
<font color="#A82F2F"><font size="2">(02:19:54 AM)</font> <b>henrytill:</b></font> i&apos;m going to update the README to instruct people to use git clone --recursive for musnix-starter<br/>
<font color="#16569E"><font size="2">(02:20:04 AM)</font> <b>magnetophon:</b></font> OK, got plugins now. Thanks<br/>
<font color="#16569E"><font size="2">(02:20:31 AM)</font> <b>magnetophon:</b></font> yeah, good docs are paramount!<br/>
<font color="#062585"><font size="2">(02:20:54 AM)</font> <b>***magnetophon</b></font> goes look up the exact meaning of paramount<br/>
<font color="#16569E"><font size="2">(02:20:59 AM)</font> <b>magnetophon:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(02:21:34 AM)</font> <b>henrytill:</b></font> ...of paramount importance<br/>
<font color="#16569E"><font size="2">(02:22:51 AM)</font> <b>magnetophon:</b></font> yeah and the definition of recursive is recursive....   :p<br/>
<font color="#A82F2F"><font size="2">(02:24:38 AM)</font> <b>henrytill:</b></font> god, the github markdown editor is surprisingly shitty<br/>
<font color="#16569E"><font size="2">(02:25:42 AM)</font> <b>magnetophon:</b></font> I just go ctrl-i and it opens up in vim, thabks to a FF plugin I'm using<br/>
<font color="#16569E"><font size="2">(02:32:14 AM)</font> <b>magnetophon:</b></font> A quick google turned up nothing that compares to pentadactyl for emacs, though you might be interested in <a href="https://addons.mozilla.org/en-US/firefox/addon/firemacs/">https://addons.mozilla.org/en-US/firefox/addon/firemacs/</a> <br/>
<font color="#A82F2F"><font size="2">(02:32:55 AM)</font> <b>henrytill:</b></font> i use keysnail, which is like pentadactyl but originally designed for emacs users<br/>
<font color="#16569E"><font size="2">(02:35:10 AM)</font> <b>magnetophon:</b></font> I really do wonder why so many advanced users end up with a comparable setup (like hwat I described in issue #1 of musnix-starter), but no distro has been made like that...<br/>
<font color="#16569E"><font size="2">(02:36:49 AM)</font> <b>magnetophon:</b></font> I mean sure, it's personal, but a starting point would be nice, no? if only for medium advanced users...<br/>
<font color="#16569E"><font size="2">(02:37:36 AM)</font> <b>magnetophon:</b></font> Not saying it should be in musnix perse, just wondering in general...<br/>
<font color="#A82F2F"><font size="2">(03:09:26 AM)</font> <b>henrytill:</b></font> so...<br/>
<font color="#A82F2F"><font size="2">(03:10:36 AM)</font> <b>henrytill:</b></font> i updated the README and I corrected the plugin paths for nix-env -i installs<br/>
<font color="#A82F2F"><font size="2">(03:10:50 AM)</font> <b>henrytill:</b></font> I also set the precedence so that it searchs $HOME first<br/>
<font color="#A82F2F"><font size="2">(03:10:56 AM)</font> <b>henrytill:</b></font> then ~/.nix-profile<br/>
<font color="#A82F2F"><font size="2">(03:11:05 AM)</font> <b>henrytill:</b></font> the /run/current-system<br/>
<font color="#A82F2F"><font size="2">(03:11:26 AM)</font> <b>henrytill:</b></font> so if you cloned musnix-starter...<br/>
<font color="#A82F2F"><font size="2">(03:11:33 AM)</font> <b>henrytill:</b></font> git pull --recurse-submodules<br/>
<font color="#A82F2F"><font size="2">(03:11:50 AM)</font> <b>henrytill:</b></font> should bring in the latest changes<br/>
<font color="#A82F2F"><font size="2">(04:22:58 PM)</font> <b>henrytill:</b></font> hello<br/>
<font color="#16569E"><font size="2">(04:23:21 PM)</font> <b>magnetophon:</b></font> hi<br/>
<font color="#A82F2F"><font size="2">(04:23:43 PM)</font> <b>henrytill:</b></font> that PR you just opened is a disaster<br/>
<font color="#16569E"><font size="2">(04:23:53 PM)</font> <b>magnetophon:</b></font> oh... :(<br/>
<font color="#A82F2F"><font size="2">(04:24:13 PM)</font> <b>henrytill:</b></font> it brought in 100s of old commits<br/>
<font color="#A82F2F"><font size="2">(04:24:33 PM)</font> <b>henrytill:</b></font> that shouldn&apos;t be happening<br/>
<font color="#16569E"><font size="2">(04:25:14 PM)</font> <b>magnetophon:</b></font> because it is based on 14.12, as goi told me to, but it tries to merge with master.  I was just googling on how to fix that... nothing yet...<br/>
<font color="#A82F2F"><font size="2">(04:25:28 PM)</font> <b>henrytill:</b></font> you need to rebase the changes against master<br/>
<font color="#16569E"><font size="2">(04:25:41 PM)</font> <b>magnetophon:</b></font> did you follow the conversation I had with goi?<br/>
<font color="#A82F2F"><font size="2">(04:26:41 PM)</font> <b>henrytill:</b></font> are you trying to bring changes from master into 14.12?<br/>
<font color="#16569E"><font size="2">(04:28:05 PM)</font> <b>magnetophon:</b></font> master has a version based on upstream git, because of a bug in the latest upstream release that only affects the new functionality that is not in 14.12.<br/>
<font color="#16569E"><font size="2">(04:28:47 PM)</font> <b>magnetophon:</b></font> this patch fixes another problem in 14.12, while still being based on the latest upstream<br/>
<font color="#16569E"><font size="2">(04:28:55 PM)</font> <b>magnetophon:</b></font> does that make sense?<br/>
<font color="#16569E"><font size="2">(04:29:31 PM)</font> <b>magnetophon:</b></font> so iow: this needs to be merged in 14.12, and the version in master is newer, and needs to stay where it is.<br/>
<font color="#A82F2F"><font size="2">(04:30:26 PM)</font> <b>henrytill:</b></font> but you opened yr PR against master<br/>
<font color="#A82F2F"><font size="2">(04:30:36 PM)</font> <b>henrytill:</b></font> it should have been opened against 14.12<br/>
<font color="#16569E"><font size="2">(04:30:45 PM)</font> <b>magnetophon:</b></font> because I lack git-fu<br/>
<font color="#16569E"><font size="2">(04:31:03 PM)</font> <b>magnetophon:</b></font> That is what I was googling for when you pinged me<br/>
<font color="#A82F2F"><font size="2">(04:31:39 PM)</font> <b>henrytill:</b></font> so when your open the PR on github, at the top it gives you two pull-down menus<br/>
<font color="#062585"><font size="2">(04:32:57 PM)</font> <b>***magnetophon</b></font> is trying to find out how to undo what he did in the first place<br/>
<font color="#A82F2F"><font size="2">(04:33:25 PM)</font> <b>henrytill:</b></font> base fork: NixOS/nikgpsm, base: release-14.12<br/>
<font color="#16569E"><font size="2">(04:33:51 PM)</font> <b>magnetophon:</b></font> I don't understand<br/>
<font color="#16569E"><font size="2">(04:34:05 PM)</font> <b>magnetophon:</b></font> ah, got it<br/>
<font color="#A82F2F"><font size="2">(04:35:08 PM)</font> <b>henrytill:</b></font> can you change that in an open PR?<br/>
<font color="#16569E"><font size="2">(04:35:28 PM)</font> <b>magnetophon:</b></font> yup, just did<br/>
<font color="#A82F2F"><font size="2">(04:35:54 PM)</font> <b>henrytill:</b></font> err...<br/>
<font color="#16569E"><font size="2">(04:35:59 PM)</font> <b>magnetophon:</b></font> thanks!<br/>
<font color="#A82F2F"><font size="2">(04:36:05 PM)</font> <b>henrytill:</b></font> it looks exactly the same<br/>
<font color="#A82F2F"><font size="2">(04:36:21 PM)</font> <b>henrytill:</b></font> nothing has changed<br/>
<font color="#16569E"><font size="2">(04:36:35 PM)</font> <b>magnetophon:</b></font> <a href="https://github.com/NixOS/nixpkgs/pull/5691">https://github.com/NixOS/nixpkgs/pull/5691</a><br/>
<font color="#A82F2F"><font size="2">(04:36:53 PM)</font> <b>henrytill:</b></font> oh close 5690<br/>
<font color="#A82F2F"><font size="2">(04:38:43 PM)</font> <b>henrytill:</b></font> you should close #5690<br/>
<font color="#16569E"><font size="2">(04:38:59 PM)</font> <b>magnetophon:</b></font> just did.<br/>
<font color="#A82F2F"><font size="2">(04:39:02 PM)</font> <b>henrytill:</b></font> ah there it is<br/>
<font color="#16569E"><font size="2">(04:39:07 PM)</font> <b>magnetophon:</b></font> Thanks!<br/>
<font color="#A82F2F"><font size="2">(04:39:39 PM)</font> <b>henrytill:</b></font> np<br/>
<font color="#A82F2F"><font size="2">(04:40:29 PM)</font> <b>henrytill:</b></font> git can be such a headache<br/>
<font color="#16569E"><font size="2">(04:41:57 PM)</font> <b>magnetophon:</b></font> Another question if you don't mind: I'm working on adding features to faust, and need to patch some files that where originally in faust-compiler. So I moved them over to faust. makes sense so far, right? <br/>
<font color="#16569E"><font size="2">(04:42:02 PM)</font> <b>magnetophon:</b></font> The problem is:<br/>
<font color="#16569E"><font size="2">(04:43:26 PM)</font> <b>magnetophon:</b></font> faust uses an env-variable to know where it's libs are, which points to both files that are only needed by faust-compiler, and to files only needed by faust  (which are the faust2Something scripts)<br/>
<font color="#16569E"><font size="2">(04:43:32 PM)</font> <b>magnetophon:</b></font> Does that make sense?<br/>
<font color="#062585"><font size="2">(04:44:48 PM)</font> <b>***magnetophon</b></font> goes looking for the proper github links to illustrate...<br/>
<font color="#16569E"><font size="2">(04:52:26 PM)</font> <b>magnetophon:</b></font> The library I'm in is closing, they're urging me to leave. I'll continue this in +/- 20 min<br/>
<font color="#16569E"><font size="2">(05:24:02 PM)</font> <b>magnetophon:</b></font> hi<br/>
<font color="#A82F2F"><font size="2">(05:24:02 PM)</font> <b>henrytill &lt;AUTO-REPLY&gt;:</b></font> Auto away at Sat Jan 10 11:23:05 2015<br/>
<font color="#A82F2F"><font size="2">(05:26:56 PM)</font> <b>henrytill:</b></font> back and forth back and forth<br/>
<font color="#16569E"><font size="2">(05:27:05 PM)</font> <b>magnetophon:</b></font> heh<br/>
<font color="#A82F2F"><font size="2">(05:27:16 PM)</font> <b>henrytill:</b></font> just set myself up with an IRC bouncer<br/>
<font color="#16569E"><font size="2">(05:27:20 PM)</font> <b>magnetophon:</b></font> so did the above make any sense?<br/>
<font color="#A82F2F"><font size="2">(05:27:43 PM)</font> <b>henrytill:</b></font> i missed it<br/>
<font color="#16569E"><font size="2">(05:27:56 PM)</font> <b>magnetophon:</b></font> OK, I'll copy<br/>
<font color="#16569E"><font size="2">(05:28:06 PM)</font> <b>magnetophon:</b></font> Another question if you don't mind: I'm working on adding features to faust, and need to patch some files that where originally in faust-compiler. So I moved them over to faust. makes sense so far, right?<br/>
<font color="#16569E"><font size="2">(05:28:13 PM)</font> <b>magnetophon:</b></font> The problem is:<br/>
<font color="#16569E"><font size="2">(05:28:33 PM)</font> <b>magnetophon:</b></font> faust(-upstream) uses an env-variable to know where it's libs are, which points to both files that are only needed by faust-compiler, and to files only needed by faust  (which are the faust2Something scripts)<br/>
<font color="#16569E"><font size="2">(05:29:19 PM)</font> <b>magnetophon:</b></font> If you want I can go find some  github links to illustrate<br/>
<font color="#16569E"><font size="2">(05:30:14 PM)</font> <b>magnetophon:</b></font> does that make sense?<br/>
<font color="#A82F2F"><font size="2">(05:30:33 PM)</font> <b>henrytill:</b></font> so the problem is the &quot;shared&quot; libs<br/>
<font color="#16569E"><font size="2">(05:30:52 PM)</font> <b>magnetophon:</b></font> kind of:<br/>
<font color="#16569E"><font size="2">(05:32:52 PM)</font> <b>magnetophon:</b></font> When I started packaging faust (the complete thing), someone suggested to split it up into the compiler (which spits out cpp), and the &quot;build-scripts&quot;, which take that cpp and spit out binaries, for pd, sc, lv2 etcetera<br/>
<font color="#A82F2F"><font size="2">(05:33:40 PM)</font> <b>henrytill:</b></font> yeah maybe that approach needs to be rethought<br/>
<font color="#A82F2F"><font size="2">(05:33:55 PM)</font> <b>henrytill:</b></font> it&apos;s not clear to me what the advantages of doing it that way are<br/>
<font color="#16569E"><font size="2">(05:34:35 PM)</font> <b>magnetophon:</b></font> Well,it makes sense in so far that it massively reduces the development cycle, since now I don't need to rebuild the compiler each time<br/>
<font color="#16569E"><font size="2">(05:35:05 PM)</font> <b>magnetophon:</b></font> tbh, I'm not sure if there where other reasons, but this is a big one to me.<br/>
<font color="#16569E"><font size="2">(05:37:23 PM)</font> <b>magnetophon:</b></font> the problem is that in upstream, there is one dir containing .lib files needed by  the compiler, and .cpp files needed to tell the build-scripts the difference between a pd binarie and a sc one. So far, so good, right?<br/>
<font color="#16569E"><font size="2">(05:37:50 PM)</font> <b>magnetophon:</b></font> the problem is that they are both refferenced to by one environment var.<br/>
<font color="#16569E"><font size="2">(05:37:58 PM)</font> <b>magnetophon:</b></font> makes sense?<br/>
<font color="#16569E"><font size="2">(05:38:28 PM)</font> <b>magnetophon:</b></font> So there are a couple of possible solutions, and I'm not sure which to pick.<br/>
<font color="#16569E"><font size="2">(05:38:59 PM)</font> <b>magnetophon:</b></font> Are you with me so far?<br/>
<font color="#A82F2F"><font size="2">(05:39:07 PM)</font> <b>henrytill:</b></font> i belive you patch a reference to the other packages directory, as long as it&apos;s a buildInput<br/>
<font color="#16569E"><font size="2">(05:39:36 PM)</font> <b>magnetophon:</b></font> sorry, not following<br/>
<font color="#A82F2F"><font size="2">(05:39:41 PM)</font> <b>henrytill:</b></font> (the other package that is)<br/>
<font color="#16569E"><font size="2">(05:40:05 PM)</font> <b>magnetophon:</b></font> still not clear...<br/>
<font color="#A82F2F"><font size="2">(05:40:41 PM)</font> <b>henrytill:</b></font> the env var in one package needs to be set to a directory in the other<br/>
<font color="#A82F2F"><font size="2">(05:41:59 PM)</font> <b>henrytill:</b></font> so you would patch the file where the env var is defined<br/>
<font color="#A82F2F"><font size="2">(05:42:27 PM)</font> <b>henrytill:</b></font> and set that env var to the directory in the other package<br/>
<font color="#A82F2F"><font size="2">(05:44:11 PM)</font> <b>henrytill:</b></font> EXAMPLE_PATH=${otherpackage}/lib/foo<br/>
<font color="#A82F2F"><font size="2">(05:45:19 PM)</font> <b>henrytill:</b></font> which i assumed would need to be patched in with substituteInPlace or sed<br/>
<font color="#16569E"><font size="2">(05:46:17 PM)</font> <b>magnetophon:</b></font> that part is no problem, but the .lib files are needed by faust-compiler (which is usefull as a stand-alone package, but also takes quite a while to build), and I could just leave the .cpp files in the faust-compiler package too, even though they are only needed by the build-scripts, but then I'm rebuilding faust-compiler every time I change the build-scripts, so I might as well make one package. (makes sense?)<br/>
<font color="#A82F2F"><font size="2">(05:47:56 PM)</font> <b>henrytill:</b></font> well the example i gave would work for cases where the libs only resided in one of the packages<br/>
<font color="#16569E"><font size="2">(05:51:08 PM)</font> <b>magnetophon:</b></font> I cannot put all the library's in the build-scripts package, cause the .lib files are needed by faut-compiler, and I don't want to put all the libs in faust-compiler, cause then I'm rebuilding faust-compiler every time.  There are about 30 faust2something build scripts, each with their own dependancies. I've only packaged 3 so far...  <br/>
<font color="#A82F2F"><font size="2">(05:52:51 PM)</font> <b>henrytill:</b></font> i don&apos;t see why keeping them with faust-compiler would trigger a rebuild everytime you changed something in the build-scripts package expression<br/>
<font color="#16569E"><font size="2">(05:53:48 PM)</font> <b>magnetophon:</b></font> Since I need to patch the .cpp files in ways I cannot foresee yet.<br/>
<font color="#A82F2F"><font size="2">(05:55:00 PM)</font> <b>henrytill:</b></font> well this sounds like something i can&apos;t give you an easy answer for at the moment<br/>
<font color="#A82F2F"><font size="2">(05:55:11 PM)</font> <b>henrytill:</b></font> i&apos;m tied up with a bunch of other stuff<br/>
<font color="#16569E"><font size="2">(05:55:24 PM)</font> <b>magnetophon:</b></font> But is at least the problem clear ?<br/>
<font color="#A82F2F"><font size="2">(05:55:46 PM)</font> <b>henrytill:</b></font> from your description, not exactly<br/>
<font color="#A82F2F"><font size="2">(05:56:02 PM)</font> <b>henrytill:</b></font> but that&apos;s neither here nor there<br/>
<font color="#16569E"><font size="2">(05:56:40 PM)</font> <b>magnetophon:</b></font> hmmm, not sure what to do...<br/>
<font color="#A82F2F"><font size="2">(05:56:41 PM)</font> <b>henrytill:</b></font> you might see if goibhniu as the time to help, seeing as he already has some familiarity with what yr doing<br/>
<font color="#16569E"><font size="2">(05:57:04 PM)</font> <b>magnetophon:</b></font> yeah, I'll try that.  Thanks so far!<br/>
<font color="#A82F2F"><font size="2">(05:57:05 PM)</font> <b>henrytill:</b></font> i on the other hand, lack both the time atm and the familiarity<br/>
<font color="#A82F2F"><font size="2">(05:57:16 PM)</font> <b>henrytill:</b></font> sure good luck<br/>
</body></html>
