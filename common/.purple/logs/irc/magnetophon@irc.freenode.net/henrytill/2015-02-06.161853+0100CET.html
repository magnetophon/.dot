<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with henrytill at Fri 06 Feb 2015 04:18:53 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with henrytill at Fri 06 Feb 2015 04:18:53 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font color="#16569E"><font size="2">(04:19:19 PM)</font> <b>magnetophon:</b></font> did you see? we have our first 'customer' for musnix :)<br/>
<font color="#A82F2F"><font size="2">(05:20:59 PM)</font> <b>henrytill:</b></font> just returned and read the log<br/>
<font color="#A82F2F"><font size="2">(05:21:15 PM)</font> <b>henrytill:</b></font> excellent<br/>
<font color="#A82F2F"><font size="2">(05:21:38 PM)</font> <b>henrytill:</b></font> dunno if you saw, but i pushed the latencytop stuff<br/>
<font color="#16569E"><font size="2">(05:21:52 PM)</font> <b>magnetophon:</b></font> yeah: he will test the heck out of that SOB  (or something like that)   :D<br/>
<font color="#16569E"><font size="2">(05:22:21 PM)</font> <b>magnetophon:</b></font> yeah, I saw, but was too busy fighting jack to test it.  Thanks, though!<br/>
<font color="#A82F2F"><font size="2">(05:23:14 PM)</font> <b>henrytill:</b></font> np, gave me a chance to do a little cleanup<br/>
<font color="#16569E"><font size="2">(05:23:24 PM)</font> <b>magnetophon:</b></font> cool<br/>
<font color="#A82F2F"><font size="2">(05:23:55 PM)</font> <b>henrytill:</b></font> also fixed a bug if someone tried to use a non-realtime, but optimized kernel<br/>
<font color="#A82F2F"><font size="2">(05:24:08 PM)</font> <b>henrytill:</b></font> which i hadn&apos;t tested before, but decided to yesterday<br/>
<font color="#16569E"><font size="2">(05:24:49 PM)</font> <b>magnetophon:</b></font> cool.  out of interest how fast does the kernel build on your machine?<br/>
<font color="#A82F2F"><font size="2">(05:24:53 PM)</font> <b>henrytill:</b></font> i tested several different combinations of kernel settings, so i compiled 5 different kernels last night<br/>
<font color="#16569E"><font size="2">(05:25:12 PM)</font> <b>magnetophon:</b></font> wow. mine takes a day<br/>
<font color="#A82F2F"><font size="2">(05:25:33 PM)</font> <b>henrytill:</b></font> oh well i&apos;m doing it in VM on an 2.43 GHz quad i7<br/>
<font color="#A82F2F"><font size="2">(05:26:18 PM)</font> <b>henrytill:</b></font> i gave the vm 2 cores and 4 GB of ram<br/>
<font color="#A82F2F"><font size="2">(05:26:32 PM)</font> <b>henrytill:</b></font> 2 &quot;virtual&quot; cores i should say<br/>
<font color="#16569E"><font size="2">(05:26:41 PM)</font> <b>magnetophon:</b></font> I read one of the kernel devs does it in a matter of minutes.  (and he's still not happy! )<br/>
<font color="#A82F2F"><font size="2">(05:27:29 PM)</font> <b>henrytill:</b></font> well in your bog-standard FHS-compliant distro you can use ccache<br/>
<font color="#A82F2F"><font size="2">(05:27:38 PM)</font> <b>henrytill:</b></font> and that greatly speeds up rebuilds<br/>
<font color="#A82F2F"><font size="2">(05:27:58 PM)</font> <b>henrytill:</b></font> unless yr building a monolithic everything included kernel<br/>
<font color="#16569E"><font size="2">(05:28:54 PM)</font> <b>magnetophon:</b></font> it also helps if you have half of amazon (or some other cloud) sponsored.<br/>
<font color="#A82F2F"><font size="2">(05:29:10 PM)</font> <b>henrytill:</b></font> undoubtedly<br/>
<font color="#A82F2F"><font size="2">(05:29:32 PM)</font> <b>henrytill:</b></font> when i compiled kernels for debian on my thinkpad, it would take about 40 minutes<br/>
<font color="#A82F2F"><font size="2">(05:29:47 PM)</font> <b>henrytill:</b></font> i think it&apos;s a little longer in the VM right now<br/>
<font color="#A82F2F"><font size="2">(08:19:33 PM)</font> <b>henrytill:</b></font> Wrote up something for you:<br/>
<font color="#A82F2F"><font size="2">(08:19:36 PM)</font> <b>henrytill:</b></font> https://gist.github.com/henrytill/9f35de44ee5c326149d7<br/>
<font color="#16569E"><font size="2">(08:22:17 PM)</font> <b>magnetophon:</b></font> thanks, that's really helpfull<br/>
<font color="#16569E"><font size="2">(08:23:42 PM)</font> <b>magnetophon:</b></font> you mention in the note that I should be testing against master. Is there a practical way to do that if you don't have a hefty build machine? <br/>
<font color="#16569E"><font size="2">(08:28:55 PM)</font> <b>magnetophon:</b></font> and related: what is the official (as in: 'can publish a howto in the wiki') way to do this?  If you take this text, and add that any PR should mention that it's only tested on 14.12, would that fly?   (I just reminded myself that I should always mention that...)<br/>
<font color="#A82F2F"><font size="2">(09:07:02 PM)</font> <b>henrytill:</b></font> did you see that link?<br/>
<font color="#16569E"><font size="2">(09:07:26 PM)</font> <b>magnetophon:</b></font> ah, you didn't get my reply<br/>
<font color="#A82F2F"><font size="2">(09:07:38 PM)</font> <b>henrytill:</b></font> no yr connection was reset<br/>
<font color="#16569E"><font size="2">(09:07:38 PM)</font> <b>magnetophon:</b></font> thanks, that's really helpfull<br/>
<font color="#16569E"><font size="2">(09:07:46 PM)</font> <b>magnetophon:</b></font> you mention in the note that I should be testing against master. Is there a practical way to do that if you don't have a hefty build machine? <br/>
<font color="#16569E"><font size="2">(09:07:56 PM)</font> <b>magnetophon:</b></font> and related: what is the official (as in: 'can publish a howto in the wiki') way to do this?  If you take this text, and add that any PR should mention that it's only tested on 14.12, would that fly?   (I just reminded myself that I should always mention that...)<br/>
<font color="#A82F2F"><font size="2">(09:08:25 PM)</font> <b>henrytill:</b></font> no i don&apos;t want to publish the wrong way to do things<br/>
<font color="#062585"><font size="2">(09:08:27 PM)</font> <b>***magnetophon</b></font> wishes IRC was a bit more clear on when it&apos;s connected or not...<br/>
<font color="#A82F2F"><font size="2">(09:09:10 PM)</font> <b>henrytill:</b></font> one trick that is also not officially recommended:<br/>
<font color="#A82F2F"><font size="2">(09:09:31 PM)</font> <b>henrytill:</b></font> --option binary-caches http://hydra.nixos.org/<br/>
<font color="#A82F2F"><font size="2">(09:09:37 PM)</font> <b>henrytill:</b></font> (when building off master)<br/>
<font color="#16569E"><font size="2">(09:09:57 PM)</font> <b>magnetophon:</b></font> I can understand that (not wanting to publish this), but realistically: I can't be the only one on 14.12 that does PR's<br/>
<font color="#A82F2F"><font size="2">(09:10:11 PM)</font> <b>henrytill:</b></font> that&apos;s not the point<br/>
<font color="#A82F2F"><font size="2">(09:10:22 PM)</font> <b>henrytill:</b></font> it isn&apos;t recommended for a reason<br/>
<font color="#A82F2F"><font size="2">(09:10:39 PM)</font> <b>henrytill:</b></font> and nixos gives you an easy facility for rolling back after you&apos;ve finished testing<br/>
<font color="#A82F2F"><font size="2">(09:11:01 PM)</font> <b>henrytill:</b></font> documentation shouldn&apos;t be telling people how to do things the wrong way<br/>
<font color="#16569E"><font size="2">(09:11:06 PM)</font> <b>magnetophon:</b></font> you mean it isn't recommended because I should test against master?<br/>
<font color="#A82F2F"><font size="2">(09:11:10 PM)</font> <b>henrytill:</b></font> everything needs to be tested against master<br/>
<font color="#A82F2F"><font size="2">(09:11:12 PM)</font> <b>henrytill:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(09:11:26 PM)</font> <b>henrytill:</b></font> if yr serious about contributing, which it seems like you might be<br/>
<font color="#A82F2F"><font size="2">(09:11:36 PM)</font> <b>henrytill:</b></font> you really need to start doing doing this<br/>
<font color="#A82F2F"><font size="2">(09:11:57 PM)</font> <b>henrytill:</b></font> with normal packages it&apos;s a little easier, because you don&apos;t need to rebuild your whole system<br/>
<font color="#A82F2F"><font size="2">(09:12:09 PM)</font> <b>henrytill:</b></font> but for lower-level stuff, it is an involved process<br/>
<font color="#A82F2F"><font size="2">(09:12:15 PM)</font> <b>henrytill:</b></font> or at least time-consuming<br/>
<font color="#A82F2F"><font size="2">(09:12:23 PM)</font> <b>henrytill:</b></font> not exactly involved :)<br/>
<font color="#16569E"><font size="2">(09:12:39 PM)</font> <b>magnetophon:</b></font> I guess after I install NixOS on my main machine, thing will get easier (way faster machine)<br/>
<font color="#A82F2F"><font size="2">(09:13:01 PM)</font> <b>henrytill:</b></font> if you want to use the option binary-caches trick above, that speeds things up <br/>
<font color="#16569E"><font size="2">(09:13:06 PM)</font> <b>magnetophon:</b></font> I didn't understand &quot;--option binary-caches <a href="http://hydra.nixos.org/">http://hydra.nixos.org/</a>&quot;<br/>
<font color="#A82F2F"><font size="2">(09:13:15 PM)</font> <b>henrytill:</b></font> because hydra has a lot of binaries taht haven&apos;t hit cache.nixos.org yet<br/>
<font color="#16569E"><font size="2">(09:13:15 PM)</font> <b>magnetophon:</b></font> heh, timing<br/>
<font color="#A82F2F"><font size="2">(09:13:29 PM)</font> <b>henrytill:</b></font> they only hit cache when the channel updates happen<br/>
<font color="#A82F2F"><font size="2">(09:13:36 PM)</font> <b>henrytill:</b></font> but they are already building on hydra<br/>
<font color="#16569E"><font size="2">(09:14:07 PM)</font> <b>magnetophon:</b></font> and why isn't that officially recommended either?<br/>
<font color="#A82F2F"><font size="2">(09:14:34 PM)</font> <b>henrytill:</b></font> you&apos;ll need to add nix.trustedBinaryCaches = [ &quot;http://hydra.nixos.org&quot; ]; to configuration.nix<br/>
<font color="#16569E"><font size="2">(09:15:04 PM)</font> <b>magnetophon:</b></font> I thought so, but was about to doublecheck<br/>
<font color="#A82F2F"><font size="2">(09:15:05 PM)</font> <b>henrytill:</b></font> it&apos;s not officially recommended because if a lot of people did it would put a huge burden on hydra<br/>
<font color="#A82F2F"><font size="2">(09:15:22 PM)</font> <b>henrytill:</b></font> so use it sparingly<br/>
<font color="#A82F2F"><font size="2">(09:15:40 PM)</font> <b>henrytill:</b></font> like when doing lower-level stuff a la jack<br/>
<font color="#A82F2F"><font size="2">(09:15:49 PM)</font> <b>henrytill:</b></font> where it would be rebuild huge parts of the system<br/>
<font color="#16569E"><font size="2">(09:16:17 PM)</font> <b>magnetophon:</b></font> So take it in and out of my config as needed? gotcha<br/>
<font color="#A82F2F"><font size="2">(09:16:34 PM)</font> <b>henrytill:</b></font> no, you can leave the nix.trustedBinaryCaches in there<br/>
<font color="#A82F2F"><font size="2">(09:16:48 PM)</font> <b>henrytill:</b></font> it only sets which caches you can use with the --option binary-caches flag<br/>
<font color="#A82F2F"><font size="2">(09:16:59 PM)</font> <b>henrytill:</b></font> i doesn&apos;t use the ones in trusted by defauly<br/>
<font color="#A82F2F"><font size="2">(09:17:03 PM)</font> <b>henrytill:</b></font> default*<br/>
<font color="#A82F2F"><font size="2">(09:18:46 PM)</font> <b>henrytill:</b></font> so for example you&apos;d do sudo -i nixos-rebuild boot -I /path/to/nixpkgs --option binary-caches http://hydra.nixos.org<br/>
<font color="#16569E"><font size="2">(09:18:59 PM)</font> <b>magnetophon:</b></font> you lost me there. you mean just adding nix.trustedBinaryCaches = [ &quot;<a href="http://hydra.nixos.org">http://hydra.nixos.org</a>&quot; ]; to configuration.nix does nothing, and I need to do nixos-rebuild with --option binary-caches <a href="http://hydra.nixos.org/">http://hydra.nixos.org/</a><br/>
<font color="#16569E"><font size="2">(09:19:05 PM)</font> <b>magnetophon:</b></font> timing...<br/>
<font color="#A82F2F"><font size="2">(09:19:10 PM)</font> <b>henrytill:</b></font> again :D<br/>
<font color="#A82F2F"><font size="2">(09:19:13 PM)</font> <b>henrytill:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(09:20:10 PM)</font> <b>henrytill:</b></font> you also should read up on how to squash commits<br/>
<font color="#16569E"><font size="2">(09:20:17 PM)</font> <b>magnetophon:</b></font> OK, thanks. Just for my understanding: this seems double, why doesn't just one of these work on it's own?<br/>
<font color="#A82F2F"><font size="2">(09:20:42 PM)</font> <b>henrytill:</b></font> it&apos;s explained in the manual<br/>
<font color="#16569E"><font size="2">(09:21:06 PM)</font> <b>magnetophon:</b></font> yeah, I've been reading and doing some squash howto's, but somehow they never work out...<br/>
<font color="#A82F2F"><font size="2">(09:21:07 PM)</font> <b>henrytill:</b></font> basically you want to globally limit what individual users can do<br/>
<font color="#A82F2F"><font size="2">(09:21:35 PM)</font> <b>henrytill:</b></font> you don&apos;t want individual users capable of using whatever binary cache they want on a multiuser system<br/>
<font color="#A82F2F"><font size="2">(09:22:15 PM)</font> <b>henrytill:</b></font> nix.trustedBinaryCaches allows admins to limit this<br/>
<font color="#16569E"><font size="2">(09:22:30 PM)</font> <b>magnetophon:</b></font> so why not just have it in the config? why do I need to also specify it in the build command?<br/>
<font color="#A82F2F"><font size="2">(09:22:41 PM)</font> <b>henrytill:</b></font> you don&apos;t have to<br/>
<font color="#A82F2F"><font size="2">(09:23:10 PM)</font> <b>henrytill:</b></font> you can it nix.binaryCaches, but then it will be a global default, which is bad for the hydra burden reasons given above<br/>
<font color="#16569E"><font size="2">(09:23:30 PM)</font> <b>magnetophon:</b></font> gotcha. thanks<br/>
<font color="#A82F2F"><font size="2">(09:23:31 PM)</font> <b>henrytill:</b></font> same reasons for having it be a flag<br/>
<font color="#A82F2F"><font size="2">(09:23:41 PM)</font> <b>henrytill:</b></font> it should be opt-in<br/>
<font color="#A82F2F"><font size="2">(09:24:37 PM)</font> <b>henrytill:</b></font> but remember, don&apos;t start spreading this info far and wide<br/>
<font color="#A82F2F"><font size="2">(09:25:13 PM)</font> <b>henrytill:</b></font> it would end up hurting everyone<br/>
<font color="#16569E"><font size="2">(09:25:35 PM)</font> <b>magnetophon:</b></font> One thing I don't get on thinking about it further: when I'm making a new jack2 (for example), hydra knows nothing about that until after someone pushes it to master. So how does this help me? <br/>
<font color="#16569E"><font size="2">(09:25:53 PM)</font> <b>magnetophon:</b></font> mums the word! promised!<br/>
<font color="#A82F2F"><font size="2">(09:26:03 PM)</font> <b>henrytill:</b></font> there will be other changes on master that cache.nixos.org doesn&apos;t have binaries for yet<br/>
<font color="#16569E"><font size="2">(09:26:25 PM)</font> <b>magnetophon:</b></font> right.<br/>
<font color="#A82F2F"><font size="2">(09:26:28 PM)</font> <b>henrytill:</b></font> but yes, you will have to rebuild everything related to your package<br/>
<font color="#16569E"><font size="2">(09:26:40 PM)</font> <b>magnetophon:</b></font> OK, all clear.<br/>
<font color="#A82F2F"><font size="2">(09:27:07 PM)</font> <b>henrytill:</b></font> i&apos;m thinking that i&apos;ll probably set up my own hydra at some point<br/>
<font color="#A82F2F"><font size="2">(09:27:48 PM)</font> <b>henrytill:</b></font> probably just on my local network<br/>
<font color="#16569E"><font size="2">(09:28:04 PM)</font> <b>magnetophon:</b></font> I'm still a bit nervous about putting this in my config and pushing it to github. Isn't that the same as spreading the word?<br/>
<font color="#A82F2F"><font size="2">(09:28:12 PM)</font> <b>henrytill:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(09:28:25 PM)</font> <b>henrytill:</b></font> you could put it in another file<br/>
<font color="#A82F2F"><font size="2">(09:28:37 PM)</font> <b>henrytill:</b></font> and then add it to imports<br/>
<font color="#A82F2F"><font size="2">(09:28:47 PM)</font> <b>henrytill:</b></font> and make sure that file is in your .gitignore<br/>
<font color="#A82F2F"><font size="2">(09:29:15 PM)</font> <b>henrytill:</b></font> just use the example of musnix-starter<br/>
<font color="#A82F2F"><font size="2">(09:29:25 PM)</font> <b>henrytill:</b></font> in terms of having it be an import<br/>
<font color="#16569E"><font size="2">(09:29:26 PM)</font> <b>magnetophon:</b></font> good idea<br/>
<font color="#16569E"><font size="2">(09:29:38 PM)</font> <b>magnetophon:</b></font> I can do that, NP<br/>
<font color="#16569E"><font size="2">(09:30:14 PM)</font> <b>magnetophon:</b></font> I've been thinking of setting up a hydra too. I could use my studiomachine for that, when it's not in use. You &lt;can&gt; start and stop it at will, can't you?<br/>
<font color="#A82F2F"><font size="2">(09:30:16 PM)</font> <b>henrytill:</b></font> i definitely figured out the trick from iElectric and eelco&apos;s configuration.nix<br/>
<font color="#A82F2F"><font size="2">(09:30:29 PM)</font> <b>henrytill:</b></font> coupled with vague allusions in the irc logs<br/>
<font color="#A82F2F"><font size="2">(09:31:10 PM)</font> <b>henrytill:</b></font> but then someone later directly suggested it to me<br/>
<font color="#16569E"><font size="2">(09:31:22 PM)</font> <b>magnetophon:</b></font> I've been searching a bit for eelco's config, but couldn't find it.<br/>
<font color="#A82F2F"><font size="2">(09:31:35 PM)</font> <b>henrytill:</b></font> he has one in the old svn mirror on nixos.org<br/>
<font color="#A82F2F"><font size="2">(09:31:46 PM)</font> <b>henrytill:</b></font> i doubt it&apos;s anywhere near what he actually uses<br/>
<font color="#A82F2F"><font size="2">(09:31:53 PM)</font> <b>henrytill:</b></font> it&apos;s at least a year or two old<br/>
<font color="#16569E"><font size="2">(09:32:01 PM)</font> <b>magnetophon:</b></font> ok, nm<br/>
<font color="#A82F2F"><font size="2">(09:32:53 PM)</font> <b>henrytill:</b></font> yes, i think hydra can be started and stopped<br/>
<font color="#A82F2F"><font size="2">(09:33:05 PM)</font> <b>henrytill:</b></font> i get the sense that it can be a fickle beast to deal with<br/>
<font color="#16569E"><font size="2">(09:33:20 PM)</font> <b>magnetophon:</b></font> So you don't really need a dedicated machine.<br/>
<font color="#A82F2F"><font size="2">(09:33:50 PM)</font> <b>henrytill:</b></font> probably not, but it could have massive storage requirements if you didn&apos;t set up the gc just right<br/>
<font color="#16569E"><font size="2">(09:34:14 PM)</font> <b>magnetophon:</b></font> fickle because the official one often stops working you mean? <br/>
<font color="#A82F2F"><font size="2">(09:34:32 PM)</font> <b>henrytill:</b></font> and people who have them bitching about it<br/>
<font color="#16569E"><font size="2">(09:35:17 PM)</font> <b>magnetophon:</b></font> Can you set up hydra to only build what you need?  If so the storage requirements wouldn't be that massive, right?<br/>
<font color="#A82F2F"><font size="2">(09:35:51 PM)</font> <b>henrytill:</b></font> there could be a way<br/>
<font color="#16569E"><font size="2">(09:36:11 PM)</font> <b>magnetophon:</b></font> I'm imagining it'd only need to store what is new, but not yet copied over to your working machines...<br/>
<font color="#A82F2F"><font size="2">(09:36:20 PM)</font> <b>henrytill:</b></font> you could just prune the git repo down to what you want in a branch<br/>
<font color="#A82F2F"><font size="2">(09:36:25 PM)</font> <b>henrytill:</b></font> and then only build that branch<br/>
<font color="#16569E"><font size="2">(09:37:12 PM)</font> <b>magnetophon:</b></font> hmmm, starts to sound like quite a project already...   I guess I'd better focus on stuff I need right now... :)<br/>
<font color="#A82F2F"><font size="2">(09:37:31 PM)</font> <b>henrytill:</b></font> hah<br/>
<font color="#16569E"><font size="2">(09:37:39 PM)</font> <b>magnetophon:</b></font> aszlig has his personal hydra too<br/>
<font color="#A82F2F"><font size="2">(09:37:48 PM)</font> <b>henrytill:</b></font> right i&apos;ve looked at that<br/>
<font color="#16569E"><font size="2">(09:37:58 PM)</font> <b>magnetophon:</b></font> he's pretty cool in person!<br/>
<font color="#A82F2F"><font size="2">(09:38:06 PM)</font> <b>henrytill:</b></font> i figured as much<br/>
<font color="#16569E"><font size="2">(09:38:25 PM)</font> <b>magnetophon:</b></font> cool, in a nerdy way that is  ;)<br/>
<font color="#A82F2F"><font size="2">(09:38:36 PM)</font> <b>henrytill:</b></font> does he have those crazy bits braided into his goatee?<br/>
<font color="#16569E"><font size="2">(09:39:07 PM)</font> <b>magnetophon:</b></font> no, but his goatee is like 40cm long by now!<br/>
<font color="#A82F2F"><font size="2">(09:39:13 PM)</font> <b>henrytill:</b></font> wow<br/>
<font color="#16569E"><font size="2">(09:39:15 PM)</font> <b>magnetophon:</b></font> quite a character<br/>
<font color="#16569E"><font size="2">(09:39:33 PM)</font> <b>magnetophon:</b></font> he explained vuizvui to me<br/>
<font color="#A82F2F"><font size="2">(09:39:41 PM)</font> <b>henrytill:</b></font> yeah i look forward to venturing cross the pond someday and meeting some of these people<br/>
<font color="#A82F2F"><font size="2">(09:39:44 PM)</font> <b>henrytill:</b></font> oh<br/>
<font color="#16569E"><font size="2">(09:39:45 PM)</font> <b>magnetophon:</b></font> makes a lot more sense now<br/>
<font color="#A82F2F"><font size="2">(09:39:48 PM)</font> <b>henrytill:</b></font> do tell<br/>
<font color="#16569E"><font size="2">(09:40:03 PM)</font> <b>magnetophon:</b></font> any specific questions?<br/>
<font color="#A82F2F"><font size="2">(09:40:13 PM)</font> <b>henrytill:</b></font> i mean i think i had a pretty good working understanding of it<br/>
<font color="#16569E"><font size="2">(09:40:21 PM)</font> <b>magnetophon:</b></font> i didn't<br/>
<font color="#A82F2F"><font size="2">(09:40:39 PM)</font> <b>henrytill:</b></font> i&apos;m curious if he reconfigures all the machines centrally<br/>
<font color="#16569E"><font size="2">(09:40:43 PM)</font> <b>magnetophon:</b></font> couldn't even figure out which the root of the tree was<br/>
<font color="#16569E"><font size="2">(09:40:58 PM)</font> <b>magnetophon:</b></font> centrally?<br/>
<font color="#A82F2F"><font size="2">(09:41:16 PM)</font> <b>henrytill:</b></font> well there&apos;s a root level network.nix which release.nix builds off of<br/>
<font color="#16569E"><font size="2">(09:41:52 PM)</font> <b>magnetophon:</b></font> I mean: you already saw that there are multiple machines in there, so I don't get the question.<br/>
<font color="#A82F2F"><font size="2">(09:42:06 PM)</font> <b>henrytill:</b></font> so can he pushes to changes from any machine to another?<br/>
<font color="#A82F2F"><font size="2">(09:42:10 PM)</font> <b>henrytill:</b></font> psuh*<br/>
<font color="#A82F2F"><font size="2">(09:42:13 PM)</font> <b>henrytill:</b></font> push*<br/>
<font color="#A82F2F"><font size="2">(09:42:15 PM)</font> <b>henrytill:</b></font> :P<br/>
<font color="#16569E"><font size="2">(09:42:52 PM)</font> <b>magnetophon:</b></font> didn't ask that. but I guess: why not?<br/>
<font color="#16569E"><font size="2">(09:43:04 PM)</font> <b>magnetophon:</b></font> psuh!<br/>
<font color="#16569E"><font size="2">(09:43:08 PM)</font> <b>magnetophon:</b></font> :D<br/>
<font color="#A82F2F"><font size="2">(09:43:21 PM)</font> <b>henrytill:</b></font> i believe that the root-level release.nix is what hydra builds<br/>
<font color="#16569E"><font size="2">(09:43:45 PM)</font> <b>magnetophon:</b></font> yeah, makes sense to do it that way.<br/>
<font color="#A82F2F"><font size="2">(09:44:17 PM)</font> <b>henrytill:</b></font> but yeah if you look at his hydra it has each of the machines as a job<br/>
<font color="#A82F2F"><font size="2">(09:44:19 PM)</font> <b>henrytill:</b></font> pretty cool<br/>
<font color="#16569E"><font size="2">(09:44:44 PM)</font> <b>magnetophon:</b></font> btw: he said that the code that creates the manual in release.nix should work by just copy-pasting it.<br/>
<font color="#A82F2F"><font size="2">(09:45:01 PM)</font> <b>henrytill:</b></font> yeah that was what i was planning to look at<br/>
<font color="#A82F2F"><font size="2">(09:45:20 PM)</font> <b>henrytill:</b></font> i take it you mentioned that we had taken inspiration for musnix from vuizvui<br/>
<font color="#A82F2F"><font size="2">(09:45:29 PM)</font> <b>henrytill:</b></font> and the rockfabrik stuff<br/>
<font color="#16569E"><font size="2">(09:45:50 PM)</font> <b>magnetophon:</b></font> I think I did. pretty sure about the second<br/>
<font color="#16569E"><font size="2">(09:46:33 PM)</font> <b>magnetophon:</b></font> where is his hydra conf?<br/>
<font color="#A82F2F"><font size="2">(09:46:56 PM)</font> <b>henrytill:</b></font> i don&apos;t know where the conf is<br/>
<font color="#A82F2F"><font size="2">(09:47:06 PM)</font> <b>henrytill:</b></font> but i&apos;m just looking at the server itself<br/>
<font color="#A82F2F"><font size="2">(09:47:14 PM)</font> <b>henrytill:</b></font> heacounter.org/hydra<br/>
<font color="#A82F2F"><font size="2">(09:47:18 PM)</font> <b>henrytill:</b></font> headcounter*<br/>
<font color="#16569E"><font size="2">(09:47:29 PM)</font> <b>magnetophon:</b></font> For his work he created a cross compiling monster for all tree OS's! <br/>
<font color="#16569E"><font size="2">(09:47:38 PM)</font> <b>magnetophon:</b></font> aha<br/>
<font color="#A82F2F"><font size="2">(09:47:51 PM)</font> <b>henrytill:</b></font> dude is a nixos giant<br/>
<font color="#A82F2F"><font size="2">(09:47:53 PM)</font> <b>henrytill:</b></font> :D<br/>
<font color="#16569E"><font size="2">(09:48:24 PM)</font> <b>magnetophon:</b></font> I have a feeling he's pretty much a genius in general.<br/>
<font color="#16569E"><font size="2">(09:49:33 PM)</font> <b>magnetophon:</b></font> hmmm, iElectric and wizeman have 'acounts' on his hydra!<br/>
<font color="#A82F2F"><font size="2">(09:49:46 PM)</font> <b>henrytill:</b></font> and devhell<br/>
<font color="#16569E"><font size="2">(09:51:53 PM)</font> <b>magnetophon:</b></font> aha: <a href="https://github.com/headcounter/deployment">https://github.com/headcounter/deployment</a><br/>
<font color="#A82F2F"><font size="2">(09:52:35 PM)</font> <b>henrytill:</b></font> look at that<br/>
<font color="#16569E"><font size="2">(09:52:59 PM)</font> <b>magnetophon:</b></font> well, if musnix ever needs a hydra, we know who to talk to! ;)<br/>
<font color="#16569E"><font size="2">(09:54:21 PM)</font> <b>magnetophon:</b></font> I also asked him about the pros and cons of having your dotfiles in nix<br/>
<font color="#A82F2F"><font size="2">(09:54:35 PM)</font> <b>henrytill:</b></font> and?<br/>
<font color="#16569E"><font size="2">(09:55:34 PM)</font> <b>magnetophon:</b></font> he said there's a lot of rebuilding (but when a doublechecked, I &lt;think&gt; I found out that could be helped by separating pkgs from the .files-pkgs)<br/>
<font color="#16569E"><font size="2">(09:55:45 PM)</font> <b>magnetophon:</b></font> what I found interesting:<br/>
<font color="#16569E"><font size="2">(09:56:42 PM)</font> <b>magnetophon:</b></font> he treats his actual dotfiles as more of an experimentation ground, and the dotfiles in his nix as a 'master' if that's clear.<br/>
<font color="#A82F2F"><font size="2">(09:57:14 PM)</font> <b>henrytill:</b></font> yeah he suggests something along those lines in the README<br/>
<font color="#A82F2F"><font size="2">(09:58:18 PM)</font> <b>henrytill:</b></font> i like my dotfiles to be somewhat system-independent<br/>
<font color="#16569E"><font size="2">(09:58:28 PM)</font> <b>magnetophon:</b></font> So I couldn't really say for sure if separating pkgs would fix the rebuilding problem, I had the feeling that the actual answer was a bit too nuanced and complicated, but I think in a lot of situations it would, right?<br/>
<font color="#A82F2F"><font size="2">(09:58:29 PM)</font> <b>henrytill:</b></font> i use the same ones across several machines<br/>
<font color="#16569E"><font size="2">(09:58:42 PM)</font> <b>magnetophon:</b></font> system-independent?<br/>
<font color="#A82F2F"><font size="2">(09:59:02 PM)</font> <b>henrytill:</b></font> yeah i use the same set on my mac, my nixos laptop<br/>
<font color="#A82F2F"><font size="2">(09:59:07 PM)</font> <b>henrytill:</b></font> a debian box, etc<br/>
<font color="#16569E"><font size="2">(09:59:33 PM)</font> <b>magnetophon:</b></font> I mean we want our .editorRC to be the same on all machines, right?  Doesn't he have that?<br/>
<font color="#16569E"><font size="2">(09:59:39 PM)</font> <b>magnetophon:</b></font> not following...<br/>
<font color="#A82F2F"><font size="2">(09:59:50 PM)</font> <b>henrytill:</b></font> i have conditionals in my .profile, .bashrc and .emacs.d for different OSes<br/>
<font color="#A82F2F"><font size="2">(10:00:13 PM)</font> <b>henrytill:</b></font> and with stow i selectively choose which packages to symlink into $HOME<br/>
<font color="#A82F2F"><font size="2">(10:01:21 PM)</font> <b>henrytill:</b></font> system-independent as in they are not tied into my nixos configuration<br/>
<font color="#16569E"><font size="2">(10:01:26 PM)</font> <b>magnetophon:</b></font> ever since I started using NixOS, I've been going back and forth between wanting to set up stow, briefcase, and vuizvui-like dotfiles<br/>
<font color="#A82F2F"><font size="2">(10:01:49 PM)</font> <b>henrytill:</b></font> i don&apos;t know briefcase<br/>
<font color="#A82F2F"><font size="2">(10:01:52 PM)</font> <b>henrytill:</b></font> but stow is great<br/>
<font color="#A82F2F"><font size="2">(10:02:08 PM)</font> <b>henrytill:</b></font> it&apos;s one of the first things i install on any machine, regardless of OS<br/>
<font color="#16569E"><font size="2">(10:02:28 PM)</font> <b>magnetophon:</b></font> stow is nice and simple, briefcase has a nice workflow for secrets, and vuizvui feels like its all-powerfull<br/>
<font color="#A82F2F"><font size="2">(10:02:39 PM)</font> <b>henrytill:</b></font> as long as every machine is a nixos one<br/>
<font color="#16569E"><font size="2">(10:02:46 PM)</font> <b>magnetophon:</b></font> one sec, I'll post a link to briefcase<br/>
<font color="#A82F2F"><font size="2">(10:02:47 PM)</font> <b>henrytill:</b></font> (in vuizvui&apos;s case)<br/>
<font color="#16569E"><font size="2">(10:03:15 PM)</font> <b>magnetophon:</b></font> <a href="https://jim.github.io/briefcase/">https://jim.github.io/briefcase/</a><br/>
<font color="#16569E"><font size="2">(10:03:57 PM)</font> <b>magnetophon:</b></font> it's really neat in the way it handles secrets, but ruby and nixos don't get along well, yet.   :(<br/>
<font color="#A82F2F"><font size="2">(10:04:08 PM)</font> <b>henrytill:</b></font> i try to avoid things coded in ruby<br/>
<font color="#16569E"><font size="2">(10:04:32 PM)</font> <b>magnetophon:</b></font> why? NixOS or other reasons?<br/>
<font color="#A82F2F"><font size="2">(10:04:51 PM)</font> <b>henrytill:</b></font> it&apos;s often synonymous with &quot;inexperienced programmers and douchebags&quot; <br/>
<font color="#A82F2F"><font size="2">(10:05:04 PM)</font> <b>henrytill:</b></font> &quot;rubyist&quot; that is<br/>
<font color="#16569E"><font size="2">(10:05:28 PM)</font> <b>magnetophon:</b></font> briefcase is the only thing in ruby I use, afaik, but I don't think those apply there<br/>
<font color="#A82F2F"><font size="2">(10:05:38 PM)</font> <b>henrytill:</b></font> yeah, i&apos;m exaagerating<br/>
<font color="#A82F2F"><font size="2">(10:05:52 PM)</font> <b>henrytill:</b></font> huge amounts of everyday stable internet infrastructure run on ruby<br/>
<font color="#A82F2F"><font size="2">(10:06:24 PM)</font> <b>henrytill:</b></font> but i&apos;m always suspcious of people who only code in ruby<br/>
<font color="#16569E"><font size="2">(10:06:25 PM)</font> <b>magnetophon:</b></font> how do you handle .files whit secrets?<br/>
<font color="#A82F2F"><font size="2">(10:06:30 PM)</font> <b>henrytill:</b></font> i avoid them<br/>
<font color="#A82F2F"><font size="2">(10:06:34 PM)</font> <b>henrytill:</b></font> so yeah<br/>
<font color="#A82F2F"><font size="2">(10:06:37 PM)</font> <b>henrytill:</b></font> not a good solution<br/>
<font color="#A82F2F"><font size="2">(10:07:00 PM)</font> <b>henrytill:</b></font> i have gpg-encrypted backups for things like that<br/>
<font color="#16569E"><font size="2">(10:07:08 PM)</font> <b>magnetophon:</b></font> so your .git is not under git ;)<br/>
<font color="#16569E"><font size="2">(10:07:11 PM)</font> <b>magnetophon:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(10:07:11 PM)</font> <b>henrytill:</b></font> so they stay out of my dotfiles tree<br/>
<font color="#A82F2F"><font size="2">(10:07:31 PM)</font> <b>henrytill:</b></font> and i just run scripts to back them up<br/>
<font color="#16569E"><font size="2">(10:08:07 PM)</font> <b>magnetophon:</b></font> yeah that's another big thing on my todo list: a well rounded backup strategy...<br/>
<font color="#A82F2F"><font size="2">(10:08:14 PM)</font> <b>henrytill:</b></font> checkout obnam<br/>
<font color="#A82F2F"><font size="2">(10:08:22 PM)</font> <b>henrytill:</b></font> joeyh approved<br/>
<font color="#16569E"><font size="2">(10:08:57 PM)</font> <b>magnetophon:</b></font> as in: what get's backed up where, what do I need to have to get to my other backups (keys and such), etc.<br/>
<font color="#16569E"><font size="2">(10:09:33 PM)</font> <b>magnetophon:</b></font> I feel like I will fail somehow anyway, so I don't even try :(<br/>
<font color="#A82F2F"><font size="2">(10:10:11 PM)</font> <b>henrytill:</b></font> yeah i have mirrors of disks locally but i avoid encryption where i can<br/>
<font color="#16569E"><font size="2">(10:10:15 PM)</font> <b>magnetophon:</b></font> obnam is in my config already (because of joeyh :)   )  so I don't forget it.<br/>
<font color="#A82F2F"><font size="2">(10:10:22 PM)</font> <b>henrytill:</b></font> there we go!<br/>
<font color="#A82F2F"><font size="2">(10:11:23 PM)</font> <b>henrytill:</b></font> i basically just encrypt passwords, serial numbers, and financial documents<br/>
<font color="#16569E"><font size="2">(10:11:45 PM)</font> <b>magnetophon:</b></font> and how do you backup the keys?<br/>
<font color="#A82F2F"><font size="2">(10:12:13 PM)</font> <b>henrytill:</b></font> printed copies and symmetrically encrypted tarballs<br/>
<font color="#16569E"><font size="2">(10:12:14 PM)</font> <b>magnetophon:</b></font> I feel like I need to find a solution to that before I start seriously encrypting stuff<br/>
<font color="#062585"><font size="2">(10:12:48 PM)</font> <b>***magnetophon</b></font> googles symmetrically encrypted tarballs<br/>
<font color="#A82F2F"><font size="2">(10:13:06 PM)</font> <b>henrytill:</b></font> symmetric is basically just password-protected<br/>
<font color="#A82F2F"><font size="2">(10:13:13 PM)</font> <b>henrytill:</b></font> no keypiar<br/>
<font color="#A82F2F"><font size="2">(10:13:17 PM)</font> <b>henrytill:</b></font> keypair*<br/>
<font color="#16569E"><font size="2">(10:13:40 PM)</font> <b>magnetophon:</b></font> printed copies, now there's an idea that I've seen before, but forgot. very comforting idea, I must say! Thanks!<br/>
<font color="#A82F2F"><font size="2">(10:13:59 PM)</font> <b>henrytill:</b></font> the gnupg guide basically tells you to do that<br/>
<font color="#A82F2F"><font size="2">(10:14:35 PM)</font> <b>henrytill:</b></font> i can&apos;t imagine ever typing in a 4096-bit key by hand though<br/>
<font color="#16569E"><font size="2">(10:15:09 PM)</font> <b>magnetophon:</b></font> when you need to, you gladly will!<br/>
<font color="#A82F2F"><font size="2">(10:15:19 PM)</font> <b>henrytill:</b></font> hopefully that day never comes<br/>
<font color="#062585"><font size="2">(10:15:22 PM)</font> <b>***henrytill</b></font> knocks on wood<br/>
<font color="#A82F2F"><font size="2">(10:16:08 PM)</font> <b>henrytill:</b></font> briefcase looks cool<br/>
<font color="#A82F2F"><font size="2">(10:16:19 PM)</font> <b>henrytill:</b></font> but i like stow<br/>
<font color="#16569E"><font size="2">(10:16:21 PM)</font> <b>magnetophon:</b></font> it is<br/>
<font color="#A82F2F"><font size="2">(10:16:30 PM)</font> <b>henrytill:</b></font> stow is just deadly simple<br/>
<font color="#A82F2F"><font size="2">(10:16:55 PM)</font> <b>henrytill:</b></font> also clearly part of the conceptual extended family of nixos<br/>
<font color="#16569E"><font size="2">(10:17:33 PM)</font> <b>magnetophon:</b></font> yeah, that's why I've been going back and forth between those 3 options (simple vs good vs perfect/overdone)<br/>
<font color="#A82F2F"><font size="2">(10:17:47 PM)</font> <b>henrytill:</b></font> afk, gonna go brew a cup of coffee<br/>
<font color="#16569E"><font size="2">(10:18:07 PM)</font> <b>magnetophon:</b></font> enjoy. I need to do some work actually... later1<br/>
<font color="#16569E"><font size="2">(10:18:20 PM)</font> <b>magnetophon:</b></font> s/1/!/<br/>
<font color="#16569E"><font size="2">(02:29:08 AM)</font> <b>magnetophon:</b></font> reading the obnam manual: lol! I already like it, after having read just the intro.<br/>
<font color="#16569E"><font size="2">(02:36:33 AM)</font> <b>magnetophon:</b></font> what's the nixos equivalent of gpg-agent?<br/>
