<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 18 Dec 2014 10:17:25 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 18 Dec 2014 10:17:25 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(10:17:26 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(10:17:26 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(10:17:27 PM)</font> <b>ambro718:</b></font> no, I want the nice VBox features (the GUI, the graphics acceleration)<br/>
<font color="#A82F2F"><font size="2">(10:17:58 PM)</font> <b>ambro718:</b></font> all the host/guest integration magic :)<br/>
<font size="2">(10:23:52 PM)</font><b> devhell [<em>~dev@149.190.90.146.dyn.plus.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:27:20 PM)</font> <b>pierron:</b></font> wmertens: Now, the script is way better, and I&apos;ve updated the documentation as well ;)<br/>
<font size="2">(10:27:54 PM)</font><b> silver left the room (quit: Read error: Connection reset by peer).</b><br/>
<font color="#A82F2F"><font size="2">(10:27:56 PM)</font> <b>iElectric:</b></font> aszlig: hardening works :)<br/>
<font color="#A82F2F"><font size="2">(10:28:15 PM)</font> <b>aszlig:</b></font> iElectric: great, thanks<br/>
<font color="#A82F2F"><font size="2">(10:28:44 PM)</font> <b>wmertens:</b></font> pierron: err what&apos;s the url again?<br/>
<font color="#A82F2F"><font size="2">(10:28:49 PM)</font> <b>pierron:</b></font> Just a simple question, should I merged my own pull request as soon as nobody complains?<br/>
<font color="#A82F2F"><font size="2">(10:28:59 PM)</font> <b>pierron:</b></font> wmertens: https://github.com/NixOS/nixpkgs/pull/5362<br/>
<font color="#A82F2F"><font size="2">(10:31:08 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] shlevy opened pull request #5392: Change occurrences of gcc to the more general cc (master...gccpatch) http://git.io/NoeKZg<br/>
<font color="#A82F2F"><font size="2">(10:31:11 PM)</font> <b>goibhniu:</b></font> hi wmertens: the google calendar invitation complains that it was sent to nix-dev@lists.science.uu.nl rather than me, so I can&apos;t say I&apos;ll attend ... but I will! ... lemme know if I&apos;m just doing it wrong<br/>
<font size="2">(10:31:37 PM)</font><b> lucidd_ left the room (quit: Ping timeout: 255 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:31:45 PM)</font> <b>wmertens:</b></font> goibhniu: first time I did it this way, sorry :) I made it public and everything, so I thought it would work...<br/>
<font color="#A82F2F"><font size="2">(10:31:59 PM)</font> <b>wmertens:</b></font> hopefully the hangout will work<br/>
<font color="#062585"><font size="2">(10:32:14 PM)</font> <b>***pierron</b></font> has no plugin in Firefox<br/>
<font color="#A82F2F"><font size="2">(10:32:45 PM)</font> <b>wmertens:</b></font> pierron: &quot;: ${NIXOS_CHANNELS:=https://nixos.org/channels/}&quot;, that&apos;s uhm... unorthodox... is that POSIX? can&apos;t you write it in a more ... expected ... way?<br/>
<font color="#A82F2F"><font size="2">(10:33:03 PM)</font> <b>goibhniu:</b></font> wmertens: ah cool, I&apos;m sure we&apos;ll figure it out ... we&apos;ll be in trouble if more than 8 people want to join though<br/>
<font color="#A82F2F"><font size="2">(10:33:03 PM)</font> <b>pierron:</b></font> wmertens: in worked in all my script so far.<br/>
<font color="#A82F2F"><font size="2">(10:33:45 PM)</font> <b>pierron:</b></font> wmertens: I never had issues with this notation.<br/>
<font size="2">(10:33:45 PM)</font><b> elifrey left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:33:50 PM)</font> <b>wmertens:</b></font> pierron: sure, it&apos;s just that I never consciously saw this pattern in 14 years of bash scripting :)<br/>
<font color="#A82F2F"><font size="2">(10:34:09 PM)</font> <b>pierron:</b></font> wmertens: 14 years, that&apos;s means it is supported?<br/>
<font color="#A82F2F"><font size="2">(10:34:20 PM)</font> <b>pierron:</b></font> s/&apos;s//<br/>
<font color="#A82F2F"><font size="2">(10:34:23 PM)</font> <b>goibhniu:</b></font> ... we could use mumble instead, if that happens<br/>
<font size="2">(10:34:29 PM)</font><b> RchrdB left the room (quit: Quit: WeeChat 1.0.1).</b><br/>
<font color="#A82F2F"><font size="2">(10:34:44 PM)</font> <b>wmertens:</b></font> goibhniu: cool, is that in the tree? :)<br/>
<font size="2">(10:34:45 PM)</font><b> ChongLi [<em>~chongli@24-246-31-178.cable.teksavvy.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:34:50 PM)</font> <b>ChongLi:</b></font> hello<br/>
<font color="#A82F2F"><font size="2">(10:34:51 PM)</font> <b>wmertens:</b></font> pierron: I mean me<br/>
<font color="#A82F2F"><font size="2">(10:35:00 PM)</font> <b>ChongLi:</b></font> this place seems to have grown a little bit<br/>
<font color="#A82F2F"><font size="2">(10:35:11 PM)</font> <b>goibhniu:</b></font> wmertens: sure, and it shouldn&apos;t be difficult to find a server either<br/>
<font size="2">(10:35:30 PM)</font><b> RchrdB [<em>~RichardB@approximately.understood.systems</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:35:45 PM)</font> <b>goibhniu:</b></font> hi ChongLi, yeah, it&apos;s grown a lot in the last year or so!<br/>
<font color="#A82F2F"><font size="2">(10:36:05 PM)</font> <b>ChongLi:</b></font> goibhniu: I&apos;m taking another try with nixos<br/>
<font color="#A82F2F"><font size="2">(10:36:23 PM)</font> <b>wmertens:</b></font> pierron: well it&apos;s definitely POSIX, I just never used it/noticed it being used. nevermind :)<br/>
<font color="#A82F2F"><font size="2">(10:36:32 PM)</font> <b>ChongLi:</b></font> unfortunately I&apos;ve forgotten how some of this stuff works :(<br/>
<font color="#A82F2F"><font size="2">(10:36:36 PM)</font> <b>pierron:</b></font> wmertens: this is a combination of the &quot;:&quot; as expression, which is well supported, and the ${:=}  to set default values, which should be supported as well.<br/>
<font color="#A82F2F"><font size="2">(10:36:37 PM)</font> <b>goibhniu:</b></font> ChongLi: there will be a release very soon, lots of nice new things<br/>
<font color="#A82F2F"><font size="2">(10:36:48 PM)</font> <b>wmertens:</b></font> pierron: yup makes sense now<br/>
<font color="#A82F2F"><font size="2">(10:37:00 PM)</font> <b>ChongLi:</b></font> goibhniu: you mean after 14.12?<br/>
<font color="#A82F2F"><font size="2">(10:37:08 PM)</font> <b>ChongLi:</b></font> I am currently on 14.04<br/>
<font color="#A82F2F"><font size="2">(10:37:19 PM)</font> <b>goibhniu:</b></font> ah no, 14.12 will be the release<br/>
<font color="#A82F2F"><font size="2">(10:37:31 PM)</font> <b>goibhniu:</b></font> ah, you&apos;re already on 14.04, good!<br/>
<font color="#A82F2F"><font size="2">(10:37:32 PM)</font> <b>aszlig:</b></font> okay, i&apos;ll merge the hardening patches to release-14.12, any objections?<br/>
<font color="#A82F2F"><font size="2">(10:37:36 PM)</font> <b>ChongLi:</b></font> how do I try out 14.12 now?<br/>
<font color="#A82F2F"><font size="2">(10:38:08 PM)</font> <b>pierron:</b></font> wmertens: and now the script is a bit more verbose about the branches that it is adding to the repository.<br/>
<font color="#A82F2F"><font size="2">(10:38:24 PM)</font> <b>goibhniu:</b></font> ChongLi: nix-channel --add http://nixos.org/channels/nixos-14.12 nixos<br/>
<font color="#A82F2F"><font size="2">(10:38:33 PM)</font> <b>ChongLi:</b></font> goibhniu: thank you<br/>
<font size="2">(10:38:45 PM)</font><b> elifrey [<em>~elifrey@2601:8:9f00:3b:69d8:53b1:7611:d7a2</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:38:45 PM)</font> <b>goibhniu:</b></font> then `nixos-rebuild switch --upgrade`<br/>
<font color="#A82F2F"><font size="2">(10:39:00 PM)</font> <b>goibhniu:</b></font> ChongLi: my pleasure<br/>
<font color="#A82F2F"><font size="2">(10:39:17 PM)</font> <b>ChongLi:</b></font> goibhniu: so far I&apos;ve got almost everything working quite well<br/>
<font color="#A82F2F"><font size="2">(10:39:29 PM)</font> <b>ChongLi:</b></font> xmonad, firefox, wine (with steam), mumble, pidgin<br/>
<font color="#A82F2F"><font size="2">(10:39:35 PM)</font> <b>ChongLi:</b></font> all the things I normally use<br/>
<font color="#A82F2F"><font size="2">(10:39:46 PM)</font> <b>wmertens:</b></font> pierron: nice! just wondering about the absolute path in the manual...<br/>
<font color="#A82F2F"><font size="2">(10:39:48 PM)</font> <b>ChongLi:</b></font> I am using zfs too!<br/>
<font color="#A82F2F"><font size="2">(10:39:55 PM)</font> <b>goibhniu:</b></font> ChongLi: excellent :)<br/>
<font color="#A82F2F"><font size="2">(10:40:02 PM)</font> <b>ChongLi:</b></font> uh oh<br/>
<font color="#A82F2F"><font size="2">(10:40:08 PM)</font> <b>ChongLi:</b></font> boot.spl has been deleted?<br/>
<font color="#A82F2F"><font size="2">(10:40:11 PM)</font> <b>wmertens:</b></font> aszlig: harden away!<br/>
<font color="#A82F2F"><font size="2">(10:40:26 PM)</font> <b>pierron:</b></font> wmertens: I guess we can remove it.<br/>
<font color="#A82F2F"><font size="2">(10:40:45 PM)</font> <b>pierron:</b></font> wmertens: but then it would be better to have a cd /my/source/nixpkgs<br/>
<font color="#A82F2F"><font size="2">(10:41:01 PM)</font> <b>wmertens:</b></font> but git checkout won&apos;t work without it?<br/>
<font color="#A82F2F"><font size="2">(10:41:16 PM)</font> <b>wmertens:</b></font> oh if you&apos;re in a subtree I see<br/>
<font color="#A82F2F"><font size="2">(10:41:21 PM)</font> <b>pierron:</b></font> wmertens: but git checkout will work deep within the repository<br/>
<font size="2">(10:41:49 PM)</font><b> elifrey left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:41:49 PM)</font> <b>wmertens:</b></font> isn&apos;t there a git trick to get the current subpath in the repo? :)<br/>
<font color="#A82F2F"><font size="2">(10:41:59 PM)</font> <b>pierron:</b></font> wmertens: there is ;)<br/>
<font color="#A82F2F"><font size="2">(10:42:31 PM)</font> <b>wmertens:</b></font> but yeah... I suppose the abs path can stay then<br/>
<font color="#A82F2F"><font size="2">(10:43:43 PM)</font> <b>wmertens:</b></font> pierron: I suppose if you don&apos;t hear complaints by tomorrow feel free to merge...<br/>
<font color="#A82F2F"><font size="2">(10:44:06 PM)</font> <b>ChongLi:</b></font> goibhniu: ahh, it seems to have been moved to config.networking.hostId<br/>
<font color="#A82F2F"><font size="2">(10:44:34 PM)</font> <b>goibhniu:</b></font> ChongLi: sorry, I&apos;ve no idea what boot.spl is :)<br/>
<font color="#A82F2F"><font size="2">(10:44:58 PM)</font> <b>ChongLi:</b></font> goibhniu: it&apos;s for setting the hostid that gets saved with a zfs zpool cache<br/>
<font size="2">(10:45:09 PM)</font><b> Takle [<em>~takle@188.228.85.218</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:45:23 PM)</font> <b>ChongLi:</b></font> so that zfs knows that a pool is being imported on the same machine that exported it<br/>
<font color="#A82F2F"><font size="2">(10:45:28 PM)</font> <b>wmertens:</b></font> ChongLi: you set the hostid from the configuration.nix now<br/>
<font color="#A82F2F"><font size="2">(10:45:35 PM)</font> <b>wmertens:</b></font> it gets put in stage1<br/>
<font size="2">(10:45:44 PM)</font><b> lucidd_ [<em>~lucid@HSI-KBW-078-042-152-111.hsi3.kabel-badenwuerttemberg.de</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:45:45 PM)</font> <b>ChongLi:</b></font> yeah I set it<br/>
<font size="2">(10:45:51 PM)</font><b> elifrey [<em>~elifrey@2601:8:9f00:3b:90e5:8ad4:f89f:faea</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:45:59 PM)</font> <b>wmertens:</b></font> ChongLi: but see https://github.com/wizeman/nixpkgs/commit/e9affb4274a4d72d6aa1fde9d34862dfd93173cc<br/>
<font size="2">(10:46:22 PM)</font><b> wmertens left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(10:46:58 PM)</font><b> wmertens [<em>~wmertens@89-67-218-35.dynamic.chello.pl</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:47:00 PM)</font> <b>wmertens:</b></font> err not that one<br/>
<font size="2">(10:47:03 PM)</font><b> tsenart [<em>~tsenart@95.90.235.216</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:47:05 PM)</font> <b>ChongLi:</b></font> wmertens: thank you<br/>
<font color="#A82F2F"><font size="2">(10:47:13 PM)</font> <b>ChongLi:</b></font> that one seems relevant to what I am doing<br/>
<font color="#A82F2F"><font size="2">(10:47:49 PM)</font> <b>wmertens:</b></font> ChongLi: this guy https://github.com/NixOS/nixpkgs/commit/e9affb4274a4d72d6aa1fde9d34862dfd93173cc#commitcomment-8996746<br/>
<font color="#A82F2F"><font size="2">(10:47:59 PM)</font> <b>wmertens:</b></font> the feature is under attack :-)<br/>
<font color="#A82F2F"><font size="2">(10:48:05 PM)</font> <b>ChongLi:</b></font> so does the 14.12 installation cd now include zfs by default?<br/>
<font size="2">(10:48:51 PM)</font><b> devoid left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(10:48:55 PM)</font> <b>wmertens:</b></font> ChongLi: yup<br/>
<font color="#A82F2F"><font size="2">(10:49:06 PM)</font> <b>ChongLi:</b></font> wmertens: that is great<br/>
<font color="#A82F2F"><font size="2">(10:49:25 PM)</font> <b>ChongLi:</b></font> ooh also I am getting an error with zfs-mount.service<br/>
<font color="#A82F2F"><font size="2">(10:49:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] aszlig pushed 7 new commits to release-14.12: http://git.io/mp6ErQ<br/>
<font color="#A82F2F"><font size="2">(10:49:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 90c6ae5 aszlig: virtualbox: Explicitly excempt src during install....<br/>
<font color="#A82F2F"><font size="2">(10:49:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 6c4d5f7 aszlig: virtualbox: Fix hardcoded /sbin/ifconfig path....<br/>
<font color="#A82F2F"><font size="2">(10:49:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 20d0224 aszlig: virtualbox: Allow to easily change the build type....<br/>
<font size="2">(10:49:56 PM)</font><b> _deepfire [<em>~chatzilla@80.92.100.69</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:50:27 PM)</font> <b>ChongLi:</b></font> it says cannot mount &apos;/&apos;: directory is not empty<br/>
<font color="#A82F2F"><font size="2">(10:50:45 PM)</font> <b>ChongLi:</b></font> isn&apos;t that weird?<br/>
<font color="#A82F2F"><font size="2">(10:51:08 PM)</font> <b>ChongLi:</b></font> all my zfs filesystems get mounted anyway though<br/>
<font color="#A82F2F"><font size="2">(10:51:21 PM)</font> <b>ChongLi:</b></font> so this service doesn&apos;t really do anything useful<br/>
<font size="2">(10:51:33 PM)</font><b> thawes [<em>~quassel@216-136-13-53.static.twtelecom.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:52:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wmertens pushed 1 new commit to master: http://git.io/X_161g<br/>
<font color="#A82F2F"><font size="2">(10:52:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5f7530a wmertens: zfs hostId: Instructions to derive from machine-id<br/>
<font color="#A82F2F"><font size="2">(10:53:50 PM)</font> <b>ChongLi:</b></font> yeah, my zfs root filesystem gets mounted in the initrd<br/>
<font size="2">(10:53:56 PM)</font><b> Takle left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font size="2">(10:53:58 PM)</font><b> shlevy left the room (quit: Quit: leaving).</b><br/>
<font color="#A82F2F"><font size="2">(10:55:53 PM)</font> <b>pierron:</b></font> wmertens: $(git rev-parse --show-toplevel)/maintainers/scripts/update-channel-branches.sh  , I don&apos;t think this is clear.<br/>
<font color="#A82F2F"><font size="2">(10:56:13 PM)</font> <b>wmertens:</b></font> nah ... leave it<br/>
<font size="2">(10:56:22 PM)</font><b> Takle [<em>~takle@2a00:fd00:fff1:5768:7dd7:57fc:e07c:d174</em>] entered the room.</b><br/>
<font size="2">(11:00:21 PM)</font><b> shlevy [<em>~shlevy@linode.shealevy.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:00:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] aszlig pushed 1 new commit to master: http://git.io/dCVtHw<br/>
<font color="#A82F2F"><font size="2">(11:00:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master efb2b27 aszlig: nixos: Add VBox hardening to 14.12 release notes....<br/>
<font size="2">(11:00:51 PM)</font><b> Takle_ [<em>~takle@2a00:fd00:fff1:5768:50e7:af0d:41e2:9fb2</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:01:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] aszlig pushed 1 new commit to release-14.12: http://git.io/rC4neQ<br/>
<font color="#A82F2F"><font size="2">(11:01:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 b414d9d aszlig: nixos: Add VBox hardening to 14.12 release notes....<br/>
<font size="2">(11:01:39 PM)</font><b> bjorkintosh [<em>~bjork@ip68-13-229-200.ok.ok.cox.net</em>] entered the room.</b><br/>
<font size="2">(11:02:09 PM)</font><b> Takle left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:03:24 PM)</font> <b>aszlig:</b></font> okay, now do i best reproduce #4370? just built a VM with KDE4 and it doesn&apos;t ask about whether i want to set *any* browser as default browser<br/>
<font color="#A82F2F"><font size="2">(11:04:08 PM)</font> <b>aszlig:</b></font> shouldn&apos;t this message appear on the first startup?<br/>
<font size="2">(11:05:57 PM)</font><b> moha_hunt left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font size="2">(11:28:10 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
