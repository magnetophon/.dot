<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Fri 16 Jan 2015 02:51:14 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Fri 16 Jan 2015 02:51:14 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(02:51:14 AM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(02:51:14 AM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(03:00:53 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wizeman pushed 1 new commit to master: http://git.io/ShZ3sg<br/>
<font color="#A82F2F"><font size="2">(03:01:39 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1f28bfa Ricardo M. Correia: grsecurity: Update stable and test patches...<br/>
<font color="#A82F2F"><font size="2">(03:47:06 AM)</font> <b>ewemoa:</b></font> MP2E: i found this last night: http://hydra.matejc.com/project/crosscompile<br/>
<font color="#A82F2F"><font size="2">(03:47:26 AM)</font> <b>iMatejC:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(03:47:42 AM)</font> <b>ewemoa:</b></font> iMatejC: is that working well?<br/>
<font color="#A82F2F"><font size="2">(03:48:06 AM)</font> <b>iMatejC:</b></font> that a matter of debate<br/>
<font color="#A82F2F"><font size="2">(03:48:22 AM)</font> <b>iMatejC:</b></font> that is*<br/>
<font color="#A82F2F"><font size="2">(03:48:39 AM)</font> <b>ewemoa:</b></font> looks much further than how far i got :)<br/>
<font color="#A82F2F"><font size="2">(03:49:11 AM)</font> <b>MP2E:</b></font> ooh neat! :&gt;<br/>
<font color="#A82F2F"><font size="2">(03:56:41 AM)</font> <b>iMatejC:</b></font> ewemoa: I am doing multiple stuff in there .. custom prefix and crosscompiling, the first is because you might use on user-level and for isolation, am I am rewriting to use proot, build pack is supposed to work already, but then there was my time limitation because other projects came first for me, but I have intention to finish it.. some day<br/>
<font color="#A82F2F"><font size="2">(03:58:46 AM)</font> <b>iMatejC:</b></font> please go with proot, because if not you will have to patch glibc like I did to change /etc/passwd to /my/prefix/etc/passwd and stuff like that<br/>
<font color="#A82F2F"><font size="2">(04:03:26 AM)</font> <b>iMatejC:</b></font> and in proot in kind of neccessary to use custom prefix because I am binding host&apos;s /nix/store inside proot and if you build inside proot you can not write to /nix/store .. but you can write to /my/prefix/nix/store, AND you do not have to patch glibc because /etc is where is supposed to be inside proot<br/>
<font color="#A82F2F"><font size="2">(04:04:26 AM)</font> <b>iMatejC:</b></font> ewemoa, MP2E: btw what are you doing? (so that I do not write a bunch of stuff that you do not need :P)<br/>
<font color="#A82F2F"><font size="2">(04:10:03 AM)</font> <b>ewemoa:</b></font> iMatejC: not much happening atm on my end, got nix compiled, but when trying to do anything from nixpkgs, gcc failed to build<br/>
<font color="#A82F2F"><font size="2">(04:10:54 AM)</font> <b>iMatejC:</b></font> what error?<br/>
<font color="#A82F2F"><font size="2">(04:11:50 AM)</font> <b>ewemoa:</b></font> need to dig it up -- had to do with libgcc iirc<br/>
<font color="#A82F2F"><font size="2">(04:12:55 AM)</font> <b>ewemoa:</b></font> ah no, libcpp, will paste in a moment<br/>
<font color="#A82F2F"><font size="2">(04:14:09 AM)</font> <b>ewemoa:</b></font> iMatejC: here&apos;s the tail end: https://pastee.org/ydjcr<br/>
<font color="#A82F2F"><font size="2">(04:16:58 AM)</font> <b>iMatejC:</b></font> ewemoa:<br/>
<font color="#A82F2F"><font size="2">(04:17:00 AM)</font> <b>iMatejC:</b></font> configure: error: C preprocessor &quot;/lib/cpp&quot; fails sanity check<br/>
<font color="#A82F2F"><font size="2">(04:17:02 AM)</font> <b>iMatejC:</b></font> See `config.log&apos; for more details.<br/>
<font color="#A82F2F"><font size="2">(04:17:33 AM)</font> <b>iMatejC:</b></font> well see the config.log file .. it should be inside /tmp/nix-build-gcc-4.8.3.drv-0/<br/>
<font color="#A82F2F"><font size="2">(04:17:47 AM)</font> <b>iMatejC:</b></font> use nix-env ... whatever ... -K<br/>
<font color="#A82F2F"><font size="2">(04:18:16 AM)</font> <b>iMatejC:</b></font> -K is for keeping directory after failed build<br/>
<font color="#A82F2F"><font size="2">(04:18:35 AM)</font> <b>ryantrinkle:</b></font> how would i go about getting rid of a fontconfig file that&apos;s being created by fontconfig-ultimate?<br/>
<font color="#A82F2F"><font size="2">(04:18:36 AM)</font> <b>ryantrinkle:</b></font> it&apos;s causing this error: Fontconfig error: &quot;/nix/store/y6sibqy2c9skmivxs4sz4p4zrjgpflbv-fontconfig-ultimate-20141123/etc/fonts/conf.d/10-scale-bitmap-fonts.conf&quot;, line 70: non-double matrix element<br/>
<font color="#A82F2F"><font size="2">(04:18:37 AM)</font> <b>ewemoa:</b></font> iMatejC: yes, i kept that too: https://pastee.org/bap99<br/>
<font color="#A82F2F"><font size="2">(04:18:43 AM)</font> <b>iMatejC:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(04:24:43 AM)</font> <b>iMatejC:</b></font> ewemoa: this looks like the first occurence of the error, I had simmilar but not the same ... I think I was missing some environment variable .....  xgcc: error: unrecognized command line option &apos;-V&apos;<br/>
<font color="#A82F2F"><font size="2">(04:25:04 AM)</font> <b>iMatejC:</b></font> ewemoa: look in the configure:3347<br/>
<font color="#A82F2F"><font size="2">(04:25:26 AM)</font> <b>iMatejC:</b></font> and see what is before -V<br/>
<font color="#A82F2F"><font size="2">(04:28:07 AM)</font> <b>ewemoa:</b></font> iMatejC: i&apos;m afraid it will take me a while -- thanks for the tip in any case<br/>
<font color="#A82F2F"><font size="2">(04:28:19 AM)</font> <b>iMatejC:</b></font> np<br/>
<font color="#A82F2F"><font size="2">(04:33:22 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nix] copumpkin opened pull request #444: Make inputs writeable in the darwin sandbox (builds still canâ€™t actually write due to user permissions) (master...darwin-sandbox) http://git.io/_KHiKQ<br/>
<font color="#A82F2F"><font size="2">(04:49:51 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] copumpkin opened pull request #5799: Turn nixUnstable back on (master...reinstate-nix-unstable) http://git.io/ZtwDVg<br/>
<font color="#A82F2F"><font size="2">(04:50:29 AM)</font> <b>copumpkin:</b></font> can someone eyeball that PR I just made? I&apos;m still wary of pushing directly to the repo<br/>
<font color="#A82F2F"><font size="2">(04:50:37 AM)</font> <b>copumpkin:</b></font> if it looks reasonable, I&apos;ll press merge<br/>
<font color="#A82F2F"><font size="2">(04:59:27 AM)</font> <b>MP2E:</b></font> looks good to me, other than Travis failing. Strange build failure though<br/>
<font color="#A82F2F"><font size="2">(04:59:33 AM)</font> <b>MP2E:</b></font> &apos;g++: internal compiler error: Killed (program cc1plus)&apos;<br/>
<font color="#A82F2F"><font size="2">(04:59:37 AM)</font> <b>MP2E:</b></font> looking for some other sign of why..<br/>
<font color="#A82F2F"><font size="2">(04:59:52 AM)</font> <b>copumpkin:</b></font> could just be travis killing something that takes too long?<br/>
<font color="#A82F2F"><font size="2">(05:01:38 AM)</font> <b>MP2E:</b></font> hmm perhaps, i don&apos;t see any info on it though, when I looked up build timeouts on Travis it says that builds are killed when they take more than 10 minutes with no console output<br/>
<font color="#A82F2F"><font size="2">(05:01:45 AM)</font> <b>MP2E:</b></font> that shouldn&apos;t be the case here though<br/>
<font color="#A82F2F"><font size="2">(05:01:48 AM)</font> <b>copumpkin:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(05:01:51 AM)</font> <b>copumpkin:</b></font> weird<br/>
<font color="#A82F2F"><font size="2">(05:01:58 AM)</font> <b>copumpkin:</b></font> but that travis integration seems kind of unreliable in general<br/>
<font color="#A82F2F"><font size="2">(05:02:36 AM)</font> <b>MP2E:</b></font> yeah, i&apos;ll try locally<br/>
<font color="#A82F2F"><font size="2">(05:02:42 AM)</font> <b>copumpkin:</b></font> thanks!<br/>
<font color="#A82F2F"><font size="2">(05:02:49 AM)</font> <b>copumpkin:</b></font> I was able to do it on my super experimental darwin branch<br/>
<font color="#A82F2F"><font size="2">(05:02:57 AM)</font> <b>copumpkin:</b></font> but haven&apos;t tried on master, because master sucks on darwin<br/>
<font color="#A82F2F"><font size="2">(05:16:39 AM)</font> <b>MP2E:</b></font> makes sense copumpkin<br/>
<font color="#A82F2F"><font size="2">(05:16:43 AM)</font> <b>MP2E:</b></font> sorry for the delay, built just fine on my end<br/>
<font color="#A82F2F"><font size="2">(05:16:49 AM)</font> <b>MP2E:</b></font> i also tested out nix-env a bit and a few other commands<br/>
<font color="#A82F2F"><font size="2">(05:16:53 AM)</font> <b>MP2E:</b></font> everything seems to be in order<br/>
<font color="#A82F2F"><font size="2">(05:18:11 AM)</font> <b>copumpkin:</b></font> cool<br/>
<font color="#A82F2F"><font size="2">(05:18:12 AM)</font> <b>copumpkin:</b></font> thanks<br/>
<font color="#A82F2F"><font size="2">(05:18:22 AM)</font> <b>copumpkin:</b></font> I&apos;ll press the magic button<br/>
<font color="#A82F2F"><font size="2">(05:18:43 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] copumpkin closed pull request #5799: Turn nixUnstable back on (master...reinstate-nix-unstable) http://git.io/ZtwDVg<br/>
<font size="2">(05:40:32 AM)</font><b> MichaelRaskin left the room (quit: Quit: MichaelRaskin).</b><br/>
<font color="#A82F2F"><font size="2">(05:41:06 AM)</font> <b>bitemyapp:</b></font> so how do I customize xmonad?<br/>
<font color="#A82F2F"><font size="2">(05:41:11 AM)</font> <b>bitemyapp:</b></font> I have an xmonad.hs I&apos;d like to use.<br/>
<font color="#A82F2F"><font size="2">(05:47:26 AM)</font> <b>bitemyapp:</b></font> hrm, n/m, just workd.<br/>
<font color="#A82F2F"><font size="2">(05:53:39 AM)</font> <b>Digit:</b></font> xmonad.org (is excellent), copy, paste, tweak, --recompile, --restart, repeat as necessary.<br/>
<font color="#A82F2F"><font size="2">(06:07:06 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] MP2E opened pull request #5800: Add haskellngPackages.cabal2nix missing dependencies (master...cabal2nix_dep_fix) http://git.io/QTN7PQ<br/>
<font color="#A82F2F"><font size="2">(06:16:42 AM)</font> <b>bitemyapp:</b></font> Digit: no, I have an xmonad.hs<br/>
<font color="#A82F2F"><font size="2">(06:16:48 AM)</font> <b>bitemyapp:</b></font> Digit: I just didn&apos;t think it would work.<br/>
<font color="#A82F2F"><font size="2">(06:16:56 AM)</font> <b>bitemyapp:</b></font> new problem is, all graphical environments now crash on start.<br/>
<font color="#A82F2F"><font size="2">(06:17:06 AM)</font> <b>bitemyapp:</b></font> KDE4, xmonad, mixes thereof. All of it.<br/>
<font size="2">(06:18:02 AM)</font><b> brucem_ is now known as brucem</b><br/>
<font color="#A82F2F"><font size="2">(06:18:18 AM)</font> <b>copumpkin:</b></font> bitemyapp: seems a tad problematic<br/>
<font color="#A82F2F"><font size="2">(06:18:24 AM)</font> <b>copumpkin:</b></font> err, sorry, this is IRC<br/>
<font color="#A82F2F"><font size="2">(06:18:28 AM)</font> <b>copumpkin:</b></font> bitemyapp: quit moaning<br/>
<font color="#A82F2F"><font size="2">(06:19:01 AM)</font> <b>copumpkin:</b></font> bitemyapp: but more seriously, I think most nix users are asleep right now :(<br/>
<font color="#A82F2F"><font size="2">(06:22:14 AM)</font> <b>bitemyapp:</b></font> copumpkin: feel better now?<br/>
<font color="#A82F2F"><font size="2">(06:23:42 AM)</font> <b>copumpkin:</b></font> not really<br/>
<font color="#062585"><font size="2">(06:23:53 AM)</font> <b>***Digit</b></font> should be asleep, couldnt let unsolved mysteries rest<br/>
<font color="#A82F2F"><font size="2">(06:35:13 AM)</font> <b>copumpkin:</b></font> anyone awake with commit access to nix proper?<br/>
<font color="#A82F2F"><font size="2">(06:35:53 AM)</font> <b>johnw:</b></font> I don&apos;t think I have that<br/>
<font color="#A82F2F"><font size="2">(06:36:31 AM)</font> <b>bitemyapp:</b></font> johnw: are you using NixOS? Have you ever had KDE/et al. crash on you?<br/>
<font color="#A82F2F"><font size="2">(06:36:39 AM)</font> <b>bitemyapp:</b></font> I&apos;m thrashing my configuration.nix and getting nowhere.<br/>
<font size="2">(06:38:25 AM)</font><b> MichaelRaskin [<em>~MichaelRa@80.250.226.156</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:42:59 AM)</font> <b>johnw:</b></font> i use NixOS on a headless server only<br/>
<font color="#A82F2F"><font size="2">(06:43:37 AM)</font> <b>bitemyapp:</b></font> I don&apos;t have much hope of figuring this out.<br/>
<font color="#A82F2F"><font size="2">(06:43:55 AM)</font> <b>bitemyapp:</b></font> I&apos;ll wait and see if anybody knows what&apos;s going on tomorrow, if that fails, back to Ubuntu + Xmonad.<br/>
<font color="#A82F2F"><font size="2">(06:45:17 AM)</font> <b>johnw:</b></font> can you gdb me a backtrace?<br/>
<font color="#A82F2F"><font size="2">(06:45:45 AM)</font> <b>bitemyapp:</b></font> of which?<br/>
<font color="#A82F2F"><font size="2">(06:45:54 AM)</font> <b>bitemyapp:</b></font> KDE4, xmonad, etc. all fail<br/>
<font color="#A82F2F"><font size="2">(06:46:09 AM)</font> <b>bitemyapp:</b></font> I can&apos;t tell from the X logs what happened or who crashed.<br/>
<font color="#A82F2F"><font size="2">(06:47:00 AM)</font> <b>bitemyapp:</b></font> at least, not the /var/log/X.0.log<br/>
<font size="2">(06:47:50 AM)</font><b> Guest36927 is now known as mojo</b><br/>
<font color="#A82F2F"><font size="2">(06:49:12 AM)</font> <b>johnw:</b></font> enable core files<br/>
<font color="#A82F2F"><font size="2">(06:49:15 AM)</font> <b>johnw:</b></font> they contain a backtrace<br/>
<font color="#A82F2F"><font size="2">(06:49:40 AM)</font> <b>bitemyapp:</b></font> how do I do that?<br/>
<font color="#A82F2F"><font size="2">(06:50:18 AM)</font> <b>johnw:</b></font> you know, I actually have no clue<br/>
<font color="#A82F2F"><font size="2">(06:50:22 AM)</font> <b>johnw:</b></font> i haven&apos;t used nixos enough<br/>
<font color="#A82F2F"><font size="2">(06:50:25 AM)</font> <b>johnw:</b></font> sorry :(<br/>
<font color="#A82F2F"><font size="2">(06:50:47 AM)</font> <b>johnw:</b></font> I wonder if a driver is crashing<br/>
<font color="#A82F2F"><font size="2">(06:50:54 AM)</font> <b>johnw:</b></font> do you lose the whole machine and have to reboto?<br/>
<font color="#A82F2F"><font size="2">(06:50:55 AM)</font> <b>MP2E:</b></font> that&apos;s what it sounds like to me<br/>
<font color="#A82F2F"><font size="2">(06:50:57 AM)</font> <b>johnw:</b></font> or just startx just crash<br/>
<font color="#A82F2F"><font size="2">(06:51:00 AM)</font> <b>MP2E:</b></font> brb<br/>
<font size="2">(06:51:01 AM)</font><b> MP2E left the room (quit: Quit: brb).</b><br/>
<font color="#A82F2F"><font size="2">(06:51:26 AM)</font> <b>bitemyapp:</b></font> johnw: just start of the GUI<br/>
<font color="#A82F2F"><font size="2">(06:51:33 AM)</font> <b>bitemyapp:</b></font> johnw: kdm works, no WM/DE starts do.<br/>
<font size="2">(06:52:03 AM)</font><b> MP2E [<em>~cray@ip70-170-88-148.lv.lv.cox.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:55:34 AM)</font> <b>bitemyapp:</b></font> hrm, something dbus related maybe?<br/>
<font color="#A82F2F"><font size="2">(06:55:51 AM)</font> <b>johnw:</b></font> i know nothing about dbus<br/>
<font color="#A82F2F"><font size="2">(07:01:50 AM)</font> <b>bitemyapp:</b></font> stuff is still broken, but it wanted dbus to be running.<br/>
<font color="#A82F2F"><font size="2">(07:04:36 AM)</font> <b>bitemyapp:</b></font> hrm. yeah. wow.<br/>
<font color="#A82F2F"><font size="2">(07:04:52 AM)</font> <b>bitemyapp:</b></font> restarting dbus changed behavior a little before...but after a reboot it&apos;s back to immediately dying.<br/>
<font color="#A82F2F"><font size="2">(07:05:18 AM)</font> <b>bitemyapp:</b></font> same error, no dbus session found<br/>
<font color="#A82F2F"><font size="2">(07:11:42 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] k0001 opened pull request #5801: Add package xbrightness (master...add-pkg-xbrightness) http://git.io/LGdtUg<br/>
<font color="#A82F2F"><font size="2">(07:21:38 AM)</font> <b>mbuf:</b></font> I am running NixOS 14.12 on VM and have changed the VirtualBox image, and need to resize the filesystem; how do I boot NixOS to rescue mode so that /dev/sda1 is not mounted and I can run e2fsck on it?<br/>
<font color="#A82F2F"><font size="2">(07:21:44 AM)</font> <b>mbuf:</b></font> or is there a better way to do it?<br/>
<font color="#A82F2F"><font size="2">(07:22:25 AM)</font> <b>MP2E:</b></font> bitemyapp: don&apos;t know if this will help you but my .xsession has this line &apos;exec dbus-launch --auto-syntax --exit-with-session xmonad<br/>
<font color="#A82F2F"><font size="2">(07:22:28 AM)</font> <b>MP2E:</b></font> &apos;<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>bitemyapp:</b></font> MP2E: worth a shot, though it does say dbus is running<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>bitemyapp:</b></font> MP2E: and KDE is crashing too<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> hm<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>bitemyapp:</b></font> both with the same dbus session error<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> might be one for the mailing lists or an issue on github (this is starting to seem like a bug)<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> I&apos;m having a bit of dbus weirdness too but xmonad does eventually work<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> every time I try to log in for the first time, from fresh boot, it says &apos;the login command could not be executed&apos;<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> but when slim refreshes, it works again<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> pretty sure it&apos;s a dbus thing :V<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> https://github.com/MP2E/nix-projects/blob/master/nixos-config/configuration.nix in case there are any differences from my configuration.nix to yours<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> well, with xmonad anyway<br/>
<font color="#A82F2F"><font size="2">(07:23:48 AM)</font> <b>MP2E:</b></font> haven&apos;t tried kde<br/>
<font size="2">(07:46:29 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
