<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Mon 09 Mar 2015 04:00:16 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Mon 09 Mar 2015 04:00:16 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(04:00:16 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(04:00:16 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#16569E"><font size="2">(04:01:55 PM)</font> <b>magnetophon:</b></font> I don't think we have this license yet, do we? http://nixpaste.noip.me/zp56kIMF<br/>
<font color="#16569E"><font size="2">(04:02:08 PM)</font> <b>magnetophon:</b></font> how should I handle that?<br/>
<font color="#A82F2F"><font size="2">(04:02:36 PM)</font> <b>Fuuzetsu:</b></font> that looks like a pretty generic license, google part of the text we might have it<br/>
<font color="#A82F2F"><font size="2">(04:02:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] sjagoe closed pull request #6701: Rewrite RPATH of Vagrant-bundled nokogiri.so to reference $out/opt/vagrant/embedded/lib (master...correct-rpath-for-vagrant-nokogiri) http://git.io/ptgh<br/>
<font color="#A82F2F"><font size="2">(04:03:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/pn24<br/>
<font color="#A82F2F"><font size="2">(04:03:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 97feb65 Peter Simons: pcsctools: fix evaluation<br/>
<font color="#A82F2F"><font size="2">(04:03:30 PM)</font> <b>Fuuzetsu:</b></font> http://www.tcl.tk/software/tcltk/license.html there you go<br/>
<font color="#A82F2F"><font size="2">(04:04:12 PM)</font> <b>Fuuzetsu:</b></font> lib.licenses.tcltk<br/>
<font color="#16569E"><font size="2">(04:07:01 PM)</font> <b>magnetophon:</b></font> Fuuzetsu: Thank you very muc!<br/>
<font color="#16569E"><font size="2">(04:07:04 PM)</font> <b>magnetophon:</b></font> h<br/>
<font color="#A82F2F"><font size="2">(04:17:17 PM)</font> <b>seanz:</b></font> Greetings, all. I was curious about the OS X platform. It seems like OS X solves the packaging issue by requiring all dependencies be included within the .app file. Does anyone here have experience with OS X packaging to speak to this?<br/>
<font color="#A82F2F"><font size="2">(04:21:47 PM)</font> <b>Fuuzetsu:</b></font> maybe in ##nix-darwin<br/>
<font color="#A82F2F"><font size="2">(04:24:16 PM)</font> <b>gridaphobe:</b></font> seanz: i believe that&apos;s true (for non-system libraries) but i&apos;ve never actually done any OSX development<br/>
<font color="#A82F2F"><font size="2">(04:36:24 PM)</font> <b>vitzli:</b></font> Hello, may I advertise open-source sofware project? It could be useful for the nix package manager one day.<br/>
<font color="#A82F2F"><font size="2">(04:37:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 2 new commits to master: http://git.io/pnQr<br/>
<font color="#A82F2F"><font size="2">(04:37:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3f7de17 Peter Simons: R: update to version 3.1.3<br/>
<font color="#A82F2F"><font size="2">(04:37:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a591dba Peter Simons: r-modules: update from CRAN state at 2015-03-09T16:32:24+0100<br/>
<font color="#A82F2F"><font size="2">(04:37:36 PM)</font> <b>jimstutt:</b></font> cabal2nix ./. &gt; default.nix; cabal2nix --shell &gt; shell.nix (which only seems to work with cabal2nix-2.0 and not 1.73) produces a shell.nix with in pkg.env at the end. I have to delete the .env to get it to start building. Is this expected?<br/>
<font color="#A82F2F"><font size="2">(04:38:13 PM)</font> <b>Fuuzetsu:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(04:38:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/pn7Y<br/>
<font color="#A82F2F"><font size="2">(04:38:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a05aa1a Peter Simons: haskell-ng: update to latest hscolour<br/>
<font color="#A82F2F"><font size="2">(04:38:32 PM)</font> <b>jimstutt:</b></font> Fuuzetsu: ain&apos;t it an issue?<br/>
<font size="2">(04:39:09 PM)</font><b> pmahoney left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(04:39:39 PM)</font><b> pmahoney [<em>~user@50.56.229.7</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(04:40:09 PM)</font> <b>m0rphism:</b></font> jimstutt: I have the same behaviour, except that the file works out of the box without removing the .env at the end<br/>
<font color="#A82F2F"><font size="2">(04:40:22 PM)</font> <b>Fuuzetsu:</b></font> not if you try to nix-build it ;)<br/>
<font color="#A82F2F"><font size="2">(04:40:29 PM)</font> <b>m0rphism:</b></font> ahh ;)<br/>
<font color="#A82F2F"><font size="2">(04:40:42 PM)</font> <b>Fuuzetsu:</b></font> one sec slightly busy<br/>
<font color="#A82F2F"><font size="2">(04:41:08 PM)</font> <b>jimstutt:</b></font> I still can&apos;t nix-channel --update. curl can&apos;t find nixos.org/channel/nixos-unstable/nixexprs.tar.bz2 and gives a cur (22) 404. Any suggestions?<br/>
<font color="#A82F2F"><font size="2">(04:41:38 PM)</font> <b>Lethalman:</b></font> jimstutt, the url is wrong<br/>
<font color="#A82F2F"><font size="2">(04:41:45 PM)</font> <b>Lethalman:</b></font> jimstutt, where did you copied that channel from?<br/>
<font color="#A82F2F"><font size="2">(04:41:48 PM)</font> <b>Lethalman:</b></font> *copy<br/>
<font color="#A82F2F"><font size="2">(04:41:55 PM)</font> <b>Lethalman:</b></font> it must be channels, not channel<br/>
<font color="#A82F2F"><font size="2">(04:43:00 PM)</font> <b>jimstutt:</b></font> Lethalman: nix-channel --list<br/>
<font color="#A82F2F"><font size="2">(04:43:14 PM)</font> <b>Lethalman:</b></font> jimstutt, you did a nix-channel --add some day I uess<br/>
<font color="#A82F2F"><font size="2">(04:43:15 PM)</font> <b>Fuuzetsu:</b></font> jimstutt: so --shell expectedly produces a file which can be directly used with simple nix-shell invocation so it&apos;s least surprise element<br/>
<font color="#A82F2F"><font size="2">(04:43:15 PM)</font> <b>Lethalman:</b></font> *guess<br/>
<font color="#A82F2F"><font size="2">(04:43:36 PM)</font> <b>Fuuzetsu:</b></font> at the same time I&apos;m sure you and me both would like to build it without hassle<br/>
<font color="#A82F2F"><font size="2">(04:43:54 PM)</font> <b>Fuuzetsu:</b></font> so there are two things we could do<br/>
<font color="#A82F2F"><font size="2">(04:44:00 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/pnFC<br/>
<font color="#A82F2F"><font size="2">(04:44:00 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e8b3387 Peter Simons: r-Cell: drop obsolete package<br/>
<font color="#A82F2F"><font size="2">(04:44:17 PM)</font> <b>Fuuzetsu:</b></font> 1. patch cabal2nix to not include .env and educate the users to call nix-shell -A env<br/>
<font color="#A82F2F"><font size="2">(04:44:18 PM)</font> <b>Fuuzetsu:</b></font> or<br/>
<font color="#A82F2F"><font size="2">(04:45:37 PM)</font> <b>Fuuzetsu:</b></font> 2. when the stock shell file doesn&apos;t cut it (due to env and whatnot), manually invoke the expression by passing something like -E &apos;(import &lt;nixpkgs&gt; {}).haskellngPackages.callPackage ./. {}&apos; or similar on the command line, effectivelly what we&apos;d be doing on fixed up shell.nix<br/>
<font color="#A82F2F"><font size="2">(04:45:46 PM)</font> <b>jimstutt:</b></font> Lethalman: duh, missed the s off channels in nix-channel --add. Didn&apos;t know it would accept a bogus path so tnx for the heads up.<br/>
<font color="#A82F2F"><font size="2">(04:45:58 PM)</font> <b>jimstutt:</b></font> Works now :)<br/>
<font color="#A82F2F"><font size="2">(04:45:59 PM)</font> <b>Fuuzetsu:</b></font> IMHO 1. is better but it&apos;s a bit surprising to the user that --shel won&apos;t produce a nice usable shell file…<br/>
<font color="#A82F2F"><font size="2">(04:48:35 PM)</font> <b>jimstutt:</b></font> I&apos;ve been invoking nix-shell shell.nix which I got from somebody above this morning.<br/>
<font color="#A82F2F"><font size="2">(04:49:07 PM)</font> <b>Fuuzetsu:</b></font> no need to specify shell.nix, it is the default<br/>
<font color="#A82F2F"><font size="2">(04:49:24 PM)</font> <b>Fuuzetsu:</b></font> I mainly just copy my shell.nix around and modify per-project<br/>
<font color="#A82F2F"><font size="2">(04:49:34 PM)</font> <b>m0rphism:</b></font> a third option might be to add a --build option, which generates a nix-expression compatible with nix-build, but this does seem a bit redundant to me ;)<br/>
<font color="#A82F2F"><font size="2">(04:50:00 PM)</font> <b>jimstutt:</b></font> Fuzetsu: wouldn&apos;t option 1 patch cabal2nix-2.X to just have &apos;in pkg&apos; and leave off the &apos;.env&apos;?<br/>
<font color="#A82F2F"><font size="2">(04:50:15 PM)</font> <b>Fuuzetsu:</b></font> but the problem with that option is that it doesn&apos;t generate a reasonable file, where do we put the result? shell.nix? Seems strange.<br/>
<font color="#A82F2F"><font size="2">(04:50:50 PM)</font> <b>Fuuzetsu:</b></font> jimstutt: not sure what you mean by ‘in pkg’ but yes it would just drop the .env<br/>
<font color="#A82F2F"><font size="2">(04:51:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 2 new commits to master: http://git.io/pnAa<br/>
<font color="#A82F2F"><font size="2">(04:51:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a574065 Eelco Dolstra: nixos-rebuild: Add ‘dry-activate’ command...<br/>
<font color="#A82F2F"><font size="2">(04:51:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 475df1a Eelco Dolstra: switch-to-configuration: Don&apos;t print already active target units...<br/>
<font color="#A82F2F"><font size="2">(04:51:56 PM)</font> <b>jimstutt:</b></font> &apos;in pkg.env&apos; is what I have to edit to &apos;in pkg&apos; in my shell.nix<br/>
<font color="#A82F2F"><font size="2">(04:52:13 PM)</font> <b>m0rphism:</b></font> If I understood the problem correctly, the file generated with --shell works for nix-shell but not for nix-build due to the .env postfix. My idea was, that in this case we could generate a third nix-expression build.nix which is used with nix-build. But I think your first option might be cleaner<br/>
<font color="#A82F2F"><font size="2">(04:52:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] gridaphobe pushed 1 new commit to master: http://git.io/pnAS<br/>
<font color="#A82F2F"><font size="2">(04:52:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8a970b0 Eric Seidel: emacs24PackagesNg: add recurseIntoAttrs to trigger hydra<br/>
<font color="#A82F2F"><font size="2">(04:52:26 PM)</font> <b>jimstutt:</b></font> why wouldn&apos;t such a shell.nix be directly usable?<br/>
<font color="#A82F2F"><font size="2">(04:53:38 PM)</font> <b>jimstutt:</b></font> m0rpheus: ah, just read your comment about the difference between nix-build and nix-shell.<br/>
<font color="#A82F2F"><font size="2">(04:54:08 PM)</font> <b>m0rphism:</b></font> it&apos;s m0rphism, but I feel flattered ;3<br/>
<font color="#A82F2F"><font size="2">(04:54:14 PM)</font> <b>Fuuzetsu:</b></font> because it doesn&apos;t drop you into the proper shell env<br/>
<font color="#A82F2F"><font size="2">(04:55:53 PM)</font> <b>jimstutt:</b></font> ha, now I know I&apos;m sleepy, apologies.<br/>
<font color="#A82F2F"><font size="2">(04:56:02 PM)</font> <b>m0rphism:</b></font> jimstutt: I think, I might be the one who communicated his current haskell setup this morning, I was logged in as fnord__ :)<br/>
<font color="#A82F2F"><font size="2">(04:57:50 PM)</font> <b>m0rphism:</b></font> jimstutt: no worries ;)<br/>
<font color="#A82F2F"><font size="2">(04:59:40 PM)</font> <b>jimstutt:</b></font> Fuzetsu: might this be why I&apos;ve got nix-env -q listing SVGFonts as installed but from an emacs-projectile src file cabal build cannot find it ie. is my env corrupt because of my shell.nix edit?<br/>
<font color="#A82F2F"><font size="2">(05:01:49 PM)</font> <b>Fuuzetsu:</b></font> no idea about your setup so can&apos;t tell but if you want to enter a nix-shell, you need to enter the env for it or some variables aren&apos;t set &amp;c<br/>
<font color="#A82F2F"><font size="2">(05:02:14 PM)</font> <b>seanz:</b></font> gridaphobe: Thanks for the perspective.<br/>
<font color="#A82F2F"><font size="2">(05:02:28 PM)</font> <b>Fuuzetsu:</b></font> also pretty much any IRC client can tab-complete names :)<br/>
<font color="#A82F2F"><font size="2">(05:04:11 PM)</font> <b>jimstutt:</b></font> Fuuzetsu: I have bergey&apos;s ~/.nixpkgs/config.nix and followed ocharles&apos;s blog post on using projectile C-c p c cabal-configure etc having invoked a nix-shell on the command line.<br/>
<font color="#A82F2F"><font size="2">(05:06:33 PM)</font> <b>jimstutt:</b></font> Fuzetsu: I thought that shell.nix &apos;entered an env&apos; so I don&apos;t know what &apos;enter&apos; means here?<br/>
<font color="#A82F2F"><font size="2">(05:08:57 PM)</font> <b>seanz:</b></font> So, the 32-bit support for NixOS is lacking, right? I wouldn&apos;t want to run NixOS on an older ThinkPad...?<br/>
<font color="#A82F2F"><font size="2">(05:09:23 PM)</font> <b>Lethalman:</b></font> seagreen, where do you read that?<br/>
<font color="#A82F2F"><font size="2">(05:09:56 PM)</font> <b>seanz:</b></font> Lethalman: Are you talking to me?<br/>
<font color="#A82F2F"><font size="2">(05:10:09 PM)</font> <b>Lethalman:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(05:10:35 PM)</font> <b>seanz:</b></font> I spoke with iElectric and a Google employee at the NixOS booth at SCaLE 13x this year. They said 32-bit support was shaky.<br/>
<font color="#A82F2F"><font size="2">(05:11:54 PM)</font> <b>Fuuzetsu:</b></font> jimstutt: nix-shell will simply take the expression you give it and put it in a shell environment with that expression in scope if you will<br/>
<font color="#A82F2F"><font size="2">(05:11:56 PM)</font> <b>seanz:</b></font> Lethalman: By the way, thank you muchly for the Nix pills! I&apos;m going through the fourth one currently.<br/>
<font color="#A82F2F"><font size="2">(05:11:59 PM)</font> <b>Fuuzetsu:</b></font> so if you tell it to do something dumb, it will ;)<br/>
<font color="#A82F2F"><font size="2">(05:12:03 PM)</font> <b>iElectric:</b></font> seanz: we said not many people run 32bit NixOS<br/>
<font color="#A82F2F"><font size="2">(05:12:05 PM)</font> <b>iElectric:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(05:12:09 PM)</font> <b>seanz:</b></font> iElectric: Touche.<br/>
<font color="#A82F2F"><font size="2">(05:12:37 PM)</font> <b>seanz:</b></font> That *could* translate to mostly untested, which would mean I may be troubleshooting things that I wouldn&apos;t be w/ a 64-bit version running.<br/>
<font color="#A82F2F"><font size="2">(05:12:39 PM)</font> <b>Lethalman:</b></font> seanz, this is a screenshot of gnome3 on i686 from hydra: http://hydra.nixos.org/build/20212389/download/1/screen.png<br/>
<font color="#A82F2F"><font size="2">(05:12:42 PM)</font> <b>Lethalman:</b></font> seems to work fine<br/>
<font color="#A82F2F"><font size="2">(05:12:52 PM)</font> <b>iElectric:</b></font> but it&apos;s supported and all<br/>
<font color="#A82F2F"><font size="2">(05:13:05 PM)</font> <b>seanz:</b></font> Lethalman: Does that hardware support PAE?<br/>
<font color="#A82F2F"><font size="2">(05:13:14 PM)</font> <b>Lethalman:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(05:13:21 PM)</font> <b>Lethalman:</b></font> oh uhm<br/>
<font color="#A82F2F"><font size="2">(05:13:24 PM)</font> <b>Lethalman:</b></font> no idea<br/>
<font color="#A82F2F"><font size="2">(05:13:50 PM)</font> <b>seanz:</b></font> I bring that up because it was an issue with my laptop and Debian. The PAE bit caused me to have to get a different kernel.<br/>
<font color="#A82F2F"><font size="2">(05:13:55 PM)</font> <b>Lethalman:</b></font> not even sure if our kernel has PAE<br/>
<font color="#A82F2F"><font size="2">(05:13:59 PM)</font> <b>seanz:</b></font> Not too difficult, but still something above and beyond the standard install.<br/>
<font color="#A82F2F"><font size="2">(05:14:06 PM)</font> <b>iElectric:</b></font> $ git grep PAE<br/>
<font color="#A82F2F"><font size="2">(05:14:08 PM)</font> <b>iElectric:</b></font> pkgs/os-specific/linux/kernel/common-config.nix:    HIGHMEM64G? y # We need 64 GB (PAE) support for Xen guest support.<br/>
<font color="#A82F2F"><font size="2">(05:14:10 PM)</font> <b>iElectric:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(05:14:25 PM)</font> <b>Lethalman:</b></font> ah yes I remember that one<br/>
<font color="#A82F2F"><font size="2">(05:14:52 PM)</font> <b>Lethalman:</b></font> seanz, that PAE bit is a problem for you I guess?<br/>
<font color="#A82F2F"><font size="2">(05:16:18 PM)</font> <b>seanz:</b></font> Lethalman: It was. I switched kernels and now it doesn&apos;t seem to. I&apos;m just trying to plan ahead and make sure I can run NixOS without issue.<br/>
<font color="#A82F2F"><font size="2">(05:16:40 PM)</font> <b>seanz:</b></font> Slowly switching to it across my machines - I rather love the declarative approach to system management.<br/>
<font color="#A82F2F"><font size="2">(05:19:42 PM)</font> <b>Fuuzetsu:</b></font> jimstutt: to clarify, when I say enter the env, I mean call the Haskell package derivation&apos;s ‘env’ attribute. If your shell.nix says (callPackage ./. {}).env then that happens, if it doesn&apos;t have the ‘.env’ then it does not<br/>
<font color="#A82F2F"><font size="2">(05:19:52 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] gridaphobe pushed 1 new commit to master: http://git.io/pcqx<br/>
<font color="#A82F2F"><font size="2">(05:19:52 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 19a6e3a Eric Seidel: emacs24PackagesNg: fix typos in &quot;license&quot;<br/>
<font color="#A82F2F"><font size="2">(05:24:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx pushed 1 new commit to master: http://git.io/pcOu<br/>
<font color="#A82F2F"><font size="2">(05:24:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 78ec379 Tobias Geerinckx-Rice: netsniff-ng: remove useless dependencies...<br/>
<font color="#A82F2F"><font size="2">(05:26:45 PM)</font> <b>Lethalman:</b></font> oh wow there&apos;s also an emacs24PackagesNg?<br/>
<font color="#A82F2F"><font size="2">(05:27:44 PM)</font> <b>gridaphobe:</b></font> Lethalman: yep, it&apos;s fairly recent. the main difference is that it builds package.el packages<br/>
<font color="#A82F2F"><font size="2">(05:34:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 1 new commit to master: http://git.io/pcnH<br/>
<font color="#A82F2F"><font size="2">(05:34:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8aec000 Pascal Wittmann: zim: fixed xdg path (closes #4786)<br/>
<font size="2">(05:36:31 PM)</font><b> boegel is now known as boegel|afk</b><br/>
<font color="#A82F2F"><font size="2">(05:41:51 PM)</font> <b>jimstutt:</b></font> I&apos;ve made my &apos;Salve Mundo&apos; project and nix-shell  -E &apos;(import<br/>
<font color="#A82F2F"><font size="2">(05:41:51 PM)</font> <b>jimstutt:</b></font>                  &lt;nixpkgs&gt;<br/>
<font color="#A82F2F"><font size="2">(05:41:51 PM)</font> <b>jimstutt:</b></font>                  {}).haskellngPackages.callPackage<br/>
<font color="#A82F2F"><font size="2">(05:41:51 PM)</font> <b>jimstutt:</b></font>                  ./. {}&apos; compiles fine.<br/>
<font color="#A82F2F"><font size="2">(05:43:30 PM)</font> <b>jimstutt:</b></font> the project also compiles fine if I remove the .env from let = ..() in pkg.env so I&apos;m ignorant of something basic.<br/>
<font color="#A82F2F"><font size="2">(05:43:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] gridaphobe pushed 1 new commit to master: http://git.io/pc8H<br/>
<font color="#A82F2F"><font size="2">(05:43:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1d92bdd Eric Seidel: help2man: more permissive meta.platforms<br/>
<font color="#A82F2F"><font size="2">(05:44:33 PM)</font> <b>gridaphobe:</b></font> shlevy, ikwildrpepper: is it always ok to merge master into staging?<br/>
<font color="#A82F2F"><font size="2">(05:46:54 PM)</font> <b>Fuuzetsu:</b></font> jimstutt: the shell you&apos;re dropped into is different than the one you would lget with .env<br/>
<font color="#A82F2F"><font size="2">(05:47:22 PM)</font> <b>Lethalman:</b></font> gridaphobe, no special problems in general<br/>
<font color="#A82F2F"><font size="2">(05:48:12 PM)</font> <b>jimstutt:</b></font> Fuzetsu: in the shell-nix environment I get the same list of packages with nix-env -q in both shells. How would I detect a legit haskell dev shell?<br/>
<font color="#A82F2F"><font size="2">(05:50:10 PM)</font> <b>Fuuzetsu:</b></font> probably the results of ‘typeset’ will differ<br/>
<font color="#A82F2F"><font size="2">(05:52:10 PM)</font> <b>seanz:</b></font> Fuuzetsu: ping<br/>
<font color="#A82F2F"><font size="2">(05:53:00 PM)</font> <b>Fuuzetsu:</b></font> seanz: hi<br/>
<font color="#A82F2F"><font size="2">(05:53:28 PM)</font> <b>seanz:</b></font> Fuuzetsu: Hey. I had a question about the povray package. I pinged you because you were the last to commit to it.<br/>
<font color="#A82F2F"><font size="2">(05:53:44 PM)</font> <b>Fuuzetsu:</b></font> I was? :)<br/>
<font color="#A82F2F"><font size="2">(05:53:45 PM)</font> <b>jimstutt:</b></font> Fuzetsu: m0rphism: Lethalman: thanks for the helpful suggestions. Sadly I have to go to a friend&apos;s wake now so I&apos;ll ask again tomorrow, bfn.<br/>
<font color="#A82F2F"><font size="2">(05:54:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 1 new commit to master: http://git.io/pcud<br/>
<font color="#A82F2F"><font size="2">(05:54:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a9719f9 Pascal Wittmann: global: update from 6.2.12 to 6.3.4<br/>
<font size="2">(05:54:18 PM)</font><b> jimstutt left the room (quit: Quit: rcirc on GNU Emacs 24.4.1).</b><br/>
<font color="#A82F2F"><font size="2">(05:54:36 PM)</font> <b>seanz:</b></font> Fuuzetsu: Oh...ok. You changed licenses across several files, including povray.<br/>
<font color="#A82F2F"><font size="2">(05:54:52 PM)</font> <b>Fuuzetsu:</b></font> yes, just git logged it<br/>
<font color="#A82F2F"><font size="2">(05:54:53 PM)</font> <b>m0rphism:</b></font> jimstutt: you&apos;re welcome!<br/>
<font color="#A82F2F"><font size="2">(05:55:00 PM)</font> <b>m0rphism:</b></font> awww, too late ;)<br/>
<font color="#A82F2F"><font size="2">(05:55:03 PM)</font> <b>Fuuzetsu:</b></font> so I don&apos;t have any specific wisdom to offer you<br/>
<font color="#A82F2F"><font size="2">(05:56:29 PM)</font> <b>Fuuzetsu:</b></font> also Luca Bruno was the last to commit to it<br/>
<font color="#A82F2F"><font size="2">(05:56:30 PM)</font> <b>ksf:</b></font> is there a particular reason why haskell-ng doesn&apos;t use a binary ghc build for 7.8.4?<br/>
<font color="#A82F2F"><font size="2">(05:56:43 PM)</font> <b>seanz:</b></font> Fuuzetsu: Do you know his nick? Is that Lethalman?<br/>
<font color="#A82F2F"><font size="2">(05:56:49 PM)</font> <b>Fuuzetsu:</b></font> no it&apos;s not Lethalman<br/>
<font color="#A82F2F"><font size="2">(05:57:00 PM)</font> <b>Lethalman:</b></font> I&apos;m Luca Bruno :S<br/>
<font color="#A82F2F"><font size="2">(05:57:04 PM)</font> <b>Fuuzetsu:</b></font> what really<br/>
<font color="#062585"><font size="2">(05:57:15 PM)</font> <b>***Fuuzetsu</b></font> was on the way to bed after 2 days of no sleep<br/>
<font color="#A82F2F"><font size="2">(05:57:24 PM)</font> <b>Lethalman:</b></font> lol np<br/>
<font color="#A82F2F"><font size="2">(05:57:27 PM)</font> <b>Lethalman:</b></font> what&apos;s the problem?<br/>
<font color="#A82F2F"><font size="2">(05:57:54 PM)</font> <b>seanz:</b></font> Ah, great! Lethalman: https://gist.github.com/SeanZicari/70d4bd3c8ef2b5af8036<br/>
<font color="#A82F2F"><font size="2">(05:58:08 PM)</font> <b>seanz:</b></font> I get this error when trying to install povray - an error linking against the boost lib.<br/>
<font color="#A82F2F"><font size="2">(05:58:24 PM)</font> <b>Lethalman:</b></font> seanz, I fixed that, you are not using a recent git nixpkgs I guess<br/>
<font color="#A82F2F"><font size="2">(05:58:32 PM)</font> <b>Fuuzetsu:</b></font> ca2d7774e006dcf2a6f642e9b4a0e3b2df0ade02<br/>
<font color="#A82F2F"><font size="2">(05:58:48 PM)</font> <b>Lethalman:</b></font> omg that platforms indentation<br/>
<font color="#A82F2F"><font size="2">(05:58:51 PM)</font> <b>seanz:</b></font> I thought I was. I&apos;m using 14.12.<br/>
<font color="#A82F2F"><font size="2">(05:59:21 PM)</font> <b>ksf:</b></font> (on the other hand, the longer I try to avoid compiling it with a single core the longer I&apos;m going to have to wait overall)<br/>
<font color="#A82F2F"><font size="2">(05:59:27 PM)</font> <b>Lethalman:</b></font> no 14.12 is stable<br/>
<font color="#A82F2F"><font size="2">(05:59:32 PM)</font> <b>Lethalman:</b></font> but yes I can backport this change<br/>
<font color="#A82F2F"><font size="2">(05:59:57 PM)</font> <b>seanz:</b></font> Lethalman: Thanks for the info. You have probably already figured out that I have many things to learn about Nix and NixOS still.<br/>
<font color="#A82F2F"><font size="2">(06:01:06 PM)</font> <b>Lethalman:</b></font> ok pushed to 14.12<br/>
<font color="#A82F2F"><font size="2">(06:01:20 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 1 new commit to release-14.12: http://git.io/pcab<br/>
<font color="#A82F2F"><font size="2">(06:01:20 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 fce401f Luca Bruno: povray: fix build and add platforms...<br/>
<font color="#A82F2F"><font size="2">(06:01:22 PM)</font> <b>seanz:</b></font> So all I should have to do is nix-channel --update, right?<br/>
<font color="#A82F2F"><font size="2">(06:01:25 PM)</font> <b>Lethalman:</b></font> seanz, no<br/>
<font color="#A82F2F"><font size="2">(06:01:33 PM)</font> <b>seanz:</b></font> Sigh.<br/>
<font color="#A82F2F"><font size="2">(06:01:42 PM)</font> <b>Lethalman:</b></font> seanz, https://nixos.org/wiki/FAQ#What_are_channels_and_how_they_get_updated.3F<br/>
<font color="#A82F2F"><font size="2">(06:02:16 PM)</font> <b>seanz:</b></font> Lethalman: Reading...<br/>
<font color="#A82F2F"><font size="2">(06:03:34 PM)</font> <b>ksf:</b></font> I seem to have been looking for the --cores option.<br/>
<font color="#A82F2F"><font size="2">(06:03:46 PM)</font> <b>m0rphism:</b></font> ksf: Have you added http://hydra.nixos.org/ http://hydra.cryp.to/ to your binary caches? haskellng is currently not build by the regular caches. But I noticed, too, that some packages are build even though I have the additional caches.<br/>
<font color="#A82F2F"><font size="2">(06:03:54 PM)</font> <b>ksf:</b></font> oh.<br/>
<font color="#A82F2F"><font size="2">(06:05:01 PM)</font> <b>ksf:</b></font> now did, still wants to build it.<br/>
<font color="#A82F2F"><font size="2">(06:05:27 PM)</font> <b>ksf:</b></font> but I was referring to the &quot;official&quot; ghc builds on haskell.org/ghc<br/>
<font color="#A82F2F"><font size="2">(06:05:30 PM)</font> <b>m0rphism:</b></font> ok then this question goes beyond my scope, I&apos;m still new to nixos ;)<br/>
<font color="#A82F2F"><font size="2">(06:07:30 PM)</font> <b>ksf:</b></font> ...finally, my cpu is sweating.<br/>
<font size="2">(06:11:36 PM)</font><b> goibhniu left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(06:11:49 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:30:08 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 1 new commit to master: http://git.io/pcQK<br/>
<font color="#A82F2F"><font size="2">(06:30:08 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3b1b8fb Pascal Wittmann: antiword: apply debians patch for CVE-2014-8123...<br/>
<font color="#A82F2F"><font size="2">(06:30:30 PM)</font> <b>Haskellfant:</b></font> how can I find out why a path is not garbage collected? nix-store -q --referrers doesn&apos;t show anything but nix-store --delete says the path is still alive<br/>
<font color="#A82F2F"><font size="2">(06:31:41 PM)</font> <b>Lethalman:</b></font> Haskellfant, shows nothing?<br/>
<font color="#A82F2F"><font size="2">(06:33:04 PM)</font> <b>Haskellfant:</b></font> Lethalman: http://lpaste.net/124297<br/>
<font color="#A82F2F"><font size="2">(06:33:07 PM)</font> <b>Haskellfant:</b></font> absolutely nothing<br/>
<font color="#A82F2F"><font size="2">(06:33:31 PM)</font> <b>Lethalman:</b></font> Haskellfant, can you please use the full path<br/>
<font color="#A82F2F"><font size="2">(06:34:16 PM)</font> <b>Haskellfant:</b></font> Lethalman: doesn&apos;t change anything (also at least for other packages it works with a relative path)<br/>
<font color="#A82F2F"><font size="2">(06:34:20 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub closed pull request #6426: utf8proc: add the library (master...utf8-proc) http://git.io/Av3g<br/>
<font color="#A82F2F"><font size="2">(06:34:40 PM)</font> <b>Lethalman:</b></font> Haskellfant, ok use --roots<br/>
<font color="#A82F2F"><font size="2">(06:35:00 PM)</font> <b>Haskellfant:</b></font> Lethalman: ah thx<br/>
<font color="#A82F2F"><font size="2">(06:35:08 PM)</font> <b>Haskellfant:</b></font> shouldn&apos;t --referrers point to that?<br/>
<font color="#A82F2F"><font size="2">(06:35:26 PM)</font> <b>Lethalman:</b></font> Haskellfant, a gc root is not a derivation<br/>
<font color="#A82F2F"><font size="2">(06:35:28 PM)</font> <b>Lethalman:</b></font> I mean<br/>
<font color="#A82F2F"><font size="2">(06:35:37 PM)</font> <b>Haskellfant:</b></font> hm stupid question but how should one delete roots that are created by nix-build? just delete the symlink?<br/>
<font color="#A82F2F"><font size="2">(06:35:38 PM)</font> <b>Lethalman:</b></font> the gc symlink itself is different than a derivation<br/>
<font color="#A82F2F"><font size="2">(06:35:38 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 1 new commit to master: http://git.io/pcd3<br/>
<font color="#A82F2F"><font size="2">(06:35:38 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master af0f184 Pascal Wittmann: utf8proc: fixed description<br/>
<font color="#A82F2F"><font size="2">(06:35:43 PM)</font> <b>Haskellfant:</b></font> ah right<br/>
<font color="#A82F2F"><font size="2">(06:35:48 PM)</font> <b>Lethalman:</b></font> Haskellfant, just rm<br/>
<font color="#A82F2F"><font size="2">(06:36:44 PM)</font> <b>Haskellfant:</b></font> thx<br/>
<font color="#A82F2F"><font size="2">(06:38:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] globin opened pull request #6731: Update rust to new nightly (2015-03-09) (master...update-rust) http://git.io/pcFA<br/>
<font size="2">(06:46:18 PM)</font><b> Lethalman left the room (quit: Quit: Sto andando via).</b><br/>
<font color="#A82F2F"><font size="2">(07:01:22 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] rzetterberg closed pull request #6729: django: Adds pypyPackages.django_1_7 (master...master) http://git.io/pZDd<br/>
<font color="#A82F2F"><font size="2">(07:02:43 PM)</font> <b>azriphale:</b></font> I have an issue with shellHook in a nix-shell env. I tried to set a PS1 in the shellHook, but it always gets overridden.<br/>
<font color="#A82F2F"><font size="2">(07:03:36 PM)</font> <b>azriphale:</b></font> ah, actually, I am comparing code with nix master, and it looks like that may have been fixed...<br/>
<font color="#A82F2F"><font size="2">(07:05:17 PM)</font> <b>azriphale:</b></font> well, fixed to a point. https://github.com/NixOS/nix/blob/master/scripts/nix-build.in#L295 It looks like this will always reset the ps1 that may have been set by `~/.bashrc`<br/>
<font color="#A82F2F"><font size="2">(07:06:31 PM)</font> <b>azriphale:</b></font> I may be misunderstanding the intent there, but shouldn&apos;t that test be [ -z &quot;$PS1&quot; ] &amp;&amp; ...<br/>
<font color="#A82F2F"><font size="2">(07:06:40 PM)</font> <b>azriphale:</b></font> that is, set the PS1 if it _is_ null<br/>
<font color="#A82F2F"><font size="2">(07:10:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] taktoa closed pull request #6703: Fix for gtk-update-icon-cache hack (master...master) http://git.io/ptje<br/>
<font color="#A82F2F"><font size="2">(07:12:59 PM)</font> <b>azriphale:</b></font> regarding the above shellHook PS1 getting overridden, I am on release-14.12. But I still think there may be an issue there in master.<br/>
<font color="#A82F2F"><font size="2">(07:17:01 PM)</font> <b>azriphale:</b></font> Ah, the PS1 is purposefully overridden only if it is already set as a way of detecting interactive shells.<br/>
<font color="#A82F2F"><font size="2">(07:18:21 PM)</font> <b>azriphale:</b></font> so that is deliberate. Thanks for listening to my thoughts as I try to walk through the code ;-)<br/>
<font color="#A82F2F"><font size="2">(07:20:38 PM)</font> <b>azriphale:</b></font> A question regarding tracking unstable on my main development PC: Should this be (relatively) safe as in the case of an issue, I can roll back to the previous state ate boot? Or is it recommended that for main system I stick to stable?<br/>
<font color="#A82F2F"><font size="2">(07:24:35 PM)</font> <b>m0rphism:</b></font> azriphale: I&apos;m using NixOS for about 2 weeks now and I&apos;m using unstable since the beginning. So far I have not had any problems. I think you should be correct about rolling back (except there are some cornercases I don&apos;t see).<br/>
<font color="#A82F2F"><font size="2">(07:25:38 PM)</font> <b>m0rphism:</b></font> &apos;except&apos; should be &apos;unless&apos;, sorry english is not my main language ;)<br/>
<font color="#A82F2F"><font size="2">(07:26:41 PM)</font> <b>m0rphism:</b></font> azriphale: Regarding the nix-shell PS1 I can&apos;t help, but I was wondering myself how to change it. If you find it out in near future, I would be happy if you could tell me :)<br/>
<font color="#A82F2F"><font size="2">(07:30:36 PM)</font> <b>azriphale:</b></font> m0rphism: This is what I am trying (to get an automatic python virtualenv in a nix-shell): https://gist.github.com/sjagoe/e2824d76afdd5b6cfecc<br/>
<font color="#A82F2F"><font size="2">(07:31:02 PM)</font> <b>azriphale:</b></font> basically, just in the shellHook, you ought to be able to export a PS1 and it should override the default from nix-shell<br/>
<font color="#A82F2F"><font size="2">(07:32:06 PM)</font> <b>azriphale:</b></font> In stable (14.12) that doesn&apos;t happen because the nix-shell PS1 is set _after_ evaluating the shellHook. On nix master that has been fixed. Presumably that is available in unstable already (the fix was end of January)<br/>
<font color="#A82F2F"><font size="2">(07:32:15 PM)</font> <b>azriphale:</b></font> Here: https://github.com/NixOS/nix/commit/de91a42c6ed6f35adae2ca0be6ad9ce556aac335<br/>
<font color="#A82F2F"><font size="2">(07:33:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] oconnorr opened pull request #6732: Use mktemp to create temporary files to hold ssh host keys and authorized keys (master...master) http://git.io/pCWN<br/>
<font color="#A82F2F"><font size="2">(07:33:37 PM)</font> <b>m0rphism:</b></font> azriphale: Ahh I see, thanks. I&apos;ll give it a try.<br/>
<font color="#A82F2F"><font size="2">(07:35:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 3 new commits to master: http://git.io/pC8Z<br/>
<font color="#A82F2F"><font size="2">(07:35:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a63d87c Pascal Wittmann: autossh: update from 1.4d to 1.4e<br/>
<font color="#A82F2F"><font size="2">(07:35:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0708082 Pascal Wittmann: cpuminer: update from 2.4 to 2.4.1<br/>
<font color="#A82F2F"><font size="2">(07:35:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 362f2db Pascal Wittmann: findbugs: update from 3.0.0 to 3.0.1<br/>
<font color="#16569E"><font size="2">(07:35:49 PM)</font> <b>magnetophon:</b></font> The following url produces a tarbal, but the hash changes: http://pure-data.cvs.sourceforge.net/viewvc/pure-data/externals/mrpeach/?view=tar   Ideas?<br/>
<font size="2">(07:36:40 PM)</font><b> suvash is now known as suvash_away</b><br/>
<font color="#A82F2F"><font size="2">(07:40:07 PM)</font> <b>m0rphism:</b></font> azriphale: Hmm, I&apos;ve just tried adding a shellHook = &apos;&apos;export PS1=&quot;foobar&quot;&apos;&apos;; to one of my custom packages, but when run with nix-shell it does not change the prompt.<br/>
<font color="#A82F2F"><font size="2">(07:41:14 PM)</font> <b>Haskellfant:</b></font> magnetophon: judging from the link that points to the newest version of the cvs repository instead of the latest stable version<br/>
<font color="#A82F2F"><font size="2">(07:41:22 PM)</font> <b>Haskellfant:</b></font> so either go with a fixed rev or use a stable version<br/>
<font color="#A82F2F"><font size="2">(07:41:31 PM)</font> <b>Haskellfant:</b></font> or update your derivation with every new commit<br/>
<font color="#16569E"><font size="2">(07:42:09 PM)</font> <b>magnetophon:</b></font> Haskellfant: thanks. I haven't worked much with cvs and sourceforge...<br/>
<font color="#A82F2F"><font size="2">(07:42:13 PM)</font> <b>azriphale:</b></font> m0rphism: So I haven&apos;t tried unstable yet, but you can check if nix-shell is overriding it in the way I can see here on stable with this: grep -A3 -B3 shellHook $(which nix-shell)<br/>
<font color="#A82F2F"><font size="2">(07:42:19 PM)</font> <b>m0rphism:</b></font> azriphale: However other environment variables are exported correctly. And I&apos;m using nixpkgs unstable.<br/>
<font color="#A82F2F"><font size="2">(07:43:04 PM)</font> <b>azriphale:</b></font> that will print out the 6 lines around wherethe shellHook is evaluated. Before the fix that is in master nix, the last line printed out is overriding PS1 despite what you put in shellHook<br/>
<font color="#A82F2F"><font size="2">(07:43:28 PM)</font> <b>m0rphism:</b></font> azriphale: yep, it&apos;s the unpatched version<br/>
<font color="#A82F2F"><font size="2">(07:43:32 PM)</font> <b>azriphale:</b></font> m0rphism: https://gist.github.com/sjagoe/92a5ff2b7037dfb11e58<br/>
<font color="#A82F2F"><font size="2">(07:43:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] aszlig pushed 1 new commit to master: http://git.io/pC0w<br/>
<font color="#A82F2F"><font size="2">(07:43:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8cd6d53 aszlig: kbd: Patch in support for the Neo keyboard layout....<br/>
<font color="#A82F2F"><font size="2">(07:44:05 PM)</font> <b>azriphale:</b></font> I guess that is a question for #nixos: When (and how) does the core nix package manager in nixos?<br/>
<font color="#A82F2F"><font size="2">(07:44:47 PM)</font> <b>m0rphism:</b></font> azriphale: maybe that has something todo with nixpkgs unstable not being updated (I think beside security updates) for two weeks, because of build failures<br/>
<font color="#A82F2F"><font size="2">(07:45:07 PM)</font> <b>m0rphism:</b></font> using nixpkgs from git should probably work in this case<br/>
<font color="#A82F2F"><font size="2">(07:45:13 PM)</font> <b>azriphale:</b></font> the last tag in the nix repo is the same version that stable is using (v1.8)<br/>
<font color="#A82F2F"><font size="2">(07:45:52 PM)</font> <b>Haskellfant:</b></font> magnetophon: I didn&apos;t know any (nondead) open source project is still using cvs :)<br/>
<font color="#A82F2F"><font size="2">(07:47:17 PM)</font> <b>Haskellfant:</b></font> damnit now that neo is added and the new installer is going to be merged soon™ I&apos;m running out of excuses to not install nixos<br/>
<font color="#A82F2F"><font size="2">(07:48:29 PM)</font> <b>m0rphism:</b></font> however, the unstable job on hydra ( http://hydra.nixos.org/job/nixpkgs/trunk/unstable ) seems to have been built correctly again yesterday evening. I think I still don&apos;t get completely when the new versions arrive in the channels.<br/>
<font color="#A82F2F"><font size="2">(07:49:22 PM)</font> <b>Haskellfant:</b></font> m0rphism: neither do I but https://howoldis.herokuapp.com/ shows when the channels got updated<br/>
<font color="#A82F2F"><font size="2">(07:49:53 PM)</font> <b>m0rphism:</b></font> Haskellfant: thanks for the link :&gt;<br/>
<font color="#A82F2F"><font size="2">(07:50:33 PM)</font> <b>Haskellfant:</b></font> somebody who actually knows how that stuff works should make a wiki page about it. this question keeps coming up here<br/>
<font color="#A82F2F"><font size="2">(07:51:00 PM)</font> <b>m0rphism:</b></font> yep, I&apos;ve seen it already three times since yesterday ;)<br/>
<font color="#A82F2F"><font size="2">(07:51:14 PM)</font> <b>m0rphism:</b></font> and I still don&apos;t get it ^^<br/>
<font color="#A82F2F"><font size="2">(07:58:08 PM)</font> <b>azriphale:</b></font> well, here goes switching to unstable<br/>
<font color="#A82F2F"><font size="2">(07:59:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga pushed 2 new commits to master: http://git.io/pCo8<br/>
<font color="#A82F2F"><font size="2">(07:59:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3a32dae Robin Gloster: update rust to new nightly (2015-03-09)<br/>
<font color="#A82F2F"><font size="2">(07:59:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b172b9f Arseniy Seroka: Merge pull request #6731 from globin/update-rust...<br/>
<font color="#A82F2F"><font size="2">(07:59:50 PM)</font> <b>azriphale:</b></font> I admit to being slightly apprehensive about going from stable to unstable<br/>
<font color="#A82F2F"><font size="2">(08:02:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga pushed 6 new commits to master: http://git.io/pCKD<br/>
<font color="#A82F2F"><font size="2">(08:02:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 95cd118 Nikolay Amiantov: steam: refactor meta<br/>
<font color="#A82F2F"><font size="2">(08:02:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4aba763 Nikolay Amiantov: chroot-env: build /etc<br/>
<font color="#A82F2F"><font size="2">(08:02:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e3ab3df Nikolay Amiantov: chroot-env: ignore collisions and fix permissions<br/>
<font color="#A82F2F"><font size="2">(08:07:24 PM)</font> <b>m0rphism:</b></font> azriphale: What works is cloning the nixpkgs git repo and installing with &quot;nix-env -f nixpkgs-git/default.nix -i -A pkgs.nixUnstable&quot;. After that the nix-shell prompt changes via the hook.<br/>
<font color="#A82F2F"><font size="2">(08:07:58 PM)</font> <b>azriphale:</b></font> Thanks, m0rphism. I have just finished my nixos-rebuild switch after switching to unstable channel.<br/>
<font color="#A82F2F"><font size="2">(08:08:18 PM)</font> <b>azriphale:</b></font> First I need to upgrade my user env, then I&apos;ll look at doing that<br/>
<font color="#A82F2F"><font size="2">(08:08:24 PM)</font> <b>m0rphism:</b></font> azriphale: you&apos;re welcome! also welcome to the bleeding edge ;)<br/>
<font color="#A82F2F"><font size="2">(08:08:47 PM)</font> <b>azriphale:</b></font> I had a bit of a scare: installation of GRUB on /dev/sda failed<br/>
<font color="#A82F2F"><font size="2">(08:09:15 PM)</font> <b>m0rphism:</b></font> ohh, I think I&apos;d feel the same ;)<br/>
<font color="#A82F2F"><font size="2">(08:09:18 PM)</font> <b>azriphale:</b></font> Then I remembered that after installation, nixos decided my main drive was /dev/sdb and secondary was sda ;-)<br/>
<font color="#A82F2F"><font size="2">(08:09:26 PM)</font> <b>azriphale:</b></font> so just a config change, then it worked<br/>
<font color="#A82F2F"><font size="2">(08:10:44 PM)</font> <b>m0rphism:</b></font> azriphale: ahh nice, I just tried the nixUnstable from nixpkgs unstable channel and there it works, too.<br/>
<font color="#A82F2F"><font size="2">(08:10:51 PM)</font> <b>azriphale:</b></font> On that error the first thing I did was `nixos-rebuild --rollback`. In debian I would have been trying to remember how to manually install grub :-D<br/>
<font color="#A82F2F"><font size="2">(08:11:07 PM)</font> <b>m0rphism:</b></font> azriphale: so no need for using the repo directly.<br/>
<font color="#A82F2F"><font size="2">(08:11:36 PM)</font> <b>m0rphism:</b></font> :D<br/>
<font color="#A82F2F"><font size="2">(08:11:49 PM)</font> <b>azriphale:</b></font> okay, so nixUnstable tracks nix master, I guess. But the default would be to use the tagged release even in unstable channel<br/>
<font color="#A82F2F"><font size="2">(08:12:00 PM)</font> <b>azriphale:</b></font> makes sense. You probably don&apos;t want a broken nix ;-)<br/>
<font color="#A82F2F"><font size="2">(08:12:40 PM)</font> <b>m0rphism:</b></font> with nixUnstable (in camelCase) I meant the actual package of the package manager.<br/>
<font color="#A82F2F"><font size="2">(08:13:04 PM)</font> <b>azriphale:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(08:13:22 PM)</font> <b>azriphale:</b></font> I guess I&apos;m on unstable now.<br/>
<font color="#A82F2F"><font size="2">(08:13:54 PM)</font> <b>azriphale:</b></font> Although I am still running the same irc client because I haven&apos;t closed it yet<br/>
<font color="#A82F2F"><font size="2">(08:14:30 PM)</font> <b>m0rphism:</b></font> azriphale: the nix unstable channel is not that dangerously bleeding edge if I remember correctly. It is updated when the hydra build bot has finished building some binaries. https://nixos.org/wiki/FAQ#What_are_channels_and_how_they_get_updated.3F<br/>
<font color="#A82F2F"><font size="2">(08:15:38 PM)</font> <b>azriphale:</b></font> restarting for update (lets see if this still boots)<br/>
<font size="2">(08:15:43 PM)</font><b> azriphale left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(08:18:19 PM)</font> <b>azriphale:</b></font> All seems to work. Except that some newer software has different Xorg class, which means I need to rebuild dwm :/<br/>
<font size="2">(08:18:19 PM)</font><b> azriphale [<em>~quassel@213.1.240.226</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:18:19 PM)</font> <b>azriphale:</b></font> All seems to work. Except that some newer software has different Xorg class, which means I need to rebuild dwm :/<br/>
<font color="#A82F2F"><font size="2">(08:18:24 PM)</font> <b>azriphale:</b></font> And my wireless didn&apos;t connect automatically...<br/>
<font size="2">(08:24:52 PM)</font><b> azriphale left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(08:27:36 PM)</font><b> azriphale [<em>~quassel@213.1.240.226</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:28:14 PM)</font> <b>arturdev2:</b></font> If I&apos;m preparing a nixos server and I need to prepare a package with my own content (which lives in a git repository). How do I proceed? Do i need to clone the nixpkgs repository?<br/>
<font color="#A82F2F"><font size="2">(08:29:30 PM)</font> <b>the-kenny:</b></font> arturdev2: there are many ways to do this. You can just write your default.nix for your package &amp; reference it from your configuration.nix, you can use packageOverrides to inject it into the real package list, or you can - as you suggested - clone your own nixpkgs<br/>
<font color="#A82F2F"><font size="2">(08:30:10 PM)</font> <b>azriphale:</b></font> arturdev2: Here is what I have (in a ~/.nixpkgs/config.nix): https://gist.github.com/sjagoe/8bd08e87233204b8b99d<br/>
<font color="#A82F2F"><font size="2">(08:30:19 PM)</font> <b>azriphale:</b></font> using packageOverrides as the-kenny suggests<br/>
<font color="#A82F2F"><font size="2">(08:30:21 PM)</font> <b>arturdev2:</b></font> the-kenny: your first option, from my (inexperienced)<br/>
<font color="#A82F2F"><font size="2">(08:30:33 PM)</font> <b>arturdev2:</b></font> point of view, seems the more appropriate<br/>
<font color="#A82F2F"><font size="2">(08:30:37 PM)</font> <b>azriphale:</b></font> You could similarly reference that directly from your configuration.nix<br/>
<font color="#A82F2F"><font size="2">(08:30:57 PM)</font> <b>arturdev2:</b></font> azriphale: thanks, taking a look at it<br/>
<font color="#A82F2F"><font size="2">(08:32:22 PM)</font> <b>azriphale:</b></font> So there is one example there of updating an existing package (ansible 1.7.2 -&gt; 1.8.4) and one example of creating a new package<br/>
<font color="#A82F2F"><font size="2">(08:38:10 PM)</font> <b>the-kenny:</b></font> arturdev2: the difference beween 1) and 2) is marginal. Boils down to the same. And yeah, I prefer that too.<br/>
<font color="#A82F2F"><font size="2">(08:38:11 PM)</font> <b>arturdev2:</b></font> I understand that &quot;pkgs.pythonPackages&quot; is only for python packages?<br/>
<font color="#A82F2F"><font size="2">(08:38:11 PM)</font> <b>azriphale:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(08:38:11 PM)</font> <b>azriphale:</b></font> For others you would probably use pkgs.stdenv.lib.mkDerivation<br/>
<font color="#A82F2F"><font size="2">(08:38:11 PM)</font> <b>azriphale:</b></font> You can find real examples of that within nixpkgs<br/>
<font color="#A82F2F"><font size="2">(08:38:11 PM)</font> <b>azriphale:</b></font> But otherwise the structure would be pretty much the same<br/>
<font color="#A82F2F"><font size="2">(08:38:12 PM)</font> <b>azriphale:</b></font> Is there a way I can write a nix expression that would define my user profile?<br/>
<font color="#A82F2F"><font size="2">(08:38:12 PM)</font> <b>azriphale:</b></font> Right now I have a bunch of things I have installed ad-hoc with &quot;nix-env -i&quot;. Ideally I would like this to be easily reproducible<br/>
<font color="#A82F2F"><font size="2">(08:38:22 PM)</font> <b>devhell:</b></font> azriphale: have it in your configuration.nix?<br/>
<font color="#A82F2F"><font size="2">(08:39:52 PM)</font> <b>kmicu:</b></font> azriphale https://nixos.org/wiki/FAQ#How_can_I_manage_software_with_nix-env_like_with_configuration.nix.3F and https://nixos.org/wiki/Howto_keep_multiple_packages_up_to_date_at_once<br/>
<font color="#A82F2F"><font size="2">(08:40:03 PM)</font> <b>azriphale:</b></font> Thanks!<br/>
<font color="#A82F2F"><font size="2">(08:45:25 PM)</font> <b>arturdev2:</b></font> is there some kind of api documentation? (eg to see fetchgit parameters)<br/>
<font color="#A82F2F"><font size="2">(08:46:28 PM)</font> <b>the-kenny:</b></font> arturdev2: Reading the source is usually the fastest and easiest way.<br/>
<font color="#A82F2F"><font size="2">(08:46:43 PM)</font> <b>the-kenny:</b></font> pkgs/build-support/fetchgit/<br/>
<font color="#A82F2F"><font size="2">(08:47:01 PM)</font> <b>kmicu:</b></font> The Only Way™<br/>
<font color="#A82F2F"><font size="2">(08:47:37 PM)</font> <b>arturdev2:</b></font> the-kenny: thanks<br/>
<font color="#A82F2F"><font size="2">(08:47:45 PM)</font> <b>the-kenny:</b></font> kmicu: that doesn&apos;t invalidate my statement :)<br/>
<font color="#A82F2F"><font size="2">(08:48:09 PM)</font> <b>kmicu:</b></font> (which is sad, but at least we have a room for improvement)<br/>
<font color="#A82F2F"><font size="2">(08:49:32 PM)</font> <b>arturdev2:</b></font> leaving, thanks for your help, I&apos;ll be back<br/>
<font size="2">(08:49:36 PM)</font><b> arturdev2 left the room (quit: Quit: leaving).</b><br/>
<font color="#A82F2F"><font size="2">(08:52:02 PM)</font> <b>the-kenny:</b></font> viric: Did we talk about smartcard/yubikey earlier today?<br/>
<font color="#A82F2F"><font size="2">(08:52:08 PM)</font> <b>kmicu:</b></font> Yes.<br/>
<font color="#A82F2F"><font size="2">(08:54:48 PM)</font> <b>viric:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(08:55:38 PM)</font> <b>the-kenny:</b></font> ok :) Just wanted to check if I remember correct.<br/>
<font color="#A82F2F"><font size="2">(08:56:05 PM)</font> <b>viric:</b></font> are you impersonating the-kenny ?<br/>
<font color="#A82F2F"><font size="2">(08:56:10 PM)</font> <b>the-kenny:</b></font> I don&apos;t think I&apos;ll get down to the scdaemon today. Pretty tired.<br/>
<font color="#A82F2F"><font size="2">(08:56:19 PM)</font> <b>the-kenny:</b></font> haha<br/>
<font color="#A82F2F"><font size="2">(08:58:58 PM)</font> <b>viric:</b></font> fine, don&apos;t worry<br/>
<font color="#A82F2F"><font size="2">(08:59:12 PM)</font> <b>viric:</b></font> I&apos;m not ready either<br/>
<font color="#A82F2F"><font size="2">(08:59:30 PM)</font> <b>viric:</b></font> my patch, for the record, only wraps scdaemon with a LD_LIBRARY_PATH for it to find libpcscdlite.<br/>
<font color="#A82F2F"><font size="2">(08:59:46 PM)</font> <b>viric:</b></font> I think it is required, but W Kensington III hasn&apos;t asnwered yet<br/>
<font color="#A82F2F"><font size="2">(09:01:16 PM)</font> <b>the-kenny:</b></font> All I can say as of now is that I get &quot;scdaemon[32457]: reading public key failed: Card error&quot; for &quot;gpg --card-info&quot; after enabling CCID.<br/>
<font size="2">(09:03:06 PM)</font><b> pmahoney left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(09:03:56 PM)</font> <b>viric:</b></font> the-kenny: did you enable ccid in your key?<br/>
<font color="#A82F2F"><font size="2">(09:05:04 PM)</font> <b>the-kenny:</b></font> yup<br/>
<font color="#A82F2F"><font size="2">(09:05:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar opened pull request #6733: Some fixes for primus and its support in Steam (master...primus-fix) http://git.io/pWIy<br/>
<font color="#A82F2F"><font size="2">(09:05:22 PM)</font> <b>the-kenny:</b></font> before that I got a &quot;is the smart card supported?&quot; error<br/>
<font color="#A82F2F"><font size="2">(09:05:34 PM)</font> <b>the-kenny:</b></font> I didn&apos;t try writing any keys to it yet<br/>
<font color="#A82F2F"><font size="2">(09:09:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar closed pull request #6733: Some fixes for primus and its support in Steam (master...primus-fix) http://git.io/pWIy<br/>
<font color="#A82F2F"><font size="2">(09:14:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/pWOy<br/>
<font color="#A82F2F"><font size="2">(09:14:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master d388855 Peter Simons: r-SID: mark broken<br/>
<font color="#A82F2F"><font size="2">(09:34:34 PM)</font> <b>shlevy:</b></font> gridaphobe: Yeah<br/>
<font color="#A82F2F"><font size="2">(09:37:51 PM)</font> <b>goibhniu:</b></font> has anyone figured out how to use bundix yet? (or install gems in a nix-shell)<br/>
<font color="#A82F2F"><font size="2">(09:42:39 PM)</font> <b>joelmo:</b></font> I am trying to override a derivation so that I can use nix-shell and make in it, then the overridden will just use the install phase, but it seems like nix want&apos;s to run all phases of the old when I try to get it&apos;s out path<br/>
<font size="2">(09:54:55 PM)</font><b> pmahoney [<em>~user@50.56.229.7</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:00:11 PM)</font> <b>ocharles_:</b></font> uhhh<br/>
<font color="#A82F2F"><font size="2">(10:00:14 PM)</font> <b>ocharles_:</b></font> https://www.irccloud.com/pastebin/7I7fF9SB<br/>
<font color="#A82F2F"><font size="2">(10:00:15 PM)</font> <b>ocharles_:</b></font> wat?<br/>
<font color="#A82F2F"><font size="2">(10:01:23 PM)</font> <b>kmicu:</b></font> IT’S A TRAP!<br/>
<font color="#A82F2F"><font size="2">(10:02:12 PM)</font> <b>Haskellfant:</b></font> ocharles_: on arch bluetoothctl is in bluez-utils which is a separate package<br/>
<font color="#A82F2F"><font size="2">(10:04:35 PM)</font> <b>codehero:</b></font> bluez is in bluez5<br/>
<font color="#A82F2F"><font size="2">(10:04:53 PM)</font> <b>codehero:</b></font> meh<br/>
<font color="#A82F2F"><font size="2">(10:04:59 PM)</font> <b>codehero:</b></font> i meant bluetoothctl is in bluez5<br/>
<font color="#A82F2F"><font size="2">(10:05:32 PM)</font> <b>wkennington:</b></font> viric: huh<br/>
<font color="#A82F2F"><font size="2">(10:05:39 PM)</font> <b>wkennington:</b></font> viric: what did you send me today?<br/>
<font color="#A82F2F"><font size="2">(10:05:55 PM)</font> <b>wkennington:</b></font> viric: i saw the email but don;t have gpg setup at the moment<br/>
<font color="#A82F2F"><font size="2">(10:06:18 PM)</font> <b>wkennington:</b></font> the-kenny: do you have pcscd setup?<br/>
<font color="#A82F2F"><font size="2">(10:06:37 PM)</font> <b>ocharles_:</b></font> I found a bluetoothctl binary in my store, but i can&apos;t seem to do anything with it<br/>
<font color="#A82F2F"><font size="2">(10:06:38 PM)</font> <b>ocharles_:</b></font> T_T<br/>
<font color="#A82F2F"><font size="2">(10:06:46 PM)</font> <b>ocharles_:</b></font> (can&apos;t input any commands, it just appears frozen)<br/>
<font color="#A82F2F"><font size="2">(10:06:57 PM)</font> <b>kmicu:</b></font> Let it go.<br/>
<font color="#A82F2F"><font size="2">(10:08:00 PM)</font> <b>ocharles_:</b></font> I want to play with my Wii U controller though :(<br/>
<font color="#A82F2F"><font size="2">(10:08:36 PM)</font> <b>codehero:</b></font> kmicu: lol<br/>
<font color="#062585"><font size="2">(10:09:00 PM)</font> <b>***kmicu</b></font> runs away, b/c no one appreciated his poor jokes.<br/>
<font color="#A82F2F"><font size="2">(10:09:37 PM)</font> <b>codehero:</b></font> :D<br/>
<font color="#A82F2F"><font size="2">(10:10:53 PM)</font> <b>ocharles_:</b></font> blueman doesn&apos;t build... onwards with bluedevil<br/>
<font color="#A82F2F"><font size="2">(10:11:39 PM)</font> <b>Haskellfant:</b></font> gotta collect them all<br/>
<font color="#A82F2F"><font size="2">(10:13:29 PM)</font> <b>ocharles_:</b></font> [ollie@nixos:~]$ bluedevil-authorize<br/>
<font color="#A82F2F"><font size="2">(10:13:30 PM)</font> <b>ocharles_:</b></font> Segmentation fault<br/>
<font color="#A82F2F"><font size="2">(10:13:35 PM)</font> <b>ocharles_:</b></font> *ffffuuu intensifies*<br/>
<font color="#A82F2F"><font size="2">(10:13:48 PM)</font> <b>dav:</b></font> wkennington: so back to what you said yesterday, will we not have an unstable build until the GC issues get sorted out?<br/>
<font color="#A82F2F"><font size="2">(10:14:05 PM)</font> <b>ksf:</b></font> my xmonad can&apos;t find ghc<br/>
<font color="#A82F2F"><font size="2">(10:14:16 PM)</font> <b>wkennington:</b></font> dav: correct<br/>
<font color="#A82F2F"><font size="2">(10:14:29 PM)</font> <b>kmicu:</b></font> ksf: nixos-version?<br/>
<font color="#A82F2F"><font size="2">(10:14:29 PM)</font> <b>ksf:</b></font> ...it&apos;s not on $PATH, and I&apos;m starting it manually via ~/.kde/env<br/>
<font color="#A82F2F"><font size="2">(10:14:33 PM)</font> <b>wkennington:</b></font> dav: i just build all of my machines from master<br/>
<font color="#A82F2F"><font size="2">(10:14:41 PM)</font> <b>ksf:</b></font> 14.12.496.5f7d374 (Caterpillar)<br/>
<font color="#A82F2F"><font size="2">(10:15:02 PM)</font> <b>dav:</b></font> wkennington: sounds pressing, is there a discussion thread/issue somewhere on this topic?<br/>
<font color="#A82F2F"><font size="2">(10:15:08 PM)</font> <b>wkennington:</b></font> dav: doubt it<br/>
<font color="#A82F2F"><font size="2">(10:15:10 PM)</font> <b>kmicu:</b></font> ksf: How did you activate it?<br/>
<font color="#A82F2F"><font size="2">(10:15:25 PM)</font> <b>codehero:</b></font> ocharles_: you&apos;re doing it wrong<br/>
<font color="#A82F2F"><font size="2">(10:15:31 PM)</font> <b>ksf:</b></font> cat .kde/env/set_window_manager.sh<br/>
<font color="#A82F2F"><font size="2">(10:15:31 PM)</font> <b>ksf:</b></font> export KDEWM=/run/current-system/sw/bin/xmonad<br/>
<font color="#A82F2F"><font size="2">(10:15:59 PM)</font> <b>codehero:</b></font> ocharles_: https://nixos.org/wiki/Bluetooth look at bluez5<br/>
<font color="#A82F2F"><font size="2">(10:16:20 PM)</font> <b>ocharles_:</b></font> ah, thanks!<br/>
<font color="#A82F2F"><font size="2">(10:16:28 PM)</font> <b>kmicu:</b></font> Ok, but what did you do to have ‘/run/current-system/sw/bin/xmonad’? :)<br/>
<font color="#A82F2F"><font size="2">(10:16:38 PM)</font> <b>ocharles_:</b></font> wait, bluez5 is just user space, right?<br/>
<font color="#A82F2F"><font size="2">(10:16:51 PM)</font> <b>ksf:</b></font>   services.xserver.windowManager.xmonad.enable = true;<br/>
<font color="#A82F2F"><font size="2">(10:16:51 PM)</font> <b>ksf:</b></font>   services.xserver.windowManager.xmonad.enableContribAndExtras = true;<br/>
<font color="#A82F2F"><font size="2">(10:16:57 PM)</font> <b>codehero:</b></font> ocharles_: i&apos;m not sure<br/>
<font color="#A82F2F"><font size="2">(10:17:04 PM)</font> <b>codehero:</b></font> i actually think it&apos;s a service<br/>
<font color="#A82F2F"><font size="2">(10:17:07 PM)</font> <b>codehero:</b></font> but i could be wrong<br/>
<font color="#A82F2F"><font size="2">(10:17:47 PM)</font> <b>ksf:</b></font> of course, the way I&apos;m using it it&apos;s not really a service, but an end-user program.<br/>
<font color="#A82F2F"><font size="2">(10:17:52 PM)</font> <b>kmicu:</b></font> ksf: with that XMonad will not be visible in your global GHC, you can check that with ‘ghc-pkgs list’.<br/>
<font color="#A82F2F"><font size="2">(10:17:57 PM)</font> <b>viric:</b></font> wkennington: do you use gpg2 + yubikey ccid?<br/>
<font color="#A82F2F"><font size="2">(10:18:02 PM)</font> <b>wkennington:</b></font> viric: yeah<br/>
<font color="#A82F2F"><font size="2">(10:18:13 PM)</font> <b>wkennington:</b></font> scdaemon.conf: pcsc-driver /home/william/.nix-profile/lib/libpcsclite.so<br/>
<font color="#A82F2F"><font size="2">(10:18:17 PM)</font> <b>viric:</b></font> Ah<br/>
<font color="#A82F2F"><font size="2">(10:18:18 PM)</font> <b>ksf:</b></font> I don&apos;t even have a system-wide ghc<br/>
<font color="#A82F2F"><font size="2">(10:18:25 PM)</font> <b>wkennington:</b></font> viric: but, we could probably modify the build<br/>
<font color="#A82F2F"><font size="2">(10:18:29 PM)</font> <b>viric:</b></font> wkennington: what if I patch gpg2 so it finds libpcsclite automaticlaly?<br/>
<font color="#A82F2F"><font size="2">(10:18:31 PM)</font> <b>wkennington:</b></font> and set DEFAULT_PCSC_LIBRARY<br/>
<font color="#A82F2F"><font size="2">(10:18:33 PM)</font> <b>kmicu:</b></font> ksf: Install XMonad(-contrib) as regular package and it should work.<br/>
<font color="#A82F2F"><font size="2">(10:18:40 PM)</font> <b>wkennington:</b></font> viric: Testing it now<br/>
<font color="#A82F2F"><font size="2">(10:18:46 PM)</font> <b>viric:</b></font> ah ok<br/>
<font color="#A82F2F"><font size="2">(10:21:54 PM)</font> <b>viric:</b></font> hm here about the pi2, only the boot is left for nixos<br/>
<font color="#A82F2F"><font size="2">(10:22:09 PM)</font> <b>dav:</b></font> ocharles_: it&apos;s not a kernel module, so yes.<br/>
<font color="#A82F2F"><font size="2">(10:22:10 PM)</font> <b>ocharles_:</b></font> codehero: you are a hero!<br/>
<font color="#A82F2F"><font size="2">(10:22:19 PM)</font> <b>ocharles_:</b></font> i have a bluetoothctl i can type in now<br/>
<font color="#A82F2F"><font size="2">(10:22:36 PM)</font> <b>codehero:</b></font> ocharles_: :D<br/>
<font color="#A82F2F"><font size="2">(10:22:40 PM)</font> <b>kmicu:</b></font> \o/<br/>
<font color="#A82F2F"><font size="2">(10:22:46 PM)</font> <b>viric:</b></font> wkennington: do you use the yubikey for some otp too?<br/>
<font color="#A82F2F"><font size="2">(10:22:46 PM)</font> <b>codehero:</b></font> you&apos;re welcome<br/>
<font color="#A82F2F"><font size="2">(10:22:52 PM)</font> <b>wkennington:</b></font> viric: u2f<br/>
<font color="#A82F2F"><font size="2">(10:23:05 PM)</font> <b>viric:</b></font> hm I read how u2f worked, but I forgot<br/>
<font color="#A82F2F"><font size="2">(10:23:11 PM)</font> <b>viric:</b></font> is there anything in nixos for u2f?<br/>
<font color="#A82F2F"><font size="2">(10:23:15 PM)</font> <b>wkennington:</b></font> viric: chromium<br/>
<font color="#A82F2F"><font size="2">(10:23:28 PM)</font> <b>wkennington:</b></font> viric: libu2f<br/>
<font color="#A82F2F"><font size="2">(10:23:30 PM)</font> <b>viric:</b></font> as server I mean<br/>
<font color="#A82F2F"><font size="2">(10:23:33 PM)</font> <b>wkennington:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(10:23:40 PM)</font> <b>wkennington:</b></font> not sure<br/>
<font color="#A82F2F"><font size="2">(10:23:50 PM)</font> <b>wkennington:</b></font> it&apos;s very application dependent<br/>
<font color="#A82F2F"><font size="2">(10:23:57 PM)</font> <b>viric:</b></font> I forgot what was u2f about :)<br/>
<font color="#A82F2F"><font size="2">(10:24:01 PM)</font> <b>dav:</b></font> all - so hmmm... sorry for asking this again but does nobody really care that unstable doesn&apos;t build (and hasn&apos;t build for nearly two weeks) ?<br/>
<font color="#A82F2F"><font size="2">(10:24:44 PM)</font> <b>kmicu:</b></font> Unstable is unstable in everything — also in update time.<br/>
<font color="#A82F2F"><font size="2">(10:24:46 PM)</font> <b>dav:</b></font> (I be specific and say doesn&apos;t build *on hydra*)<br/>
<font size="2">(10:24:47 PM)</font><b> ksf left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:24:48 PM)</font> <b>wkennington:</b></font> viric: kinda like public key based otp<br/>
<font color="#A82F2F"><font size="2">(10:24:54 PM)</font> <b>wkennington:</b></font> viric: challenge response based<br/>
<font color="#A82F2F"><font size="2">(10:25:05 PM)</font> <b>viric:</b></font> but it can&apos;t be implemented in, let&apos;s say, pam<br/>
<font color="#A82F2F"><font size="2">(10:25:09 PM)</font> <b>viric:</b></font> all goes through some api<br/>
<font color="#A82F2F"><font size="2">(10:25:15 PM)</font> <b>dav:</b></font> kmicu: so it&apos;s often the case that it falls behind and then catches up?<br/>
<font color="#A82F2F"><font size="2">(10:25:16 PM)</font> <b>wkennington:</b></font> viric: it could be a pam module<br/>
<font color="#A82F2F"><font size="2">(10:25:28 PM)</font> <b>viric:</b></font> could it ? Does u2f go through HID device?<br/>
<font color="#A82F2F"><font size="2">(10:26:03 PM)</font> <b>wkennington:</b></font> https://github.com/Yubico/pam-u2f<br/>
<font color="#A82F2F"><font size="2">(10:26:07 PM)</font> <b>wkennington:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(10:26:12 PM)</font> <b>wkennington:</b></font> it&apos;s a special device type<br/>
<font size="2">(10:26:21 PM)</font><b> ksf [<em>~ksf@d130227.adsl.hansenet.de</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:26:28 PM)</font> <b>viric:</b></font> then it wouldn&apos;t work through ssh easily maybe<br/>
<font color="#A82F2F"><font size="2">(10:26:29 PM)</font> <b>kmicu:</b></font> dav: yes, sometimes it is 3 day, sometimes 3 weeks… (I don’t have statistics though.)<br/>
<font color="#A82F2F"><font size="2">(10:26:31 PM)</font> <b>ksf:</b></font> still not working, still no ghc on $PATH<br/>
<font color="#A82F2F"><font size="2">(10:26:32 PM)</font> <b>wkennington:</b></font> pam is a special case because it needs to understand the challenge response<br/>
<font color="#A82F2F"><font size="2">(10:26:33 PM)</font> <b>viric:</b></font> the ssh client should be aware<br/>
<font color="#A82F2F"><font size="2">(10:26:38 PM)</font> <b>viric:</b></font> exactly<br/>
<font color="#A82F2F"><font size="2">(10:26:40 PM)</font> <b>wkennington:</b></font> viric: right but they have a module for that<br/>
<font color="#A82F2F"><font size="2">(10:26:42 PM)</font> <b>jedahu:</b></font> do paths have an escape syntax?<br/>
<font color="#A82F2F"><font size="2">(10:26:44 PM)</font> <b>viric:</b></font> do they?<br/>
<font color="#A82F2F"><font size="2">(10:26:50 PM)</font> <b>viric:</b></font> let that be in nixos!<br/>
<font color="#A82F2F"><font size="2">(10:26:58 PM)</font> <b>wkennington:</b></font> sure<br/>
<font color="#A82F2F"><font size="2">(10:27:03 PM)</font> <b>wkennington:</b></font> but why not just use ccid<br/>
<font color="#A82F2F"><font size="2">(10:27:13 PM)</font> <b>wkennington:</b></font> if the yubikey had better openpgp firmware<br/>
<font color="#A82F2F"><font size="2">(10:27:18 PM)</font> <b>wkennington:</b></font> it would support pop<br/>
<font color="#A82F2F"><font size="2">(10:27:26 PM)</font> <b>viric:</b></font> I don&apos;t know about ccid<br/>
<font color="#A82F2F"><font size="2">(10:27:30 PM)</font> <b>wkennington:</b></font> well, presence detection<br/>
<font color="#A82F2F"><font size="2">(10:27:35 PM)</font> <b>viric:</b></font> other than the basic<br/>
<font color="#A82F2F"><font size="2">(10:27:42 PM)</font> <b>ksf:</b></font> maybe it&apos;s also not the best approach to do it system-wide, I could call a nix-shell as KDEWM<br/>
<font color="#A82F2F"><font size="2">(10:27:47 PM)</font> <b>viric:</b></font> do you use more than one yubikey&apos;<br/>
<font color="#A82F2F"><font size="2">(10:27:48 PM)</font> <b>viric:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(10:28:04 PM)</font> <b>viric:</b></font> I need a crash course in yubikey way of life<br/>
<font color="#A82F2F"><font size="2">(10:28:12 PM)</font> <b>wkennington:</b></font> viric: i have these in all my machines<br/>
<font color="#A82F2F"><font size="2">(10:28:12 PM)</font> <b>wkennington:</b></font> http://www.amazon.com/Yubico-Y-110-YubiKey-NEO-n/dp/B00O8ST7MM/ref=sr_1_1?ie=UTF8&amp;qid=1425936480&amp;sr=8-1&amp;keywords=yubikey+nano+n<br/>
<font color="#A82F2F"><font size="2">(10:28:14 PM)</font> <b>dav:</b></font> kmicu: ok thanks. I&apos;m new to nixos and found it a bit strange..<br/>
<font color="#A82F2F"><font size="2">(10:28:21 PM)</font> <b>wkennington:</b></font> so i never remove it<br/>
<font color="#A82F2F"><font size="2">(10:28:36 PM)</font> <b>wkennington:</b></font> we have a proprietary firmware at work that supports presence detection<br/>
<font color="#A82F2F"><font size="2">(10:28:45 PM)</font> <b>wkennington:</b></font> i wish the open source one did too<br/>
<font color="#A82F2F"><font size="2">(10:28:51 PM)</font> <b>wkennington:</b></font> not sure why they haven&apos;t yet<br/>
<font color="#A82F2F"><font size="2">(10:29:04 PM)</font> <b>viric:</b></font> you have a key per machine?<br/>
<font color="#A82F2F"><font size="2">(10:29:30 PM)</font> <b>viric:</b></font> always plugged in?<br/>
<font color="#A82F2F"><font size="2">(10:30:28 PM)</font> <b>wkennington:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(10:31:20 PM)</font> <b>ksf:</b></font> hmmm I was assuming that a haskellng shell environment would contain ghc.<br/>
<font color="#A82F2F"><font size="2">(10:31:23 PM)</font> <b>viric:</b></font> why?<br/>
<font color="#A82F2F"><font size="2">(10:31:29 PM)</font> <b>viric:</b></font> wkennington: what is the key proving to what?<br/>
<font color="#A82F2F"><font size="2">(10:32:12 PM)</font> <b>viric:</b></font> or it&apos;s just for boot (luks)?<br/>
<font color="#062585"><font size="2">(10:33:55 PM)</font> <b>***ksf</b></font> needs to do moar RTFM<br/>
<font size="2">(10:34:38 PM)</font><b> jedahu left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(10:34:54 PM)</font><b> jedahu [<em>~jedahu@202.21.128.253</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:36:08 PM)</font> <b>wkennington:</b></font> viric: proving that i have a token<br/>
<font color="#A82F2F"><font size="2">(10:36:13 PM)</font> <b>wkennington:</b></font> also just as a smartcard<br/>
<font color="#A82F2F"><font size="2">(10:36:22 PM)</font> <b>wkennington:</b></font> so my ssh keys cant be stolen<br/>
<font color="#A82F2F"><font size="2">(10:37:04 PM)</font> <b>wkennington:</b></font> and for second factor with google<br/>
<font color="#A82F2F"><font size="2">(10:37:06 PM)</font> <b>wkennington:</b></font> uf<br/>
<font color="#A82F2F"><font size="2">(10:37:07 PM)</font> <b>viric:</b></font> Ok, so you use it ofr ssh<br/>
<font color="#A82F2F"><font size="2">(10:37:08 PM)</font> <b>hyper_ch:</b></font> is the card smarter than you?<br/>
<font color="#A82F2F"><font size="2">(10:37:08 PM)</font> <b>wkennington:</b></font> u2r<br/>
<font color="#A82F2F"><font size="2">(10:37:14 PM)</font> <b>viric:</b></font> for<br/>
<font color="#A82F2F"><font size="2">(10:37:33 PM)</font> <b>viric:</b></font> do you use it with rsa 4096?<br/>
<font color="#A82F2F"><font size="2">(10:37:38 PM)</font> <b>wkennington:</b></font> can&apos;t<br/>
<font color="#A82F2F"><font size="2">(10:37:42 PM)</font> <b>viric:</b></font> 2048, isn&apos;¡t it?<br/>
<font color="#A82F2F"><font size="2">(10:37:43 PM)</font> <b>wkennington:</b></font> only supports 2048 :/<br/>
<font color="#A82F2F"><font size="2">(10:37:46 PM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(10:37:54 PM)</font> <b>viric:</b></font> well, not bad,<br/>
<font color="#A82F2F"><font size="2">(10:37:56 PM)</font> <b>wkennington:</b></font> but it does support nistp-256<br/>
<font color="#A82F2F"><font size="2">(10:37:59 PM)</font> <b>wkennington:</b></font> internally<br/>
<font color="#A82F2F"><font size="2">(10:38:00 PM)</font> <b>viric:</b></font> if you use DHE or so...<br/>
<font color="#A82F2F"><font size="2">(10:38:08 PM)</font> <b>viric:</b></font> but these nist things aren&apos;t good<br/>
<font color="#A82F2F"><font size="2">(10:38:09 PM)</font> <b>wkennington:</b></font> yeah im not worried about it being broken<br/>
<font color="#A82F2F"><font size="2">(10:38:22 PM)</font> <b>wkennington:</b></font> viric: well in theory it could support ed25519<br/>
<font color="#A82F2F"><font size="2">(10:38:30 PM)</font> <b>wkennington:</b></font> viric: but there are no specs around that<br/>
<font color="#A82F2F"><font size="2">(10:38:34 PM)</font> <b>viric:</b></font> of course.<br/>
<font color="#A82F2F"><font size="2">(10:38:46 PM)</font> <b>wkennington:</b></font> so rsa-2048 is the best ive got for now<br/>
<font color="#A82F2F"><font size="2">(10:38:49 PM)</font> <b>viric:</b></font> I see.<br/>
<font color="#A82F2F"><font size="2">(10:38:53 PM)</font> <b>wkennington:</b></font> i want to try one of the fst-01&apos;s<br/>
<font color="#A82F2F"><font size="2">(10:38:59 PM)</font> <b>wkennington:</b></font> which support ed25519<br/>
<font color="#A82F2F"><font size="2">(10:39:04 PM)</font> <b>wkennington:</b></font> in gnupg 2.1.x<br/>
<font color="#A82F2F"><font size="2">(10:39:12 PM)</font> <b>viric:</b></font> So, you use it as some challenge-response for luks, and smartcard.<br/>
<font color="#A82F2F"><font size="2">(10:39:21 PM)</font> <b>viric:</b></font> I don&apos;t know fst-01.<br/>
<font color="#A82F2F"><font size="2">(10:39:38 PM)</font> <b>viric:</b></font> do you have the same keys in all computers&apos; yubikeys, for cciD?<br/>
<font color="#A82F2F"><font size="2">(10:39:39 PM)</font> <b>wkennington:</b></font> it&apos;s not a nice form factor though<br/>
<font color="#A82F2F"><font size="2">(10:39:42 PM)</font> <b>wkennington:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(10:39:53 PM)</font> <b>wkennington:</b></font> each machine has a different key that i can revoke<br/>
<font color="#A82F2F"><font size="2">(10:40:05 PM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(10:40:20 PM)</font> <b>wkennington:</b></font> and i have a centralized openssh ca<br/>
<font color="#A82F2F"><font size="2">(10:40:43 PM)</font> <b>viric:</b></font> for revokes?<br/>
<font color="#A82F2F"><font size="2">(10:40:55 PM)</font> <b>wkennington:</b></font> and grants<br/>
<font color="#A82F2F"><font size="2">(10:40:55 PM)</font> <b>viric:</b></font> or for what?<br/>
<font color="#A82F2F"><font size="2">(10:41:07 PM)</font> <b>viric:</b></font> I don&apos;t know grants<br/>
<font color="#A82F2F"><font size="2">(10:41:12 PM)</font> <b>wkennington:</b></font> like adding a new key<br/>
<font color="#A82F2F"><font size="2">(10:41:18 PM)</font> <b>wkennington:</b></font> i just have to sign it<br/>
<font color="#A82F2F"><font size="2">(10:41:38 PM)</font> <b>viric:</b></font> do you have the private ca keys airgapped?<br/>
<font color="#A82F2F"><font size="2">(10:41:54 PM)</font> <b>wkennington:</b></font> unplugged smartcard<br/>
<font color="#A82F2F"><font size="2">(10:42:07 PM)</font> <b>viric:</b></font> fair<br/>
<font color="#A82F2F"><font size="2">(10:42:24 PM)</font> <b>viric:</b></font> so the point is never have the private keys available to the os<br/>
<font color="#A82F2F"><font size="2">(10:42:33 PM)</font> <b>wkennington:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(10:42:39 PM)</font> <b>viric:</b></font> how many keys can the yk hold?<br/>
<font color="#A82F2F"><font size="2">(10:42:46 PM)</font> <b>wkennington:</b></font> 3<br/>
<font color="#A82F2F"><font size="2">(10:42:52 PM)</font> <b>wkennington:</b></font> but they have purposes<br/>
<font color="#A82F2F"><font size="2">(10:43:02 PM)</font> <b>viric:</b></font> cert, sign and cipher?<br/>
<font color="#A82F2F"><font size="2">(10:43:03 PM)</font> <b>wkennington:</b></font> of course you only need one for each purpose<br/>
<font color="#A82F2F"><font size="2">(10:43:12 PM)</font> <b>wkennington:</b></font> auth, sign, decrypt<br/>
<font color="#A82F2F"><font size="2">(10:43:13 PM)</font> <b>wkennington:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(10:43:23 PM)</font> <b>viric:</b></font> ssh uses the auth?<br/>
<font color="#A82F2F"><font size="2">(10:43:26 PM)</font> <b>wkennington:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(10:43:34 PM)</font> <b>wkennington:</b></font> so does the browser<br/>
<font color="#A82F2F"><font size="2">(10:43:40 PM)</font> <b>wkennington:</b></font> if you set that up<br/>
<font color="#A82F2F"><font size="2">(10:43:45 PM)</font> <b>viric:</b></font> for the u2f?<br/>
<font color="#A82F2F"><font size="2">(10:43:47 PM)</font> <b>wkennington:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(10:43:56 PM)</font> <b>wkennington:</b></font> but it does do that too<br/>
<font color="#A82F2F"><font size="2">(10:43:56 PM)</font> <b>viric:</b></font> ah, pkcs11 or so?<br/>
<font color="#A82F2F"><font size="2">(10:43:59 PM)</font> <b>wkennington:</b></font> that&apos;s a different key<br/>
<font color="#A82F2F"><font size="2">(10:44:09 PM)</font> <b>wkennington:</b></font> u2f is completely separate<br/>
<font color="#A82F2F"><font size="2">(10:44:20 PM)</font> <b>wkennington:</b></font> and has it&apos;s own mechanisms<br/>
<font color="#A82F2F"><font size="2">(10:44:31 PM)</font> <b>viric:</b></font> ok. do you talk about https client certificates?<br/>
<font color="#A82F2F"><font size="2">(10:44:36 PM)</font> <b>wkennington:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(10:44:39 PM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(10:44:52 PM)</font> <b>wkennington:</b></font> unfortunately the ones like startssl don&apos;t allow you to bring a private key<br/>
<font color="#A82F2F"><font size="2">(10:44:54 PM)</font> <b>wkennington:</b></font> which is stupid<br/>
<font color="#A82F2F"><font size="2">(10:45:02 PM)</font> <b>wkennington:</b></font> they generate it on your behalf<br/>
<font color="#A82F2F"><font size="2">(10:45:03 PM)</font> <b>wkennington:</b></font> :/<br/>
<font color="#A82F2F"><font size="2">(10:45:06 PM)</font> <b>viric:</b></font> How not?<br/>
<font color="#A82F2F"><font size="2">(10:45:10 PM)</font> <b>viric:</b></font> They invite you not to provide<br/>
<font color="#A82F2F"><font size="2">(10:45:15 PM)</font> <b>wkennington:</b></font> there is no option<br/>
<font color="#A82F2F"><font size="2">(10:45:15 PM)</font> <b>viric:</b></font> but they allow providing, I thing<br/>
<font color="#A82F2F"><font size="2">(10:45:15 PM)</font> <b>viric:</b></font> think<br/>
<font color="#A82F2F"><font size="2">(10:45:17 PM)</font> <b>wkennington:</b></font> nope<br/>
<font size="2">(11:04:19 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
