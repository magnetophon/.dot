<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Fri 16 Jan 2015 09:35:54 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Fri 16 Jan 2015 09:35:54 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(09:35:55 AM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(09:35:55 AM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(09:37:08 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #5800: Add haskellngPackages.cabal2nix missing dependencies (master...cabal2nix_dep_fix) http://git.io/QTN7PQ<br/>
<font size="2">(09:46:13 AM)</font><b> kosmikus_ is now known as kosmikus</b><br/>
<font color="#A82F2F"><font size="2">(09:48:38 AM)</font> <b>SrPx:</b></font> uhm I don&apos;t have webkitgtk-3.0 on my list... any idea?<br/>
<font color="#A82F2F"><font size="2">(09:48:44 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 2 new commits to master: http://git.io/vUhy2g<br/>
<font color="#A82F2F"><font size="2">(09:48:44 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ed1ca39 Eric Seidel: don&apos;t use cpphs by default on darwin<br/>
<font color="#A82F2F"><font size="2">(09:48:44 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ac82dd8 Peter Simons: Merge pull request #5792 from gridaphobe/darwin-haskell-ng...<br/>
<font color="#A82F2F"><font size="2">(09:50:48 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #5788: yesod-pagination: add Haskell package (master...yesod-pagination) http://git.io/JdBKFw<br/>
<font color="#A82F2F"><font size="2">(09:52:06 AM)</font> <b>MP2E:</b></font> SrPx: it doesn&apos;t look like it is packaged, my nix-env lists webkitgtk-2.4.6 and webkitgtk-2.6.4<br/>
<font size="2">(09:53:55 AM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:55:33 AM)</font> <b>SrPx:</b></font> weird I can&apos;t find any install instruction on webkitgtk3 oO<br/>
<font color="#A82F2F"><font size="2">(10:03:29 AM)</font> <b>Lethalman:</b></font> SrPx, webkitgtk 2.6.3 is webkitgtk3<br/>
<font color="#A82F2F"><font size="2">(10:03:55 AM)</font> <b>Lethalman:</b></font> SrPx, webkitgtk3 means it&apos;s for gtk 3<br/>
<font color="#A82F2F"><font size="2">(10:03:59 AM)</font> <b>Lethalman:</b></font> it&apos;s not the webkitgtk version<br/>
<font color="#A82F2F"><font size="2">(10:05:25 AM)</font> <b>boothead:</b></font> Morning folks. I think I must have missed a step in upgrading because I have this error message: This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade! with nix-env (Nix) 1.8pre3766_809ca33 and I can&apos;t seem to do anything<br/>
<font color="#A82F2F"><font size="2">(10:06:35 AM)</font> <b>ikwildrpepper:</b></font> boothead: perhaps you have a nix installed in your user env?<br/>
<font color="#A82F2F"><font size="2">(10:06:46 AM)</font> <b>ikwildrpepper:</b></font> can you check ls -l $(which nix-env)<br/>
<font color="#A82F2F"><font size="2">(10:07:20 AM)</font> <b>boothead:</b></font> /home/ben/.nix-profile/bin/nix-env<br/>
<font color="#A82F2F"><font size="2">(10:07:26 AM)</font> <b>ikwildrpepper:</b></font> nix-env -e nix ?<br/>
<font color="#A82F2F"><font size="2">(10:07:40 AM)</font> <b>boothead:</b></font> /home/ben/.nix-profile/bin/nix-env -&gt; /nix/store/169sqhprai8bd7apkpisd868sqvb6h1l-nix-1.8/bin/nix-env<br/>
<font color="#A82F2F"><font size="2">(10:07:40 AM)</font> <b>ikwildrpepper:</b></font> or update your nix to 1.8<br/>
<font color="#A82F2F"><font size="2">(10:07:46 AM)</font> <b>ikwildrpepper:</b></font> in your user profile<br/>
<font color="#A82F2F"><font size="2">(10:08:00 AM)</font> <b>boothead:</b></font> uninstalling ?nix-1.8?<br/>
<font color="#A82F2F"><font size="2">(10:08:12 AM)</font> <b>ikwildrpepper:</b></font> what does nix-env --version say now?<br/>
<font color="#A82F2F"><font size="2">(10:08:23 AM)</font> <b>boothead:</b></font> nix-env --version gave me 1.8 before<br/>
<font color="#A82F2F"><font size="2">(10:08:30 AM)</font> <b>ikwildrpepper:</b></font> 1.8pre... i guess?<br/>
<font color="#A82F2F"><font size="2">(10:08:40 AM)</font> <b>boothead:</b></font> now its nix-env (Nix) 1.8pre3766_809ca33<br/>
<font color="#A82F2F"><font size="2">(10:08:41 AM)</font> <b>ikwildrpepper:</b></font> whoops, didn;t read properly<br/>
<font color="#A82F2F"><font size="2">(10:08:53 AM)</font> <b>ikwildrpepper:</b></font> do you perhaps have nixUnstable as your system nix?<br/>
<font color="#A82F2F"><font size="2">(10:09:11 AM)</font> <b>boothead:</b></font> and now I can&apos;t run nix-env -i nix :-)<br/>
<font color="#A82F2F"><font size="2">(10:09:19 AM)</font> <b>ikwildrpepper:</b></font> just run nix-env -i /nix/store/169sqhprai8bd7apkpisd868sqvb6h1l-nix-1.8/bin/nix-env<br/>
<font color="#A82F2F"><font size="2">(10:09:30 AM)</font> <b>ikwildrpepper:</b></font> then it&apos;ll add that path to your profile again<br/>
<font color="#A82F2F"><font size="2">(10:09:42 AM)</font> <b>boothead:</b></font> i have the nixpkgs-unstable and I usually put -I &lt;path/to/nixpkgs&gt; as well<br/>
<font color="#A82F2F"><font size="2">(10:09:59 AM)</font> <b>ikwildrpepper:</b></font> do you run NixOS ?<br/>
<font color="#A82F2F"><font size="2">(10:10:26 AM)</font> <b>boothead:</b></font> yes nixos<br/>
<font color="#A82F2F"><font size="2">(10:10:47 AM)</font> <b>ikwildrpepper:</b></font> boothead: do you use the nix.package / environment.nix option in your config?<br/>
<font color="#A82F2F"><font size="2">(10:10:59 AM)</font> <b>boothead:</b></font> I was trying to do sudo nixos-rebuild -I . switch<br/>
<font color="#A82F2F"><font size="2">(10:11:06 AM)</font> <b>boothead:</b></font> /etc/nix/nix.conf you mean?<br/>
<font color="#A82F2F"><font size="2">(10:11:15 AM)</font> <b>ikwildrpepper:</b></font> no, in your configuration.nix<br/>
<font color="#A82F2F"><font size="2">(10:12:13 AM)</font> <b>boothead:</b></font> environment.systemPackages = with pkgs; [ ...] yes<br/>
<font color="#16569E"><font size="2">(10:14:02 AM)</font> <b>magnetophon:</b></font> goibhniu: good morning!<br/>
<font color="#A82F2F"><font size="2">(10:14:09 AM)</font> <b>Lethalman:</b></font> nix-env -i /nix/store/169sqhprai8bd7apkpisd868sqvb6h1l-nix-1.8<br/>
<font color="#A82F2F"><font size="2">(10:14:12 AM)</font> <b>Lethalman:</b></font> not bin/nix-env :)<br/>
<font color="#A82F2F"><font size="2">(10:15:52 AM)</font> <b>goibhniu:</b></font> hiya magnetophon!<br/>
<font color="#16569E"><font size="2">(10:16:05 AM)</font> <b>magnetophon:</b></font> goibhniu: I added &quot;    find $out/include/  -name &quot;*.h&quot; -type f | xargs sed -i 's@#include &quot;lv2/@#include &quot;$out/include/lv2/@g' &quot; to the installPhase of lv2, but it seems like the line is not executed: the paths are as before....<br/>
<font color="#16569E"><font size="2">(10:16:12 AM)</font> <b>magnetophon:</b></font> any ideas?<br/>
<font color="#A82F2F"><font size="2">(10:16:54 AM)</font> <b>ikwildrpepper:</b></font> Lethalman: doesn&apos;t matter, both work<br/>
<font color="#A82F2F"><font size="2">(10:16:59 AM)</font> <b>Lethalman:</b></font> ikwildrpepper, oh<br/>
<font color="#A82F2F"><font size="2">(10:17:07 AM)</font> <b>ikwildrpepper:</b></font> amazing ;)<br/>
<font color="#062585"><font size="2">(10:17:25 AM)</font> <b>***ikwildrpepper</b></font> is lazy, so never feel like strippping stuff off<br/>
<font color="#A82F2F"><font size="2">(10:17:37 AM)</font> <b>Lethalman:</b></font> magnetophon, paste the whole derivation<br/>
<font color="#16569E"><font size="2">(10:18:11 AM)</font> <b>magnetophon:</b></font> Lethalman: OK, one sec.<br/>
<font color="#A82F2F"><font size="2">(10:18:51 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] 7c6f434c pushed 1 new commit to master: http://git.io/IF8GEw<br/>
<font color="#A82F2F"><font size="2">(10:18:51 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1e0d2a9 Michael Raskin: Bump allowed Firefox version for SlimerJS again, and with some reserve...<br/>
<font color="#A82F2F"><font size="2">(10:21:10 AM)</font> <b>boothead:</b></font> ikwildrpepper, do I need to get rid of that bit in my configuration.nix?<br/>
<font color="#16569E"><font size="2">(10:21:42 AM)</font> <b>magnetophon:</b></font> Lethalman: https://github.com/magnetophon/nixpkgs/compare/faust2lv2_patch_h?expand=1<br/>
<font color="#A82F2F"><font size="2">(10:22:59 AM)</font> <b>Lethalman:</b></font> magnetophon, is &quot;patch header and cpp files&quot; printed to the screen?<br/>
<font color="#A82F2F"><font size="2">(10:23:06 AM)</font> <b>ikwildrpepper:</b></font> boothead: you should remove nixUnstable if you have it in there, or make sure you have 1.8 in root&apos;s user profile<br/>
<font color="#16569E"><font size="2">(10:23:51 AM)</font> <b>magnetophon:</b></font> Lethalman: oh sorry, that part works, it's the patching of lv2 (in the bottom) that doesn't.<br/>
<font color="#A82F2F"><font size="2">(10:24:07 AM)</font> <b>Lethalman:</b></font> magnetophon, also why are you patching those .h includes?<br/>
<font color="#A82F2F"><font size="2">(10:24:10 AM)</font> <b>Lethalman:</b></font> you shouldn&apos;t<br/>
<font color="#16569E"><font size="2">(10:25:07 AM)</font> <b>magnetophon:</b></font> Yeah, I thought it was an odd thing to do myself, but I'm getting  an error in faust2lv2, saying it can't find this stuff<br/>
<font color="#16569E"><font size="2">(10:25:24 AM)</font> <b>magnetophon:</b></font> Lethalman: I'll paste the error, one sec<br/>
<font color="#A82F2F"><font size="2">(10:25:29 AM)</font> <b>Lethalman:</b></font> then you aren&apos;t specifying that stuff properly<br/>
<font color="#A82F2F"><font size="2">(10:25:40 AM)</font> <b>Lethalman:</b></font> using #include &quot;$out...&quot; is 99% wrong<br/>
<font color="#16569E"><font size="2">(10:26:09 AM)</font> <b>magnetophon:</b></font> /nix/store/pgi68dviw4j73z6wvz5x7wdn5pf4cmj3-lv2-1.10.0/include/lv2/lv2plug.in/ns/ext/dynmanifest/dynmanifest.h:30:43: fatal error: lv2/lv2plug.in/ns/lv2core/lv2.h: No such file or directory<br/>
<font color="#16569E"><font size="2">(10:26:09 AM)</font> <b>magnetophon:</b></font>  #include &quot;lv2/lv2plug.in/ns/lv2core/lv2.h<br/>
<font color="#16569E"><font size="2">(10:26:41 AM)</font> <b>magnetophon:</b></font> Lethalman: what do you mean by &quot;you aren't specifying that stuff properly&quot;<br/>
<font color="#A82F2F"><font size="2">(10:27:17 AM)</font> <b>Lethalman:</b></font> magnetophon, which happens when compiling what?<br/>
<font color="#A82F2F"><font size="2">(10:27:32 AM)</font> <b>Lethalman:</b></font> something that depends on faust?<br/>
<font color="#A82F2F"><font size="2">(10:27:55 AM)</font> <b>boothead:</b></font> ikwildrpepper, root has 1.8 and I don&apos;t seem to have nixUnstable in there... Anything else to check?<br/>
<font color="#16569E"><font size="2">(10:28:15 AM)</font> <b>magnetophon:</b></font> The above error happens when I run &quot;faust2lv2 someExample.dsp&quot;<br/>
<font color="#A82F2F"><font size="2">(10:28:26 AM)</font> <b>Lethalman:</b></font> what does this command do?<br/>
<font color="#A82F2F"><font size="2">(10:28:36 AM)</font> <b>Lethalman:</b></font> compile a C program?<br/>
<font size="2">(10:28:39 AM)</font><b> norg_ is now known as norg</b><br/>
<font color="#16569E"><font size="2">(10:29:51 AM)</font> <b>magnetophon:</b></font> Lethalman: it compiles a faust program into cpp, and then combines that cpp with some other files, and compiles that into a binary.<br/>
<font color="#A82F2F"><font size="2">(10:30:24 AM)</font> <b>boothead:</b></font> seems to be soemthing in this line that it doesn&apos;t like: if ! builtins ? nixVersion || builtins.compareVersions &quot;1.8&quot; builtins.nixVersion == 1 then<br/>
<font color="#A82F2F"><font size="2">(10:30:25 AM)</font> <b>Lethalman:</b></font> magnetophon, ah<br/>
<font color="#16569E"><font size="2">(10:30:26 AM)</font> <b>magnetophon:</b></font> Lethalman: not sure how detailed an answer you need. Ask if you want to know more<br/>
<font color="#A82F2F"><font size="2">(10:30:35 AM)</font> <b>Lethalman:</b></font> magnetophon, no that&apos;s fine<br/>
<font color="#A82F2F"><font size="2">(10:30:45 AM)</font> <b>boothead:</b></font> is there any way I can run that in a shell to see what it thinks it&apos;s got?<br/>
<font color="#A82F2F"><font size="2">(10:32:16 AM)</font> <b>boothead:</b></font> ikwildrpepper, is my .nix-channels correct: http://nixos.org/channels/nixos-unstable nixos<br/>
<font color="#A82F2F"><font size="2">(10:33:05 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] DamienCassou opened pull request #5802: Update backintime to 1.1.0 (master...backintime-1.1.0) http://git.io/_FDg5Q<br/>
<font color="#A82F2F"><font size="2">(10:33:13 AM)</font> <b>goibhniu:</b></font> magnetophon: are you debugging with nix-shell and all that good stuff?<br/>
<font color="#A82F2F"><font size="2">(10:33:34 AM)</font> <b>ewemoa:</b></font> MP2E: i&apos;m making another attempt at nixpkgs on android via arch linux -- i got nix installed and am trying to build something in nixpkgs, but for some reason none of the downloading works (though command line downloading with curl, wget, etc. works) -- any ideas how to investigate causes?<br/>
<font color="#16569E"><font size="2">(10:33:51 AM)</font> <b>magnetophon:</b></font> goibhniu: no, when I try to go into nix-shell, NixOS is rebuilding way to much stuff<br/>
<font color="#16569E"><font size="2">(10:34:15 AM)</font> <b>magnetophon:</b></font> goibhniu: even if I do it from a branch based on 14.12<br/>
<font color="#A82F2F"><font size="2">(10:34:21 AM)</font> <b>trino:</b></font> ewemoa: possibly a ram issue?<br/>
<font color="#A82F2F"><font size="2">(10:34:35 AM)</font> <b>Lethalman:</b></font> magnetophon, anything particular in your ~/.nixpkgs/config.nix?<br/>
<font color="#A82F2F"><font size="2">(10:34:49 AM)</font> <b>ewemoa:</b></font> trino: hmm...a ram issue?<br/>
<font color="#A82F2F"><font size="2">(10:35:00 AM)</font> <b>Lethalman:</b></font> magnetophon, if nix is rebuilding too much stuff, it&apos;s because you did something wrong or it&apos;s unstable to connect to the network<br/>
<font color="#A82F2F"><font size="2">(10:35:08 AM)</font> <b>Lethalman:</b></font> or something like that<br/>
<font color="#16569E"><font size="2">(10:35:26 AM)</font> <b>magnetophon:</b></font> Lethalman: no such file<br/>
<font color="#A82F2F"><font size="2">(10:35:43 AM)</font> <b>trino:</b></font> ewemoa: i mean probably you do not have enough ram. check it out whats free while you try to install<br/>
<font color="#A82F2F"><font size="2">(10:36:07 AM)</font> <b>Lethalman:</b></font> magnetophon, how are you running nix-shell?<br/>
<font color="#16569E"><font size="2">(10:36:45 AM)</font> <b>magnetophon:</b></font> Lethalman: nix-shell ~/source/nixpkgs -A faust <br/>
<font color="#A82F2F"><font size="2">(10:37:22 AM)</font> <b>Lethalman:</b></font> well that&apos;s fine, recheck you are really after a commit with binary cache<br/>
<font color="#16569E"><font size="2">(10:37:56 AM)</font> <b>magnetophon:</b></font> Lethalman: what do you mean by &quot;after a commit with binary cache:<br/>
<font color="#16569E"><font size="2">(10:38:20 AM)</font> <b>magnetophon:</b></font> s/:/&quot;<br/>
<font color="#A82F2F"><font size="2">(10:38:26 AM)</font> <b>Lethalman:</b></font> magnetophon, what commit are you using of the 14.12 branch?<br/>
<font color="#A82F2F"><font size="2">(10:38:39 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] grwlf opened pull request #5803: utf8proc: add the library (master...utf8proc) http://git.io/qjX0sg<br/>
<font color="#A82F2F"><font size="2">(10:38:39 AM)</font> <b>Lethalman:</b></font> magnetophon, I mean do a git log, make sure you are really based on top of that commit<br/>
<font color="#A82F2F"><font size="2">(10:39:51 AM)</font> <b>ewemoa:</b></font> trino: the following is the sort of thing i see during nix-build: https://pastee.org/mwnks<br/>
<font color="#A82F2F"><font size="2">(10:40:47 AM)</font> <b>trino:</b></font> ewemoa: ok looking good; sorry dont have any clue then :/<br/>
<font color="#A82F2F"><font size="2">(10:40:55 AM)</font> <b>ewemoa:</b></font> trino: np, thanks anyway :)<br/>
<font color="#16569E"><font size="2">(10:41:01 AM)</font> <b>magnetophon:</b></font> Lethalman: I just do &quot;git checkout upstream/release-14.12&quot;, and then work in my changes.  How &lt;am&gt; I supposed to do it? <br/>
<font color="#A82F2F"><font size="2">(10:41:30 AM)</font> <b>Lethalman:</b></font> magnetophon, what is it building that it shouldn&apos;t build?<br/>
<font color="#A82F2F"><font size="2">(10:41:50 AM)</font> <b>Lethalman:</b></font> should be using the binary cache<br/>
<font color="#16569E"><font size="2">(10:43:08 AM)</font> <b>magnetophon:</b></font> Lethalman: I'm trying it again. of the top of my head: pango<br/>
<font color="#16569E"><font size="2">(10:45:13 AM)</font> <b>magnetophon:</b></font> Lethalman: http://nixpaste.noip.me/nnMdVoMR<br/>
<font color="#A82F2F"><font size="2">(10:45:59 AM)</font> <b>Lethalman:</b></font> no idea I&apos;d need some little more information than that<br/>
<font color="#16569E"><font size="2">(10:47:05 AM)</font> <b>magnetophon:</b></font> Lethalman: well, when I &quot;nixos-rebuild test&quot; it builds a lot less. (that is the info you need right?)<br/>
<font color="#A82F2F"><font size="2">(10:47:15 AM)</font> <b>Lethalman:</b></font> no<br/>
<font color="#16569E"><font size="2">(10:47:35 AM)</font> <b>magnetophon:</b></font> oh... :(<br/>
<font color="#A82F2F"><font size="2">(10:47:36 AM)</font> <b>goibhniu:</b></font> magnetophon: you probably also want to set the release-14.12 branch to the commit of a channel<br/>
<font color="#A82F2F"><font size="2">(10:47:39 AM)</font> <b>Lethalman:</b></font> git diff upstream/release-14.12..HEAD<br/>
<font color="#A82F2F"><font size="2">(10:47:41 AM)</font> <b>Lethalman:</b></font> for example<br/>
<font color="#A82F2F"><font size="2">(10:48:21 AM)</font> <b>Lethalman:</b></font> and what is upstream? nixos/nixpkgs or something else?<br/>
<font color="#16569E"><font size="2">(10:48:24 AM)</font> <b>magnetophon:</b></font> goibhniu: I don't understand<br/>
<font color="#A82F2F"><font size="2">(10:48:36 AM)</font> <b>goibhniu:</b></font> magnetophon: I think 9164307 is the current revision<br/>
<font color="#A82F2F"><font size="2">(10:48:58 AM)</font> <b>MP2E:</b></font> ewemoa: not sure sorry, I checked the fetchurl script and it says it just uses curl to download :x<br/>
<font color="#A82F2F"><font size="2">(10:49:09 AM)</font> <b>goibhniu:</b></font> magnetophon: just because you&apos;re using the release branch doesn&apos;t mean that the particular revision successfully created a channel<br/>
<font color="#A82F2F"><font size="2">(10:49:21 AM)</font> <b>MP2E:</b></font> maybe there&apos;s a version discrepancy?<br/>
<font color="#A82F2F"><font size="2">(10:49:27 AM)</font> <b>MP2E:</b></font> i.e. busybox curl vs curl standalone<br/>
<font color="#A82F2F"><font size="2">(10:50:04 AM)</font> <b>Lethalman:</b></font> goibhniu, it&apos;s the latest commit of release-14.12<br/>
<font color="#A82F2F"><font size="2">(10:50:33 AM)</font> <b>ewemoa:</b></font> MP2E: thanks for checking<br/>
<font color="#A82F2F"><font size="2">(10:50:49 AM)</font> <b>Lethalman:</b></font> but he may have an old version of 14.12 if he hasn&apos;t update it since a while<br/>
<font color="#A82F2F"><font size="2">(10:50:54 AM)</font> <b>goibhniu:</b></font> magnetophon: if you follow the link https://nixos.org/channels/nixos-14.12/ you get to https://nixos.org/releases/nixos/14.12/nixos-14.12.323.9164307/ which shows the revision of the channel at the end<br/>
<font color="#A82F2F"><font size="2">(10:50:58 AM)</font> <b>ewemoa:</b></font> i&apos;m using an old commit to avoid a diff error, may be there are other broken parts then...<br/>
<font color="#A82F2F"><font size="2">(10:52:07 AM)</font> <b>goibhniu:</b></font> magnetophon: alternatively, you can use the revision of nixpkgs which your system is currently using ... you can see this with `nixos-version`<br/>
<font color="#A82F2F"><font size="2">(10:52:18 AM)</font> <b>goibhniu:</b></font> then you shouldn&apos;t even need to download stuff<br/>
<font color="#062585"><font size="2">(10:52:34 AM)</font> <b>***goibhniu</b></font> mostly does it like that<br/>
<font color="#16569E"><font size="2">(10:52:56 AM)</font> <b>magnetophon:</b></font> Lethalman: git diff upstream/release-14.12..HEAD | nixpaste<br/>
<font color="#16569E"><font size="2">(10:52:56 AM)</font> <b>magnetophon:</b></font> No data<br/>
<font color="#A82F2F"><font size="2">(10:53:15 AM)</font> <b>goibhniu:</b></font> magnetophon: what revision are you at?<br/>
<font color="#A82F2F"><font size="2">(10:53:25 AM)</font> <b>Lethalman:</b></font> magnetophon, can you paste a git log? I think you are messing with git<br/>
<font color="#A82F2F"><font size="2">(10:54:01 AM)</font> <b>Lethalman:</b></font> git log HEAD~10..<br/>
<font color="#A82F2F"><font size="2">(10:54:02 AM)</font> <b>Lethalman:</b></font> for example<br/>
<font color="#16569E"><font size="2">(10:54:04 AM)</font> <b>magnetophon:</b></font> goibhniu:  nixos-version    14.12.298.0667587 (Caterpillar)<br/>
<font color="#A82F2F"><font size="2">(10:54:20 AM)</font> <b>Lethalman:</b></font> magnetophon, no that&apos;s the revision of nixos not of your repository necessarily<br/>
<font color="#A82F2F"><font size="2">(10:54:30 AM)</font> <b>Lethalman:</b></font> please paste a git log of at least 10 commits or whatelse<br/>
<font color="#A82F2F"><font size="2">(10:54:40 AM)</font> <b>Lethalman:</b></font> at least where we can see the first commit not made by you<br/>
<font color="#16569E"><font size="2">(10:55:33 AM)</font> <b>magnetophon:</b></font> Lethalman: http://nixpaste.noip.me/q7DbL7kW<br/>
<font color="#A82F2F"><font size="2">(10:56:02 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] grwlf closed pull request #5803: utf8proc: add the library (master...utf8proc) http://git.io/qjX0sg<br/>
<font color="#16569E"><font size="2">(10:56:21 AM)</font> <b>magnetophon:</b></font> goibhniu: how do I get my revision?<br/>
<font color="#A82F2F"><font size="2">(10:56:34 AM)</font> <b>nkar:</b></font> I can&apos;t seem to find the gold linker in nixpkgs.  is it really missing?<br/>
<font color="#A82F2F"><font size="2">(10:56:51 AM)</font> <b>Lethalman:</b></font> magnetophon, it&apos;s too old<br/>
<font color="#A82F2F"><font size="2">(10:56:59 AM)</font> <b>Lethalman:</b></font> magnetophon, update it<br/>
<font color="#16569E"><font size="2">(10:57:10 AM)</font> <b>magnetophon:</b></font> Lethalman: git pull?<br/>
<font color="#A82F2F"><font size="2">(10:57:17 AM)</font> <b>MP2E:</b></font> nkar: &apos;binutils = pkgs.binutils.override { gold = true; };&apos; is what you need to get it working<br/>
<font color="#A82F2F"><font size="2">(10:57:18 AM)</font> <b>Lethalman:</b></font> magnetophon, I don&apos;t know your flow honestly<br/>
<font color="#A82F2F"><font size="2">(10:57:34 AM)</font> <b>goibhniu:</b></font> magnetophon: you can see it at the top of the log<br/>
<font color="#16569E"><font size="2">(10:57:34 AM)</font> <b>magnetophon:</b></font> Lethalman: me neither ;)<br/>
<font color="#A82F2F"><font size="2">(10:57:48 AM)</font> <b>goibhniu:</b></font> magnetophon: `git pull` will do it :D<br/>
<font color="#A82F2F"><font size="2">(10:58:42 AM)</font> <b>nkar:</b></font> MP2E: cool!  so will ghc use it if I add the above to my shell.nix?<br/>
<font color="#16569E"><font size="2">(11:00:46 AM)</font> <b>magnetophon:</b></font> goibhniu: You are not currently on a branch...  And when I do &quot;git pull upstream upstream/release-14.12&quot; I get: &quot;fatal: Couldn't find remote ref upstream/release-14.12&quot;<br/>
<font color="#062585"><font size="2">(11:01:28 AM)</font> <b>***magnetophon</b></font> needs to learn git a lot better...<br/>
<font color="#A82F2F"><font size="2">(11:01:34 AM)</font> <b>Lethalman:</b></font> I knew it<br/>
<font color="#A82F2F"><font size="2">(11:01:51 AM)</font> <b>Lethalman:</b></font> magnetophon, so let&apos;s do this<br/>
<font color="#A82F2F"><font size="2">(11:01:55 AM)</font> <b>Lethalman:</b></font> magnetophon, git checkout master<br/>
<font color="#A82F2F"><font size="2">(11:02:02 AM)</font> <b>Lethalman:</b></font> magnetophon, git checkout release-14.12<br/>
<font color="#A82F2F"><font size="2">(11:02:06 AM)</font> <b>Lethalman:</b></font> magnetophon, git pull<br/>
<font color="#A82F2F"><font size="2">(11:02:59 AM)</font> <b>Lethalman:</b></font> magnetophon, if you did any changes, please commit them and write down the hash of the commit, then git checkout master<br/>
<font color="#A82F2F"><font size="2">(11:03:14 AM)</font> <b>goibhniu:</b></font> magnetophon: yeah, git can be quite painful and complicated :/<br/>
<font color="#A82F2F"><font size="2">(11:03:26 AM)</font> <b>Lethalman:</b></font> git is quite simple except nobody reads how it works<br/>
<font color="#062585"><font size="2">(11:04:00 AM)</font> <b>***goibhniu</b></font> just looked for a simple command to show your current revision ... and found at least 10 different, correct answers<br/>
<font color="#A82F2F"><font size="2">(11:04:16 AM)</font> <b>Lethalman:</b></font> that has nothing to do neither with being painful nor complicated<br/>
<font color="#A82F2F"><font size="2">(11:04:36 AM)</font> <b>Lethalman:</b></font> having 10 different possibilities is exactly because it has simple concepts<br/>
<font color="#A82F2F"><font size="2">(11:04:36 AM)</font> <b>MP2E:</b></font> nkar: not sure, i&apos;m new to creating shell.nix files myself :P the line I suggested is typically put in a package override in your ~/.nixpkgs/config.nix. You could put http://lpaste.net/118562 in your ~/.nixpkgs/config.nix<br/>
<font color="#A82F2F"><font size="2">(11:04:43 AM)</font> <b>Lethalman:</b></font> not because it&apos;s complicated<br/>
<font color="#A82F2F"><font size="2">(11:04:47 AM)</font> <b>MP2E:</b></font> nkar: and then make your shell.nix depend on binutils_gold instead.<br/>
<font color="#A82F2F"><font size="2">(11:04:54 AM)</font> <b>MP2E:</b></font> (instead of binutils)<br/>
<font color="#16569E"><font size="2">(11:05:23 AM)</font> <b>magnetophon:</b></font> Lethalman: The committing changes I should have done before the other commands right?  (I &lt;did&gt;, just want to check...) <br/>
<font color="#A82F2F"><font size="2">(11:05:38 AM)</font> <b>Lethalman:</b></font> magnetophon, yes before the other commands<br/>
<font color="#A82F2F"><font size="2">(11:05:49 AM)</font> <b>Lethalman:</b></font> just commit whatever you have dirty, no worries<br/>
<font color="#A82F2F"><font size="2">(11:05:54 AM)</font> <b>Lethalman:</b></font> and write down the hash of the commit<br/>
<font color="#16569E"><font size="2">(11:06:31 AM)</font> <b>magnetophon:</b></font> I didn't do that, but I have the branch I linked to earlier<br/>
<font color="#16569E"><font size="2">(11:07:14 AM)</font> <b>magnetophon:</b></font> Lethalman: ^^<br/>
<font color="#A82F2F"><font size="2">(11:07:36 AM)</font> <b>Lethalman:</b></font> magnetophon, you don&apos;t have anything dirty in your working directory?<br/>
<font color="#A82F2F"><font size="2">(11:07:39 AM)</font> <b>Lethalman:</b></font> you didn&apos;t change any file?^<br/>
<font color="#A82F2F"><font size="2">(11:07:52 AM)</font> <b>nkar:</b></font> MP2E: I&apos;d rather do it in shell.nix if possible, so I could reduce the number of files to ship<br/>
<font color="#A82F2F"><font size="2">(11:08:01 AM)</font> <b>nkar:</b></font> MP2E: but thanks for the tips anyway!<br/>
<font color="#16569E"><font size="2">(11:08:32 AM)</font> <b>magnetophon:</b></font> Lethalman: not yet. I was about to re-save the defau;t.nix files that I changed. That's what you mean, right?<br/>
<font color="#A82F2F"><font size="2">(11:08:51 AM)</font> <b>Lethalman:</b></font> magnetophon, I mean, save somewhere whatever you changed :(<br/>
<font color="#A82F2F"><font size="2">(11:08:55 AM)</font> <b>Lethalman:</b></font> since you may be losing it<br/>
<font color="#A82F2F"><font size="2">(11:09:01 AM)</font> <b>Lethalman:</b></font> save it in whatever you want<br/>
<font color="#A82F2F"><font size="2">(11:09:06 AM)</font> <b>Lethalman:</b></font> do a git commit, copy the files<br/>
<font color="#A82F2F"><font size="2">(11:09:08 AM)</font> <b>Lethalman:</b></font> don&apos;t know<br/>
<font color="#16569E"><font size="2">(11:10:15 AM)</font> <b>magnetophon:</b></font> Lethalman: yeah, I have my changes pushed to github.  You just read them, some minutes ago. Am I misunderstanding you?<br/>
<font color="#A82F2F"><font size="2">(11:10:32 AM)</font> <b>Lethalman:</b></font> :S<br/>
<font color="#A82F2F"><font size="2">(11:11:01 AM)</font> <b>Lethalman:</b></font> magnetophon, try doing the commands above<br/>
<font color="#A82F2F"><font size="2">(11:11:03 AM)</font> <b>Lethalman:</b></font> then learn git<br/>
<font color="#A82F2F"><font size="2">(11:11:12 AM)</font> <b>Lethalman:</b></font> can&apos;t tell you anything better sorry<br/>
<font color="#16569E"><font size="2">(11:11:30 AM)</font> <b>magnetophon:</b></font> Lethalman: NP. I already did those commands.<br/>
<font color="#A82F2F"><font size="2">(11:11:34 AM)</font> <b>Lethalman:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(11:11:38 AM)</font> <b>DamienCassou:</b></font> hi everyone<br/>
<font color="#A82F2F"><font size="2">(11:11:46 AM)</font> <b>Lethalman:</b></font> magnetophon, so you should have an up-to-date 14.12 branch<br/>
<font color="#A82F2F"><font size="2">(11:11:58 AM)</font> <b>Lethalman:</b></font> what&apos;s in git log now again?<br/>
<font color="#16569E"><font size="2">(11:12:07 AM)</font> <b>magnetophon:</b></font> Lethalman: I do. one sec<br/>
<font color="#16569E"><font size="2">(11:12:42 AM)</font> <b>magnetophon:</b></font> Lethalman: http://nixpaste.noip.me/VjSmxhIy<br/>
<font color="#16569E"><font size="2">(11:13:40 AM)</font> <b>magnetophon:</b></font> Lethalman: so now I re-apply my changes, and retry the nix-shell, right?<br/>
<font color="#A82F2F"><font size="2">(11:13:51 AM)</font> <b>Lethalman:</b></font> magnetophon, yes<br/>
<font color="#16569E"><font size="2">(11:16:48 AM)</font> <b>magnetophon:</b></font> Lethalman: OK, then I understood you correctly the first time around.  Anyway, I'm still getting that big list of stuff being built.  Should I &quot;nixos-rebuild switch --upgrade&quot;? <br/>
<font color="#A82F2F"><font size="2">(11:20:16 AM)</font> <b>goibhniu:</b></font> magnetophon: alternatively, `git checkout -b my-nixos-rev 0667587` will get you a branch with the same revision of your current system<br/>
<font color="#16569E"><font size="2">(11:22:01 AM)</font> <b>magnetophon:</b></font> goibhniu: OK I went along and did an upgrade, and it's just creating a new ssh, nix, and curl, so I'm concluding my system is fairly up to date and that was not the reason for the big  nix-shell rebuild<br/>
<font color="#A82F2F"><font size="2">(11:23:06 AM)</font> <b>goibhniu:</b></font> magnetophon: and you haven&apos;t got some overrides in your ~/.nixpkgs/config.nix ?<br/>
<font color="#A82F2F"><font size="2">(11:24:07 AM)</font> <b>Lethalman:</b></font> magnetophon, no nix-shell has nothing to do with nixos-rebuild<br/>
<font color="#A82F2F"><font size="2">(11:24:17 AM)</font> <b>ewemoa:</b></font> MP2E: i don&apos;t have the problem w/ nix 1.7 -- downgrading from 1.8 seemed to have fixed things<br/>
<font color="#16569E"><font size="2">(11:25:29 AM)</font> <b>magnetophon:</b></font> goibhniu: wait, now it IS rebuilding lots of stuff (due to the upgrade).... hmmm....   And no, nothing in there, but I &lt;do&gt; have some overides  in my NixOS config, namely faust and faust-compiler.<br/>
<font color="#16569E"><font size="2">(11:27:43 AM)</font> <b>magnetophon:</b></font> Lethalman: I figured nix-shell would create anything it needs that is not in my store already. And since I'd be downloading upgrades that way anyway, I might as well install them system-wide.   Did I misunderstand?<br/>
<font color="#A82F2F"><font size="2">(11:28:14 AM)</font> <b>goibhniu:</b></font> magnetophon: rebuilding, or downloading?<br/>
<font color="#16569E"><font size="2">(11:28:37 AM)</font> <b>magnetophon:</b></font> downloading<br/>
<font color="#A82F2F"><font size="2">(11:30:06 AM)</font> <b>Lethalman:</b></font> magnetophon, well that&apos;s normal then<br/>
<font size="2">(11:35:56 AM)</font><b> niksnut_ is now known as niksnut</b><br/>
<font color="#A82F2F"><font size="2">(11:37:00 AM)</font> <b>MP2E:</b></font> ewemoa: there are a lot of commits between v1.7 and v1.8 so i can&apos;t check them all but it looks like a few flags were added to the curl call, perhaps they require a newer version of curl than you have?<br/>
<font color="#A82F2F"><font size="2">(11:37:13 AM)</font> <b>MP2E:</b></font> fwiw mine says : curl 7.39.0 (x86_64-unknown-linux-gnu) libcurl/7.39.0 OpenSSL/1.0.1k zlib/1.2.8 libssh2/1.4.3<br/>
<font color="#A82F2F"><font size="2">(11:51:48 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] MP2E closed pull request #5793: Add package: e (master...add-e) http://git.io/KAUCpQ<br/>
<font color="#A82F2F"><font size="2">(11:54:51 AM)</font> <b>ewemoa:</b></font> MP2E: the curl that is in the arch chroot has matching versions to yours -- the only diff appears to be the architecture portion -- am i looking at the right binary?<br/>
<font color="#A82F2F"><font size="2">(11:55:16 AM)</font> <b>MP2E:</b></font> hm should be, ok so it&apos;s something else then. Does it give you any particular error?<br/>
<font color="#A82F2F"><font size="2">(11:55:29 AM)</font> <b>ewemoa:</b></font> what i see is just downloading<br/>
