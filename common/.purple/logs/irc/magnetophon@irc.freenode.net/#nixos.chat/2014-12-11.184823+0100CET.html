<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 11 Dec 2014 06:48:23 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 11 Dec 2014 06:48:23 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(06:48:23 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(06:48:23 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#062585"><font size="2">(06:48:37 PM)</font> <b>***kmicu</b></font> thinks why this is not enabled by default…<br/>
<font color="#A82F2F"><font size="2">(06:50:00 PM)</font> <b>goibhniu:</b></font> hmm, I wonder if you can use fetchgit within the configuration.nix, pin a version of a repo with your configuration, and use that to label the generation<br/>
<font size="2">(06:50:42 PM)</font><b> DamienCassou left the room (quit: Quit: Leaving.).</b><br/>
<font size="2">(06:51:29 PM)</font><b> omicrondelta1 [<em>~dwhyte@d205-206-156-61.abhsia.telus.net</em>] entered the room.</b><br/>
<font size="2">(06:52:10 PM)</font><b> torpet [<em>~torpet@84-115-42-228.dynamic.surfer.at</em>] entered the room.</b><br/>
<font size="2">(06:53:08 PM)</font><b> omicrondelta left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(06:53:16 PM)</font> <b>goibhniu:</b></font> asgar: what do you mean?<br/>
<font color="#A82F2F"><font size="2">(06:53:30 PM)</font> <b>asgar:</b></font> 2) I use slim als displayManager and want to change the default session type to xfce. there seems to be no option for this (searched for slim on the Search Nixos options page), so what&apos;s the nixos way to change this setting?<br/>
<font size="2">(06:53:38 PM)</font><b> ambro718 [<em>~ambro@gentoo/contributor/ambro718</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:53:51 PM)</font> <b>goibhniu:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(06:54:34 PM)</font> <b>asgar:</b></font> I think I figured out that sessions are handled elsewhere, but I have the same problem with other SLiM settings, like focus_password, which I would prefer enabled<br/>
<font color="#062585"><font size="2">(06:54:38 PM)</font> <b>***goibhniu</b></font> thought there was an option for default desktop manager<br/>
<font color="#062585"><font size="2">(06:54:49 PM)</font> <b>***kmicu</b></font> is not really happy with deprecated SLiM as default DM in NixOS :/<br/>
<font color="#A82F2F"><font size="2">(06:55:07 PM)</font> <b>goibhniu:</b></font> but in general, you can always add extra options to the nixos modules if you need them<br/>
<font color="#A82F2F"><font size="2">(06:55:14 PM)</font> <b>Lethalman:</b></font> asgar, you can add extra config to slim I think<br/>
<font color="#A82F2F"><font size="2">(06:55:38 PM)</font> <b>Lethalman:</b></font> &quot;Note: SLiM no longer supports a &apos;default&apos; session where multiple sessions have been enabled&quot;<br/>
<font color="#062585"><font size="2">(06:56:21 PM)</font> <b>***kmicu</b></font> just read that at Arch wiki :)<br/>
<font color="#16569E"><font size="2">(06:56:56 PM)</font> <b>magnetophon:</b></font> I'm trying to package rtirq as a service, but I'm not sure how to procede. This is what I've got so far: https://github.com/magnetophon/nixpkgs/compare/rtirq?expand=1<br/>
<font size="2">(06:57:01 PM)</font><b> omicrondelta1 left the room (quit: Quit: Leaving.).</b><br/>
<font size="2">(06:57:01 PM)</font><b> torpet left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(06:57:02 PM)</font> <b>asgar:</b></font> Alright, but the underlying question still stands: How do I change an option of any configuration if it&apos;s not exposed by an nix option?<br/>
<font color="#A82F2F"><font size="2">(06:57:18 PM)</font> <b>kmicu:</b></font> Add it.<br/>
<font size="2">(06:57:24 PM)</font><b> omicrondelta [<em>~dwhyte@d205-206-156-61.abhsia.telus.net</em>] entered the room.</b><br/>
<font size="2">(06:57:37 PM)</font><b> skiold left the room (quit: Quit: WeeChat 0.4.3).</b><br/>
<font size="2">(06:58:50 PM)</font><b> civodul [<em>~user@gateway/tor-sasl/civodul</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(06:59:10 PM)</font> <b>magnetophon:</b></font> I just got called for dinner. BRB<br/>
<font color="#A82F2F"><font size="2">(06:59:15 PM)</font> <b>goibhniu:</b></font> magnetophon: looking good!<br/>
<font size="2">(06:59:16 PM)</font><b> torpet [<em>~torpet@84-115-42-228.dynamic.surfer.at</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:00:16 PM)</font> <b>goibhniu:</b></font> magnetophon: I think you should do most of the stuff you have in the package installPhase in the module<br/>
<font color="#A82F2F"><font size="2">(07:01:46 PM)</font> <b>goibhniu:</b></font> meh, maybe not<br/>
<font color="#A82F2F"><font size="2">(07:01:46 PM)</font> <b>asgar:</b></font> kmicu, where can I read up on that?<br/>
<font size="2">(07:01:46 PM)</font><b> Lethalman left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(07:02:01 PM)</font> <b>kmicu:</b></font> About adjusting modules in NixOS manual and about adjusting Nix in Nix manual (also wiki has a good examples). :)<br/>
<font color="#A82F2F"><font size="2">(07:02:45 PM)</font> <b>kmicu:</b></font> Or you could just look at SLiM’s default.nix in repo.<br/>
<font color="#A82F2F"><font size="2">(07:03:17 PM)</font> <b>asgar:</b></font> I see, thanks for the pointers<br/>
<font color="#A82F2F"><font size="2">(07:03:17 PM)</font> <b>asgar:</b></font> I forgot about the wiki %-)<br/>
<font size="2">(07:03:42 PM)</font><b> torpet left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(07:04:18 PM)</font><b> civodul left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(07:05:31 PM)</font><b> elifrey [<em>~elifrey@2601:8:9f00:3b:7d97:4c6:95d1:6c60</em>] entered the room.</b><br/>
<font size="2">(07:06:23 PM)</font><b> jb55 [<em>~jb55@208.98.200.98</em>] entered the room.</b><br/>
<font size="2">(07:06:51 PM)</font><b> justbeingglad [<em>~justbeing@dyn899-57.eduroam.ic.ac.uk</em>] entered the room.</b><br/>
<font size="2">(07:06:51 PM)</font><b> justbeingglad left the room.</b><br/>
<font size="2">(07:06:51 PM)</font><b> rost left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font size="2">(07:06:56 PM)</font><b> torpet [<em>~torpet@84-115-42-228.dynamic.surfer.at</em>] entered the room.</b><br/>
<font size="2">(07:07:25 PM)</font><b> civodul [<em>~user@gateway/tor-sasl/civodul</em>] entered the room.</b><br/>
<font size="2">(07:09:55 PM)</font><b> ambro718 left the room (quit: Quit: Konversation terminated!).</b><br/>
<font size="2">(07:11:40 PM)</font><b> gilligan__ [<em>~gilligan@p5492E897.dip0.t-ipconnect.de</em>] entered the room.</b><br/>
<font size="2">(07:12:14 PM)</font><b> rost [<em>~rost@gateway/tor-sasl/rost</em>] entered the room.</b><br/>
<font size="2">(07:15:14 PM)</font><b> gilligan_ left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font size="2">(07:15:27 PM)</font><b> gilligan__ is now known as gilligan_</b><br/>
<font size="2">(07:15:39 PM)</font><b> ambro718 [<em>~ambro@gentoo/contributor/ambro718</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:16:05 PM)</font> <b>ambro718:</b></font> How do I override a nixos module which defines a systemd service (so that there is no service)?<br/>
<font size="2">(07:20:51 PM)</font><b> Hermit [<em>~hermit@unaffiliated/grpala</em>] entered the room.</b><br/>
<font size="2">(07:22:11 PM)</font><b> jb55 left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(07:22:44 PM)</font><b> jb55 [<em>~jb55@208.98.200.98</em>] entered the room.</b><br/>
<font size="2">(07:32:51 PM)</font><b> JagaJaga [<em>~JagaJaga@178.62.202.50</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(07:33:02 PM)</font> <b>magnetophon:</b></font> goibhniu: I'm a bit stuck on how to put the options in the config-file, and also where to put the created configfile.  Any examples you could point me to?<br/>
<font size="2">(07:34:51 PM)</font><b> torpet left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(07:36:20 PM)</font><b> vcunat left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font size="2">(07:37:02 PM)</font><b> Takle [<em>~takle@0206701425.0.fullrate.dk</em>] entered the room.</b><br/>
<font size="2">(07:37:32 PM)</font><b> asgar left the room (quit: Quit: -1).</b><br/>
<font size="2">(07:44:54 PM)</font><b> nslqqq1 left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font size="2">(07:48:09 PM)</font><b> notthemessiah left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(07:49:15 PM)</font> <b>goibhniu:</b></font> magnetophon: hmm .. how about nixos/modules/services/audio/alsa.nix ?<br/>
<font color="#A82F2F"><font size="2">(07:49:34 PM)</font> <b>goibhniu:</b></font> it writes to a file and runs something<br/>
<font size="2">(07:49:37 PM)</font><b> med\ [<em>~med@105.104.1.156</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(07:51:25 PM)</font> <b>magnetophon:</b></font> goibhniu: The file it writes is asound.conf right?<br/>
<font size="2">(07:51:36 PM)</font><b> wscott left the room (&quot;Leaving&quot;).</b><br/>
<font size="2">(07:53:19 PM)</font><b> echo_oddly [<em>~echo_oddl@71-13-254-206.dhcp.ftbg.wi.charter.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:53:53 PM)</font> <b>goibhniu:</b></font> magnetophon: yeah, /etc/asound.conf<br/>
<font color="#16569E"><font size="2">(07:54:37 PM)</font> <b>magnetophon:</b></font> goibhniu: ah, so that is where it ends up. OK, I think I can make this work. Thanks!<br/>
<font color="#A82F2F"><font size="2">(07:54:42 PM)</font> <b>goibhniu:</b></font> (which is linked to the store)<br/>
<font color="#A82F2F"><font size="2">(07:54:47 PM)</font> <b>goibhniu:</b></font> great!<br/>
<font color="#16569E"><font size="2">(07:55:03 PM)</font> <b>magnetophon:</b></font> goibhniu: linked to the store???<br/>
<font color="#A82F2F"><font size="2">(07:55:53 PM)</font> <b>goibhniu:</b></font> if you run `readlink -f /etc/asound.conf` you&apos;ll see that it&apos;s in the store .. but that&apos;s just handled by environment.etc IIUC<br/>
<font color="#16569E"><font size="2">(07:56:47 PM)</font> <b>magnetophon:</b></font> goibhniu: OK, so in the rtirq.sh script (the one doing the actual work) I just point it to /etc/rtirq.conf?<br/>
<font color="#A82F2F"><font size="2">(07:57:15 PM)</font> <b>goibhniu:</b></font> yeah, that should work, maybe there&apos;s a better way though<br/>
<font color="#A82F2F"><font size="2">(07:57:59 PM)</font> <b>goibhniu:</b></font> at least it&apos;s an example of a service which writes to a file and runs something<br/>
<font color="#16569E"><font size="2">(07:59:10 PM)</font> <b>magnetophon:</b></font> goibhniu: ok. I'll just try and make it work like that, and then maybe one of the guru's can give me feedback. Thanks again<br/>
<font size="2">(08:05:54 PM)</font><b> gilligan_ left the room (quit: Quit: Leaving).</b><br/>
<font size="2">(08:14:26 PM)</font><b> mizu_no_oto left the room (quit: Quit: [&quot;Textual IRC Client: www.textualapp.com&quot;]).</b><br/>
<font size="2">(08:16:36 PM)</font><b> drangewdk left the room (quit: Quit: Nettalk6 - www.ntalk.de).</b><br/>
<font size="2">(08:18:26 PM)</font><b> wmertens left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(08:24:29 PM)</font><b> page left the room (quit: Ping timeout: 260 seconds).</b><br/>
<font size="2">(08:30:01 PM)</font><b> wmertens [<em>~wmertens@89-67-218-35.dynamic.chello.pl</em>] entered the room.</b><br/>
<font size="2">(08:34:14 PM)</font><b> Lowl3v3l left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(08:38:38 PM)</font><b> chrisfarms left the room (quit: Ping timeout: 258 seconds).</b><br/>
<font size="2">(08:41:26 PM)</font><b> Lowl3v3l [<em>~Lowl3v3l@95.90.213.220</em>] entered the room.</b><br/>
<font size="2">(08:43:39 PM)</font><b> mizu_no_oto [<em>~textual@c-76-24-18-193.hsd1.ma.comcast.net</em>] entered the room.</b><br/>
<font size="2">(08:47:59 PM)</font><b> wmertens left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(08:49:43 PM)</font><b> wmertens [<em>~wmertens@89-67-218-35.dynamic.chello.pl</em>] entered the room.</b><br/>
<font size="2">(08:52:36 PM)</font><b> chrisfarms [<em>~chatzilla@cpc68956-brig15-2-0-cust219.3-3.cable.virginm.net</em>] entered the room.</b><br/>
<font size="2">(08:58:18 PM)</font><b> page [<em>~page@pdpc/supporter/active/page</em>] entered the room.</b><br/>
<font size="2">(08:59:45 PM)</font><b> tsenart left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(09:03:30 PM)</font><b> proxxy [<em>~proxxy@37-1-162-187.ip.skylogicnet.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:03:45 PM)</font> <b>proxxy:</b></font> Will nix replace all distros and package managers?<br/>
<font color="#A82F2F"><font size="2">(09:04:22 PM)</font> <b>ikwildrpepper:</b></font> unlikely<br/>
<font color="#A82F2F"><font size="2">(09:04:58 PM)</font> <b>sivteck:</b></font> maybe if Eelco takes over the world and becomes the dictator<br/>
<font color="#A82F2F"><font size="2">(09:05:54 PM)</font> <b>proxxy:</b></font> Eelco?<br/>
<font color="#A82F2F"><font size="2">(09:06:00 PM)</font> <b>ikwildrpepper:</b></font> nah, I think that would be too much trouble for nikogonzo<br/>
<font color="#A82F2F"><font size="2">(09:06:04 PM)</font> <b>ikwildrpepper:</b></font> oops<br/>
<font color="#A82F2F"><font size="2">(09:06:05 PM)</font> <b>ikwildrpepper:</b></font> niksnut:<br/>
<font color="#A82F2F"><font size="2">(09:06:31 PM)</font> <b>proxxy:</b></font> hm, I read about the new aprpoach, docker + nixos<br/>
<font color="#A82F2F"><font size="2">(09:06:38 PM)</font> <b>joelteon:</b></font> what if someone produced an OSX powered by nix<br/>
<font color="#A82F2F"><font size="2">(09:06:43 PM)</font> <b>joelteon:</b></font> that would be the bombs diggity<br/>
<font color="#A82F2F"><font size="2">(09:07:17 PM)</font> <b>proxxy:</b></font> but isn&apos;t osx monolithic?<br/>
<font color="#A82F2F"><font size="2">(09:07:21 PM)</font> <b>proxxy:</b></font> in terms of packages<br/>
<font color="#A82F2F"><font size="2">(09:07:37 PM)</font> <b>joelteon:</b></font> dunno what that means really<br/>
<font size="2">(09:07:54 PM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font size="2">(09:08:19 PM)</font><b> seanz left the room (quit: Remote host closed the connection).</b><br/>
<font color="#16569E"><font size="2">(09:09:36 PM)</font> <b>magnetophon:</b></font> proxxy: Don't believe these people. Nix WILL replace all distros and package managers.   :p<br/>
<font size="2">(09:09:41 PM)</font><b> seanz [<em>~seanz@2605:a601:812:6601:6c3f:6c2a:6286:b412</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:09:55 PM)</font> <b>proxxy:</b></font> col<br/>
<font color="#A82F2F"><font size="2">(09:09:57 PM)</font> <b>proxxy:</b></font> soon?<br/>
<font color="#A82F2F"><font size="2">(09:10:51 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: the world would be so boring if you only had nix<br/>
<font color="#A82F2F"><font size="2">(09:11:34 PM)</font> <b>proxxy:</b></font> right<br/>
<font color="#A82F2F"><font size="2">(09:11:43 PM)</font> <b>proxxy:</b></font> and especially my debian packaging skills and everything related would become simply useless<br/>
<font color="#062585"><font size="2">(09:11:51 PM)</font> <b>***proxxy</b></font> doesn&apos;t want to feel like that.<br/>
<font color="#A82F2F"><font size="2">(09:11:58 PM)</font> <b>proxxy:</b></font> in such a world I would be a waiter :D<br/>
<font size="2">(09:12:27 PM)</font><b> Hermit left the room (quit: Quit: box shutting down...).</b><br/>
<font size="2">(09:13:48 PM)</font><b> khumba [<em>~khumba@50.66.0.34</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:14:51 PM)</font> <b>proxxy:</b></font> who uses docker here?<br/>
<font size="2">(09:15:30 PM)</font><b> moha_hunt [<em>~moha@95.90.237.88</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(09:18:04 PM)</font> <b>magnetophon:</b></font> proxxy: sorry to insert a serious question in this: are you saying that you're living of your debian skills? That's cool...<br/>
<font color="#A82F2F"><font size="2">(09:19:14 PM)</font> <b>ikwildrpepper:</b></font> I&apos;m living on my nix skillzzzz<br/>
<font color="#A82F2F"><font size="2">(09:19:16 PM)</font> <b>proxxy:</b></font> magnetophon: no, but a part of it<br/>
<font color="#A82F2F"><font size="2">(09:19:44 PM)</font> <b>proxxy:</b></font> and together with docker the needed skillset will become further reduced<br/>
<font color="#A82F2F"><font size="2">(09:19:53 PM)</font> <b>proxxy:</b></font> and the amount of people<br/>
<font color="#A82F2F"><font size="2">(09:19:55 PM)</font> <b>proxxy:</b></font> and so on<br/>
<font color="#16569E"><font size="2">(09:20:54 PM)</font> <b>magnetophon:</b></font> Which reminds me of another question: who funds NixOS? Like for example Hydra?<br/>
<font color="#16569E"><font size="2">(09:21:09 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: In what way, if I may ask? <br/>
<font size="2">(09:22:17 PM)</font><b> proxxy left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(09:22:33 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: hydra.nixos.org is running in a datacenter of Delft University<br/>
<font color="#A82F2F"><font size="2">(09:22:46 PM)</font> <b>ikwildrpepper:</b></font> the hardware was purchased as part of some research projects<br/>
<font color="#16569E"><font size="2">(09:23:14 PM)</font> <b>magnetophon:</b></font> Also, there are probably some companies running NixOS. Shouldn't they be on the homepage?<br/>
<font color="#A82F2F"><font size="2">(09:23:17 PM)</font> <b>ikwildrpepper:</b></font> funding is gone, but we are allowed to keep using the datacenter for free for now<br/>
<font color="#A82F2F"><font size="2">(09:23:53 PM)</font> <b>ikwildrpepper:</b></font> rackspace is funding some build machines on their public cloud<br/>
<font color="#A82F2F"><font size="2">(09:24:13 PM)</font> <b>ikwildrpepper:</b></font> then there is LogicBlox (company that niksnut and me work for)<br/>
<font color="#A82F2F"><font size="2">(09:24:35 PM)</font> <b>ikwildrpepper:</b></font> LB funds the binary cache + CDN that we use as well as the server that runs nixos.org<br/>
<font color="#A82F2F"><font size="2">(09:25:02 PM)</font> <b>ikwildrpepper:</b></font> and LB allows us to work on nix* projects, as we use it heavily for our deployments<br/>
<font color="#16569E"><font size="2">(09:25:35 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: I looked up LB once. Theire based in NY right?  So you work long remotely?<br/>
<font color="#A82F2F"><font size="2">(09:26:03 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: no we are Atlanta based mostly<br/>
<font color="#A82F2F"><font size="2">(09:26:26 PM)</font> <b>ikwildrpepper:</b></font> we have a few more smaller offices, and a lot of people around the globe<br/>
<font color="#16569E"><font size="2">(09:26:39 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: but you and niksnut are Dutch, right?<br/>
<font color="#A82F2F"><font size="2">(09:26:43 PM)</font> <b>ikwildrpepper:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(09:26:49 PM)</font> <b>ikwildrpepper:</b></font> we work from the office in Utrecht<br/>
<font color="#062585"><font size="2">(09:26:52 PM)</font> <b>***magnetophon</b></font> too<br/>
<font color="#A82F2F"><font size="2">(09:27:16 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: ah, where are you located?<br/>
<font color="#16569E"><font size="2">(09:27:29 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: Maastricht<br/>
<font color="#16569E"><font size="2">(09:28:02 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: I live in a culturally active squat: landbouwbelang.org<br/>
<font color="#A82F2F"><font size="2">(09:28:37 PM)</font> <b>ikwildrpepper:</b></font> sounds weird :-p<br/>
<font color="#16569E"><font size="2">(09:28:42 PM)</font> <b>magnetophon:</b></font> why?<br/>
<font color="#A82F2F"><font size="2">(09:29:17 PM)</font> <b>ikwildrpepper:</b></font> nah, just messing with you<br/>
<font color="#16569E"><font size="2">(09:29:43 PM)</font> <b>magnetophon:</b></font> :)<br/>
<font size="2">(09:31:38 PM)</font><b> MP2E [<em>~cray@ip70-170-88-148.lv.lv.cox.net</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(09:32:19 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: the LB site mentions &quot;a Top 10 retailer&quot;, so that means they are running NixOS, right?  Sounds like a great public relations oportunity. <br/>
<font color="#16569E"><font size="2">(09:32:42 PM)</font> <b>magnetophon:</b></font> plus it makes me curious. Are you allowed to say who?<br/>
<font color="#A82F2F"><font size="2">(09:32:55 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: no, we are a paas/saas company, so we run it, they run our software<br/>
<font color="#A82F2F"><font size="2">(09:32:59 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: nope<br/>
<font color="#16569E"><font size="2">(09:33:28 PM)</font> <b>magnetophon:</b></font> Could have known. Otherwise it'd be on the LB site already.<br/>
<font color="#A82F2F"><font size="2">(09:34:20 PM)</font> <b>ikwildrpepper:</b></font> at least, I have no idea, so I assume no ;)<br/>
<font color="#16569E"><font size="2">(09:37:54 PM)</font> <b>magnetophon:</b></font> There must be quite some serious companies/universities running NixOS.  Are there any known?<br/>
<font color="#16569E"><font size="2">(09:38:51 PM)</font> <b>magnetophon:</b></font> Some people have described nixos as a reimplementation of Amazon's build system. <br/>
<font color="#A82F2F"><font size="2">(09:41:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 3 new commits to master: http://git.io/RqTwDA<br/>
<font color="#A82F2F"><font size="2">(09:41:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 663bee7 Shaun Sharples: haskell-http-client: update to 0.4.6<br/>
<font color="#A82F2F"><font size="2">(09:41:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4d2f2c1 Shaun Sharples: haskell-wreq: update to 0.3.0<br/>
<font color="#A82F2F"><font size="2">(09:41:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5f18c41 Shaun Sharples: haskell-ekg-bosun: update to 1.0.3<br/>
<font color="#A82F2F"><font size="2">(09:42:15 PM)</font> <b>sivteck:</b></font> https://github.com/zalora<br/>
<font color="#A82F2F"><font size="2">(09:42:17 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #5293: Updated haskell-wreq to 0.3.0 (master...master) http://git.io/fs3P5Q<br/>
<font size="2">(09:46:17 PM)</font><b> MichaelRaskin [<em>~MichaelRa@195.91.224.161</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:46:22 PM)</font> <b>wkennington:</b></font> Magnetophon: I&apos;m not sure when amazon built their build system but it is likely completely independent<br/>
<font color="#A82F2F"><font size="2">(09:47:23 PM)</font> <b>wkennington:</b></font> If I had to guess I would say it is probably my like Google&apos;s build system<br/>
<font color="#16569E"><font size="2">(09:47:29 PM)</font> <b>magnetophon:</b></font> wkennington: yeah, it probably is. They built it years ago.  I wouldn't be suprized if they switched to NixOS by now.<br/>
<font color="#A82F2F"><font size="2">(09:47:54 PM)</font> <b>wkennington:</b></font> Well, no, they have completely different goals and scalability issues<br/>
<font color="#16569E"><font size="2">(09:48:40 PM)</font> <b>magnetophon:</b></font> wkennington: what's different in their goals and scalability?<br/>
<font color="#A82F2F"><font size="2">(09:48:52 PM)</font> <b>wkennington:</b></font> Their goal isn&apos;t actually machine oriented<br/>
<font color="#A82F2F"><font size="2">(09:48:57 PM)</font> <b>wkennington:</b></font> We are just talking builds<br/>
<font color="#A82F2F"><font size="2">(09:49:16 PM)</font> <b>wkennington:</b></font> They probably deploy binaries separate from the system using cluster service manager<br/>
<font color="#A82F2F"><font size="2">(09:49:46 PM)</font> <b>wkennington:</b></font> Systems are likely miminal kernel + user space setups to get a service client going which can run jobs<br/>
<font color="#A82F2F"><font size="2">(09:50:07 PM)</font> <b>wkennington:</b></font> Those jobs are defined and pushed at a different level<br/>
<font color="#16569E"><font size="2">(09:50:12 PM)</font> <b>magnetophon:</b></font> wkennington: If you are interested: http://stackoverflow.com/questions/3380795/what-does-amazon-use-for-its-build-and-release-system/12597919#12597919<br/>
<font color="#16569E"><font size="2">(09:50:33 PM)</font> <b>magnetophon:</b></font> The answer is from someone wha sais he worked there<br/>
<font color="#A82F2F"><font size="2">(09:51:15 PM)</font> <b>wkennington:</b></font> So this actually kinda mimics what I just said<br/>
<font color="#A82F2F"><font size="2">(09:52:35 PM)</font> <b>wkennington:</b></font> Although, I&apos;m surprised they deal with the symlink nightmare<br/>
<font color="#A82F2F"><font size="2">(09:53:57 PM)</font> <b>wkennington:</b></font> Also, his argument that no other company was doing this is silly at best<br/>
<font color="#16569E"><font size="2">(09:55:24 PM)</font> <b>magnetophon:</b></font> wkennington: you seem to have experience in this area.  To me it's all new (and quite fascinating!)<br/>
<font color="#16569E"><font size="2">(09:55:41 PM)</font> <b>magnetophon:</b></font> wkennington: where did you learn all this?<br/>
<font size="2">(09:56:07 PM)</font><b> auntie [<em>~auntieneo@lain.cose.isu.edu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:58:16 PM)</font> <b>wkennington:</b></font> Well, I am familiar with how Google does a lot of this stuff internally and basically assume others have figured it out too<br/>
<font size="2">(10:02:26 PM)</font><b> notthemessiah [<em>~castthesh@c-76-99-49-12.hsd1.pa.comcast.net</em>] entered the room.</b><br/>
<font size="2">(10:03:27 PM)</font><b> mmmm left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font size="2">(10:03:42 PM)</font><b> tsenart [<em>~tsenart@95.90.235.192</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(10:04:35 PM)</font> <b>magnetophon:</b></font> wkennington: you work(ed) there?  If I'm too nosy, just ignore!<br/>
<font color="#A82F2F"><font size="2">(10:04:48 PM)</font> <b>wkennington:</b></font> work there<br/>
<font color="#16569E"><font size="2">(10:05:01 PM)</font> <b>magnetophon:</b></font> wkennington: congrats.<br/>
<font color="#A82F2F"><font size="2">(10:05:39 PM)</font> <b>wkennington:</b></font> so im actually rather fond of their model because it ensures there is less likelyhood for system failure<br/>
<font color="#A82F2F"><font size="2">(10:05:52 PM)</font> <b>henrytill:</b></font> l<br/>
<font color="#A82F2F"><font size="2">(10:05:57 PM)</font> <b>wkennington:</b></font> i wish nixos had a way to deploy services independently of the base system<br/>
<font size="2">(10:06:10 PM)</font><b> Takle left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:06:11 PM)</font> <b>henrytill:</b></font> (ignore that)<br/>
<font color="#A82F2F"><font size="2">(10:06:31 PM)</font> <b>wkennington:</b></font> magnetophon: i know there are other users who do too<br/>
<font color="#16569E"><font size="2">(10:07:13 PM)</font> <b>magnetophon:</b></font> henrytill: It's rather hard to actually respont to l, isn't it?   :p<br/>
<font color="#A82F2F"><font size="2">(10:07:24 PM)</font> <b>wkennington:</b></font> woah<br/>
<font color="#A82F2F"><font size="2">(10:07:29 PM)</font> <b>wkennington:</b></font> somone is actually doing a demo today....<br/>
<font size="2">(10:07:46 PM)</font><b> Takle [<em>~takle@0206701425.0.fullrate.dk</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:07:51 PM)</font> <b>henrytill:</b></font> magnetophon: &apos;tis<br/>
<font color="#A82F2F"><font size="2">(10:07:52 PM)</font> <b>MichaelRaskin:</b></font> I wonder if kernel now only sends some events via netlink, but not via hotplug helper<br/>
<font color="#A82F2F"><font size="2">(10:08:06 PM)</font> <b>wkennington:</b></font> MichaelRaskin: what kind of events?<br/>
<font color="#A82F2F"><font size="2">(10:08:14 PM)</font> <b>MichaelRaskin:</b></font> Device node addition<br/>
<font color="#16569E"><font size="2">(10:08:51 PM)</font> <b>magnetophon:</b></font> wkennington: a demo of services independently of the base system?<br/>
<font color="#A82F2F"><font size="2">(10:09:08 PM)</font> <b>MichaelRaskin:</b></font> It is confirmed: I now fixed my system boot without any init system (scripts for bind, postgresql; WiFi working) and xlaunch magically started to work again with latest kernel and X<br/>
<font color="#A82F2F"><font size="2">(10:09:22 PM)</font> <b>wkennington:</b></font> MichaelRaskin: oh god<br/>
<font color="#A82F2F"><font size="2">(10:09:39 PM)</font> <b>wmertens:</b></font> MichaelRaskin: congrats :)<br/>
<font color="#A82F2F"><font size="2">(10:09:43 PM)</font> <b>MichaelRaskin:</b></font> Thanks<br/>
<font color="#A82F2F"><font size="2">(10:10:00 PM)</font> <b>MichaelRaskin:</b></font> Now I can wait a bit and see what user service solution turns out to be the best<br/>
<font color="#A82F2F"><font size="2">(10:10:28 PM)</font> <b>MichaelRaskin:</b></font> Also, I can refactor my postresql scripts a bit so I see what are the caveats to avoid clearer<br/>
<font color="#A82F2F"><font size="2">(10:13:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 3 new commits to master: http://git.io/JUBaVw<br/>
<font color="#A82F2F"><font size="2">(10:13:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3525f71 Jascha Geerds: ati-driver: Bump version to 14.12<br/>
<font color="#A82F2F"><font size="2">(10:13:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b153110 Jascha Geerds: ati-driver: Fix support for linux kernel 3.17<br/>
<font color="#A82F2F"><font size="2">(10:13:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 80e3018 Vladimír Čunát: Merge #5286: ati-driver: Update to 4.12<br/>
<font color="#A82F2F"><font size="2">(10:13:51 PM)</font> <b>MichaelRaskin:</b></font> Fun fact about boot: I now see boot stages clearly, and mounting /nix/ (BtrFS) reads my HDD intensively for a few seconds. Why don&apos;t I believe this can be made faster by parallel boot?<br/>
<font color="#A82F2F"><font size="2">(10:14:39 PM)</font> <b>wmertens:</b></font> MichaelRaskin: you should use one of those boot read preloaders. And you should still upgrade to SSD ;-)<br/>
<font color="#A82F2F"><font size="2">(10:14:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to release-14.12: http://git.io/Ze018Q<br/>
<font color="#A82F2F"><font size="2">(10:14:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 a1c1589 Vladimír Čunát: Merge #5286: ati-driver: Update to 4.12...<br/>
<font color="#A82F2F"><font size="2">(10:15:36 PM)</font> <b>wmertens:</b></font> MichaelRaskin: besides, the only way to know for sure is to benchmark and it will be highly dependent on the I/O pattern<br/>
<font size="2">(10:15:42 PM)</font><b> tsenart left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:16:18 PM)</font> <b>ocharles_:</b></font> Linking dist/build/ghci-ng/ghci-ng ...<br/>
<font color="#A82F2F"><font size="2">(10:16:18 PM)</font> <b>ocharles_:</b></font> /nix/store/vi0wcqxwxqrrnmpm0mxbq84rgw7s16xw-binutils-2.23.1/bin/ld: cannot find -lncursesw<br/>
<font color="#A82F2F"><font size="2">(10:16:20 PM)</font> <b>ocharles_:</b></font> Uhhh...?<br/>
<font color="#A82F2F"><font size="2">(10:16:47 PM)</font> <b>ocharles_:</b></font> Is that a problem from ld, or my build expression?<br/>
<font color="#A82F2F"><font size="2">(10:16:58 PM)</font> <b>MichaelRaskin:</b></font> Well, actually after I stop debugging the boot process, I will suspend-to-RAM most of the time anyway<br/>
<font color="#A82F2F"><font size="2">(10:17:11 PM)</font> <b>MichaelRaskin:</b></font> SSDs of reasonable size are expensive!<br/>
<font color="#A82F2F"><font size="2">(10:17:34 PM)</font> <b>vcunat:</b></font> yes, nix is very space-hungry :-)<br/>
<font color="#A82F2F"><font size="2">(10:17:35 PM)</font> <b>ocharles_:</b></font> the thing i&apos;m trying to build has no mention of ncurses<br/>
<font color="#A82F2F"><font size="2">(10:17:47 PM)</font> <b>MichaelRaskin:</b></font> Nix is not the only space-hungry thing I have on my notebook<br/>
<font color="#A82F2F"><font size="2">(10:18:06 PM)</font> <b>vcunat:</b></font> that&apos;s why I have both SSD and HDD on my notebook<br/>
<font color="#A82F2F"><font size="2">(10:18:15 PM)</font> <b>vcunat:</b></font> (and trashed optical drive)<br/>
<font color="#A82F2F"><font size="2">(10:18:33 PM)</font> <b>vcunat:</b></font> (I mean I trashed it)<br/>
<font color="#A82F2F"><font size="2">(10:18:38 PM)</font> <b>wkennington:</b></font> nix also thrashes filesystem metadata<br/>
<font color="#A82F2F"><font size="2">(10:18:44 PM)</font> <b>wkennington:</b></font> and abuses cow<br/>
<font color="#A82F2F"><font size="2">(10:18:45 PM)</font> <b>wmertens:</b></font> MichaelRaskin: use the btrfs zlib compression on /nix? how big is your /nix?<br/>
<font color="#A82F2F"><font size="2">(10:18:47 PM)</font> <b>MichaelRaskin:</b></font> wmertens: actually, it turns out that for mounting FSes &quot;what would I do in recovery situation&quot; script is not harder to get right than NixOS mount information<br/>
<font color="#A82F2F"><font size="2">(10:19:22 PM)</font> <b>MichaelRaskin:</b></font> Peak size is a bit more than two minimum sizes, so it crosses 70 GiB whatever I do<br/>
<font color="#A82F2F"><font size="2">(10:19:26 PM)</font> <b>wkennington:</b></font> the biggest problem is how fragmented the /nix/store directory inodes get on btrfs and zfs<br/>
<font color="#A82F2F"><font size="2">(10:19:38 PM)</font> <b>wkennington:</b></font> they take thousands of random accesses<br/>
<font color="#A82F2F"><font size="2">(10:19:43 PM)</font> <b>wmertens:</b></font> MichaelRaskin: o_O<br/>
<font color="#A82F2F"><font size="2">(10:19:58 PM)</font> <b>wkennington:</b></font> i&apos;ve seen this especially on hydra build nodes<br/>
<font color="#A82F2F"><font size="2">(10:19:58 PM)</font> <b>MichaelRaskin:</b></font> I played with mount order in parallel or in sequence - doesn&apos;t make a difference<br/>
<font color="#A82F2F"><font size="2">(10:20:10 PM)</font> <b>wmertens:</b></font> wkennington: depends on the filesystem no? btrfs on SSD did swimmingly for my /nix<br/>
<font color="#A82F2F"><font size="2">(10:20:36 PM)</font> <b>wkennington:</b></font> wmertens: sorta, ext seems to handle it better than btrfs and zfs<br/>
<font color="#A82F2F"><font size="2">(10:20:44 PM)</font> <b>wkennington:</b></font> wmertens: the ssd can handle the fragmentation better<br/>
<font color="#A82F2F"><font size="2">(10:20:54 PM)</font> <b>vcunat:</b></font> I regularly defrag my /nix/store dir :-)<br/>
<font color="#A82F2F"><font size="2">(10:20:54 PM)</font> <b>wkennington:</b></font> wmertens: which is the bigger reason for it performing well<br/>
<font color="#A82F2F"><font size="2">(10:20:57 PM)</font> <b>wkennington:</b></font> exactly<br/>
<font color="#A82F2F"><font size="2">(10:21:02 PM)</font> <b>MichaelRaskin:</b></font> Currently I have just 28GiB used on /nix/<br/>
<font color="#A82F2F"><font size="2">(10:21:04 PM)</font> <b>wkennington:</b></font> if you defrag /nix/store is speeds up a lot<br/>
<font color="#A82F2F"><font size="2">(10:21:08 PM)</font> <b>wmertens:</b></font> wkennington: how does it abuse cow? Mind you, I&apos;d like to see some sort of force-on for the cp btrfs support<br/>
<font color="#A82F2F"><font size="2">(10:21:09 PM)</font> <b>wkennington:</b></font> it*<br/>
<font color="#A82F2F"><font size="2">(10:21:43 PM)</font> <b>wkennington:</b></font> wmertens: it keeps writing new inodes for changes to the /nix/store directory<br/>
<font color="#A82F2F"><font size="2">(10:21:54 PM)</font> <b>wkennington:</b></font> wmertens: but in order to do a read, it has to traverse a lot of the changes<br/>
<font color="#A82F2F"><font size="2">(10:22:00 PM)</font> <b>wmertens:</b></font> wkennington: btrfs has autodefrag setting, zlib should help, setting auto-hardlink on nix-store should help<br/>
<font color="#A82F2F"><font size="2">(10:22:01 PM)</font> <b>wkennington:</b></font> wmertens: which are spread all over the disk<br/>
<font color="#A82F2F"><font size="2">(10:22:18 PM)</font> <b>MichaelRaskin:</b></font> Full TeXLive, LibreOffice, Lazarus, OVMF...<br/>
<font color="#A82F2F"><font size="2">(10:22:20 PM)</font> <b>wkennington:</b></font> wmertens: autodefrag is scary and has caused a lot of pain for me<br/>
<font color="#A82F2F"><font size="2">(10:22:26 PM)</font> <b>wmertens:</b></font> true<br/>
<font color="#A82F2F"><font size="2">(10:22:27 PM)</font> <b>wkennington:</b></font> wmertens: but yes, defragging is the solution<br/>
<font color="#A82F2F"><font size="2">(10:22:28 PM)</font> <b>wmertens:</b></font> oh?<br/>
<font color="#A82F2F"><font size="2">(10:22:45 PM)</font> <b>wkennington:</b></font> its really just doing a btrfs fi def /nix/store<br/>
<font color="#A82F2F"><font size="2">(10:22:53 PM)</font> <b>wkennington:</b></font> just defragging the inodes is amazing<br/>
<font color="#A82F2F"><font size="2">(10:22:58 PM)</font> <b>wkennington:</b></font> not even for the subdirs<br/>
<font color="#A82F2F"><font size="2">(10:23:04 PM)</font> <b>wmertens:</b></font> I only have experience with kernel 3.13+ and never noticed defragging<br/>
<font color="#A82F2F"><font size="2">(10:23:21 PM)</font> <b>wmertens:</b></font> nice - one for the wiki<br/>
<font color="#A82F2F"><font size="2">(10:23:24 PM)</font> <b>wkennington:</b></font> autodefrag broke on my 3.17 fresh install<br/>
<font color="#A82F2F"><font size="2">(10:23:27 PM)</font> <b>wmertens:</b></font> or a cronjob setting<br/>
<font color="#A82F2F"><font size="2">(10:23:32 PM)</font> <b>wmertens:</b></font> ick<br/>
<font color="#A82F2F"><font size="2">(10:23:43 PM)</font> <b>wkennington:</b></font> haven&apos;t tried it on 3.18 as im using all zfs now<br/>
<font color="#A82F2F"><font size="2">(10:23:58 PM)</font> <b>wmertens:</b></font> MichaelRaskin: do you have optimise on?<br/>
<font color="#A82F2F"><font size="2">(10:24:30 PM)</font> <b>wkennington:</b></font> wmertens: the biggest problem is that immutable store is on by default so you can&apos;t btrfs defrag it directly<br/>
<font color="#A82F2F"><font size="2">(10:24:46 PM)</font> <b>wkennington:</b></font> wmertens: so we would need to wrap the cronjob in a namespace that tears down the readonly store<br/>
<font color="#A82F2F"><font size="2">(10:24:59 PM)</font> <b>wkennington:</b></font> wmertens: but this shouldn&apos;t be hard<br/>
<font color="#A82F2F"><font size="2">(10:25:22 PM)</font> <b>vcunat:</b></font> I think nix creates a private mount namespace and remounts it read-write inside<br/>
<font color="#A82F2F"><font size="2">(10:25:25 PM)</font> <b>MichaelRaskin:</b></font> I think no<br/>
<font color="#A82F2F"><font size="2">(10:25:29 PM)</font> <b>wkennington:</b></font> exactly<br/>
<font color="#A82F2F"><font size="2">(10:25:34 PM)</font> <b>wkennington:</b></font> which is what the cronjob should do aswell<br/>
<font color="#A82F2F"><font size="2">(10:25:57 PM)</font> <b>vcunat:</b></font> but for me it&apos;s easier to just have it read-write<br/>
<font color="#A82F2F"><font size="2">(10:26:04 PM)</font> <b>wmertens:</b></font> all the more reason for a nixos setting PR - go :)<br/>
<font color="#A82F2F"><font size="2">(10:26:09 PM)</font> <b>wkennington:</b></font> vcunat: so, i&apos;ve had services accidentally write to the nix store<br/>
<font color="#A82F2F"><font size="2">(10:26:20 PM)</font> <b>MichaelRaskin:</b></font> Anyway, if I have 3 things (one being Nix) that try to eat a lot of space, even optimising Nix won&apos;t make a 256 GiB SSD comfortable<br/>
<font size="2">(10:26:20 PM)</font><b> elifrey left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:26:25 PM)</font> <b>wkennington:</b></font> vcunat: never again will i disable that<br/>
<font color="#A82F2F"><font size="2">(10:26:48 PM)</font> <b>vcunat:</b></font> that&apos;s the problem of running too much stuff as root<br/>
<font color="#A82F2F"><font size="2">(10:27:07 PM)</font> <b>wkennington:</b></font> vcunat: its funny because i really don&apos;t run anything as root<br/>
<font color="#A82F2F"><font size="2">(10:27:22 PM)</font> <b>wkennington:</b></font> but i think it was dhcpcd<br/>
<font color="#A82F2F"><font size="2">(10:27:24 PM)</font> <b>wkennington:</b></font> or something<br/>
<font color="#A82F2F"><font size="2">(10:27:29 PM)</font> <b>wkennington:</b></font> which is somewhat unavoidable<br/>
<font color="#A82F2F"><font size="2">(10:27:42 PM)</font> <b>wkennington:</b></font> maybe we should force all services to mount /nix readonly<br/>
<font color="#A82F2F"><font size="2">(10:27:56 PM)</font> <b>wkennington:</b></font> since systemd can handle this<br/>
<font size="2">(10:28:05 PM)</font><b> elifrey [<em>~elifrey@c-50-159-28-215.hsd1.wa.comcast.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:28:10 PM)</font> <b>wmertens:</b></font> MichaelRaskin: true I &apos;spose<br/>
<font color="#A82F2F"><font size="2">(10:28:22 PM)</font> <b>wmertens:</b></font> wkennington: err um isn&apos;t that already the case?<br/>
<font color="#A82F2F"><font size="2">(10:28:29 PM)</font> <b>wkennington:</b></font> wmertens: no<br/>
<font color="#A82F2F"><font size="2">(10:28:45 PM)</font> <b>wmertens:</b></font> oh you mean, set rw but not for services?<br/>
<font color="#A82F2F"><font size="2">(10:29:22 PM)</font> <b>wmertens:</b></font> but why do you want it rw? You don&apos;t like nix-daemon?<br/>
<font color="#A82F2F"><font size="2">(10:29:30 PM)</font> <b>vcunat:</b></font> having it globally readonly is nice<br/>
<font color="#A82F2F"><font size="2">(10:29:36 PM)</font> <b>wkennington:</b></font> it is<br/>
<font color="#A82F2F"><font size="2">(10:29:38 PM)</font> <b>vcunat:</b></font> only there&apos;s the defrag inconvenience<br/>
<font color="#A82F2F"><font size="2">(10:29:42 PM)</font> <b>wkennington:</b></font> exactly<br/>
<font color="#A82F2F"><font size="2">(10:29:55 PM)</font> <b>wkennington:</b></font> i think the best solution would be to implement something in nix so this can be done correctly<br/>
<font color="#A82F2F"><font size="2">(10:29:55 PM)</font> <b>wmertens:</b></font> vcunat: which is 1 extra command<br/>
<font color="#A82F2F"><font size="2">(10:30:13 PM)</font> <b>wkennington:</b></font> wmertens: but in theory you don&apos;t want to remount rw globally<br/>
<font color="#A82F2F"><font size="2">(10:30:28 PM)</font> <b>wkennington:</b></font> if this is done correctly, nix would block all operation which the defrag is running<br/>
<font color="#A82F2F"><font size="2">(10:30:35 PM)</font> <b>wkennington:</b></font> and only the defrag would see the read write store<br/>
<font color="#A82F2F"><font size="2">(10:30:53 PM)</font> <b>wkennington:</b></font> this could be generalize to allow nix to apply a generic operation to a read-write store with no other actions being processed<br/>
<font color="#A82F2F"><font size="2">(10:31:00 PM)</font> <b>wmertens:</b></font> you could abuse the GC lock<br/>
<font size="2">(10:31:00 PM)</font><b> omicrondelta left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(10:31:04 PM)</font> <b>wkennington:</b></font> you could<br/>
<font color="#A82F2F"><font size="2">(10:31:32 PM)</font> <b>wmertens:</b></font> just rename it to the Global Write Lock and done :)<br/>
<font color="#A82F2F"><font size="2">(10:31:42 PM)</font> <b>wkennington:</b></font> lol<br/>
<font color="#A82F2F"><font size="2">(10:33:42 PM)</font> <b>Hakisho:</b></font> hey, how much should I provision for the root partition?<br/>
<font size="2">(10:35:46 PM)</font><b> torpet [<em>~torpet@84-115-42-228.dynamic.surfer.at</em>] entered the room.</b><br/>
<font size="2">(10:36:01 PM)</font><b> bennofs left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:38:04 PM)</font> <b>wmertens:</b></font> Hakisho: good question... the only thing that&apos;s in there is local state and /var. Couple GB? Mind you, I prefer just using btrfs volumes for everything<br/>
<font color="#A82F2F"><font size="2">(10:38:50 PM)</font> <b>Hakisho:</b></font> 128GB<br/>
<font color="#A82F2F"><font size="2">(10:38:54 PM)</font> <b>wmertens:</b></font> err that&apos;s assuming you put /nix in a separate partition... otherwise give it everything you have :)<br/>
<font size="2">(10:39:11 PM)</font><b> auntie left the room (quit: Quit: leaving).</b><br/>
<font color="#A82F2F"><font size="2">(10:39:47 PM)</font> <b>wmertens:</b></font> Hakisho: if you don&apos;t use btrfs, consider using lvm so you can resize easily<br/>
<font color="#A82F2F"><font size="2">(10:39:59 PM)</font> <b>wmertens:</b></font> or zfs<br/>
<font color="#A82F2F"><font size="2">(10:40:02 PM)</font> <b>Hakisho:</b></font> I&apos;ll try zfs<br/>
<font color="#A82F2F"><font size="2">(10:40:15 PM)</font> <b>Hakisho:</b></font> all my systems run ZFS<br/>
<font color="#A82F2F"><font size="2">(10:40:28 PM)</font> <b>wmertens:</b></font> Hakisho: that&apos;s a good reason :)<br/>
<font size="2">(10:40:29 PM)</font><b> torpet left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:40:42 PM)</font> <b>wmertens:</b></font> so then don&apos;t worry about it<br/>
<font color="#062585"><font size="2">(10:41:09 PM)</font> <b>***hyper_ch</b></font> heard that ZFS makes baby seals cry<br/>
<font color="#A82F2F"><font size="2">(10:41:38 PM)</font> <b>Hakisho:</b></font> Yes, but I want to separate my home and system partition and use different keyfiles/passphrases.<br/>
<font size="2">(10:43:27 PM)</font><b> mizu_no_oto left the room (quit: Quit: [&quot;Textual IRC Client: www.textualapp.com&quot;]).</b><br/>
<font color="#A82F2F"><font size="2">(10:43:30 PM)</font> <b>wmertens:</b></font> Hakisho: are you using the zfs encryption (not sure if that made it to Linux yet)? If so, you can enable it per filesystem, no? Why separate partitions?<br/>
<font color="#A82F2F"><font size="2">(10:44:11 PM)</font> <b>wkennington:</b></font> hyper_ch: wat<br/>
<font color="#A82F2F"><font size="2">(10:44:12 PM)</font> <b>wmertens:</b></font> hyper_ch: they cry because they can&apos;t type &quot;z f s&quot; with their flippers :-(<br/>
<font color="#A82F2F"><font size="2">(10:44:35 PM)</font> <b>wkennington:</b></font> wmertens: no, there is nothing like this even in solaris<br/>
<font color="#A82F2F"><font size="2">(10:44:36 PM)</font> <b>Hakisho:</b></font> I&apos;m going DISK -&gt; partition -&gt; LUKS -&gt; ZFS (so I can use compression)<br/>
<font color="#A82F2F"><font size="2">(10:44:45 PM)</font> <b>wkennington:</b></font> wmertens: in solaris it&apos;s per pool<br/>
<font size="2">(10:44:46 PM)</font><b> thawes left the room (quit: Quit: No Ping reply in 180 seconds.).</b><br/>
<font color="#A82F2F"><font size="2">(10:44:55 PM)</font> <b>wkennington:</b></font> wmertens: basically it&apos;s just luks<br/>
<font color="#A82F2F"><font size="2">(10:44:56 PM)</font> <b>hyper_ch:</b></font> wkennington: you don&apos;t like baby seals?<br/>
<font color="#A82F2F"><font size="2">(10:45:08 PM)</font> <b>wmertens:</b></font> wkennington: that&apos;s not what https://docs.oracle.com/cd/E23824_01/html/821-1448/gkkih.html says<br/>
<font size="2">(10:46:31 PM)</font><b> thawes [<em>~quassel@cpe-065-190-065-249.nc.res.rr.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:46:45 PM)</font> <b>wkennington:</b></font> wmertens: well ill be damned<br/>
<font color="#A82F2F"><font size="2">(10:50:00 PM)</font> <b>wmertens:</b></font> Hakisho: if you&apos;re using luks, why not suffer the tiny overhead of LVM? disk -&gt; lvm -&gt; luks -&gt; zfs<br/>
<font size="2">(10:50:04 PM)</font><b> elifrey left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(10:52:51 PM)</font><b> elifrey [<em>~elifrey@2601:8:9f00:3b:4889:91de:369f:cfa9</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:58:16 PM)</font> <b>Hakisho:</b></font> I&apos;d like to be able to nuke the system partition, without affecting my home partition.<br/>
<font size="2">(10:59:37 PM)</font><b> ro6 [<em>uid49734@gateway/web/irccloud.com/x-zznrwdglogrtlkna</em>] entered the room.</b><br/>
<font size="2">(10:59:39 PM)</font><b> silver left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(11:00:17 PM)</font><b> Takle left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(11:01:01 PM)</font><b> sogatori left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(11:03:19 PM)</font><b> komarov left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font size="2">(11:03:36 PM)</font><b> komarov [<em>~komarov@178.70.67.97</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:10:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 2 new commits to master: http://git.io/qj1r1Q<br/>
<font color="#A82F2F"><font size="2">(11:10:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ab012ec Pavan Rikhi: dina-font: fix the installPhase<br/>
<font color="#A82F2F"><font size="2">(11:10:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 747488a lethalman: Merge pull request #5268 from prikhi/fix-dina-font...<br/>
<font color="#A82F2F"><font size="2">(11:13:36 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor opened pull request #5299: nixos/gnome: enable MTP support in gvfs (master...gnome-enable-mtp-support) http://git.io/VkjGlA<br/>
<font size="2">(11:13:51 PM)</font><b> rost left the room (quit: Quit: WeeChat 1.0.1).</b><br/>
<font size="2">(11:16:09 PM)</font><b> thawes left the room (quit: Quit: No Ping reply in 180 seconds.).</b><br/>
<font size="2">(11:16:56 PM)</font><b> Nafai [<em>~nafai@unaffiliated/nafai</em>] entered the room.</b><br/>
<font size="2">(11:17:37 PM)</font><b> thawes [<em>~quassel@cpe-065-190-065-249.nc.res.rr.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:17:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker pushed 2 new commits to master: http://git.io/X87kQg<br/>
<font color="#A82F2F"><font size="2">(11:17:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a782b89 Jaka Hudoklin: nixos/make-system-tarball: extra commands to be executed before archive<br/>
<font color="#A82F2F"><font size="2">(11:17:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master deb28cf Jaka Hudoklin: nixos: container tarball release...<br/>
<font size="2">(11:19:21 PM)</font><b> JagaJaga left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:23:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker pushed 2 new commits to master: http://git.io/zv63LQ<br/>
<font color="#A82F2F"><font size="2">(11:23:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c005dc0 vi: Tor module: append redundant specifications of &apos;extraConfig&apos;, via &apos;types.lines&apos;.<br/>
<font color="#A82F2F"><font size="2">(11:23:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5dac2ec Jaka Hudoklin: Merge pull request #5297 from fmapfmapfmap/tor-extra-config...<br/>
<font size="2">(11:23:28 PM)</font><b> bbarker_ [<em>~quassel@nat-128-84-124-0-282.cit.cornell.edu</em>] entered the room.</b><br/>
<font size="2">(11:23:30 PM)</font><b> pmahoney left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font size="2">(11:25:33 PM)</font><b> ambro718 left the room (quit: Quit: Konversation terminated!).</b><br/>
<font color="#A82F2F"><font size="2">(11:25:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker pushed 2 new commits to master: http://git.io/YDmlmQ<br/>
<font color="#A82F2F"><font size="2">(11:25:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3ceb789 Jaka Hudoklin: john: use systemd wide config, and not from store<br/>
<font color="#A82F2F"><font size="2">(11:25:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1465d93 Jaka Hudoklin: thc-hydra: include postgresql brute-force support<br/>
<font size="2">(11:25:47 PM)</font><b> CandidC [<em>~Candid@1.178.96.92</em>] entered the room.</b><br/>
<font size="2">(11:26:31 PM)</font><b> bbarker left the room (quit: Ping timeout: 255 seconds).</b><br/>
<font size="2">(11:26:37 PM)</font><b> ambro718 [<em>~ambro@gentoo/contributor/ambro718</em>] entered the room.</b><br/>
<font size="2">(11:26:44 PM)</font><b> thawes left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(11:29:54 PM)</font><b> sivteck left the room (quit: Quit: You are).</b><br/>
<font size="2">(11:30:57 PM)</font><b> bbarker_ left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:33:00 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker pushed 1 new commit to master: http://git.io/0sGylQ<br/>
<font color="#A82F2F"><font size="2">(11:33:00 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4be1089 Jaka Hudoklin: nixos: move kubernetes &amp; fleet to services/cluster<br/>
<font size="2">(11:34:52 PM)</font><b> goibhniu left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:36:11 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker pushed 1 new commit to master: http://git.io/tRxzVw<br/>
<font color="#A82F2F"><font size="2">(11:36:11 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 91961c2 Jaka Hudoklin: nixos/mesos: fix typo<br/>
<font size="2">(11:37:13 PM)</font><b> bdimcheff left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(11:41:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 2 new commits to master: http://git.io/CIgWzw<br/>
<font color="#A82F2F"><font size="2">(11:41:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master f3a46c3 Bjørn Forsman: nixos/gnome: enable MTP support in gvfs...<br/>
<font color="#A82F2F"><font size="2">(11:41:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 786a0c9 lethalman: Merge pull request #5299 from bjornfor/gnome-enable-mtp-support...<br/>
<font size="2">(11:42:19 PM)</font><b> lucidd left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:43:29 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ambrop72 opened pull request #5300: virtualbox: Allow disabling the network interface. (master...virtualbox-network-interface) http://git.io/TN_CMg<br/>
<font size="2">(11:49:24 PM)</font><b> elifrey left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(11:51:33 PM)</font><b> user1 [<em>~user@124.49.178.164</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:52:05 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker pushed 2 new commits to master: http://git.io/b50vlw<br/>
<font color="#A82F2F"><font size="2">(11:52:05 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 9fa2c35 ambrop7@gmail.com: virtualbox: Allow disabling the network interface....<br/>
<font color="#A82F2F"><font size="2">(11:52:05 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e1383d0 Jaka Hudoklin: Merge pull request #5300 from ambrop72/virtualbox-network-interface...<br/>
<font color="#A82F2F"><font size="2">(11:52:12 PM)</font> <b>Hakisho:</b></font> nice, installed<br/>
<font size="2">(11:52:34 PM)</font><b> ewemoa left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font size="2">(11:52:46 PM)</font><b> Hijiri left the room (quit: Quit: WeeChat 1.0.1).</b><br/>
<font size="2">(11:52:55 PM)</font><b> moha_hunt left the room (quit: Quit: moha_hunt).</b><br/>
<font size="2">(11:54:44 PM)</font><b> ambro718 left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(11:54:56 PM)</font><b> ambro718 [<em>~ambro@gentoo/contributor/ambro718</em>] entered the room.</b><br/>
<font size="2">(11:55:19 PM)</font><b> lucidd [<em>~lucid@HSI-KBW-078-042-152-111.hsi3.kabel-badenwuerttemberg.de</em>] entered the room.</b><br/>
<font size="2">(12:03:16 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
