<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 19 Mar 2015 11:29:37 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 19 Mar 2015 11:29:37 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(11:29:38 AM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(11:29:39 AM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(11:47:35 AM)</font> <b>__Sander__:</b></font> garbas: btw, does nix 1.8 work on cygwin?<br/>
<font color="#A82F2F"><font size="2">(11:47:45 AM)</font> <b>__Sander__:</b></font> or which version are you using?<br/>
<font color="#A82F2F"><font size="2">(11:47:57 AM)</font> <b>__Sander__:</b></font> I think that in my case nix 1.8 was broken again<br/>
<font color="#A82F2F"><font size="2">(11:55:30 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 1 new commit to master: http://git.io/h0sQ<br/>
<font color="#A82F2F"><font size="2">(11:55:30 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 80d8d1f Luca Bruno: Revert &quot;Add a kafka package&quot;. Closes #6892...<br/>
<font color="#A82F2F"><font size="2">(11:56:04 AM)</font> <b>garbas:</b></font> __Sander__: i got 1.7 right now, but i triggered the build for nixUnstable which is 1.8<br/>
<font color="#A82F2F"><font size="2">(11:56:14 AM)</font> <b>__Sander__:</b></font> ah 1.7<br/>
<font color="#A82F2F"><font size="2">(11:56:24 AM)</font> <b>__Sander__:</b></font> that was basically the version for which I implemented some workarounds<br/>
<font color="#A82F2F"><font size="2">(11:56:36 AM)</font> <b>garbas:</b></font> the nixpkgs is from october 2014<br/>
<font color="#A82F2F"><font size="2">(12:02:37 PM)</font> <b>__Sander__:</b></font> maybe I&apos;ll have another look at nix 1.8<br/>
<font color="#A82F2F"><font size="2">(12:02:48 PM)</font> <b>__Sander__:</b></font> if I can find the time :P<br/>
<font color="#A82F2F"><font size="2">(12:03:09 PM)</font> <b>__Sander__:</b></font> problem is that I sometimes use nix of cygwin, but not very frequently :P<br/>
<font color="#A82F2F"><font size="2">(12:20:07 PM)</font> <b>qknight:</b></font> https://nixos.org/wiki/Network_Manager &lt;- i&apos;ve been tuning the networkmanager manual<br/>
<font color="#A82F2F"><font size="2">(12:22:11 PM)</font> <b>kongobongo:</b></font> Hi is it possible to point to copy (specify as auxillary cache) of /nix/store on local file system (pendrive)? I want to reuse /nix/store from other machine.<br/>
<font color="#A82F2F"><font size="2">(12:22:28 PM)</font> <b>qknight:</b></font> kongobongo: you can use nix-copy-closure<br/>
<font color="#A82F2F"><font size="2">(12:22:43 PM)</font> <b>kongobongo:</b></font> With local filesystem?<br/>
<font color="#A82F2F"><font size="2">(12:22:58 PM)</font> <b>qknight:</b></font> kongobongo: nix-copy-closure will just copy programs from a to b<br/>
<font color="#A82F2F"><font size="2">(12:23:09 PM)</font> <b>kongobongo:</b></font> Great.<br/>
<font color="#A82F2F"><font size="2">(12:23:10 PM)</font> <b>ikwildrpepper:</b></font> from machina a to b<br/>
<font color="#A82F2F"><font size="2">(12:23:22 PM)</font> <b>ikwildrpepper:</b></font> I don&apos;t think you can use it to copy to different fs<br/>
<font color="#A82F2F"><font size="2">(12:23:27 PM)</font> <b>kongobongo:</b></font> I thougt that this is only via network.<br/>
<font color="#A82F2F"><font size="2">(12:23:32 PM)</font> <b>ikwildrpepper:</b></font> indeed<br/>
<font color="#A82F2F"><font size="2">(12:23:34 PM)</font> <b>qknight:</b></font> kongobongo: however, there is something new: a apt-p2p like tool for nixos, but i don&apos;t know where that article went<br/>
<font color="#A82F2F"><font size="2">(12:24:18 PM)</font> <b>qknight:</b></font> ikwildrpepper: what do you mean with &apos;I don&apos;t think you can use it to copy to different fs&apos;?<br/>
<font color="#A82F2F"><font size="2">(12:24:19 PM)</font> <b>kongobongo:</b></font> I do not want to use network, jbut add substitutinos from pendrive ;)<br/>
<font color="#A82F2F"><font size="2">(12:24:27 PM)</font> <b>qknight:</b></font> kongobongo: oh, sorry<br/>
<font color="#A82F2F"><font size="2">(12:24:40 PM)</font> <b>qknight:</b></font> kongobongo: you want to use your pendrive for binary substitutes<br/>
<font color="#A82F2F"><font size="2">(12:24:55 PM)</font> <b>qknight:</b></font> kongobongo: then you have to add a custom channel like thingy<br/>
<font color="#A82F2F"><font size="2">(12:24:59 PM)</font> <b>ikwildrpepper:</b></font> kongobongo: there is something called NIX_OTHER_STORES<br/>
<font color="#A82F2F"><font size="2">(12:25:02 PM)</font> <b>qknight:</b></font> kongobongo: pointing to your pendrive<br/>
<font color="#A82F2F"><font size="2">(12:25:11 PM)</font> <b>ikwildrpepper:</b></font> no idea if it is documented<br/>
<font color="#A82F2F"><font size="2">(12:25:32 PM)</font> <b>kongobongo:</b></font> Can I remove ro from /nix/store and just rsync it?<br/>
<font color="#A82F2F"><font size="2">(12:26:01 PM)</font> <b>kongobongo:</b></font> I&apos;m not sure what should I add to NIX_OTHER_STORE (especially URI to my pendrive ;))<br/>
<font color="#A82F2F"><font size="2">(12:26:02 PM)</font> <b>ikwildrpepper:</b></font> from releasenotes: ... There is a new substituter that copies paths directly from other (remote) Nix stores mounted somewhere in the filesystem. For instance, you can speed up an installation by mounting some remote Nix store that already has the packages in question via NFS or sshfs. The environment variable NIX_OTHER_STORES specifies the locations of the remote Nix directories, e.g. /mnt/remote-fs/nix....<br/>
<font color="#A82F2F"><font size="2">(12:26:31 PM)</font> <b>kongobongo:</b></font> Great!<br/>
<font color="#A82F2F"><font size="2">(12:27:20 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] hrdinka opened pull request #6893: nsd: Fix automatic config options (master...nsd-config-options) http://git.io/h04G<br/>
<font color="#A82F2F"><font size="2">(12:27:36 PM)</font> <b>kongobongo:</b></font> BTW if /nix/store is mounted read only to /nix/store then where is store&apos;s &apos;device&apos;?<br/>
<font color="#A82F2F"><font size="2">(12:27:56 PM)</font> <b>ikwildrpepper:</b></font> zomg, never realized NIX_OTHER_STORES is actually set on NixOS<br/>
<font color="#A82F2F"><font size="2">(12:28:04 PM)</font> <b>qknight:</b></font> kongobongo: that ro mount is there to protect the store<br/>
<font color="#A82F2F"><font size="2">(12:28:38 PM)</font> <b>kongobongo:</b></font> I want to *add* things, not modify them. No mutability involved :)<br/>
<font color="#A82F2F"><font size="2">(12:28:53 PM)</font> <b>qknight:</b></font> kongobongo: you can add nar files using nix-store<br/>
<font color="#A82F2F"><font size="2">(12:29:19 PM)</font> <b>kongobongo:</b></font> I am not sure how &apos;directory&apos; can be &apos;mounted&apos; though&apos;<br/>
<font color="#A82F2F"><font size="2">(12:29:20 PM)</font> <b>qknight:</b></font> kongobongo: see &apos;man nix-store&apos; in the section --RESTORE<br/>
<font color="#A82F2F"><font size="2">(12:29:27 PM)</font> <b>kongobongo:</b></font> qknight: great. Thanks for help!<br/>
<font color="#A82F2F"><font size="2">(12:30:05 PM)</font> <b>kongobongo:</b></font> I will try start with NIX_OTHER_STORE=/mnt/PENDRIVE/nix/store<br/>
<font color="#A82F2F"><font size="2">(12:30:31 PM)</font> <b>ikwildrpepper:</b></font> kongobongo: I think you need to remove the /store part<br/>
<font color="#A82F2F"><font size="2">(12:38:40 PM)</font> <b>kongobongo:</b></font> Is NIX_OTHER_STORES prefferred over binary caches defined in configuration.nix?<br/>
<font color="#A82F2F"><font size="2">(12:41:38 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] k0ral opened pull request #6894: prosody: added optional dependency on zlib (master...prosody) http://git.io/h005<br/>
<font color="#A82F2F"><font size="2">(12:42:41 PM)</font> <b>garbas:</b></font> kongobongo: when many developers need the same binaries its better to setup binary cache<br/>
<font color="#A82F2F"><font size="2">(12:42:52 PM)</font> <b>garbas:</b></font> at least from my experience<br/>
<font color="#A82F2F"><font size="2">(12:43:17 PM)</font> <b>kongobongo:</b></font> I want to reuse nix/store content from one laptop in second laptop w/o any network traffic. That&apos;s the use case.<br/>
<font color="#A82F2F"><font size="2">(12:44:21 PM)</font> <b>Lethalman:</b></font> kongobongo, your use case makes much sense<br/>
<font color="#A82F2F"><font size="2">(12:44:34 PM)</font> <b>Lethalman:</b></font> I don&apos;t know if anybody did something like that, personally I never used NIX_OTHER_STORES<br/>
<font color="#A82F2F"><font size="2">(12:44:43 PM)</font> <b>kongobongo:</b></font> NIX_OTHER_STORE is probably used only if substituions does not exists in e.g. cache.nixos.org... The fastest way to shut up me is tell me how to mount r/w for a moment ;)<br/>
<font color="#A82F2F"><font size="2">(12:48:11 PM)</font> <b>kongobongo:</b></font> I need to modify /nix/store anyway. I moved /nix/store contents from pendrive manually to /mnt/nix/store before nixos-intall ;). Now I need to remove that, because I copied it with wrong permissions :)<br/>
<font color="#A82F2F"><font size="2">(12:49:18 PM)</font> <b>kongobongo:</b></font> E.g. date is not Jan 1 1970... etc for that deriviations :)<br/>
<font color="#A82F2F"><font size="2">(12:49:41 PM)</font> <b>Lethalman:</b></font> kongobongo, unshare -m, then mount -o remount,rw /nix/store<br/>
<font color="#A82F2F"><font size="2">(12:49:44 PM)</font> <b>Lethalman:</b></font> that should work<br/>
<font color="#A82F2F"><font size="2">(12:49:51 PM)</font> <b>kongobongo:</b></font> Is there a self-healing command for nix-store? ;)<br/>
<font color="#A82F2F"><font size="2">(12:50:00 PM)</font> <b>Lethalman:</b></font> kongobongo, you just shouldn&apos;t modify nix store<br/>
<font color="#A82F2F"><font size="2">(12:50:16 PM)</font> <b>kongobongo:</b></font> Yes. And we shouldn&apos;t use CPP and unsafe* in Haskell.<br/>
<font color="#A82F2F"><font size="2">(12:50:29 PM)</font> <b>Lethalman:</b></font> also, even copying the derivations, they won&apos;t be in the database<br/>
<font color="#A82F2F"><font size="2">(12:50:32 PM)</font> <b>Lethalman:</b></font> so they cannot be used<br/>
<font color="#A82F2F"><font size="2">(12:50:36 PM)</font> <b>Lethalman:</b></font> kongobongo, well good  luck then :)<br/>
<font color="#A82F2F"><font size="2">(12:50:44 PM)</font> <b>kongobongo:</b></font> Database?<br/>
<font color="#A82F2F"><font size="2">(01:03:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] robinbb opened pull request #6895: sqitch-pg (master...sqitch-pg) http://git.io/h0a7<br/>
<font color="#A82F2F"><font size="2">(01:04:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] robinbb closed pull request #6817: Add the Sqitch app for database management (master...Sqitch) http://git.io/pjbM<br/>
<font color="#16569E"><font size="2">(01:13:09 PM)</font> <b>magnetophon:</b></font> are there any dutch people here doing their taxes on nixos? There's a package for it until the 2013 version, and then it stops. nixnut: I'm guessing that's when you left nl?<br/>
<font color="#A82F2F"><font size="2">(01:13:43 PM)</font> <b>ikwildrpepper:</b></font> magnetophon: this year I could fill it in via the browser<br/>
<font color="#16569E"><font size="2">(01:16:48 PM)</font> <b>magnetophon:</b></font> ikwildrpepper: yeah, just did my ob that way, but then wa had a binary. (that I don't have runing on nixos yet)  I'm a one man company. maybe that's why it has the binary<br/>
<font color="#A82F2F"><font size="2">(01:18:26 PM)</font> <b>kongobongo:</b></font> Cleaned /nix/store with &apos;find /nix/store -type -f -mmin -500 -not -mmin -100 -exec rm {} \;&apos; :) And it&apos;s back r/o. That files moved manually before nixos-intall should not be in &apos;the database&apos; if I understand correctly.<br/>
<font color="#A82F2F"><font size="2">(01:19:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti created revert-6886-fix/vlc (+1 new commit): http://git.io/h06z<br/>
<font color="#A82F2F"><font size="2">(01:19:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/revert-6886-fix/vlc f30743b Peter Simons: Revert &quot;VLC wants a newer version of libdvdnav&quot;<br/>
<font color="#A82F2F"><font size="2">(01:20:15 PM)</font> <b>kongobongo:</b></font> Now If I add contents of /mnt/PEN/nix/store via &apos;nix-store&apos; it should be good; in /nix/store and in &apos;database&apos;. (reading nix-store man page)<br/>
<font color="#A82F2F"><font size="2">(01:20:20 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti opened pull request #6896: Revert &quot;VLC wants a newer version of libdvdnav&quot; (master...revert-6886-fix/vlc) http://git.io/h06D<br/>
<font color="#A82F2F"><font size="2">(01:25:12 PM)</font> <b>kongobongo:</b></font> It will be faster and safer to start over. Lesson learned. Thanks! Have a nice day.<br/>
<font size="2">(01:25:19 PM)</font><b> kongobongo left the room (quit: Quit: http://www.kiwiirc.com/ - A hand crafted IRC client).</b><br/>
<font color="#A82F2F"><font size="2">(01:32:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 7 new commits to master: http://git.io/h018<br/>
<font color="#A82F2F"><font size="2">(01:32:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master d6e0169 Robin Bate Boerop: Add Sqitch database management tool<br/>
<font color="#A82F2F"><font size="2">(01:32:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master d73e5d6 Robin Bate Boerop: Handle Sqitch manual<br/>
<font color="#A82F2F"><font size="2">(01:32:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 566cd9b Robin Bate Boerop: Remove unnecessary propagatedBuildInputs line<br/>
<font color="#A82F2F"><font size="2">(01:33:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] Fuuzetsu pushed 1 new commit to master: http://git.io/h01E<br/>
<font color="#A82F2F"><font size="2">(01:33:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master d56831a Mateusz Kowalczyk: ghc: update link and version of 7.10 RC3<br/>
<font color="#A82F2F"><font size="2">(01:34:52 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/h01y<br/>
<font color="#A82F2F"><font size="2">(01:34:52 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5a2fd23 Peter Simons: Merge pull request #6896 from NixOS/revert-6886-fix/vlc...<br/>
<font color="#A82F2F"><font size="2">(01:35:02 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti deleted revert-6886-fix/vlc at f30743b: http://git.io/h01H<br/>
<font size="2">(02:35:17 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
