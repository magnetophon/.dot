<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Fri 16 Jan 2015 12:00:25 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Fri 16 Jan 2015 12:00:25 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(12:00:25 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(12:00:25 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(12:01:29 PM)</font> <b>MP2E:</b></font> huh o.O i&apos;m a bit stumped as to where to go from here, but it does sound like it could be related to that.<br/>
<font color="#16569E"><font size="2">(12:02:30 PM)</font> <b>magnetophon:</b></font> Lethalman, goibhniu: hmm, that upgrade crashed my PC: empty screen with a non-blinking cursor, not reacting ctrl-alt-F8.  Had to forcefully shut down by holding power...   :(<br/>
<font color="#A82F2F"><font size="2">(12:02:50 PM)</font> <b>goibhniu:</b></font> huh?<br/>
<font color="#16569E"><font size="2">(12:03:20 PM)</font> <b>magnetophon:</b></font> yeah<br/>
<font color="#16569E"><font size="2">(12:03:23 PM)</font> <b>magnetophon:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(12:03:27 PM)</font> <b>goibhniu:</b></font> after rebooting, are you on the new version?<br/>
<font color="#A82F2F"><font size="2">(12:04:02 PM)</font> <b>goibhniu:</b></font> i.e. did the upgrade complete?<br/>
<font color="#A82F2F"><font size="2">(12:04:05 PM)</font> <b>ewemoa:</b></font> MP2E: yeah -- only idea i have atm is to look for aszlig commits subsequent to that date or things related to nuke-references, libnss...<br/>
<font color="#16569E"><font size="2">(12:04:19 PM)</font> <b>magnetophon:</b></font> I think so. The last it did was update grub. I'm doing another nixos-rebuild switch --upgrade to be sure...<br/>
<font color="#A82F2F"><font size="2">(12:04:24 PM)</font> <b>Lethalman:</b></font> goibhniu, I don&apos;t get why you did a nixos-rebuild<br/>
<font color="#A82F2F"><font size="2">(12:04:27 PM)</font> <b>Lethalman:</b></font> magnetophon, ^^<br/>
<font color="#A82F2F"><font size="2">(12:04:32 PM)</font> <b>Lethalman:</b></font> magnetophon, you should only have done a nix-shell<br/>
<font color="#A82F2F"><font size="2">(12:04:33 PM)</font> <b>Lethalman:</b></font> :(<br/>
<font color="#A82F2F"><font size="2">(12:05:10 PM)</font> <b>ewemoa:</b></font> MP2E: how does this look https://github.com/NixOS/nixpkgs/issues/5337 ?<br/>
<font color="#A82F2F"><font size="2">(12:05:39 PM)</font> <b>ifur:</b></font> why does nixos use OLD linux kernels in the stable branch?<br/>
<font color="#16569E"><font size="2">(12:05:42 PM)</font> <b>magnetophon:</b></font> Lethalman: well, as I explained earlier: I thought that nix-shell would fetch anything it needed that was not in my store yet, so I thought I might as well install those upgrades system-wide. Did I misunderstand?<br/>
<font color="#A82F2F"><font size="2">(12:05:52 PM)</font> <b>goibhniu:</b></font> magnetophon: out of curiosity, what GPU have you got?<br/>
<font color="#A82F2F"><font size="2">(12:06:05 PM)</font> <b>ifur:</b></font> amazing that the latest stabel doesnt work properly with haswell cpu&apos;s for nixos<br/>
<font color="#A82F2F"><font size="2">(12:06:28 PM)</font> <b>ifur:</b></font> 3.18.2 is latest, not 3.14.28<br/>
<font color="#A82F2F"><font size="2">(12:06:31 PM)</font> <b>Lethalman:</b></font> magnetophon, yes you misunderstood<br/>
<font color="#16569E"><font size="2">(12:06:49 PM)</font> <b>magnetophon:</b></font> goibhniu: 00:02.0 VGA compatible controller: Intel Corporation Mobile 945GSE Express Integrated Graphics Controller (rev 03)<br/>
<font color="#A82F2F"><font size="2">(12:06:53 PM)</font> <b>goibhniu:</b></font> still, it should be no harm to upgrade either<br/>
<font color="#A82F2F"><font size="2">(12:06:53 PM)</font> <b>MP2E:</b></font> ewemoa: hm that sounds right, but wouldn&apos;t Arch Linux have these files in it&apos;s uclibc?<br/>
<font color="#A82F2F"><font size="2">(12:07:25 PM)</font> <b>goibhniu:</b></font> magnetophon: kk, thanks<br/>
<font color="#A82F2F"><font size="2">(12:08:54 PM)</font> <b>ewemoa:</b></font> MP2E: that seems right...i did manage to fetch some pieces via hard-wired ip address...including some bootstrap-like stuff...is it possible some of that started to get used?<br/>
<font color="#A82F2F"><font size="2">(12:09:57 PM)</font> <b>goibhniu:</b></font> ifur: 3.14 is the longterm release<br/>
<font color="#16569E"><font size="2">(12:10:20 PM)</font> <b>magnetophon:</b></font> Lethalman: what part did I misunderstand? Before the upgrade, nix-shell wanted to do a whole lot of stuff, now it does nothing, and goes strait into the shell.  The difference is upgrades that I needed anyway,no?   (not trying to be argumentative here. just trying to understand)<br/>
<font color="#A82F2F"><font size="2">(12:10:39 PM)</font> <b>Lethalman:</b></font> magnetophon, no, the upgrade downloaded the same thing nix-shell would<br/>
<font color="#A82F2F"><font size="2">(12:10:45 PM)</font> <b>Lethalman:</b></font> except you also upgraded your system<br/>
<font color="#16569E"><font size="2">(12:12:00 PM)</font> <b>magnetophon:</b></font> Lethalman: exactly, that is what I was trying to say: If nix-shell is gonna download and/or build a lot of stuff anyway, I might as well directly install it system-wide<br/>
<font color="#16569E"><font size="2">(12:14:58 PM)</font> <b>magnetophon:</b></font> Anyway, Lethalman and goibhniu: thanks for getting me into nix-shell.<br/>
<font color="#A82F2F"><font size="2">(12:15:39 PM)</font> <b>goibhniu:</b></font> cool, that should make debugging much more fun :)<br/>
<font color="#A82F2F"><font size="2">(12:16:05 PM)</font> <b>Lethalman:</b></font> magnetophon, but then if you first do nix-shell and then nixos-rebuild it&apos;s the same :) nixos-rebuild won&apos;t redownload<br/>
<font color="#A82F2F"><font size="2">(12:16:16 PM)</font> <b>Lethalman:</b></font> except you wouldn&apos;t upgrade<br/>
<font color="#16569E"><font size="2">(12:16:26 PM)</font> <b>magnetophon:</b></font>  goibhniu:  yesterday I asked how to get rid of my faust2lv2 error  (ie headers can't find each-other). I suggested patching the lv2 header files, and you said yes. Did I understand that correctly?<br/>
<font color="#A82F2F"><font size="2">(12:16:50 PM)</font> <b>Lethalman:</b></font> new unstable release today<br/>
<font color="#A82F2F"><font size="2">(12:16:51 PM)</font> <b>Lethalman:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(12:17:21 PM)</font> <b>goibhniu:</b></font> magnetophon: I did indeed ... there may be a better way, but I think that&apos;s what I&apos;d do<br/>
<font color="#16569E"><font size="2">(12:18:03 PM)</font> <b>magnetophon:</b></font> goibhniu: well, Lethalman just told me that is 99% of times the wrong thing to do.  How do I proceed?<br/>
<font color="#A82F2F"><font size="2">(12:18:59 PM)</font> <b>Lethalman:</b></font> magnetophon, probably for this particular case it makes sense<br/>
<font color="#A82F2F"><font size="2">(12:19:01 PM)</font> <b>SrPx:</b></font> Lethalman: sorry, could you elaborate? I&apos;ve ran &quot;Tools/Scripts/build-webkit --gtk&quot; as suggested here https://trac.webkit.org/wiki/BuildingGtk<br/>
<font color="#A82F2F"><font size="2">(12:19:15 PM)</font> <b>SrPx:</b></font> It seems like it worked but it didn&apos;t actually install anything on my system<br/>
<font color="#A82F2F"><font size="2">(12:19:19 PM)</font> <b>Lethalman:</b></font> magnetophon, the alternative is to wrap the gcc calls to add the necessary -I<br/>
<font color="#A82F2F"><font size="2">(12:19:37 PM)</font> <b>Lethalman:</b></font> SrPx, don&apos;t understand what you are trying to do<br/>
<font color="#A82F2F"><font size="2">(12:19:45 PM)</font> <b>SrPx:</b></font> there is no webkitgtk bin anywhere, nor anything similar<br/>
<font color="#A82F2F"><font size="2">(12:19:49 PM)</font> <b>Lethalman:</b></font> SrPx, there is<br/>
<font color="#A82F2F"><font size="2">(12:20:10 PM)</font> <b>Lethalman:</b></font> SrPx, webkitgtk is a library, not a browser<br/>
<font color="#16569E"><font size="2">(12:20:14 PM)</font> <b>magnetophon:</b></font> Lethalman: OK, thanks. Can you explain why in this case it &lt;does&gt; make sense to patch the headers?<br/>
<font color="#A82F2F"><font size="2">(12:20:29 PM)</font> <b>SrPx:</b></font> Lethalman: ah actually I&apos;m trying to install webkitgtk for ghcjs I guess this is a little off topic here, though, since my nix list didn&apos;t have it and I ended up downloading the source :(<br/>
<font color="#A82F2F"><font size="2">(12:21:37 PM)</font> <b>Lethalman:</b></font> SrPx, hydra has binary cache for webkitgtk, don&apos;t know what you are doing wrong<br/>
<font color="#A82F2F"><font size="2">(12:21:46 PM)</font> <b>SrPx:</b></font> Lethalman: so it worked? How do I make sure? &quot;cabal install webkitgtk3&quot; still fails blaming lack of webkitgtk dependency<br/>
<font color="#A82F2F"><font size="2">(12:22:01 PM)</font> <b>SrPx:</b></font> are you sure? im on osx<br/>
<font color="#A82F2F"><font size="2">(12:22:04 PM)</font> <b>Lethalman:</b></font> magnetophon, because nobody ever will use it except faust itself, I guess<br/>
<font color="#A82F2F"><font size="2">(12:22:18 PM)</font> <b>Lethalman:</b></font> SrPx, don&apos;t know how ghc works sorry<br/>
<font color="#A82F2F"><font size="2">(12:22:31 PM)</font> <b>Lethalman:</b></font> and don&apos;t know where the binary cache for osx is nowadays<br/>
<font color="#A82F2F"><font size="2">(12:22:46 PM)</font> <b>Lethalman:</b></font> SrPx, but webkitgtk is packaged in nix, and there&apos;s no reason why you should build it yourself following that guide<br/>
<font color="#A82F2F"><font size="2">(12:22:46 PM)</font> <b>SrPx:</b></font> no probs, sorry for going a little off topic btw<br/>
<font color="#16569E"><font size="2">(12:23:05 PM)</font> <b>magnetophon:</b></font> Lethalman: tbc: we're talking about header files inside another package (lv2); an package that goibhniu created.<br/>
<font color="#A82F2F"><font size="2">(12:23:53 PM)</font> <b>SrPx:</b></font> but I only see this http://lpaste.net/118568<br/>
<font color="#A82F2F"><font size="2">(12:24:31 PM)</font> <b>SrPx:</b></font> did I set this wrong, maybe ? http://lpaste.net/118569<br/>
<font color="#A82F2F"><font size="2">(12:25:49 PM)</font> <b>SrPx:</b></font> ah &quot;nix-env -f ~/Haskell/nixpkgs/ -qa &apos;.*webkit.*&apos;&quot; doesn&apos;t who anything else too... weird<br/>
<font color="#A82F2F"><font size="2">(12:29:10 PM)</font> <b>Lethalman:</b></font> magnetophon, ah, if lv2 is used by others it shouldn&apos;t have those #include patched<br/>
<font color="#16569E"><font size="2">(12:29:36 PM)</font> <b>magnetophon:</b></font> Lethalman: What is the alternative?<br/>
<font color="#A82F2F"><font size="2">(12:31:04 PM)</font> <b>Lethalman:</b></font> magnetophon, wrap the calls to gcc done by faust and set -I<br/>
<font color="#A82F2F"><font size="2">(12:31:17 PM)</font> <b>Lethalman:</b></font> or something else<br/>
<font color="#A82F2F"><font size="2">(12:31:23 PM)</font> <b>Lethalman:</b></font> don&apos;t know how faust works<br/>
<font color="#16569E"><font size="2">(12:35:48 PM)</font> <b>magnetophon:</b></font> Lethalman: faust gets a .dsp file as an input, and creates a .cpp output. then faust2lv2 uses that input together with another .cpp file (that comes with the faust-package) to create a binary.   I know how to wrap programs and what that does, so I would know how how to fix it if a program can't find something. The problem here is that one header inside the lv2 package cannot find another header inside that package.  <br/>
<font color="#A82F2F"><font size="2">(12:36:15 PM)</font> <b>Lethalman:</b></font> magnetophon, that&apos;s because the gcc is called without -I<br/>
<font color="#A82F2F"><font size="2">(12:36:23 PM)</font> <b>Lethalman:</b></font> it should have -I ${lv2}/include<br/>
<font color="#A82F2F"><font size="2">(12:36:30 PM)</font> <b>Lethalman:</b></font> magnetophon, so is faust always called with that lv2?<br/>
<font color="#A82F2F"><font size="2">(12:36:37 PM)</font> <b>Lethalman:</b></font> or there are other variants?<br/>
<font color="#16569E"><font size="2">(12:38:20 PM)</font> <b>magnetophon:</b></font> Lethalman: faust itself knows nothing of lv2, it just creates generic .cpp files.  faust2alsa creates an alsa binary from that, faust2lv2 creates an lv2 plugin, faust2ios creates an ios app, etcetera   (was that the question?)<br/>
<font color="#A82F2F"><font size="2">(12:38:39 PM)</font> <b>Lethalman:</b></font> ah ok<br/>
<font color="#A82F2F"><font size="2">(12:38:42 PM)</font> <b>Lethalman:</b></font> got it<br/>
<font color="#A82F2F"><font size="2">(12:38:59 PM)</font> <b>Lethalman:</b></font> and which package actually calls gcc?<br/>
<font color="#16569E"><font size="2">(12:39:21 PM)</font> <b>magnetophon:</b></font> Lethalman: in this case faust2lv2<br/>
<font color="#A82F2F"><font size="2">(12:39:33 PM)</font> <b>Lethalman:</b></font> perfect, where in the source code? :)<br/>
<font color="#A82F2F"><font size="2">(12:39:43 PM)</font> <b>Lethalman:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(12:39:47 PM)</font> <b>Lethalman:</b></font> but it&apos;s a simple bash script?<br/>
<font color="#A82F2F"><font size="2">(12:39:52 PM)</font> <b>Lethalman:</b></font> magnetophon, https://github.com/nlogax/faust/blob/master/tools/faust2appls/faust2lv2 ?<br/>
<font color="#16569E"><font size="2">(12:40:05 PM)</font> <b>magnetophon:</b></font> yes<br/>
<font color="#16569E"><font size="2">(12:40:12 PM)</font> <b>magnetophon:</b></font> you are fast!<br/>
<font color="#A82F2F"><font size="2">(12:40:30 PM)</font> <b>Lethalman:</b></font> magnetophon, then it&apos;s enough to wrap faust2lv2 with -I ${lv2}/include I believe<br/>
<font color="#A82F2F"><font size="2">(12:40:43 PM)</font> <b>Lethalman:</b></font> let me see the right option for makeWrapper<br/>
<font color="#A82F2F"><font size="2">(12:41:29 PM)</font> <b>Lethalman:</b></font> magnetophon, should be wrapProgram $out/bin/faust2lv2 --add-flags &quot;-I ${lv2}/include&quot;<br/>
<font color="#16569E"><font size="2">(12:41:58 PM)</font> <b>magnetophon:</b></font> Lethalman: Thanks a million. I'll go try that now!<br/>
<font color="#A82F2F"><font size="2">(12:42:05 PM)</font> <b>Lethalman:</b></font> magnetophon, no wait<br/>
<font color="#16569E"><font size="2">(12:42:08 PM)</font> <b>magnetophon:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(12:42:16 PM)</font> <b>Lethalman:</b></font> that&apos;s the options to faust<br/>
<font color="#A82F2F"><font size="2">(12:42:18 PM)</font> <b>Lethalman:</b></font> not to gcc<br/>
<font color="#A82F2F"><font size="2">(12:42:18 PM)</font> <b>Lethalman:</b></font> uhm<br/>
<font color="#A82F2F"><font size="2">(12:42:46 PM)</font> <b>Lethalman:</b></font> magnetophon, you should patch this line https://github.com/nlogax/faust/blob/master/tools/faust2appls/faust2lv2#L72<br/>
<font color="#A82F2F"><font size="2">(12:42:51 PM)</font> <b>Lethalman:</b></font> to include -I ${lv2}/include<br/>
<font color="#A82F2F"><font size="2">(12:43:17 PM)</font> <b>ifur:</b></font> goibhniu: is NixOS a enterprise distro that can work for more than 4 years without updating kernel?<br/>
<font color="#16569E"><font size="2">(12:43:19 PM)</font> <b>magnetophon:</b></font> Lethalman: OK, will do. Thanks again!<br/>
<font color="#A82F2F"><font size="2">(12:43:48 PM)</font> <b>ifur:</b></font> goibhniu: longterm gets /less/ support than stable FYI.<br/>
<font color="#A82F2F"><font size="2">(12:43:51 PM)</font> <b>goibhniu:</b></font> ifur: no<br/>
<font color="#A82F2F"><font size="2">(12:44:14 PM)</font> <b>SrPx:</b></font> so how do I install webkitgtk providing it is not listed on my queries<br/>
<font color="#062585"><font size="2">(12:44:56 PM)</font> <b>***goibhniu</b></font> doesn&apos;t know how many stable releases we support, but we don&apos;t have a longterm support release of NixOS (yet) ... AFAIK<br/>
<font color="#A82F2F"><font size="2">(12:44:59 PM)</font> <b>ifur:</b></font> the way kernels become longterm is if suse/redhat/debian decides on that particular kernel for *their* LTS releases, that does not make them better than stable, quite the opposite<br/>
<font color="#A82F2F"><font size="2">(12:45:46 PM)</font> <b>ifur:</b></font> goibhniu: i have a year old haswell laptop that doesn&apos;t get the latest intel_pstate driver due to nixos extremely strange choise of kernel<br/>
<font color="#A82F2F"><font size="2">(12:46:06 PM)</font> <b>ifur:</b></font> i.e. nixos only support cpu&apos;s up till ivy bridge<br/>
<font color="#A82F2F"><font size="2">(12:46:13 PM)</font> <b>ifur:</b></font> broadwell is coming soon....<br/>
<font color="#A82F2F"><font size="2">(12:46:35 PM)</font> <b>goibhniu:</b></font> ifur: can&apos;t you just switch to a more recent kernel than the default?<br/>
<font color="#A82F2F"><font size="2">(12:46:42 PM)</font> <b>ifur:</b></font> unless you can backport all of this crap to a LTS kernel, only stable makes sense<br/>
<font color="#062585"><font size="2">(12:46:42 PM)</font> <b>***Digit</b></font> wonders if suse&apos;s/redhat&apos;s/debian&apos;s lts release use kernels listed as long term on kernel.org<br/>
<font color="#A82F2F"><font size="2">(12:46:56 PM)</font> <b>ifur:</b></font> goibhniu: there are none that works, i have to fork the kernel package<br/>
<font color="#A82F2F"><font size="2">(12:47:05 PM)</font> <b>ifur:</b></font> something that is IMHO, odd<br/>
<font color="#A82F2F"><font size="2">(12:47:14 PM)</font> <b>ifur:</b></font> just for haswell support, not like its something special that i want<br/>
<font color="#A82F2F"><font size="2">(12:47:35 PM)</font> <b>ifur:</b></font> there is 3.18.0, which is buggy, latest is 3.18.2<br/>
<font color="#A82F2F"><font size="2">(12:48:04 PM)</font> <b>ifur:</b></font> why not just stick with stable vanilla kernel? :/<br/>
<font color="#A82F2F"><font size="2">(12:48:38 PM)</font> <b>ifur:</b></font> copying the model of distro that have the buggiest kernels around certainly shouldn&apos;t be the go to solution<br/>
<font color="#A82F2F"><font size="2">(12:48:42 PM)</font> <b>SrPx:</b></font> nobody knows? :( another question, then, I just installed ghcjs on nixos itself: &quot;haskell-ghcjs-codemirror-ghc7.8.3&quot; - this is listed on &quot;nix-env -q&quot; - yet ghcjs, the command, isn&apos;t available... any idea why<br/>
<font color="#A82F2F"><font size="2">(12:50:07 PM)</font> <b>ifur:</b></font> dont get me wrong, never tried a distro with fewever issues than nixos, but the kernel choice baffels me :)<br/>
<font color="#A82F2F"><font size="2">(12:52:08 PM)</font> <b>goibhniu:</b></font> ifur: IIUC you&apos;re saying &quot;please upgrade the 3.18 kernel in 14.12 to 3.18.2 (which we have in master)&quot; ... or is there more to it?<br/>
<font color="#A82F2F"><font size="2">(12:55:57 PM)</font> <b>ifur:</b></font> goibhniu: im saying you are using a old kernel in the stable branch, and then explaining why that is silly<br/>
<font color="#A82F2F"><font size="2">(12:56:33 PM)</font> <b>ifur:</b></font> im not going to go into a new versus old hardware discussion, as 3.14 is fine for ivy bridge and older<br/>
<font color="#A82F2F"><font size="2">(12:57:35 PM)</font> <b>ifur:</b></font> if you think haswell drives hasnt been backported to distros using LTS kernels, then you are having a completely different discussion then what im having<br/>
<font color="#A82F2F"><font size="2">(12:58:14 PM)</font> <b>ifur:</b></font> but it hasnt for nixos, and more importantly, it wouldnt be necessary if you just stuck with stable, whcih is as you know -- stable.<br/>
<font color="#A82F2F"><font size="2">(12:58:26 PM)</font> <b>MP2E:</b></font> NixOS uses the latest point release of whatever given kernel is used. And furthermore, you can set your own kernel if the default doesn&apos;t work for you<br/>
<font color="#A82F2F"><font size="2">(12:58:51 PM)</font> <b>SrPx:</b></font> How do I install a lib that is not listed when I type &quot;nix-env -qa&quot;, but that is already packaged?<br/>
<font color="#A82F2F"><font size="2">(01:00:59 PM)</font> <b>ifur:</b></font> MP2E: nix-env -qa | grep linux<br/>
<font color="#A82F2F"><font size="2">(01:01:04 PM)</font> <b>ifur:</b></font> and compare with kernel.org<br/>
<font color="#A82F2F"><font size="2">(01:01:13 PM)</font> <b>MP2E:</b></font> I&apos;m on master, so your point will likely be missed by me<br/>
<font color="#A82F2F"><font size="2">(01:01:24 PM)</font> <b>ifur:</b></font> ok, sorry :/<br/>
<font color="#A82F2F"><font size="2">(01:01:38 PM)</font> <b>MP2E:</b></font> well if they&apos;re a bit old<br/>
<font color="#A82F2F"><font size="2">(01:01:46 PM)</font> <b>MP2E:</b></font> you can update the derivation and send a pull request!<br/>
<font color="#A82F2F"><font size="2">(01:02:18 PM)</font> <b>MP2E:</b></font> I mean a major update is obviously going to take some consideration<br/>
<font color="#A82F2F"><font size="2">(01:02:22 PM)</font> <b>MP2E:</b></font> but point release bumps are fine.<br/>
<font color="#A82F2F"><font size="2">(01:02:40 PM)</font> <b>ifur:</b></font> MP2E: well i have to!<br/>
<font color="#A82F2F"><font size="2">(01:03:05 PM)</font> <b>MP2E:</b></font> Thing is we don&apos;t have 1000s of contributors like debian or many of the larger distributions, and what NixOS supports is largely determined by what the contributors use<br/>
<font color="#A82F2F"><font size="2">(01:03:11 PM)</font> <b>MP2E:</b></font> So manpower is at a premium<br/>
<font color="#A82F2F"><font size="2">(01:03:19 PM)</font> <b>ifur:</b></font> just ranting about why it shouldnt be necessary, or i wasn&apos;t expecting the kernel to be the first thing to touch -- apart from tweaking<br/>
<font color="#A82F2F"><font size="2">(01:03:20 PM)</font> <b>MP2E:</b></font> there are often rough spots<br/>
<font color="#A82F2F"><font size="2">(01:03:45 PM)</font> <b>ifur:</b></font> oh, me and a mate were wondering if you are short on cpu / resources for building with hydra?<br/>
<font color="#A82F2F"><font size="2">(01:05:03 PM)</font> <b>MP2E:</b></font> I think that would be appreciated, hmm not sure to get ahold of about that..<br/>
<font color="#A82F2F"><font size="2">(01:05:29 PM)</font> <b>MP2E:</b></font> maybe ikwildrpepper ? (ifur is asking about contributing CPU power + resources to hydra)<br/>
<font color="#A82F2F"><font size="2">(01:05:54 PM)</font> <b>MP2E:</b></font> seems like hydra could always use more build power though :P<br/>
<font color="#A82F2F"><font size="2">(01:05:56 PM)</font> <b>ifur:</b></font> we run academic clusters, building one now which will have spare compute for sure<br/>
<font color="#A82F2F"><font size="2">(01:05:57 PM)</font> <b>SrPx:</b></font> ... ): okay nevermind<br/>
<font color="#A82F2F"><font size="2">(01:06:07 PM)</font> <b>ifur:</b></font> but a bit in the futur of course, kit gets delivered next month<br/>
<font color="#A82F2F"><font size="2">(01:06:08 PM)</font> <b>MP2E:</b></font> SrPx: there are a variety of reasons it might not be listed<br/>
<font color="#A82F2F"><font size="2">(01:06:10 PM)</font> <b>MP2E:</b></font> why isn&apos;t it listed?<br/>
<font color="#A82F2F"><font size="2">(01:06:13 PM)</font> <b>MP2E:</b></font> is it marked broken?<br/>
<font color="#A82F2F"><font size="2">(01:06:18 PM)</font> <b>MP2E:</b></font> is it in a hidden derivation?<br/>
<font color="#A82F2F"><font size="2">(01:06:26 PM)</font> <b>MP2E:</b></font> find it in the nixpkgs tree if you don&apos;t know and look at the nix expression<br/>
<font color="#A82F2F"><font size="2">(01:07:51 PM)</font> <b>MP2E:</b></font> if it&apos;s marked broken there&apos;s probably a good reason, but you can try to fix it by unmarking it and running through the build errors<br/>
<font color="#A82F2F"><font size="2">(01:08:39 PM)</font> <b>MP2E:</b></font> anyway brb<br/>
<font color="#A82F2F"><font size="2">(01:08:58 PM)</font> <b>SrPx:</b></font> I see.. i will investigate, thank you<br/>
<font size="2">(01:09:00 PM)</font><b> SrPx left the room (quit: Quit: Page closed).</b><br/>
<font color="#A82F2F"><font size="2">(01:27:06 PM)</font> <b>DamienCassou:</b></font> hi<br/>
<font color="#A82F2F"><font size="2">(01:27:31 PM)</font> <b>DamienCassou:</b></font> nixos does not provide any way to specify the content of /etc/cups/cups-browsed.conf<br/>
<font color="#A82F2F"><font size="2">(01:27:44 PM)</font> <b>orbitz:</b></font> anyone seirously running nix on freebsd?  looking to try it out in the near future.<br/>
<font color="#A82F2F"><font size="2">(01:28:47 PM)</font> <b>DamienCassou:</b></font> is there a way for me to specify in configuration.nix that I want some content to be put in this file?<br/>
<font color="#16569E"><font size="2">(01:52:34 PM)</font> <b>magnetophon:</b></font> Lethalman: I did  &quot;sed -i 's@CPPFLAGS=@CPPFLAGS=-I ${lv2}/include/ @g' $out/bin/faust2lv2&quot; in the installPhase, (just before creating the wrappers that I needed anyway). I'm still getting the same error: http://nixpaste.noip.me/raw/6Q_2ocz1 . The thing is: faust2lv2 was already able to find the top-level lv2.h, but from that point on something goes wrong.  I think...<br/>
<font color="#16569E"><font size="2">(01:52:46 PM)</font> <b>magnetophon:</b></font> goibhniu: ^^<br/>
<font color="#A82F2F"><font size="2">(01:54:24 PM)</font> <b>Digit:</b></font> i normaly use a modified http://someonewhocares.org/hosts/ but in nixos i see hosts is write protected symlinked to /etc/static/hosts ... what would be the proper way to implement this in nixos?  i presume there&apos;s some reason against just brute forcing /etc/hosts (or /etc/static/hosts) to be as i want, yes?<br/>
<font color="#A82F2F"><font size="2">(01:54:32 PM)</font> <b>kmicu:</b></font> DamienCassou: You need to modify your cups module and add option similar to http://nixos.org/nixos/manual/ch-options.html#opt-services.printing.cupsFilesConf<br/>
<font color="#A82F2F"><font size="2">(01:55:22 PM)</font> <b>kmicu:</b></font> Or request that by creating an issue at nixpgks repo.<br/>
<font color="#A82F2F"><font size="2">(01:56:25 PM)</font> <b>kmicu:</b></font> Digit: http://nixos.org/nixos/manual/ch-options.html#opt-networking.extraHosts<br/>
<font color="#A82F2F"><font size="2">(01:56:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vbgl pushed 2 new commits to master: http://git.io/iCHXiw<br/>
<font color="#A82F2F"><font size="2">(01:56:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0f15ee1 Tobias Geerinckx-Rice: Python: pygments: update 1.6 -&gt; 2.0.1; add licence; maintain<br/>
<font color="#A82F2F"><font size="2">(01:56:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 91bd762 vbgl: Merge pull request #5760 from nckx/pygments...<br/>
<font color="#A82F2F"><font size="2">(01:57:52 PM)</font> <b>DamienCassou:</b></font> kmicu: thank you. I&apos;m working on a pull request<br/>
<font color="#A82F2F"><font size="2">(01:58:58 PM)</font> <b>DamienCassou:</b></font> iElectric: do you have a minute to help me fix the systemd service I wrote to manage cups-browsed?<br/>
<font color="#A82F2F"><font size="2">(02:00:04 PM)</font> <b>iElectric:</b></font> sure<br/>
<font color="#A82F2F"><font size="2">(02:02:12 PM)</font> <b>DamienCassou:</b></font> iElectric:<br/>
<font color="#A82F2F"><font size="2">(02:02:14 PM)</font> <b>DamienCassou:</b></font> https://github.com/DamienCassou/nixpkgs/tree/cups-browsed<br/>
<font color="#A82F2F"><font size="2">(02:03:17 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] DamienCassou opened pull request #5804: Create a nixos module for cups-browsed (master...cups-browsed) http://git.io/dG_1Ww<br/>
<font color="#A82F2F"><font size="2">(02:03:47 PM)</font> <b>musicmatze:</b></font> anyone using neovim with ycm on nixos in here?<br/>
<font color="#A82F2F"><font size="2">(02:04:11 PM)</font> <b>musicmatze:</b></font> aka. how to get python support in neovim for ycm?<br/>
<font color="#A82F2F"><font size="2">(02:05:00 PM)</font> <b>DamienCassou:</b></font> iElectric: please look at the pull request. When systemd launches cups-browsed, the application won&apos;t see the printers. If I stop the systemd service and launch cups-browsed from a terminal, application will see the printers<br/>
<font color="#A82F2F"><font size="2">(02:05:45 PM)</font> <b>iElectric:</b></font> probably needs some packages available<br/>
<font color="#A82F2F"><font size="2">(02:05:54 PM)</font> <b>iElectric:</b></font> paths = [ .. ];<br/>
<font color="#A82F2F"><font size="2">(02:07:25 PM)</font> <b>DamienCassou:</b></font> iElectric: which ones? cups ?<br/>
<font color="#A82F2F"><font size="2">(02:07:35 PM)</font> <b>Digit:</b></font> such a bind bender breaking old habbits, getting used to nixos.   thnx kmicu, back on track. :)<br/>
<font color="#A82F2F"><font size="2">(02:07:36 PM)</font> <b>iElectric:</b></font> no idea :)<br/>
<font color="#A82F2F"><font size="2">(02:07:38 PM)</font> <b>iElectric:</b></font> probably, yes<br/>
<font color="#A82F2F"><font size="2">(02:08:57 PM)</font> <b>DamienCassou:</b></font> what does &quot;path&quot; mean exactly?<br/>
<font color="#A82F2F"><font size="2">(02:09:30 PM)</font> <b>DamienCassou:</b></font> iElectric: found it, thanks<br/>
<font color="#A82F2F"><font size="2">(02:10:09 PM)</font> <b>DamienCassou:</b></font> iElectric: indeed, it works. Thank you<br/>
<font color="#062585"><font size="2">(02:10:29 PM)</font> <b>***DamienCassou</b></font> makes happy face. He is proud ;-)<br/>
<font color="#A82F2F"><font size="2">(02:11:37 PM)</font> <b>DamienCassou:</b></font> iElectric: I fixed my pull request. Would you please merge it?<br/>
<font color="#A82F2F"><font size="2">(02:12:35 PM)</font> <b>iElectric:</b></font> !t DamienCassou<br/>
<font color="#A82F2F"><font size="2">(02:12:40 PM)</font> <b>iElectric:</b></font> !m DamienCassou<br/>
<font color="#A82F2F"><font size="2">(02:12:40 PM)</font> <b>[0__0]:</b></font> You&apos;re doing good work, DamienCassou!<br/>
<font color="#A82F2F"><font size="2">(02:12:43 PM)</font> <b>18VABZBVL:</b></font> (notice) [nixpkgs] iElectric closed pull request #5804: Create a nixos module for cups-browsed (master...cups-browsed) http://git.io/dG_1Ww<br/>
<font color="#A82F2F"><font size="2">(02:12:43 PM)</font> <b>1JTAABWTB:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/xYdVzw<br/>
<font color="#A82F2F"><font size="2">(02:12:43 PM)</font> <b>1JTAABWTB:</b></font> (notice) nixpkgs/master a7024cb Damien Cassou: Create a nixos module for cups-browsed<br/>
<font color="#A82F2F"><font size="2">(02:12:43 PM)</font> <b>1JTAABWTB:</b></font> (notice) nixpkgs/master a6a5a05 Domen Kožar: Merge pull request #5804 from DamienCassou/cups-browsed...<br/>
<font color="#A82F2F"><font size="2">(02:12:50 PM)</font> <b>DamienCassou:</b></font> iElectric: thanks :-)<br/>
<font color="#A82F2F"><font size="2">(02:13:08 PM)</font> <b>kmicu:</b></font> DamienCassou: thank you for contributing your time to NixOS. \o/.<br/>
<font color="#A82F2F"><font size="2">(02:14:01 PM)</font> <b>DamienCassou:</b></font> thanks for your work and help<br/>
<font color="#A82F2F"><font size="2">(02:17:01 PM)</font> <b>the_ktosiek:</b></font> Would it be possible to wrap some apps in a mount namespace with linker, libs, etc. in typical locations? Plus /home/$USER/.some_apps_home/ -&gt; /home/$USER/  :-)<br/>
<font size="2">(02:17:23 PM)</font><b> the_ktosiek is now known as ktosiek</b><br/>
<font color="#A82F2F"><font size="2">(02:18:59 PM)</font> <b>ktosiek:</b></font> preferably in a way that doesn&apos;t need root on (de)activation (I&apos;m thinking mostly about games here - I&apos;d like to run them in frozen, but FHS-ish environment)<br/>
<font color="#A82F2F"><font size="2">(02:20:49 PM)</font> <b>iElectric:</b></font> ktosiek: we have that<br/>
<font color="#A82F2F"><font size="2">(02:20:55 PM)</font> <b>ewemoa:</b></font> orbitz: last i heard nixos on freebsd had suffered bit rot<br/>
<font color="#A82F2F"><font size="2">(02:22:27 PM)</font> <b>ktosiek:</b></font> iElectric: buildFHSChrootEnv?<br/>
<font color="#A82F2F"><font size="2">(02:24:33 PM)</font> <b>Baughn:</b></font> I changed my default shell to zsh. Nevertheless, whenever I ssh in, I get bash. What..?<br/>
<font color="#A82F2F"><font size="2">(02:24:55 PM)</font> <b>Baughn:</b></font> Hum. Of course, a nixos-env rebuild sets it right back.<br/>
<font color="#A82F2F"><font size="2">(02:24:56 PM)</font> <b>iElectric:</b></font> ktosiek: yup<br/>
<font color="#A82F2F"><font size="2">(02:25:58 PM)</font> <b>Baughn:</b></font> Setting it the proper way does no better.<br/>
<font color="#A82F2F"><font size="2">(02:26:36 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vbgl pushed 1 new commit to master: http://git.io/oknQ1A<br/>
<font color="#A82F2F"><font size="2">(02:26:36 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ef92f10 Vincent Laporte: Python27.zope_testrunner: disable test...<br/>
<font color="#A82F2F"><font size="2">(02:32:42 PM)</font> <b>Baughn:</b></font> Oh, apparently I needed to say set &quot;programs.zsh.enable&quot; instead of just installing it. -_-;<br/>
<font color="#A82F2F"><font size="2">(02:37:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5802: Update backintime to 1.1.0 (master...backintime-1.1.0) http://git.io/_FDg5Q<br/>
<font color="#A82F2F"><font size="2">(02:38:28 PM)</font> <b>iElectric:</b></font> welp with PRs, 130+ open: https://github.com/NixOS/nixpkgs/pulls<br/>
<font color="#A82F2F"><font size="2">(02:39:41 PM)</font> <b>Baughn:</b></font> ...apparently, my login shell problem was being caused by an ssh control channel. That&apos;s.. funky.<br/>
<font color="#A82F2F"><font size="2">(02:47:34 PM)</font> <b>Digit:</b></font> i presume it&apos;s possible to have configuration.nix split into different files... otherwise this implementation and maintenance of someonewhocares hosts file may be rather unweildly.  i havnt found the syntactical trick to that yet...<br/>
<font color="#A82F2F"><font size="2">(02:48:06 PM)</font> <b>Digit:</b></font> and not sure enough of the terminology to help my search<br/>
<font color="#A82F2F"><font size="2">(02:48:36 PM)</font> <b>Baughn:</b></font> Digit: It&apos;s split into multiple files already, so I&apos;d say &quot;deifnitely&quot;<br/>
<font color="#A82F2F"><font size="2">(02:48:50 PM)</font> <b>Baughn:</b></font> As to how..<br/>
<font color="#062585"><font size="2">(02:48:53 PM)</font> <b>***Baughn</b></font> looks at http://nixos.org/nix/manual/#ssec-builtins<br/>
<font color="#A82F2F"><font size="2">(02:48:55 PM)</font> <b>Baughn:</b></font> import?<br/>
<font color="#A82F2F"><font size="2">(02:50:28 PM)</font> <b>henrytill:</b></font> Baughn: yep and http://nixos.org/nixos/manual/sec-configuration-syntax.html#sec-modularity<br/>
<font color="#A82F2F"><font size="2">(02:50:33 PM)</font> <b>ktosiek:</b></font> Digit: &quot;import&quot; and &quot;modules&quot;<br/>
<font color="#A82F2F"><font size="2">(02:51:39 PM)</font> <b>henrytill:</b></font> Digit: ^^<br/>
<font color="#A82F2F"><font size="2">(02:52:07 PM)</font> <b>orbitz:</b></font> ewemoa: Nix you mean?<br/>
<font color="#A82F2F"><font size="2">(02:52:16 PM)</font> <b>Digit:</b></font> yup yup yups.  research continues.  thnx guys.  :)<br/>
<font color="#A82F2F"><font size="2">(02:58:57 PM)</font> <b>ewemoa:</b></font> orbitz: yes, my mistake -- nix, indeed :)<br/>
<font color="#A82F2F"><font size="2">(03:01:49 PM)</font> <b>ewemoa:</b></font> orbitz: fwiw: https://github.com/NixOS/nix/commit/69f91e36453d3cda6ea28b6a0567d4ffcdcaaf9d<br/>
<font size="2">(03:07:40 PM)</font><b> Profpats1 is now known as Profpatsch</b><br/>
<font color="#A82F2F"><font size="2">(03:11:37 PM)</font> <b>Digit:</b></font> every battle with nixos is utterly anti-climactic. there&apos;s a bit of a trek to the battlefield from my knowledgebase, but when i do arrive prepared for some grueling long struggle through broken glass, it&apos;s all just a hug and a handshake.<br/>
<font color="#A82F2F"><font size="2">(03:12:08 PM)</font> <b>Digit:</b></font> so far<br/>
<font color="#A82F2F"><font size="2">(03:12:40 PM)</font> <b>shlevy:</b></font> Sorry<br/>
<font color="#A82F2F"><font size="2">(03:13:14 PM)</font> <b>shlevy:</b></font> I&apos;ve definitely spent far fewer weekends battling linux systems administration since finding NixOS, and it&apos;s been hard to fill the time!<br/>
<font color="#A82F2F"><font size="2">(03:13:20 PM)</font> <b>Digit:</b></font> hehehe, yeah, why couldnt you guys have made it more like i expected... more janky n difficult.  XD  this all works too well and too easily.<br/>
<font color="#A82F2F"><font size="2">(03:13:39 PM)</font> <b>orbitz:</b></font> ewemoa: thanks<br/>
<font color="#A82F2F"><font size="2">(03:14:19 PM)</font> <b>MichaelRaskin:</b></font> Digit: you want challenges?<br/>
<font color="#A82F2F"><font size="2">(03:14:34 PM)</font> <b>MichaelRaskin:</b></font> I have a few...<br/>
<font color="#A82F2F"><font size="2">(03:15:19 PM)</font> <b>Digit:</b></font> oh i&apos;m sure they&apos;ll come, more than i can handle.  for now, i think i&apos;ll take my easy ride n be happy, n make use of the spare time n energy to read more of the manual.  ^_^<br/>
<font color="#A82F2F"><font size="2">(03:15:39 PM)</font> <b>enchanter:</b></font> Hi guys.<br/>
<font color="#A82F2F"><font size="2">(03:15:50 PM)</font> <b>MichaelRaskin:</b></font> You want<br/>
<font color="#A82F2F"><font size="2">(03:15:56 PM)</font> <b>enchanter:</b></font> Is running NixOS containers in production advisable?<br/>
<font color="#A82F2F"><font size="2">(03:16:20 PM)</font> <b>MichaelRaskin:</b></font> You could, for example, try to have three different X sessions with diferent Window managers<br/>
<font color="#A82F2F"><font size="2">(03:16:22 PM)</font> <b>Lethalman:</b></font> magnetophon, uhm<br/>
<font color="#A82F2F"><font size="2">(03:16:46 PM)</font> <b>Lethalman:</b></font> magnetophon, I think the wrapper is wrong, can you cat it?<br/>
<font color="#062585"><font size="2">(03:17:01 PM)</font> <b>***Digit</b></font> would advise it, but he&apos;s lost in delirious nixos honeymoon summer madness<br/>
<font color="#A82F2F"><font size="2">(03:17:10 PM)</font> <b>Lethalman:</b></font> magnetophon, because that error &quot;line 72: /nix/store/79vrvcyl3xpg5nwzzwq7plghv62ggshr-lv2-1.10.0/include: Is a directory&quot; is suspicious<br/>
<font color="#A82F2F"><font size="2">(03:17:30 PM)</font> <b>Lethalman:</b></font> magnetophon, I mean can you cat the sed script?<br/>
<font color="#A82F2F"><font size="2">(03:17:33 PM)</font> <b>Lethalman:</b></font> not the wrapper sorry<br/>
<font color="#A82F2F"><font size="2">(03:17:36 PM)</font> <b>Lethalman:</b></font> magnetophon, I think the sed is wron<br/>
<font color="#A82F2F"><font size="2">(03:18:09 PM)</font> <b>orbitz:</b></font> ewemoa: that&apos;s a shame :(<br/>
<font color="#A82F2F"><font size="2">(03:18:23 PM)</font> <b>orbitz:</b></font> ewemoa: Do you know if the challenge is nix itself, or a lack of packages?<br/>
<font color="#A82F2F"><font size="2">(03:18:33 PM)</font> <b>enchanter:</b></font> I remember reading somewhere that NixOS containers are only meant from development not deployment. They were said to be more resource hungry and stuff...<br/>
<font color="#A82F2F"><font size="2">(03:18:38 PM)</font> <b>MichaelRaskin:</b></font> Digit: I think this challenge will solve your anti-climactic battle problem<br/>
<font color="#A82F2F"><font size="2">(03:18:44 PM)</font> <b>enchanter:</b></font> Is this still the case?<br/>
<font color="#A82F2F"><font size="2">(03:19:14 PM)</font> <b>ewemoa:</b></font> orbitz: sorry no idea<br/>
<font color="#A82F2F"><font size="2">(03:20:27 PM)</font> <b>Digit:</b></font> MichaelRaskin: this isnt going to be like giving the borg unsolvable geometric paradoxes is it?  it&apos;s not going to break me is it?<br/>
<font color="#A82F2F"><font size="2">(03:21:03 PM)</font> <b>Digit:</b></font> o, i see ... different x with different wm.  :/  doesnt sound too challenging... have done before in other nixen<br/>
<font color="#A82F2F"><font size="2">(03:21:35 PM)</font> <b>MichaelRaskin:</b></font> Hehe<br/>
<font color="#A82F2F"><font size="2">(03:23:32 PM)</font> <b>iElectric:</b></font> enchanter: &quot;depends&quot;<br/>
<font color="#A82F2F"><font size="2">(03:23:37 PM)</font> <b>Digit:</b></font> owait.   ...ok, that&apos;s not a &quot;before lunch&quot; item.  on the back-burner for now.  n_n  *mildly exhasperated sigh at unfamiliarity at first move*<br/>
<font color="#A82F2F"><font size="2">(03:24:02 PM)</font> <b>enchanter:</b></font> iElectric: It depends on what?<br/>
<font color="#A82F2F"><font size="2">(03:24:25 PM)</font> <b>iElectric:</b></font> enchanter: depends what your production env is like<br/>
<font color="#A82F2F"><font size="2">(03:25:31 PM)</font> <b>MichaelRaskin:</b></font> Digit: a breaking challenge is to implement startx workalike (was possible until recent systemd update, apparently impossible now)<br/>
<font color="#A82F2F"><font size="2">(03:26:01 PM)</font> <b>enchanter:</b></font> iElectric: OK. I don&apos;t know if this helps, but I would like to provision servers on NixOS using NixOS containers rather than docker.<br/>
<font color="#A82F2F"><font size="2">(03:26:05 PM)</font> <b>MichaelRaskin:</b></font> Multiple different X sessions may require patching NixOS, but should be possible<br/>
<font color="#A82F2F"><font size="2">(03:26:47 PM)</font> <b>enchanter:</b></font> They seem to be more friendly with systemd than docker.<br/>
<font color="#A82F2F"><font size="2">(03:28:36 PM)</font> <b>iElectric:</b></font> enchanter: yeah, we&apos;ll they &quot;work&quot;<br/>
<font color="#A82F2F"><font size="2">(03:28:48 PM)</font> <b>iElectric:</b></font> there are not many changes made to that part<br/>
<font color="#A82F2F"><font size="2">(03:29:04 PM)</font> <b>iElectric:</b></font> enchanter: not sure about how many users of containers we have.<br/>
<font color="#A82F2F"><font size="2">(03:31:03 PM)</font> <b>enchanter:</b></font> iElectric: OK, maybe I&apos;m not asking the right question. How do you guys normally deploy on NixOS?<br/>
<font color="#A82F2F"><font size="2">(03:31:18 PM)</font> <b>iElectric:</b></font> nixops<br/>
<font color="#A82F2F"><font size="2">(03:34:00 PM)</font> <b>enchanter:</b></font> I see. What about if you want to allow third parties to run code on your servers.<br/>
<font color="#A82F2F"><font size="2">(03:34:07 PM)</font> <b>Digit:</b></font> are there alternatives to systemd in nixos, or is it pretty hard-wired in now?<br/>
<font color="#A82F2F"><font size="2">(03:34:31 PM)</font> <b>iElectric:</b></font> enchanter: nixos containers are not safe<br/>
<font color="#A82F2F"><font size="2">(03:34:38 PM)</font> <b>iElectric:</b></font> security wise<br/>
<font color="#A82F2F"><font size="2">(03:34:48 PM)</font> <b>iElectric:</b></font> as systemd-nspawn is not<br/>
<font color="#A82F2F"><font size="2">(03:35:02 PM)</font> <b>enchanter:</b></font> Even when not running the apps as root?<br/>
<font color="#A82F2F"><font size="2">(03:35:32 PM)</font> <b>MichaelRaskin:</b></font> Digit: In true NixOS it is very hard-wired now<br/>
<font color="#A82F2F"><font size="2">(03:36:05 PM)</font> <b>MichaelRaskin:</b></font> Building a NixPkgs-based bootable system by copying hard pieces from NixOS and rewriting simple things is completely doable<br/>
<font color="#A82F2F"><font size="2">(03:36:12 PM)</font> <b>MichaelRaskin:</b></font> I run such a system now<br/>
<font color="#A82F2F"><font size="2">(03:36:20 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] matthiasbeyer opened pull request #5805: [WIP] Add package: luakit (master...add-luakit) http://git.io/N_4CRQ<br/>
<font color="#A82F2F"><font size="2">(03:36:56 PM)</font> <b>Digit:</b></font> right, yup, as in, go without systemd n u get the battle through broken glass with no official support, right, noted, should i ever want that challenge.<br/>
<font color="#A82F2F"><font size="2">(03:39:01 PM)</font> <b>MichaelRaskin:</b></font> Actually, lack of support is the only problem this way<br/>
<font color="#A82F2F"><font size="2">(03:40:01 PM)</font> <b>MichaelRaskin:</b></font> Things like initrd building can be simply reused<br/>
<font color="#A82F2F"><font size="2">(03:40:26 PM)</font> <b>madjar:</b></font> iElectric: thanks for adding reserve to my default.nix. I didn&apos;t know about it, and it&apos;s awesome<br/>
<font color="#A82F2F"><font size="2">(03:41:36 PM)</font> <b>iElectric:</b></font> np :)<br/>
<font color="#A82F2F"><font size="2">(03:41:38 PM)</font> <b>goibhniu:</b></font> magnetophon: I was in a meeting ... did you get any further with that?<br/>
<font color="#A82F2F"><font size="2">(03:45:35 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx opened pull request #5806: Python: add pgcli 0.12.0: command line interface for Postgres (master...pgcli) http://git.io/lHLq-Q<br/>
<font color="#A82F2F"><font size="2">(03:52:56 PM)</font> <b>Baughn:</b></font> iElectric: containers are not safe? Even when using grsecurity?<br/>
<font color="#A82F2F"><font size="2">(04:07:43 PM)</font> <b>k0001:</b></font> Is there any way to kindly ask nixos.hydra.org to build something for me? Building chromium on my own is taking too long, and there doesn&apos;t seem to be a binary build available at http://hydra.nixos.org/job/nixos/release-14.12/nixpkgs.chromium.x86_64-linux<br/>
<font color="#A82F2F"><font size="2">(04:08:16 PM)</font> <b>k0001:</b></font> Err, hydra.nixos.org<br/>
<font color="#A82F2F"><font size="2">(04:08:53 PM)</font> <b>viric:</b></font> k0001: the build timed out in hydra. bad.<br/>
<font color="#A82F2F"><font size="2">(04:08:59 PM)</font> <b>Lethalman:</b></font> k0001, how not? use the older one<br/>
<font color="#A82F2F"><font size="2">(04:10:42 PM)</font> <b>Lethalman:</b></font> k0001, I see many green builds there<br/>
<font color="#A82F2F"><font size="2">(04:11:20 PM)</font> <b>k0001:</b></font> Lethalman: They are green, yes, but they all report &quot;Note: this build is no longer available&quot;.<br/>
<font color="#A82F2F"><font size="2">(04:11:27 PM)</font> <b>Lethalman:</b></font> ouch<br/>
<font color="#A82F2F"><font size="2">(04:11:58 PM)</font> <b>Lethalman:</b></font> maybe iElectric can restart it<br/>
<font color="#A82F2F"><font size="2">(04:14:07 PM)</font> <b>goibhniu:</b></font> k0001: for now, you could install the chromium from unstable: http://hydra.nixos.org/build/18709043<br/>
<font color="#A82F2F"><font size="2">(04:14:12 PM)</font> <b>iElectric:</b></font> sure<br/>
<font color="#A82F2F"><font size="2">(04:14:21 PM)</font> <b>iElectric:</b></font> goibhniu: or just old version<br/>
<font color="#A82F2F"><font size="2">(04:14:31 PM)</font> <b>goibhniu:</b></font> the old versions are gone<br/>
<font color="#A82F2F"><font size="2">(04:14:35 PM)</font> <b>goibhniu:</b></font> IIUC<br/>
<font size="2">(04:28:33 PM)</font><b> mojo is now known as Guest81148</b><br/>
<font color="#A82F2F"><font size="2">(04:35:10 PM)</font> <b>iElectric:</b></font> k0001: done http://hydra.nixos.org/build/18644072<br/>
<font color="#A82F2F"><font size="2">(04:50:23 PM)</font> <b>viric:</b></font> the latest firefox works much worse for html5 video.<br/>
<font color="#A82F2F"><font size="2">(04:52:04 PM)</font> <b>kmicu:</b></font> 35? ‘worse’ in what sense?<br/>
<font color="#A82F2F"><font size="2">(04:52:31 PM)</font> <b>viric:</b></font> it stops playing videos at some point and I&apos;ve to restart it<br/>
<font color="#A82F2F"><font size="2">(05:04:23 PM)</font> <b>Havvy:</b></font> viric:  Have you reported on their Bugzilla yet?<br/>
<font color="#A82F2F"><font size="2">(05:05:48 PM)</font> <b>viric:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(05:05:58 PM)</font> <b>viric:</b></font> I use 34.0.5 though<br/>
<font color="#A82F2F"><font size="2">(05:06:48 PM)</font> <b>kmicu:</b></font> Do you have that problem in 34 or 35?<br/>
<font color="#A82F2F"><font size="2">(05:06:54 PM)</font> <b>viric:</b></font> 34<br/>
<font color="#A82F2F"><font size="2">(05:07:23 PM)</font> <b>kmicu:</b></font> Then *I* cannot reproduce|confirm it.<br/>
<font color="#A82F2F"><font size="2">(05:07:43 PM)</font> <b>kmicu:</b></font> (No problems with 34.)<br/>
<font color="#A82F2F"><font size="2">(05:08:01 PM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(05:08:07 PM)</font> <b>viric:</b></font> I don&apos;t know where it blocks<br/>
<font color="#A82F2F"><font size="2">(05:09:36 PM)</font> <b>k0001:</b></font> iElectric Lethalman goibhniu thank you!!<br/>
<font color="#A82F2F"><font size="2">(05:14:30 PM)</font> <b>_torpor_:</b></font> could someone explain why crossSystem assertion might be failing for me..<br/>
<font color="#A82F2F"><font size="2">(05:14:38 PM)</font> <b>_torpor_:</b></font> nix-shell -f &quot;&lt;mypkgs&gt;&quot; # error: assertion failed at &quot;/home/adam/src/nix/nixpkgs/pkgs/top-level/all-packages.nix&quot;:4475:15<br/>
<font color="#A82F2F"><font size="2">(05:16:22 PM)</font> <b>Lethalman:</b></font> _torpor_, you are calling nix-shell on the whole set of packages<br/>
<font color="#A82F2F"><font size="2">(05:16:29 PM)</font> <b>Lethalman:</b></font> it&apos;s obvious that something may raise an assertion<br/>
<font color="#A82F2F"><font size="2">(05:19:05 PM)</font> <b>_torpor_:</b></font> ah ok, i have a default.nix file in cwd which needs a package in &lt;mypkgs&gt;, how should i be dropping down to shell?<br/>
<font color="#A82F2F"><font size="2">(05:21:36 PM)</font> <b>Lethalman:</b></font> what&apos;s your default.nix?<br/>
<font color="#A82F2F"><font size="2">(05:23:39 PM)</font> <b>_torpor_:</b></font> Looking at https://nixos.org/wiki/Haskell#Local_use_via_myEnvFun<br/>
<font color="#A82F2F"><font size="2">(05:24:21 PM)</font> <b>_torpor_:</b></font> adding extra search path seemed to help `nix-shell -I ~/src/nix default.nix`<br/>
<font color="#A82F2F"><font size="2">(05:28:15 PM)</font> <b>Lethalman:</b></font> _torpor_, no it helps depending on the contents of default.nix :)<br/>
<font color="#A82F2F"><font size="2">(05:30:47 PM)</font> <b>emery:</b></font> acme is a weirdly great editor for nix expressions<br/>
<font color="#A82F2F"><font size="2">(05:31:03 PM)</font> <b>ocharles_:</b></font> Hey all, trying to set up a personal Hydra again - any idea why http://ocharles.org.uk:3000/build/1 is just stuck at &quot;scheduled to be built&quot;?<br/>
<font color="#A82F2F"><font size="2">(05:31:11 PM)</font> <b>johnw:</b></font> what package defines patchelf?<br/>
<font color="#A82F2F"><font size="2">(05:31:18 PM)</font> <b>shlevy:</b></font> ocharles_: Do you have hydra-queue-runner running?<br/>
<font color="#A82F2F"><font size="2">(05:31:21 PM)</font> <b>shlevy:</b></font> johnw: patchelf :)<br/>
<font color="#A82F2F"><font size="2">(05:31:27 PM)</font> <b>johnw:</b></font> what defines &quot;file&quot;? :)<br/>
<font color="#A82F2F"><font size="2">(05:31:31 PM)</font> <b>ocharles_:</b></font> shlevy: ah, it&apos;s dead<br/>
<font color="#A82F2F"><font size="2">(05:31:41 PM)</font> <b>ocharles_:</b></font> back up now!<br/>
<font color="#A82F2F"><font size="2">(05:31:43 PM)</font> <b>shlevy:</b></font> johnw: file :P<br/>
<font color="#A82F2F"><font size="2">(05:31:47 PM)</font> <b>ocharles_:</b></font> thanks shlevy !<br/>
<font color="#A82F2F"><font size="2">(05:31:48 PM)</font> <b>johnw:</b></font> no way<br/>
<font color="#A82F2F"><font size="2">(05:33:17 PM)</font> <b>johnw:</b></font> woohoo!! interpreter patched :)<br/>
<font color="#A82F2F"><font size="2">(05:33:19 PM)</font> <b>johnw:</b></font> thanks, shlevy<br/>
<font color="#A82F2F"><font size="2">(05:34:57 PM)</font> <b>viric:</b></font> hm the megatools fail<br/>
<font color="#A82F2F"><font size="2">(05:35:25 PM)</font> <b>viric:</b></font> is anyone aware of a glib io change?<br/>
<font color="#A82F2F"><font size="2">(05:35:32 PM)</font> <b>viric:</b></font> GIO_EXTRA_MODULES, ect.<br/>
<font color="#A82F2F"><font size="2">(05:35:33 PM)</font> <b>viric:</b></font> etc.<br/>
<font color="#A82F2F"><font size="2">(05:35:40 PM)</font> <b>viric:</b></font> glib_networking ...<br/>
<font color="#A82F2F"><font size="2">(05:36:31 PM)</font> <b>viric:</b></font> ah glib_networking may be outdated.<br/>
<font color="#A82F2F"><font size="2">(05:42:28 PM)</font> <b>viric:</b></font> hm no. also fails.<br/>
<font size="2">(05:56:30 PM)</font><b> MichaelRaskin left the room (quit: Quit: MichaelRaskin).</b><br/>
<font color="#A82F2F"><font size="2">(06:03:16 PM)</font> <b>knyon:</b></font> thoughtpolice: Followed your instructions on how to install NixOS on Rackspace servers, worked wonderfully. Thanks for putting that together!<br/>
<font color="#A82F2F"><font size="2">(06:03:33 PM)</font> <b>knyon:</b></font> thoughtpolice: just one question: any idea what the root password is or how to set it?<br/>
<font color="#A82F2F"><font size="2">(06:03:49 PM)</font> <b>knyon:</b></font> (hopefully it&apos;s just disabled)<br/>
<font color="#A82F2F"><font size="2">(06:04:58 PM)</font> <b>k0001:</b></font> x2<br/>
<font size="2">(06:05:03 PM)</font><b> Guest81148 is now known as mojo</b><br/>
<font color="#A82F2F"><font size="2">(06:05:16 PM)</font> <b>gridaphobe:</b></font> if i have a linode running nixos, can i use nixops to deploy applications to the linode? i see there&apos;s a &quot;nixos container&quot; option, but it&apos;s not entirely clear how that works<br/>
<font color="#A82F2F"><font size="2">(06:05:31 PM)</font> <b>ikwildrpepper:</b></font> gridaphobe: yes you can<br/>
<font color="#A82F2F"><font size="2">(06:05:35 PM)</font> <b>knyon:</b></font> or if anyone else knows, when using nixos-install and blowing away a previous linux install, any idea what the root password will be?<br/>
<font color="#A82F2F"><font size="2">(06:05:36 PM)</font> <b>ikwildrpepper:</b></font> you should use the none backend<br/>
<font color="#A82F2F"><font size="2">(06:06:02 PM)</font> <b>ikwildrpepper:</b></font> (which is the default)<br/>
<font color="#A82F2F"><font size="2">(06:06:22 PM)</font> <b>alpounet:</b></font> iElectric: eh, how does that work? maybe i could just borrow this for online.net =)<br/>
<font color="#A82F2F"><font size="2">(06:06:26 PM)</font> <b>alpounet:</b></font> err, ikwildrpepper*<br/>
<font color="#A82F2F"><font size="2">(06:06:36 PM)</font> <b>ikwildrpepper:</b></font> gridaphobe: just make sure your logical/nixops machine name points to correct dns/ip<br/>
<font color="#A82F2F"><font size="2">(06:07:14 PM)</font> <b>ikwildrpepper:</b></font> alpounet: well, but for online.net (and linode in the end also) you&apos;d want the provisioning step as well right for convenience<br/>
<font color="#A82F2F"><font size="2">(06:07:33 PM)</font> <b>ikwildrpepper:</b></font> otherwise you don&apos;t need a linode/online.net backend<br/>
<font color="#A82F2F"><font size="2">(06:07:45 PM)</font> <b>ikwildrpepper:</b></font> you can then just use the &apos;none&apos; backend<br/>
<font color="#A82F2F"><font size="2">(06:07:50 PM)</font> <b>alpounet:</b></font> ikwildrpepper: yeah but that would only be possible for their cloud services, not the dedicated servers<br/>
<font color="#A82F2F"><font size="2">(06:08:04 PM)</font> <b>ikwildrpepper:</b></font> which is basically just deploying nixos to existing machines<br/>
<font color="#A82F2F"><font size="2">(06:08:15 PM)</font> <b>alpounet:</b></font> (and i have 3 of the latters)<br/>
<font color="#A82F2F"><font size="2">(06:08:23 PM)</font> <b>ikwildrpepper:</b></font> alpounet: hetzner does it as well, via rescue system<br/>
<font color="#A82F2F"><font size="2">(06:08:33 PM)</font> <b>gridaphobe:</b></font> yea, i just have a single linode, no need to provision machines for my use<br/>
<font color="#A82F2F"><font size="2">(06:09:01 PM)</font> <b>alpounet:</b></font> ikwildrpepper: so basically if our ssh key is in the authorized keys on the target machine, we&apos;re good to go with the &apos;none&apos; backend?<br/>
<font color="#A82F2F"><font size="2">(06:09:04 PM)</font> <b>gridaphobe:</b></font> i guess i&apos;ll have to dig in further to the nixops manual, thanks ikwildrpepper!<br/>
<font color="#A82F2F"><font size="2">(06:09:21 PM)</font> <b>ikwildrpepper:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(06:09:29 PM)</font> <b>alpounet:</b></font> sweet<br/>
<font color="#A82F2F"><font size="2">(06:10:06 PM)</font> <b>alpounet:</b></font> since I don&apos;t need to provision on the fly for the moment, that should be enough for me :)<br/>
<font color="#A82F2F"><font size="2">(06:23:52 PM)</font> <b>nkar:</b></font> how can I get a list of packages (with versions) that are picked up by nix-shell?<br/>
<font color="#A82F2F"><font size="2">(06:24:08 PM)</font> <b>nkar:</b></font> I have a shell.nix file, but it doesn&apos;t specify version numbers<br/>
<font color="#16569E"><font size="2">(06:31:32 PM)</font> <b>magnetophon:</b></font> Lethalman, goibhniu: Sorry, I was afk. This is what I have now: https://github.com/magnetophon/nixpkgs/blob/faust2lv2_14.12/pkgs/applications/audio/faust/default.nix#L86    Thanks for your help, guys!!!<br/>
<font color="#A82F2F"><font size="2">(06:32:15 PM)</font> <b>Lethalman:</b></font> magnetophon, that&apos;s wrong, see that CPPFLAGS= has &quot; right after<br/>
<font color="#A82F2F"><font size="2">(06:32:30 PM)</font> <b>Lethalman:</b></font> you are substituting CPPFLAGS=&quot; with CPPFLAGS=-I...&quot;<br/>
<font color="#16569E"><font size="2">(06:33:34 PM)</font> <b>magnetophon:</b></font> Lethalman: and what should I be substituting it with?<br/>
<font color="#A82F2F"><font size="2">(06:33:48 PM)</font> <b>Lethalman:</b></font> magnetophon, it must be CPPFLAGS=&quot;-I ...&quot;<br/>
<font color="#A82F2F"><font size="2">(06:33:53 PM)</font> <b>Lethalman:</b></font> you didn&apos;t take in account the &quot;<br/>
<font color="#A82F2F"><font size="2">(06:33:56 PM)</font> <b>Lethalman:</b></font> not sure if you got it<br/>
<font color="#16569E"><font size="2">(06:34:17 PM)</font> <b>magnetophon:</b></font> Lethalman: ah, right. Thanks.<br/>
<font color="#16569E"><font size="2">(06:36:04 PM)</font> <b>magnetophon:</b></font> Lethalman: So I need:           sed -i 's@CPPFLAGS=&quot;@CPPFLAGS=&quot;-I ${lv2}/include/ @g' $out/bin/faust2lv2<br/>
<font color="#A82F2F"><font size="2">(06:36:16 PM)</font> <b>Lethalman:</b></font> yes think so<br/>
<font color="#16569E"><font size="2">(06:36:38 PM)</font> <b>magnetophon:</b></font> Cool, thanks. Trying that now.<br/>
<font color="#16569E"><font size="2">(06:42:19 PM)</font> <b>magnetophon:</b></font> Lethalman: Thanks a lot, that was it!<br/>
<font color="#A82F2F"><font size="2">(06:42:33 PM)</font> <b>Lethalman:</b></font> magnetophon, great, remove all those #include hardcodings ty :P<br/>
<font color="#16569E"><font size="2">(06:42:41 PM)</font> <b>magnetophon:</b></font> goibhniu: expect a PR soon!<br/>
<font color="#16569E"><font size="2">(06:43:30 PM)</font> <b>magnetophon:</b></font> Lethalman: The ones in lv2?  I didn't even copy those over after I pulled a fresh 14.12.<br/>
<font color="#A82F2F"><font size="2">(06:43:46 PM)</font> <b>Lethalman:</b></font> magnetophon, ah fine<br/>
<font color="#A82F2F"><font size="2">(06:43:48 PM)</font> <b>Lethalman:</b></font> the ones everywhere<br/>
<font color="#16569E"><font size="2">(06:45:17 PM)</font> <b>magnetophon:</b></font> Lethalman: You mean this: https://github.com/magnetophon/nixpkgs/blob/faust2lv2_14.12/pkgs/applications/audio/faust/default.nix#L74-L75  ??<br/>
<font color="#A82F2F"><font size="2">(06:45:27 PM)</font> <b>Lethalman:</b></font> magnetophon, yes<br/>
<font color="#16569E"><font size="2">(06:45:30 PM)</font> <b>magnetophon:</b></font> Not sure how else I would get that to work...<br/>
<font color="#A82F2F"><font size="2">(06:46:04 PM)</font> <b>Lethalman:</b></font> magnetophon, also put ${faust}/include? :)<br/>
<font color="#A82F2F"><font size="2">(06:46:12 PM)</font> <b>Lethalman:</b></font> magnetophon, -I ${faust}/include<br/>
<font color="#16569E"><font size="2">(06:46:42 PM)</font> <b>magnetophon:</b></font> Lethalman: duh!   Of course!   Will do.<br/>
<font color="#A82F2F"><font size="2">(06:46:46 PM)</font> <b>Lethalman:</b></font> :S<br/>
<font color="#A82F2F"><font size="2">(06:47:34 PM)</font> <b>gridaphobe:</b></font> ikwildrpepper: what user does nixops try to ssh as when you use targetEnv=none?<br/>
<font color="#A82F2F"><font size="2">(07:00:40 PM)</font> <b>pmahoney:</b></font> download-from-binary-cache.pl: still waiting for ‘https://cache.nixos.org/xxx.narinfo’ after 5 seconds...<br/>
<font color="#A82F2F"><font size="2">(07:02:43 PM)</font> <b>pmahoney:</b></font> is anything wrong with cache.nixos.org?  i&apos;ve seen the same error against my local cache (of internal pkgs) as well...<br/>
<font color="#A82F2F"><font size="2">(07:03:58 PM)</font> <b>ttuegel:</b></font> pmahoney: it&apos;s not an error, that&apos;s pretty normal<br/>
<font size="2">(07:19:37 PM)</font><b> aristid___ is now known as aristid</b><br/>
<font size="2">(07:24:58 PM)</font><b> samueldr_ is now known as samueldr</b><br/>
<font size="2">(07:35:48 PM)</font><b> goibhniu left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(07:47:03 PM)</font> <b>pmahoney:</b></font> how is $out calculated for, say, fetchgit ?<br/>
<font color="#A82F2F"><font size="2">(07:48:36 PM)</font> <b>aristid:</b></font> it&apos;s a derivation value<br/>
<font color="#A82F2F"><font size="2">(07:48:55 PM)</font> <b>pmahoney:</b></font> i have some scripts that call &apos;nix-prefetch-git&apos; directly, put the hash in a nix expression, then build that expression, but with recent change to fetchgit making the name based on (reponame-rev7), the prefetched file in /nix/store/xxx-git-export doesn&apos;t match /nix/store/yyy-reponame-rev7.  guess i can either forcing &apos;name&apos; to be &apos;git-export&apos;, or somehow compute the correct $out based on reponame-rev7<br/>
<font color="#A82F2F"><font size="2">(07:53:29 PM)</font> <b>musicmatze:</b></font> The nixos wiki fails to send mails when registering<br/>
<font color="#A82F2F"><font size="2">(07:53:37 PM)</font> <b>musicmatze:</b></font> someone should investigate!<br/>
<font color="#A82F2F"><font size="2">(07:56:05 PM)</font> <b>musicmatze:</b></font> Is there somewhere a guide in the wiki how to write wiki articles?<br/>
<font color="#A82F2F"><font size="2">(07:58:48 PM)</font> <b>offlinehacker:</b></font> ikwildrpepper: shlevy: any of you, do you have rights to push new npm2nix to npm registry?<br/>
<font color="#A82F2F"><font size="2">(07:59:39 PM)</font> <b>offlinehacker:</b></font> i have patched a few things that makes npm2nix work again with old and a few new packages i&apos;m adding<br/>
<font color="#A82F2F"><font size="2">(08:00:11 PM)</font> <b>devoid:</b></font> I&apos;m working on writing a service derivation, but I&apos;m getting an error &quot;builder for X failed to produce output path Y&quot; and no other information as to why, even with &quot;—show-trace&quot; turned on?<br/>
<font color="#A82F2F"><font size="2">(08:00:38 PM)</font> <b>devoid:</b></font> any ideas on how to get more useful debugging from nix-build?<br/>
<font color="#A82F2F"><font size="2">(08:01:06 PM)</font> <b>johnw:</b></font> I use -K and then go to the build directory<br/>
<font color="#A82F2F"><font size="2">(08:01:11 PM)</font> <b>johnw:</b></font> or, use nix-shell and repeat the phases manually<br/>
<font color="#A82F2F"><font size="2">(08:03:46 PM)</font> <b>devoid:</b></font> johnw: thanks<br/>
<font color="#A82F2F"><font size="2">(08:04:04 PM)</font> <b>devoid:</b></font> so looking in the temp dir there&apos;s an &quot;env-vars&quot; file that seems to have everything it needs to build the file?<br/>
<font color="#A82F2F"><font size="2">(08:04:23 PM)</font> <b>devoid:</b></font> (the derivation is the output of a pkgs.writeTextFile call)<br/>
<font color="#A82F2F"><font size="2">(08:06:49 PM)</font> <b>devoid:</b></font> johnw, how would I manually repeat the phases? (what are the phases of a system build?)<br/>
<font color="#A82F2F"><font size="2">(08:10:40 PM)</font> <b>johnw:</b></font> you mean, a nixos-rebuild?<br/>
<font color="#A82F2F"><font size="2">(08:11:02 PM)</font> <b>johnw:</b></font> in the context of an individual project,  here&apos;s what you would do:<br/>
<font color="#A82F2F"><font size="2">(08:11:06 PM)</font> <b>johnw:</b></font> nix-shell<br/>
<font color="#A82F2F"><font size="2">(08:11:09 PM)</font> <b>johnw:</b></font> configurePhase<br/>
<font color="#A82F2F"><font size="2">(08:11:14 PM)</font> <b>johnw:</b></font> oops, first:<br/>
<font color="#A82F2F"><font size="2">(08:11:15 PM)</font> <b>johnw:</b></font> unpackPhase<br/>
<font color="#A82F2F"><font size="2">(08:11:17 PM)</font> <b>johnw:</b></font> cd &lt;dir&gt;<br/>
<font color="#A82F2F"><font size="2">(08:11:19 PM)</font> <b>johnw:</b></font> configurePhase<br/>
<font color="#A82F2F"><font size="2">(08:11:20 PM)</font> <b>johnw:</b></font> buildPhase<br/>
<font color="#A82F2F"><font size="2">(08:11:21 PM)</font> <b>johnw:</b></font> checkPhase<br/>
<font color="#A82F2F"><font size="2">(08:11:23 PM)</font> <b>johnw:</b></font> installPhase<br/>
<font color="#A82F2F"><font size="2">(08:11:49 PM)</font> <b>johnw:</b></font> usually if an error is happening is in either the configure, build or check phases. the advantage of doing it this way is that you can repeatedly run the build phase and will only rebuild things that have changed<br/>
<font color="#A82F2F"><font size="2">(08:13:51 PM)</font> <b>devoid:</b></font> johnw, thanks, when I try to run, it complains about an VirtualBoy &apos;s package being broken and about unfree licences… perhaps I&apos;m calling nix-shell in the wrong place?<br/>
<font color="#A82F2F"><font size="2">(08:14:14 PM)</font> <b>johnw:</b></font> nix-shell &apos;&lt;nixpkgs&gt;&apos; -A &lt;attribute&gt;<br/>
<font color="#A82F2F"><font size="2">(08:14:26 PM)</font> <b>johnw:</b></font> instead of &apos;&lt;nixpkgs&gt;&apos;, I use the path to my clone of nixpkgs<br/>
<font color="#A82F2F"><font size="2">(08:14:53 PM)</font> <b>johnw:</b></font> note that I don&apos;t use NixOS very much, so the steps I use may not be appropriate for you<br/>
<font color="#A82F2F"><font size="2">(08:16:25 PM)</font> <b>devoid:</b></font> johnw: thanks! that seems to be working. Do you know how to set -A to a systemd unit definition?<br/>
<font color="#A82F2F"><font size="2">(08:19:18 PM)</font> <b>zmo:</b></font> hi!<br/>
<font color="#A82F2F"><font size="2">(08:19:47 PM)</font> <b>Lethalman:</b></font> devoid, what are you trying to do?<br/>
<font color="#A82F2F"><font size="2">(08:20:10 PM)</font> <b>johnw:</b></font> devoid: I do not<br/>
<font color="#A82F2F"><font size="2">(08:21:17 PM)</font> <b>zmo:</b></font> I installed nix on my debian, I installed a package using `nix-env -i`, I checked that the profile is pointing to the right store, but it&apos;s still not accessible from my path<br/>
<font color="#A82F2F"><font size="2">(08:21:30 PM)</font> <b>devoid:</b></font> Lethalman, I&apos;m writing a service definition and nix-build is saying that it could not produce output for a pkgs.writeTextFile call, even though all the attributes seem to be in the env-vars file when I run nix-build -K —show-trace -A system ?<br/>
<font color="#A82F2F"><font size="2">(08:21:33 PM)</font> <b>zmo:</b></font> so I guess I missed something<br/>
<font color="#A82F2F"><font size="2">(08:22:10 PM)</font> <b>Lethalman:</b></font> devoid, can you paste you service?<br/>
<font color="#A82F2F"><font size="2">(08:22:30 PM)</font> <b>Lethalman:</b></font> zmo, what&apos;s not accessible?<br/>
<font color="#A82F2F"><font size="2">(08:22:32 PM)</font> <b>Lethalman:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(08:22:41 PM)</font> <b>Lethalman:</b></font> zmo, well, depends on $PATH obviously :)<br/>
<font color="#A82F2F"><font size="2">(08:22:51 PM)</font> <b>Lethalman:</b></font> zmo, you should have ~/.nix-profile/bin in $PATH<br/>
<font color="#A82F2F"><font size="2">(08:22:58 PM)</font> <b>zmo:</b></font> oh ok! :-)<br/>
<font color="#A82F2F"><font size="2">(08:23:10 PM)</font> <b>Lethalman:</b></font> that should be done automatically by /etc/profile.d/nix.sh in debian<br/>
<font color="#A82F2F"><font size="2">(08:23:13 PM)</font> <b>zmo:</b></font> I thought the nix shell profile would handle that<br/>
<font color="#A82F2F"><font size="2">(08:23:19 PM)</font> <b>Lethalman:</b></font> yes, ensure it is<br/>
<font color="#A82F2F"><font size="2">(08:24:34 PM)</font> <b>zmo:</b></font> hum I guess I have to add it to my zshrc<br/>
<font color="#A82F2F"><font size="2">(08:24:49 PM)</font> <b>Lethalman:</b></font> ah if zsh does not source /etc/profile.d, yes<br/>
<font color="#A82F2F"><font size="2">(08:25:29 PM)</font> <b>zmo:</b></font> great! :-)<br/>
<font color="#A82F2F"><font size="2">(08:26:04 PM)</font> <b>zmo:</b></font> damn, I&apos;m taking that good old debian wheezy to the second 8th of the 21st century! :-D<br/>
<font color="#A82F2F"><font size="2">(08:26:26 PM)</font> <b>devoid:</b></font> Lethalman, it&apos;s not fully complete, but here&apos;s the service http://paste.ubuntu.com/9763251/ and a related plugin config for the service http://paste.ubuntu.com/9763257/<br/>
<font color="#A82F2F"><font size="2">(08:27:04 PM)</font> <b>zmo:</b></font> actually it&apos;s more 1/6.6666th :-)<br/>
<font color="#A82F2F"><font size="2">(08:27:27 PM)</font> <b>Lethalman:</b></font> devoid, wow why are you using getAttr when you know it&apos;s named &quot;enable&quot;? :)<br/>
<font color="#A82F2F"><font size="2">(08:28:18 PM)</font> <b>Lethalman:</b></font> devoid, builtins.filter (p: p.enable) plugins<br/>
<font color="#A82F2F"><font size="2">(08:28:19 PM)</font> <b>Lethalman:</b></font> devoid, :P<br/>
<font color="#A82F2F"><font size="2">(08:28:27 PM)</font> <b>devoid:</b></font> Leathalman, probably because I&apos;m stupid. :-) Can you do &quot;(getAttr p.name cfg.plugins).enable&quot; ?<br/>
<font color="#A82F2F"><font size="2">(08:28:45 PM)</font> <b>Lethalman:</b></font> devoid, yes you cane<br/>
<font color="#A82F2F"><font size="2">(08:28:47 PM)</font> <b>Lethalman:</b></font> *can<br/>
<font color="#A82F2F"><font size="2">(08:28:58 PM)</font> <b>Lethalman:</b></font> you can also do cfg.plugins.${p.name}<br/>
<font color="#A82F2F"><font size="2">(08:29:07 PM)</font> <b>Lethalman:</b></font> but the whole point is that p: p.enable is enough :)<br/>
<font color="#A82F2F"><font size="2">(08:29:50 PM)</font> <b>Lethalman:</b></font> preStart = installPluginConfigs cfg registeredPlugins;<br/>
<font color="#A82F2F"><font size="2">(08:30:01 PM)</font> <b>Lethalman:</b></font> without strings...<br/>
<font color="#A82F2F"><font size="2">(08:30:04 PM)</font> <b>Lethalman:</b></font> that&apos;s enough<br/>
<font color="#A82F2F"><font size="2">(08:30:26 PM)</font> <b>Lethalman:</b></font> don&apos;t use script = &apos;&apos;..&apos;&apos; for a single exec line, use serviceConfig.ExecStart=<br/>
<font color="#A82F2F"><font size="2">(08:30:40 PM)</font> <b>devoid:</b></font> wait, when I try &quot;cfg.plugins.${p.name}&quot;t, it ends up being a set or something because the output of mkOption is different than the actual config value.<br/>
<font color="#A82F2F"><font size="2">(08:31:01 PM)</font> <b>devhell:</b></font> show hands: who here knows of the canto rss reader?<br/>
<font color="#A82F2F"><font size="2">(08:31:17 PM)</font> <b>Lethalman:</b></font> devoid, ah sorry I get it<br/>
<font color="#A82F2F"><font size="2">(08:31:23 PM)</font> <b>Lethalman:</b></font> plugins != cfg.plugins<br/>
<font color="#A82F2F"><font size="2">(08:31:38 PM)</font> <b>Lethalman:</b></font> devoid, well what&apos;s the problem with cfg.plugins.${p.name} ? don&apos;t get it<br/>
<font color="#A82F2F"><font size="2">(08:31:38 PM)</font> <b>Lethalman:</b></font> anyway<br/>
<font color="#A82F2F"><font size="2">(08:31:55 PM)</font> <b>Lethalman:</b></font> devoid, can you paste the --show-trace please?<br/>
<font color="#A82F2F"><font size="2">(08:33:01 PM)</font> <b>Lethalman:</b></font> devoid, btw the problem with that error is that you have a derivation which is not writing $out<br/>
<font color="#A82F2F"><font size="2">(08:33:08 PM)</font> <b>devoid:</b></font> http://paste.ubuntu.com/9763295/<br/>
<font color="#A82F2F"><font size="2">(08:33:10 PM)</font> <b>Lethalman:</b></font> which could be any of the plugins, for example<br/>
<font color="#A82F2F"><font size="2">(08:33:21 PM)</font> <b>Lethalman:</b></font> in fact<br/>
<font color="#A82F2F"><font size="2">(08:33:29 PM)</font> <b>Lethalman:</b></font> one of your plugins aren&apos;t writing anything to $out<br/>
<font color="#A82F2F"><font size="2">(08:33:34 PM)</font> <b>devoid:</b></font> oh that&apos;s probably the second paste I sent.<br/>
<font color="#A82F2F"><font size="2">(08:33:39 PM)</font> <b>Lethalman:</b></font> link?<br/>
<font color="#A82F2F"><font size="2">(08:33:48 PM)</font> <b>Lethalman:</b></font> ah sorry didn&apos;t look<br/>
<font color="#A82F2F"><font size="2">(08:33:51 PM)</font> <b>devoid:</b></font> http://paste.ubuntu.com/9763257/<br/>
<font color="#A82F2F"><font size="2">(08:34:40 PM)</font> <b>Lethalman:</b></font> uhm<br/>
<font color="#A82F2F"><font size="2">(08:35:13 PM)</font> <b>devoid:</b></font> ya, this is probably not the correct way to do things<br/>
<font color="#A82F2F"><font size="2">(08:35:28 PM)</font> <b>Lethalman:</b></font> no I&apos;m trying to understand why you get the error<br/>
<font size="2">(08:35:30 PM)</font><b> MichaelRaskin [<em>~MichaelRa@195.91.224.161</em>] entered the room.</b><br/>
<font size="2">(08:36:57 PM)</font><b> hugoduncan is now known as hugod</b><br/>
<font color="#A82F2F"><font size="2">(08:37:54 PM)</font> <b>Lethalman:</b></font> devoid, can&apos;t you try simplifying the test case?<br/>
<font color="#A82F2F"><font size="2">(08:38:03 PM)</font> <b>Lethalman:</b></font> try with a simple .nix with that writeTextFile<br/>
<font color="#A82F2F"><font size="2">(08:38:27 PM)</font> <b>Lethalman:</b></font> I hope it&apos;s not something to do with bash<br/>
<font color="#A82F2F"><font size="2">(08:47:06 PM)</font> <b>devoid:</b></font> Lethalman, hmm perhaps I&apos;m having trouble simplifying it, here&apos;s what I have http://paste.ubuntu.com/9763358/ but I&apos;m getting an error: The option `all&apos; defined in `/root/erixos/tmp/build.5986/erix/services/test.nix&apos; does not exist.<br/>
<font color="#A82F2F"><font size="2">(08:47:50 PM)</font> <b>Lethalman:</b></font> oh no<br/>
<font color="#A82F2F"><font size="2">(08:48:14 PM)</font> <b>bitemyapp:</b></font> Lethalman: any idea why I wouldn&apos;t be able to start KDE or xmonad because kdm says they couldn&apos;t find a DBUS session?<br/>
<font color="#A82F2F"><font size="2">(08:48:35 PM)</font> <b>bitemyapp:</b></font> Lethalman: I checked - dbus was running. Even restarted it, did all kinds of stuff to try to hammer it into place. I ended up surrendering to fate, rm -rf&apos;ing my install and reinstalling.<br/>
<font color="#A82F2F"><font size="2">(08:49:32 PM)</font> <b>Lethalman:</b></font> something like this devoid http://nixpaste.noip.me/77B69KS4?nix<br/>
<font color="#A82F2F"><font size="2">(08:49:35 PM)</font> <b>Lethalman:</b></font> nix-build that.nix<br/>
<font color="#A82F2F"><font size="2">(08:49:53 PM)</font> <b>Lethalman:</b></font> bitemyapp, and after reinstalling?<br/>
<font color="#A82F2F"><font size="2">(08:54:34 PM)</font> <b>devoid:</b></font> Lethalman, yep we can replicate<br/>
<font color="#A82F2F"><font size="2">(08:54:56 PM)</font> <b>devoid:</b></font> http://nixpaste.noip.me/XFnj-q_F?nix<br/>
<font color="#A82F2F"><font size="2">(08:55:09 PM)</font> <b>Lethalman:</b></font> ok let me see<br/>
<font color="#A82F2F"><font size="2">(08:55:18 PM)</font> <b>devoid:</b></font> http://nixpaste.noip.me/w8thgrjY?nix]<br/>
<font color="#A82F2F"><font size="2">(08:55:22 PM)</font> <b>devoid:</b></font> oops, http://nixpaste.noip.me/w8thgrjY?nix<br/>
<font color="#A82F2F"><font size="2">(08:56:26 PM)</font> <b>Lethalman:</b></font> the problem seems to be the destination<br/>
<font color="#A82F2F"><font size="2">(08:56:42 PM)</font> <b>devoid:</b></font> yea, I was just cargo-culting that<br/>
<font color="#A82F2F"><font size="2">(08:57:38 PM)</font> <b>Lethalman:</b></font> devoid, /filename<br/>
<font color="#A82F2F"><font size="2">(08:57:44 PM)</font> <b>devoid:</b></font> ya<br/>
<font color="#A82F2F"><font size="2">(08:57:54 PM)</font> <b>Lethalman:</b></font> devoid,     destination ? &quot;&quot;   # relative path appended to $out eg &quot;/bin/foo&quot;<br/>
<font color="#A82F2F"><font size="2">(08:58:14 PM)</font> <b>devoid:</b></font> stupid me.<br/>
<font color="#A82F2F"><font size="2">(08:58:24 PM)</font> <b>devoid:</b></font> Lethalman, thanks soo much for your help!<br/>
<font color="#A82F2F"><font size="2">(08:59:40 PM)</font> <b>Lethalman:</b></font> np<br/>
<font color="#A82F2F"><font size="2">(09:01:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/IZEuaQ<br/>
<font color="#A82F2F"><font size="2">(09:01:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 39746cb Peter Simons: haskell-ChasingBottems: fix build with GHC 7.6.x<br/>
<font size="2">(09:01:55 PM)</font><b> dysinger_ is now known as dysinger</b><br/>
<font color="#A82F2F"><font size="2">(09:08:00 PM)</font> <b>MarcWeber:</b></font> Which is the best way to make the nix-daemon do any work if there is no other work to be done? I found that cgroups cpuset 1,3 and 0,2 don&apos;t interfer much (putting dummy load on 1,3 doesn&apos;t affect a dummy loop running on 0,2). However the cpu.shares doesn&apos;t seem to work as expected: the dummy loop still runs only half as fast as without dummy load in a croup having shares set to a small values such as 2<br/>
<font color="#A82F2F"><font size="2">(09:10:49 PM)</font> <b>MarcWeber:</b></font> Probably I have to use a value higher than 1024<br/>
<font color="#A82F2F"><font size="2">(09:14:13 PM)</font> <b>MarcWeber:</b></font> Even very high values don&apos;t make the dummy loop run as fast as if run alone<br/>
<font color="#A82F2F"><font size="2">(09:14:57 PM)</font> <b>MichaelRaskin:</b></font> Do both loops together fit into cache?<br/>
<font color="#A82F2F"><font size="2">(09:15:22 PM)</font> <b>MichaelRaskin:</b></font> Maybe it is a context switch problem with L1 cache eviction?<br/>
<font color="#A82F2F"><font size="2">(09:16:26 PM)</font> <b>MarcWeber:</b></font> Loop is just for i in `seq ..`; :; done<br/>
<font color="#A82F2F"><font size="2">(09:16:38 PM)</font> <b>MarcWeber:</b></font> So probably yes<br/>
<font color="#A82F2F"><font size="2">(09:22:29 PM)</font> <b>MichaelRaskin:</b></font> Yes, cache eviction?<br/>
<font color="#A82F2F"><font size="2">(09:22:47 PM)</font> <b>MichaelRaskin:</b></font> I guess there should be some fun issues with storage of seq output<br/>
<font color="#A82F2F"><font size="2">(09:27:57 PM)</font> <b>MarcWeber:</b></font> Let me retry with while:; do : done<br/>
<font color="#A82F2F"><font size="2">(09:34:20 PM)</font> <b>MarcWeber:</b></font> Well - speed drops from 3 to 4 or 5 secs using a for sh loop<br/>
<font color="#A82F2F"><font size="2">(09:36:22 PM)</font> <b>MarcWeber:</b></font> not really what I expect when using shares =2 (for all tasks I was able to move into this group)  and shares &gt; 80000 for the loop<br/>
<font color="#A82F2F"><font size="2">(09:36:44 PM)</font> <b>MarcWeber:</b></font> But maybe its best what I can do without a lot of effort.<br/>
<font color="#A82F2F"><font size="2">(09:39:12 PM)</font> <b>MichaelRaskin:</b></font> Maybe there is also some antistarvation logic<br/>
<font color="#A82F2F"><font size="2">(09:47:38 PM)</font> <b>MarcWeber:</b></font> http://dpaste.com/1D217E8 @ MichaelRaskin Looks like results depend on &quot;feeling lucky&quot;<br/>
<font color="#A82F2F"><font size="2">(09:51:17 PM)</font> <b>MichaelRaskin:</b></font> Well, I am not good at determining where task switch costs lie.<br/>
<font color="#A82F2F"><font size="2">(09:51:59 PM)</font> <b>MarcWeber:</b></font> Looks like I have to either outsource compilation tasks to other machines or live with less speed (UI).<br/>
<font color="#A82F2F"><font size="2">(09:52:06 PM)</font> <b>MichaelRaskin:</b></font> It may be that the scheduled-down processes get very little CPU time, but a large amount of switches<br/>
<font color="#A82F2F"><font size="2">(09:52:19 PM)</font> <b>MarcWeber:</b></font> That&apos;s what CFS tries to do ..<br/>
<font color="#A82F2F"><font size="2">(09:52:58 PM)</font> <b>MichaelRaskin:</b></font> It can be that the random variance of slowdown depends on whether the many load processes get their slices in a single chunk or spearately<br/>
<font color="#A82F2F"><font size="2">(09:53:13 PM)</font> <b>aristid:</b></font> who had the great idea of breaking nixos-rebuild for people who didn&apos;t upgrade for two weeks?!<br/>
<font color="#A82F2F"><font size="2">(09:53:23 PM)</font> <b>aristid:</b></font> error: evaluation aborted with the following error message: `This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade!&apos;<br/>
<font color="#A82F2F"><font size="2">(09:53:23 PM)</font> <b>aristid:</b></font> (use `--show-trace&apos; to show detailed location information)<br/>
<font color="#A82F2F"><font size="2">(09:53:25 PM)</font> <b>MichaelRaskin:</b></font> BFS optimises for responsiveness, so it also does that<br/>
<font color="#A82F2F"><font size="2">(09:54:05 PM)</font> <b>MarcWeber:</b></font> aristid Without --fast you should get newer nix from binary caches to evaluate whatever you try to?<br/>
<font color="#A82F2F"><font size="2">(09:55:15 PM)</font> <b>Lethalman:</b></font> aristid, there&apos;s in the wiki how to upgrade nix iirc<br/>
<font color="#A82F2F"><font size="2">(09:55:30 PM)</font> <b>Lethalman:</b></font> aristid, https://nixos.org/wiki/How_to_update_when_nix_is_too_old_to_evaluate_nixpkgs<br/>
<font color="#A82F2F"><font size="2">(09:55:31 PM)</font> <b>aristid:</b></font> MarcWeber: i don&apos;t follow.<br/>
<font color="#A82F2F"><font size="2">(09:57:12 PM)</font> <b>aristid:</b></font> why can&apos;t nixos-rebuild do such a thing itself<br/>
<font color="#A82F2F"><font size="2">(09:57:33 PM)</font> <b>aristid:</b></font> also, it does not help.<br/>
<font color="#A82F2F"><font size="2">(09:58:08 PM)</font> <b>aristid:</b></font> [root@euphemus:~]# nix-env --version<br/>
<font color="#A82F2F"><font size="2">(09:58:08 PM)</font> <b>aristid:</b></font> nix-env (Nix) 1.8<br/>
<font color="#A82F2F"><font size="2">(09:58:08 PM)</font> <b>aristid:</b></font> [root@euphemus:~]# nixos-rebuild switch -Q<br/>
<font color="#A82F2F"><font size="2">(09:58:08 PM)</font> <b>aristid:</b></font> building Nix...<br/>
<font color="#A82F2F"><font size="2">(09:58:08 PM)</font> <b>aristid:</b></font> error: evaluation aborted with the following error message: `This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade!&apos;<br/>
<font color="#A82F2F"><font size="2">(09:58:10 PM)</font> <b>aristid:</b></font> (use `--show-trace&apos; to show detailed location information)<br/>
<font color="#A82F2F"><font size="2">(09:58:12 PM)</font> <b>aristid:</b></font> error: evaluation aborted with the following error message: `This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade!&apos;<br/>
<font color="#A82F2F"><font size="2">(09:58:14 PM)</font> <b>aristid:</b></font> (use `--show-trace&apos; to show detailed location information)<br/>
<font color="#A82F2F"><font size="2">(09:58:17 PM)</font> <b>aristid:</b></font> error: evaluation aborted with the following error message: `This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade!&apos;<br/>
<font color="#A82F2F"><font size="2">(09:58:19 PM)</font> <b>aristid:</b></font> /tmp/nixos-rebuild.zrhX8e/nix<br/>
<font color="#A82F2F"><font size="2">(09:58:21 PM)</font> <b>aristid:</b></font> building the system configuration...<br/>
<font color="#A82F2F"><font size="2">(09:58:23 PM)</font> <b>aristid:</b></font> error: evaluation aborted with the following error message: `This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade!&apos;<br/>
<font color="#A82F2F"><font size="2">(09:58:25 PM)</font> <b>aristid:</b></font> (use `--show-trace&apos; to show detailed location information)<br/>
<font color="#A82F2F"><font size="2">(09:58:30 PM)</font> <b>aristid:</b></font> sorry for copying too many lines<br/>
<font color="#A82F2F"><font size="2">(09:59:26 PM)</font> <b>MichaelRaskin:</b></font> I would try to just nix-build &apos;&lt;nixos&gt;&apos; -A system<br/>
<font color="#062585"><font size="2">(09:59:27 PM)</font> <b>***aristid</b></font> just uncomments the assert, nixos-rebuild always first builds nix anyways.<br/>
<font color="#A82F2F"><font size="2">(09:59:51 PM)</font> <b>aristid:</b></font> MichaelRaskin: and then how would you activate it?<br/>
<font color="#A82F2F"><font size="2">(09:59:51 PM)</font> <b>MichaelRaskin:</b></font> If you have fresh Nix in PATH<br/>
<font color="#A82F2F"><font size="2">(10:00:20 PM)</font> <b>aristid:</b></font> ok, nixos-rebuild worked with the assert disabled.<br/>
<font color="#A82F2F"><font size="2">(10:00:20 PM)</font> <b>MichaelRaskin:</b></font> $(nix-build &apos;&lt;nixos&gt;&apos; -A system)/bin/switch-to-configuration switch<br/>
<font color="#A82F2F"><font size="2">(10:01:37 PM)</font> <b>aristid:</b></font> MichaelRaskin: thanks for the tip, that&apos;s probably the better way to do it.<br/>
<font size="2">(10:02:38 PM)</font><b> bergey` is now known as bergey</b><br/>
<font size="2">(10:07:20 PM)</font><b> dysinger_ is now known as dysinger</b><br/>
<font color="#A82F2F"><font size="2">(10:12:24 PM)</font> <b>MarcWeber:</b></font> MichaelRaskin: BFS with &quot;on idle&quot; feature looks promising :)<br/>
<font color="#A82F2F"><font size="2">(10:12:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] fmap opened pull request #5808: ZNC: added &quot;privmsg&quot; module. (master...znc-privmsg) http://git.io/Az0LvQ<br/>
<font color="#A82F2F"><font size="2">(10:13:33 PM)</font> <b>MichaelRaskin:</b></font> Well, I guess there are also some interesting tradeoffs involved<br/>
<font color="#A82F2F"><font size="2">(10:14:47 PM)</font> <b>MarcWeber:</b></font> Its funny that he recommends -j 4 on 4 cores wheras I&apos;d consider using -j 5 or such - so that while waiting for IO cpu is still busy..<br/>
<font color="#A82F2F"><font size="2">(10:15:48 PM)</font> <b>MichaelRaskin:</b></font> Well, you saw the graphs<br/>
<font color="#A82F2F"><font size="2">(10:16:13 PM)</font> <b>MichaelRaskin:</b></font> He has some evidence to back the advice<br/>
<font color="#A82F2F"><font size="2">(10:16:30 PM)</font> <b>MarcWeber:</b></font> This just means there is a scheduling missing: Keep tasks running, only switch if a task waits for IO ..<br/>
<font color="#A82F2F"><font size="2">(10:17:12 PM)</font> <b>MarcWeber:</b></font> Thus try to get things done and maybe be unfair - but eventually still prioritizing lowest pids for no other reason than to finish a process rather than keep many runnig.<br/>
<font color="#A82F2F"><font size="2">(10:17:34 PM)</font> <b>MichaelRaskin:</b></font> I wonder at what CPU underutilisation level task switching starts to pay off: switching between heavy tasks _is_ costly because<br/>
<font color="#A82F2F"><font size="2">(10:18:02 PM)</font> <b>MichaelRaskin:</b></font> there is a lot of context to unload/rebuild<br/>
<font color="#A82F2F"><font size="2">(10:18:10 PM)</font> <b>viric:</b></font> anyone suggests a cbz viewer?<br/>
<font color="#A82F2F"><font size="2">(10:18:14 PM)</font> <b>viric:</b></font> comical has memory leaks<br/>
<font color="#A82F2F"><font size="2">(10:18:16 PM)</font> <b>MarcWeber:</b></font> Is that faster/slower than IO?<br/>
<font color="#A82F2F"><font size="2">(10:18:28 PM)</font> <b>MarcWeber:</b></font> Probably depends on disk - now that SSDs are commen you could be right.<br/>
<font color="#A82F2F"><font size="2">(10:19:10 PM)</font> <b>MichaelRaskin:</b></font> MarcWeber: it can be right even for my HDD systems<br/>
<font color="#A82F2F"><font size="2">(10:19:35 PM)</font> <b>MichaelRaskin:</b></font> If a build is small (less than 1 GiB total working set on-disk), it is likely cached entirely<br/>
<font color="#A82F2F"><font size="2">(10:19:57 PM)</font> <b>MichaelRaskin:</b></font> Just because it was recently unpacked by tar and got into cache<br/>
<font color="#A82F2F"><font size="2">(10:20:15 PM)</font> <b>MichaelRaskin:</b></font> (I mean SDRAM cache of HDD)<br/>
<font color="#A82F2F"><font size="2">(10:21:02 PM)</font> <b>MarcWeber:</b></font> In the end that would mean it could make sense to patch nix so that it passes / demands build tokens from nix (like make feeds sub makes or such)<br/>
<font color="#A82F2F"><font size="2">(10:21:12 PM)</font> <b>MarcWeber:</b></font> THen only N processes would be run at the same time..<br/>
<font color="#A82F2F"><font size="2">(10:21:39 PM)</font> <b>MarcWeber:</b></font> BUt in any case I&apos;d like to see a cgroup where I could set a scheduler &quot;keep running on lowest pids&quot; to do what you suggest.<br/>
<font color="#062585"><font size="2">(10:32:24 PM)</font> <b>***Lethalman</b></font> works on cascades, let&apos;s see<br/>
<font color="#A82F2F"><font size="2">(10:32:32 PM)</font> <b>Lethalman:</b></font> ops<br/>
<font color="#A82F2F"><font size="2">(10:32:34 PM)</font> <b>Lethalman:</b></font> wrong chan :D<br/>
<font color="#A82F2F"><font size="2">(10:32:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #5762: Haskell: Bump &apos;mvc&apos; to 1.0.3 (master...master) http://git.io/R6EbLw<br/>
<font color="#A82F2F"><font size="2">(10:34:49 PM)</font> <b>viric:</b></font> don&apos;t fall down<br/>
<font color="#A82F2F"><font size="2">(10:36:23 PM)</font> <b>MarcWeber:</b></font> MichaelRaskin: http://en.wikipedia.org/wiki/Solid-state_drive seek time 0.1ms  (SSD), http://blog.tsunanet.net/2010/11/how-long-does-it-take-to-make-context.html Context switching is expensive. My rule of thumb is that it&apos;ll cost you about 30µs of CPU overhead (works case), however you need two switches, which is then about 0.06ms, thus roughly the same.<br/>
<font color="#A82F2F"><font size="2">(10:37:10 PM)</font> <b>MarcWeber:</b></font> But maybe context switches happen anyway when waiting for IO ..<br/>
<font color="#A82F2F"><font size="2">(10:37:19 PM)</font> <b>MarcWeber:</b></font> (to kernel and back)<br/>
<font color="#A82F2F"><font size="2">(10:38:17 PM)</font> <b>MichaelRaskin:</b></font> MarcWeber: single context switch is one thing; context switch followed by running a large chunk of code that reuses all the caches is another thing<br/>
<font color="#A82F2F"><font size="2">(10:39:42 PM)</font> <b>MarcWeber:</b></font> The author is aware of it - I&apos;m unsure whether the timing contain it. But you&apos;re totally right. Figures are very close that what you say is more likely.<br/>
<font color="#A82F2F"><font size="2">(10:51:47 PM)</font> <b>Haskellfant:</b></font> hm no openjdk8, guess I need to go with oraclejdk or understand the derivation for openjdk and build one for openjdk8 :/<br/>
<font color="#A82F2F"><font size="2">(10:57:52 PM)</font> <b>meditans:</b></font> Hi, is here anyone using ihaskell in nixos? I don&apos;t manage to get it running<br/>
<font color="#A82F2F"><font size="2">(11:01:33 PM)</font> <b>johnw:</b></font> i have run it before<br/>
<font color="#A82F2F"><font size="2">(11:01:49 PM)</font> <b>johnw:</b></font> it&apos;s installed now, but I&apos;m not using it for anything<br/>
<font color="#A82F2F"><font size="2">(11:04:14 PM)</font> <b>meditans:</b></font> johnw: when I try to use `ihaskell console` it says Exception: /home/carlo/.ipython/profile_haskell/ipython_config.py: openFile: does not exist<br/>
<font color="#A82F2F"><font size="2">(11:04:45 PM)</font> <b>meditans:</b></font> johnw: is there something I&apos;m supposed to do before?<br/>
<font color="#A82F2F"><font size="2">(11:05:04 PM)</font> <b>Fare:</b></font> what does nixos do to remove timestamps from various utilities that use them? Do build steps explicitly use a LD_PRELOAD library that always return 1 or something?<br/>
<font color="#A82F2F"><font size="2">(11:05:05 PM)</font> <b>johnw:</b></font> let me try it<br/>
<font color="#A82F2F"><font size="2">(11:05:22 PM)</font> <b>meditans:</b></font> johnw: thanks<br/>
<font color="#A82F2F"><font size="2">(11:05:43 PM)</font> <b>Fare:</b></font> or is such a library implicitly used (but then, what if time intervals are computed, and always returning 1 results in division by 0 or some such?)<br/>
<font color="#A82F2F"><font size="2">(11:05:45 PM)</font> <b>johnw:</b></font> hmm. it tells me IPython is not installed<br/>
<font color="#A82F2F"><font size="2">(11:05:48 PM)</font> <b>johnw:</b></font> woudln&apos;t Nix have done that?<br/>
<font color="#A82F2F"><font size="2">(11:06:08 PM)</font> <b>johnw:</b></font> meditans: oh, see https://www.marshut.net/kuynky/installing-ihaskell-on-nixos.html<br/>
<font color="#A82F2F"><font size="2">(11:06:16 PM)</font> <b>johnw:</b></font> he&apos;s getting your same error<br/>
<font color="#A82F2F"><font size="2">(11:06:25 PM)</font> <b>bennofs:</b></font> Fare: it does at least set timestamp of all files to 0 in /nix/store<br/>
<font color="#A82F2F"><font size="2">(11:06:36 PM)</font> <b>MichaelRaskin:</b></font> Fare: timestamp suppression is not currently used<br/>
<font color="#A82F2F"><font size="2">(11:06:41 PM)</font> <b>Lethalman:</b></font> Fare, there&apos;s a wip about improving the situation<br/>
<font color="#A82F2F"><font size="2">(11:06:47 PM)</font> <b>meditans:</b></font> johnw: yes, I read that tread, but I didn&apos;t find a solution<br/>
<font color="#A82F2F"><font size="2">(11:06:58 PM)</font> <b>Fare:</b></font> oh, I thought it was 1 s after epoch, though there&apos;s little difference with 0<br/>
<font color="#A82F2F"><font size="2">(11:07:00 PM)</font> <b>Lethalman:</b></font> and LD_PRELOAD + a program to remove such timestamps is faketime or such, I think it&apos;s used somewhere<br/>
<font color="#A82F2F"><font size="2">(11:07:19 PM)</font> <b>Fare:</b></font> MichaelRaskin, wasn&apos;t it used recently?<br/>
<font color="#A82F2F"><font size="2">(11:07:22 PM)</font> <b>johnw:</b></font> installing ipython now<br/>
<font color="#A82F2F"><font size="2">(11:07:33 PM)</font> <b>MichaelRaskin:</b></font> Not at the scale you describe<br/>
<font color="#A82F2F"><font size="2">(11:07:37 PM)</font> <b>Lethalman:</b></font> Fare, https://github.com/NixOS/nixpkgs/pull/2281<br/>
<font color="#A82F2F"><font size="2">(11:07:45 PM)</font> <b>MichaelRaskin:</b></font> file *times are wiped<br/>
<font color="#A82F2F"><font size="2">(11:07:53 PM)</font> <b>meditans:</b></font> johnw: ok, doing the same<br/>
<font color="#A82F2F"><font size="2">(11:07:56 PM)</font> <b>Fare:</b></font> I&apos;m always far behind wrt NixOS, because we don&apos;t use it at work<br/>
<font color="#A82F2F"><font size="2">(11:07:58 PM)</font> <b>Fare:</b></font> I wish we did<br/>
<font color="#A82F2F"><font size="2">(11:08:04 PM)</font> <b>Fare:</b></font> NIH syndrome<br/>
<font color="#A82F2F"><font size="2">(11:08:29 PM)</font> <b>johnw:</b></font> I so hate NIH<br/>
<font color="#A82F2F"><font size="2">(11:08:31 PM)</font> <b>MichaelRaskin:</b></font> Even mere timestamp patching already requires some weird hacks<br/>
<font color="#A82F2F"><font size="2">(11:08:37 PM)</font> <b>johnw:</b></font> I have seen it taken to stupid extremes<br/>
<font color="#A82F2F"><font size="2">(11:08:41 PM)</font> <b>johnw:</b></font> truly stupid<br/>
<font color="#A82F2F"><font size="2">(11:08:54 PM)</font> <b>Fare:</b></font> I wonder if there would be a way to converge from what we have to something that integrates with NixOS.<br/>
<font color="#A82F2F"><font size="2">(11:09:07 PM)</font> <b>MichaelRaskin:</b></font> SBCL build is patched so 0-timed files are not deemed possibly-fresher than 0-timed sources<br/>
<font color="#A82F2F"><font size="2">(11:09:53 PM)</font> <b>meditans:</b></font> johnw: i installed ipython. For now, ihaskell continues to crash with the same error<br/>
<font color="#A82F2F"><font size="2">(11:10:05 PM)</font> <b>MichaelRaskin:</b></font> Maybe start with Nix and NixPkgs?<br/>
<font color="#A82F2F"><font size="2">(11:10:24 PM)</font> <b>Fare:</b></font> the very high-level design is similar: deterministic builds based on a pure functional description. The details are all different. I feel NixOS got it righter, but the internal tools scale vastly better, and have a huge code base that cannot be broken, so convergence would have to be done incrementally... :-/<br/>
<font color="#A82F2F"><font size="2">(11:10:32 PM)</font> <b>johnw:</b></font> Fare: Nix does a very good job of running orthogonally to whatever other system stuff you have installed<br/>
<font color="#A82F2F"><font size="2">(11:10:44 PM)</font> <b>johnw:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(11:11:43 PM)</font> <b>johnw:</b></font> meditans: I did &quot;IHaskell console&quot;, and now I&apos;m at a console<br/>
<font color="#A82F2F"><font size="2">(11:11:51 PM)</font> <b>johnw:</b></font> I can evaluate expressions, etc.<br/>
<font color="#A82F2F"><font size="2">(11:11:53 PM)</font> <b>Fare:</b></font> also the deterministic build here is file-granular, rather than package-granular.<br/>
<font color="#A82F2F"><font size="2">(11:11:56 PM)</font> <b>johnw:</b></font> maybe wipe out any local ipython state?<br/>
<font color="#A82F2F"><font size="2">(11:12:24 PM)</font> <b>meditans:</b></font> johnw: wait, i haven&apos;t got &quot;IHaskell&quot;, i have to type &quot;ihaskell&quot;<br/>
<font color="#A82F2F"><font size="2">(11:12:39 PM)</font> <b>johnw:</b></font> i&apos;m on a Mac, don&apos;t know if it makes a difference<br/>
<font color="#A82F2F"><font size="2">(11:12:44 PM)</font> <b>meditans:</b></font> johnw: maybe it&apos;s the same, but worth checking<br/>
<font color="#A82F2F"><font size="2">(11:12:52 PM)</font> <b>johnw:</b></font> when I type &quot;ih&lt;tab&gt;&quot;, it expands to IHaskell<br/>
<font color="#A82F2F"><font size="2">(11:13:10 PM)</font> <b>meditans:</b></font> johnw: ok, so, should suffice to delete the .ipython folder?<br/>
<font color="#A82F2F"><font size="2">(11:13:19 PM)</font> <b>johnw:</b></font> maybe so<br/>
<font color="#A82F2F"><font size="2">(11:13:25 PM)</font> <b>johnw:</b></font> how do I get this notebook to evaluate haskell code?<br/>
<font color="#A82F2F"><font size="2">(11:13:39 PM)</font> <b>Fare:</b></font> I must have asked this before, but how does NixOS handle building the &quot;same&quot; package twice with different configuration settings from a same toplevel configuration, e.g. &quot;compile this as 32-bit&quot; or &quot;with debugging on&quot;, etc.?<br/>
<font color="#A82F2F"><font size="2">(11:14:09 PM)</font> <b>meditans:</b></font> johnw: I don&apos;t know about evaluation, I&apos;m not able to open it xd<br/>
<font color="#A82F2F"><font size="2">(11:14:14 PM)</font> <b>Fare:</b></font> (typically, to build fat binaries, or optimized-by-default but debug-ready development environments, etc.)<br/>
<font color="#A82F2F"><font size="2">(11:14:16 PM)</font> <b>Lethalman:</b></font> Fare, with 32-bit is about passing --argstr system &quot;i386-linux&quot; for example<br/>
<font color="#A82F2F"><font size="2">(11:14:20 PM)</font> <b>meditans:</b></font> johnw: deleted .ipython anyway, same error<br/>
<font color="#A82F2F"><font size="2">(11:14:30 PM)</font> <b>Lethalman:</b></font> Fare, for debug there&apos;s a function which takes a derivation and adds flags for debugging<br/>
<font color="#A82F2F"><font size="2">(11:14:45 PM)</font> <b>Lethalman:</b></font> Fare, for example: https://github.com/NixOS/nixpkgs/blob/15bb4c20e614ed6835c59c7c9101ee59eacbe473/pkgs/misc/misc.nix#L114<br/>
<font color="#A82F2F"><font size="2">(11:14:53 PM)</font> <b>Fare:</b></font> Lethalman: I mean, can a same global configuration derive a same package twice with different parameters?<br/>
<font color="#A82F2F"><font size="2">(11:14:58 PM)</font> <b>Lethalman:</b></font> Fare, then in general it depens all on the derivation<br/>
<font color="#A82F2F"><font size="2">(11:15:14 PM)</font> <b>Lethalman:</b></font> Fare, well usually not, unless the parameter is unused :P<br/>
<font color="#A82F2F"><font size="2">(11:15:15 PM)</font> <b>johnw:</b></font> it says that my profile is &quot;haskell&quot;, but it errors on all Haskell code<br/>
<font color="#A82F2F"><font size="2">(11:15:27 PM)</font> <b>meditans:</b></font> johnw: but, being nix, is there a way to bring back this ihaskell problem to a pristine state of the computer, so that I can just install it again?<br/>
<font color="#A82F2F"><font size="2">(11:15:43 PM)</font> <b>Fare:</b></font> pkg: ... is a lambda?<br/>
<font color="#A82F2F"><font size="2">(11:15:45 PM)</font> <b>johnw:</b></font> the only non-pristine thing should be local state in ~<br/>
<font color="#A82F2F"><font size="2">(11:15:46 PM)</font> <b>meditans:</b></font> johnw: I should ask on the mailing list, however<br/>
<font color="#A82F2F"><font size="2">(11:15:47 PM)</font> <b>MichaelRaskin:</b></font> Fare: the package path contains the hash of full build description<br/>
<font color="#A82F2F"><font size="2">(11:15:53 PM)</font> <b>MichaelRaskin:</b></font> All the flags etc.<br/>
<font color="#A82F2F"><font size="2">(11:15:57 PM)</font> <b>Lethalman:</b></font> Fare, yes, functions are arg: body<br/>
<font color="#A82F2F"><font size="2">(11:16:11 PM)</font> <b>Lethalman:</b></font> Fare, functions are never named, they are stored to variables<br/>
<font color="#A82F2F"><font size="2">(11:16:20 PM)</font> <b>Lethalman:</b></font> so it&apos;s all lambdas<br/>
<font color="#A82F2F"><font size="2">(11:16:43 PM)</font> <b>johnw:</b></font> yeah, my IHaskell is really just an IPython<br/>
<font color="#A82F2F"><font size="2">(11:16:52 PM)</font> <b>johnw:</b></font> even though I see it loading the profile<br/>
<font color="#A82F2F"><font size="2">(11:17:02 PM)</font> <b>Fare:</b></font> configuration at $work sucks, and if I understood nix better, maybe I could suggest improvements<br/>
<font color="#A82F2F"><font size="2">(11:17:40 PM)</font> <b>Phiphler:</b></font> can I use the Nix package manager on other distros than NixOS?<br/>
<font color="#A82F2F"><font size="2">(11:17:49 PM)</font> <b>Lethalman:</b></font> Phiphler, yes<br/>
<font color="#A82F2F"><font size="2">(11:18:00 PM)</font> <b>meditans:</b></font> johnw: if you&apos;re on a mac and interested in it, recently the author, gibiansky, made a native mac installer<br/>
<font color="#A82F2F"><font size="2">(11:18:19 PM)</font> <b>meditans:</b></font> johnw: it was on haskell reddit two weeks ago, or so<br/>
<font color="#A82F2F"><font size="2">(11:18:34 PM)</font> <b>johnw:</b></font> yeah, but I like Nix :(<br/>
<font color="#A82F2F"><font size="2">(11:18:41 PM)</font> <b>johnw:</b></font> added a note to https://github.com/gibiansky/IHaskell/issues/250<br/>
<font color="#A82F2F"><font size="2">(11:18:48 PM)</font> <b>meditans:</b></font> johnw: me too xd<br/>
<font color="#A82F2F"><font size="2">(11:19:21 PM)</font> <b>johnw:</b></font> oh well, that was fun for a 30 second distraction<br/>
<font color="#A82F2F"><font size="2">(11:19:40 PM)</font> <b>meditans:</b></font> johnw: yes, I&apos;m writing on the nixos mailing list in a sec<br/>
<font color="#A82F2F"><font size="2">(11:19:47 PM)</font> <b>johnw:</b></font> cool, thanks<br/>
<font color="#A82F2F"><font size="2">(11:19:48 PM)</font> <b>meditans:</b></font> johnw: thanks for your help<br/>
<font color="#A82F2F"><font size="2">(11:19:54 PM)</font> <b>musicmatze:</b></font> can I do a callPackage in my configuration.nix ?<br/>
<font color="#A82F2F"><font size="2">(11:19:59 PM)</font> <b>Lethalman:</b></font> Fare, nix per se is very pure and functional, sometimes it can be an excessive constraints depending on how you use it and how you relax such constraint for your environment<br/>
<font color="#A82F2F"><font size="2">(11:20:13 PM)</font> <b>Lethalman:</b></font> for example you can&apos;t run two systemd on a system :)<br/>
<font color="#A82F2F"><font size="2">(11:20:35 PM)</font> <b>Lethalman:</b></font> hence that same place for systemd config, one kernel...<br/>
<font color="#A82F2F"><font size="2">(11:20:48 PM)</font> <b>Lethalman:</b></font> so depends on the target<br/>
<font color="#A82F2F"><font size="2">(11:21:11 PM)</font> <b>Lethalman:</b></font> another is example is you have a giant repository, and you don&apos;t want to check it out everytime you change something<br/>
<font color="#A82F2F"><font size="2">(11:21:26 PM)</font> <b>Lethalman:</b></font> there you need impurity, e.g. by specifying an absolute path in the system instead of a derivation<br/>
<font color="#A82F2F"><font size="2">(11:22:03 PM)</font> <b>Lethalman:</b></font> also depends on how you build the derivation<br/>
<font color="#A82F2F"><font size="2">(11:22:11 PM)</font> <b>Lethalman:</b></font> lately I&apos;ve discovered git clone --shared<br/>
<font color="#A82F2F"><font size="2">(11:24:03 PM)</font> <b>Fare:</b></font> Lethalman: $work already follows this constraint (with backdoor exceptions that we remove as fast as we can)<br/>
<font color="#A82F2F"><font size="2">(11:24:18 PM)</font> <b>Lethalman:</b></font> ah well<br/>
<font color="#A82F2F"><font size="2">(11:24:25 PM)</font> <b>Lethalman:</b></font> Fare, how do you solve the problem of finding runtime deps?<br/>
<font color="#A82F2F"><font size="2">(11:24:40 PM)</font> <b>Lethalman:</b></font> and build deps?<br/>
<font color="#A82F2F"><font size="2">(11:24:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to master: http://git.io/dQy_Og<br/>
<font color="#A82F2F"><font size="2">(11:24:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 08c3f2b Peter Simons: pkgs/top-level/release.nix: build all versions of GHC on their supported platforms<br/>
<font color="#A82F2F"><font size="2">(11:24:50 PM)</font> <b>Fare:</b></font> paths are baked at compile-time<br/>
<font color="#A82F2F"><font size="2">(11:25:12 PM)</font> <b>Lethalman:</b></font> and how do they point to?<br/>
<font color="#A82F2F"><font size="2">(11:25:14 PM)</font> <b>Lethalman:</b></font> *where<br/>
<font color="#A82F2F"><font size="2">(11:25:27 PM)</font> <b>Lethalman:</b></font> how do you decide the paths?<br/>
<font color="#A82F2F"><font size="2">(11:25:44 PM)</font> <b>MichaelRaskin:</b></font> Lethalman: if they have per-file granularity, this means they have quite few supported languages<br/>
<font color="#A82F2F"><font size="2">(11:25:56 PM)</font> <b>Fare:</b></font> not sure what you mean, but the build system creates a contained environment with just the things you need at build-time for each build action<br/>
<font color="#A82F2F"><font size="2">(11:26:31 PM)</font> <b>Lethalman:</b></font> Fare, I see, well it&apos;s very similar<br/>
<font color="#A82F2F"><font size="2">(11:26:38 PM)</font> <b>MichaelRaskin:</b></font> Fare: and how do you track links to, say, images from another package?<br/>
<font color="#A82F2F"><font size="2">(11:26:57 PM)</font> <b>Lethalman:</b></font> MichaelRaskin, they hardcode the paths<br/>
<font color="#A82F2F"><font size="2">(11:26:59 PM)</font> <b>Lethalman:</b></font> like nix<br/>
<font color="#A82F2F"><font size="2">(11:27:01 PM)</font> <b>Fare:</b></font> except that instead of using nix-style version-in-the-absolute-pathname it uses relative-pathnames-in-each-contained-environment<br/>
<font color="#A82F2F"><font size="2">(11:27:37 PM)</font> <b>Lethalman:</b></font> that&apos;s very different from nix for example<br/>
<font color="#A82F2F"><font size="2">(11:27:51 PM)</font> <b>Lethalman:</b></font> your approach also allows for per-user store while nix has global /nix/store<br/>
<font color="#A82F2F"><font size="2">(11:27:58 PM)</font> <b>Lethalman:</b></font> because of relative paths<br/>
<font color="#A82F2F"><font size="2">(11:27:59 PM)</font> <b>wkennington:</b></font> hmmm<br/>
<font color="#A82F2F"><font size="2">(11:28:02 PM)</font> <b>Fare:</b></font> and it require ugly scoped renaming steps when you want to combine things that have the &quot;same&quot; path<br/>
<font color="#A82F2F"><font size="2">(11:28:09 PM)</font> <b>wkennington:</b></font> what is the current solution for fixing packages which are misdetecting cc<br/>
<font color="#A82F2F"><font size="2">(11:28:15 PM)</font> <b>Lethalman:</b></font> wkennington, don&apos;t use cc<br/>
<font color="#A82F2F"><font size="2">(11:28:21 PM)</font> <b>Lethalman:</b></font> wkennington, it&apos;s a stupid choice honestly<br/>
<font color="#A82F2F"><font size="2">(11:28:22 PM)</font> <b>MichaelRaskin:</b></font> Lethalman: but that require to block the absolutisation of file names by some tools<br/>
<font color="#A82F2F"><font size="2">(11:28:27 PM)</font> <b>wkennington:</b></font> Lethalman: not my choice?<br/>
<font color="#A82F2F"><font size="2">(11:28:31 PM)</font> <b>Lethalman:</b></font> MichaelRaskin, yeah what he said<br/>
<font color="#A82F2F"><font size="2">(11:28:39 PM)</font> <b>Fare:</b></font> I believe the nixos solution is superior, though it does require deeper support from the system than was available when $work started its build system.<br/>
<font color="#A82F2F"><font size="2">(11:28:46 PM)</font> <b>Lethalman:</b></font> wkennington, yeah wasn&apos;t saying that... the choice is to fix it back not to use cc :)<br/>
<font color="#A82F2F"><font size="2">(11:29:09 PM)</font> <b>MichaelRaskin:</b></font> I think Nix solution mostly worked fine with simple chroots<br/>
<font color="#A82F2F"><font size="2">(11:29:27 PM)</font> <b>wkennington:</b></font> Lethalman: aren&apos;t we moving to the cc approach<br/>
<font color="#A82F2F"><font size="2">(11:29:34 PM)</font> <b>wkennington:</b></font> Lethalman: not even really sure what changes were made in stdenv<br/>
<font color="#A82F2F"><font size="2">(11:29:46 PM)</font> <b>Fare:</b></font> these days, cheap containment makes the nixos solution a no-brainer, I think ? but retrofitting it in an old design is a big deal<br/>
<font color="#A82F2F"><font size="2">(11:29:49 PM)</font> <b>Lethalman:</b></font> wkennington, yes, that&apos;s a big mistake from my view point... I hope we change to $CC<br/>
<font color="#A82F2F"><font size="2">(11:30:29 PM)</font> <b>MichaelRaskin:</b></font> Fare: what containment do you mean?<br/>
<font color="#A82F2F"><font size="2">(11:30:31 PM)</font> <b>Lethalman:</b></font> Fare, I think instead containment is the wrong solution to this same problem<br/>
<font color="#A82F2F"><font size="2">(11:30:37 PM)</font> <b>Fare:</b></font> MichaelRaskin: even &quot;simple&quot; chroots aren&apos;t<br/>
<font color="#A82F2F"><font size="2">(11:30:42 PM)</font> <b>Lethalman:</b></font> it&apos;s a solution came for other problems<br/>
<font color="#A82F2F"><font size="2">(11:30:55 PM)</font> <b>Lethalman:</b></font> and got applied to development<br/>
<font color="#A82F2F"><font size="2">(11:31:16 PM)</font> <b>Lethalman:</b></font> also nix can perfectly be used with containment too<br/>
<font color="#A82F2F"><font size="2">(11:31:41 PM)</font> <b>MichaelRaskin:</b></font> I am not sure if mostly consistent idea of POSIX chroot is older than me.<br/>
<font color="#A82F2F"><font size="2">(11:31:45 PM)</font> <b>MichaelRaskin:</b></font> Probably not by much<br/>
<font color="#A82F2F"><font size="2">(11:31:54 PM)</font> <b>MichaelRaskin:</b></font> (in either direction)<br/>
<font color="#A82F2F"><font size="2">(11:32:27 PM)</font> <b>Fare:</b></font> MichaelRaskin, access to /etc /lib /dev* /sys* /proc and requirement of root or setuid setup means that even a &quot;simple&quot; chroot facility becomes tricky. Sure there are lots of &quot;solutions&quot; around, but the devil is in the details.<br/>
<font color="#A82F2F"><font size="2">(11:33:11 PM)</font> <b>Fare:</b></font> Apparently, our secops found big holes in many of the containment techniques we were using.<br/>
<font color="#A82F2F"><font size="2">(11:33:35 PM)</font> <b>Fare:</b></font> everything is possible<br/>
<font color="#A82F2F"><font size="2">(11:33:40 PM)</font> <b>Lethalman:</b></font> indeed<br/>
<font color="#A82F2F"><font size="2">(11:34:02 PM)</font> <b>MichaelRaskin:</b></font> Well, for package building Nix does use containment techniques that have holes<br/>
<font color="#A82F2F"><font size="2">(11:34:16 PM)</font> <b>musicmatze:</b></font> Can someone please give me a quickstart how to properly configure vim_configurable including installing vim pluings?<br/>
<font color="#A82F2F"><font size="2">(11:34:21 PM)</font> <b>MichaelRaskin:</b></font> Some of them are plugged by running builds as nixbldN user<br/>
<font color="#A82F2F"><font size="2">(11:34:22 PM)</font> <b>Fare:</b></font> but I&apos;d like $work to converge their design toward interoperation and eventual integration with NixOS a have no idea how to convince them.<br/>
<font color="#A82F2F"><font size="2">(11:34:33 PM)</font> <b>musicmatze:</b></font> I fail hard, following aszlig &apos;s configuration... :-(<br/>
<font color="#A82F2F"><font size="2">(11:34:38 PM)</font> <b>Lethalman:</b></font> Fare, well unless there&apos;s a clear gain, it&apos;s hard to convince :)<br/>
<font color="#A82F2F"><font size="2">(11:34:41 PM)</font> <b>Lethalman:</b></font> rather the opposite<br/>
<font color="#A82F2F"><font size="2">(11:41:09 PM)</font> <b>attila_lendvai:</b></font> hi! I&apos;m tired of debian stable having a libc that is too old for just about anything, and I gave up on ubuntu once already. but I&apos;m also spoiled and I a want a functional gnome3... is there a relatively easy way to get a nixos with a nice gui but without too much struggle?<br/>
<font color="#062585"><font size="2">(11:41:19 PM)</font> <b>***attila_lendvai</b></font> waves to fare<br/>
<font color="#A82F2F"><font size="2">(11:42:39 PM)</font> <b>Lethalman:</b></font> attila_lendvai, upgrade to debian unstable<br/>
<font color="#A82F2F"><font size="2">(11:43:47 PM)</font> <b>attila_lendvai:</b></font> I also need to make order on my disks and install full disk encryption. with my knowledge debian unstable is my best option now, but I really like the idea behind nixos<br/>
<font color="#A82F2F"><font size="2">(11:45:18 PM)</font> <b>Lethalman:</b></font> attila_lendvai, I&apos;m currently using gnome 3.12 on nixos<br/>
<font color="#A82F2F"><font size="2">(11:45:32 PM)</font> <b>Lethalman:</b></font> since 6-7 months I believe<br/>
<font color="#A82F2F"><font size="2">(11:45:38 PM)</font> <b>Lethalman:</b></font> and a couple other people :P<br/>
<font color="#A82F2F"><font size="2">(11:46:45 PM)</font> <b>attila_lendvai:</b></font> Lethalman: what dies it involve? do you have some magic I can copy-paste in my nix config? or it&apos;s more than that? (I&apos;m afraid the latter, because I googled around a few months ago and failed)<br/>
<font color="#A82F2F"><font size="2">(11:47:57 PM)</font> <b>Lethalman:</b></font> attila_lendvai, uhm? just enable gnome3<br/>
<font color="#A82F2F"><font size="2">(11:48:39 PM)</font> <b>Lethalman:</b></font> attila_lendvai, http://nixpaste.noip.me/es29cKoC?nix<br/>
<font color="#A82F2F"><font size="2">(11:49:30 PM)</font> <b>attila_lendvai:</b></font> hrm. maybe I&apos;ll give it another try then... thanks, noted!<br/>
<font color="#A82F2F"><font size="2">(11:50:40 PM)</font> <b>attila_lendvai:</b></font> maybe I shied away because of this: https://github.com/NixOS/nixpkgs/issues/247<br/>
<font color="#A82F2F"><font size="2">(11:50:40 PM)</font> <b>attila_lendvai:</b></font> doesn&apos;t look too promising with all those holes...<br/>
<font color="#A82F2F"><font size="2">(11:50:55 PM)</font> <b>Lethalman:</b></font> attila_lendvai, we only had gnome 3.10 before 3.12, so it&apos;s possible that few months ago you couldn&apos;t set it up :)<br/>
<font size="2">(11:51:01 PM)</font><b> Guest50187 is now known as Fuuzetsu</b><br/>
<font color="#062585"><font size="2">(11:51:36 PM)</font> <b>***attila_lendvai</b></font> notices Lethalman&apos;s recent comments on that github link... :)<br/>
<font color="#062585"><font size="2">(11:53:46 PM)</font> <b>***attila_lendvai</b></font> realizes how much headache it must be to beat all these apps written in C into the nixos functional mindset<br/>
<font color="#A82F2F"><font size="2">(11:59:49 PM)</font> <b>arno:</b></font> hi all<br/>
<font size="2">(12:00:14 AM)</font><b> arno is now known as euarno</b><br/>
<font color="#A82F2F"><font size="2">(12:00:20 AM)</font> <b>euarno:</b></font> hi all<br/>
<font color="#A82F2F"><font size="2">(12:00:51 AM)</font> <b>euarno:</b></font> anyone knows how to escape dollar sign as ${smth} in /etc/nixos/configuration.nix ?<br/>
<font color="#A82F2F"><font size="2">(12:01:10 AM)</font> <b>Lethalman:</b></font> euarno, &apos;&apos;${, check the nix manual<br/>
<font color="#A82F2F"><font size="2">(12:01:24 AM)</font> <b>Lethalman:</b></font> or \$, depends if you are in &quot; or in &apos;&apos;<br/>
<font color="#A82F2F"><font size="2">(12:01:30 AM)</font> <b>euarno:</b></font> I&apos;m in &apos;&apos;&apos;<br/>
<font color="#A82F2F"><font size="2">(12:01:32 AM)</font> <b>euarno:</b></font> *  &apos;&apos;<br/>
<font color="#A82F2F"><font size="2">(12:01:56 AM)</font> <b>euarno:</b></font> that&apos;s what i&apos;m doing ,checking the manuals whole day, just no luck to see what i&apos;m looking for ...<br/>
<font color="#A82F2F"><font size="2">(12:03:09 AM)</font> <b>euarno:</b></font> many thanks    &apos;&apos;${  helped..  before I was doing &apos;&apos;${smth}&apos;&apos;  which apparently was wrong<br/>
<font color="#A82F2F"><font size="2">(12:03:14 AM)</font> <b>Fuuzetsu:</b></font> protip: there are some extra dollar escaping rules 10 lines lower than you&apos;re looking<br/>
<font color="#A82F2F"><font size="2">(12:03:54 AM)</font> <b>euarno:</b></font> and probably the last thing, anyone knows how could I specify the path to the config , like   services.postfix.extraMasterConf = &apos;&apos;<br/>
<font color="#A82F2F"><font size="2">(12:03:54 AM)</font> <b>euarno:</b></font> dovecot   unix  -       n       n       -       -       pipe<br/>
<font color="#A82F2F"><font size="2">(12:04:01 AM)</font> <b>euarno:</b></font>   flags=DRhu user=vmail:vmail argv=${pkgs.dovecot}/libexec/dovecot/deliver -c &apos;&apos;${pkgs.dovecot.conffFile}<br/>
<font color="#A82F2F"><font size="2">(12:04:29 AM)</font> <b>euarno:</b></font> obviously pkgs.dovecot.conffFile doesn&apos;t work.. I&apos;m looking what would be correct way to set the path to pkgs.dovecot.conffFile ...<br/>
<font color="#A82F2F"><font size="2">(12:09:02 AM)</font> <b>euarno:</b></font> and if I don&apos;t specify &quot;-c&quot; for dovecot/deliver at all in the postfix-master.cf, then I&apos;m getting this error:<br/>
<font color="#A82F2F"><font size="2">(12:09:03 AM)</font> <b>euarno:</b></font>  relay=dovecot, delay=0.3, delays=0.18/0.02/0/0.1, dsn=4.3.0, status=deferred (temporary failure. Command output: lda: Error: user ######: Error reading configuration: stat(/nix/store/#####-dovecot-2.1.17/etc/dovecot/dovecot.conf) failed: No such file or directory lda: Fatal: Internal error occurred.<br/>
<font color="#A82F2F"><font size="2">(12:09:18 AM)</font> <b>NemesisD:</b></font> Fuuzetsu: thought id bring the discussion in here, though i have to pop out soon<br/>
<font color="#062585"><font size="2">(12:09:31 AM)</font> <b>***Fuuzetsu</b></font> is already back to computer algebra<br/>
<font color="#A82F2F"><font size="2">(12:09:36 AM)</font> <b>Fuuzetsu:</b></font> many helpful folk here though<br/>
<font color="#A82F2F"><font size="2">(12:09:42 AM)</font> <b>Fuuzetsu:</b></font> euarno: well, does the file exist?<br/>
<font color="#A82F2F"><font size="2">(12:09:52 AM)</font> <b>NemesisD:</b></font> Fuuzetsu: i&apos;ve got some interest in nix though since we have issues with reproducible cabal builds and it generally feels like a nicer solution than docker<br/>
<font color="#A82F2F"><font size="2">(12:09:52 AM)</font> <b>Lethalman:</b></font> euarno, I don&apos;t think you are supposed to use that dovecot.conf?<br/>
<font color="#A82F2F"><font size="2">(12:10:00 AM)</font> <b>Lethalman:</b></font> rather create your conf<br/>
<font color="#A82F2F"><font size="2">(12:10:15 AM)</font> <b>NemesisD:</b></font> i don&apos;t actually need any help right now. learning nix isn&apos;t actively on my plate right now<br/>
<font color="#A82F2F"><font size="2">(12:10:32 AM)</font> <b>euarno:</b></font> Fuuzetsu: yes, but not at that path..  it is at /nix/store/####-postfix-master.cf  , defined based on  services.postfix.extraMasterConf = &apos;&apos; ... &apos;&apos; ;<br/>
<font color="#A82F2F"><font size="2">(12:11:52 AM)</font> <b>euarno:</b></font> Fuuzetsu: sorry, it is /nix/store/####-dovecot.conf<br/>
<font color="#A82F2F"><font size="2">(12:12:30 AM)</font> <b>Fuuzetsu:</b></font> Not sure what you&apos;re trying to do and don&apos;t have time right now ;; I can help you bit later if you still need it<br/>
<font color="#A82F2F"><font size="2">(12:12:46 AM)</font> <b>euarno:</b></font> Fuuzetsu: so to be short, I want to specify somehow  in services.postfix.extraMasterConf  the path /nix/store/####-dovecot.conf<br/>
<font color="#A82F2F"><font size="2">(12:13:29 AM)</font> <b>euarno:</b></font> Fuuzetsu: and I can&apos;t directly use in services.postfix.extraMasterConf = &apos;&apos; dovecot/deliver -c ${pkgs.dovecot.conffFile} &apos;&apos;<br/>
<font color="#A82F2F"><font size="2">(12:14:16 AM)</font> <b>euarno:</b></font> Fuuzetsu: rebuild throws &quot;error: attribute ‘dovecot.conffFile’ missing, at &quot;/etc/nixos/postfix-config.nix&quot;:..&quot;<br/>
<font color="#A82F2F"><font size="2">(12:14:24 AM)</font> <b>Fuuzetsu:</b></font> does services.postfix.extraMasterConf = pkgs.dovecot.confFile not work or something?<br/>
<font color="#A82F2F"><font size="2">(12:14:26 AM)</font> <b>euarno:</b></font> however it is in https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/mail/dovecot.nix<br/>
<font color="#A82F2F"><font size="2">(12:14:30 AM)</font> <b>Fuuzetsu:</b></font> Note you have conffFile, not confFile<br/>
<font color="#A82F2F"><font size="2">(12:15:36 AM)</font> <b>euarno:</b></font> fixed typo, but that doesn&apos;t change anything.. I don&apos;t exactly want to  services.postfix.extraMasterConf = pkgs.dovecot.confFile  ,  it&apos;s two separate and different configs<br/>
<font color="#A82F2F"><font size="2">(12:16:00 AM)</font> <b>euarno:</b></font> Fuuzetsu: i simply want to use the link from config A to config B   inside the config A<br/>
<font color="#A82F2F"><font size="2">(12:16:19 AM)</font> <b>Lethalman:</b></font> euarno, if you paste something it would be easier for everyone<br/>
<font color="#A82F2F"><font size="2">(12:16:29 AM)</font> <b>euarno:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(12:20:40 AM)</font> <b>euarno:</b></font> Lethalman: here it is http://pastebin.com/TC1au9s0  , I omitted some fields, but most important are there.. please see there &quot;deliver -c ${pkgs.dovecot.confFile}&quot;<br/>
<font color="#A82F2F"><font size="2">(12:21:37 AM)</font> <b>Fuuzetsu:</b></font> pkgs.dovecot.confFile will never exist if pkgs.dovecot is ye olde derivation<br/>
<font color="#A82F2F"><font size="2">(12:21:52 AM)</font> <b>Fuuzetsu:</b></font> you probably want something like ${pkgs.dovecot}/path/to/config<br/>
<font color="#A82F2F"><font size="2">(12:21:59 AM)</font> <b>euarno:</b></font> Fuuzetsu: yes, that&apos;s correct, exactly<br/>
<font color="#A82F2F"><font size="2">(12:22:07 AM)</font> <b>euarno:</b></font> Fuuzetsu: however I can&apos;t guess hash<br/>
<font color="#A82F2F"><font size="2">(12:22:34 AM)</font> <b>Fuuzetsu:</b></font> ${pkgs.dovecot} = /nix/store/somehash-dovecote-x.y.z<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>euarno:</b></font> Fuuzetsu:  I&apos;m looking for something /nix/store/##hash##-dovecot.conf<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>Fuuzetsu:</b></font> dovecot*<br/>
<font color="#A82F2F"><font size="2">(12:22:44 AM)</font> <b>euarno:</b></font> Fuuzetsu: yes<br/>
<font color="#A82F2F"><font size="2">(12:22:57 AM)</font> <b>Lethalman:</b></font> Fuuzetsu, I think he wants the dovecot conf generated by the nixos module<br/>
<font color="#A82F2F"><font size="2">(12:22:57 AM)</font> <b>euarno:</b></font> Fuuzetsu: which shortcut could give me this correct path ?<br/>
<font color="#A82F2F"><font size="2">(12:23:00 AM)</font> <b>Lethalman:</b></font> not shipped by the package<br/>
<font color="#A82F2F"><font size="2">(12:23:04 AM)</font> <b>Fuuzetsu:</b></font> that looks like something nix module creates, not the dovecot package<br/>
<font color="#A82F2F"><font size="2">(12:23:18 AM)</font> <b>euarno:</b></font> correct<br/>
<font color="#A82F2F"><font size="2">(12:23:50 AM)</font> <b>euarno:</b></font> nix modules does it.. either I want to ask nix module for the full hash-path-dovecot.conf .. or to create it myself and set the full path to it (so that I know where it (dovecot.conf) is stored)<br/>
<font color="#A82F2F"><font size="2">(12:23:53 AM)</font> <b>Fuuzetsu:</b></font> so you most likely want the attribute from the service, services.dovecot.whateveritis<br/>
<font color="#A82F2F"><font size="2">(12:24:10 AM)</font> <b>Lethalman:</b></font> euarno, do you want this conf maybe? https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/mail/dovecot.nix<br/>
<font color="#A82F2F"><font size="2">(12:24:38 AM)</font> <b>Lethalman:</b></font> you are also tweaking services.dovecot perhaps?<br/>
<font color="#A82F2F"><font size="2">(12:24:42 AM)</font> <b>euarno:</b></font> Lethalman: I was looking at this conf already, and there is something I want to use:   exec = &quot;${pkgs.dovecot}/sbin/dovecot -F -c ${confFile}&quot;;<br/>
<font color="#A82F2F"><font size="2">(12:24:51 AM)</font> <b>Lethalman:</b></font> yes ok<br/>
<font color="#A82F2F"><font size="2">(12:24:54 AM)</font> <b>Lethalman:</b></font> but *which* config<br/>
<font color="#A82F2F"><font size="2">(12:24:58 AM)</font> <b>Lethalman:</b></font> you have that in mind clearly?<br/>
<font color="#A82F2F"><font size="2">(12:25:06 AM)</font> <b>euarno:</b></font> how could I use that ${confFile} from there, but in my /etc/nixos/ dovecot-config.nix<br/>
<font color="#A82F2F"><font size="2">(12:25:18 AM)</font> <b>euarno:</b></font>  confFile = pkgs.writeText &quot;dovecot.conf&quot; dovecotConf;<br/>
<font color="#A82F2F"><font size="2">(12:25:21 AM)</font> <b>euarno:</b></font> one moment<br/>
<font color="#A82F2F"><font size="2">(12:25:34 AM)</font> <b>Lethalman:</b></font> take your time :)<br/>
<font color="#A82F2F"><font size="2">(12:25:47 AM)</font> <b>euarno:</b></font> [root@mail:~]# systemctl status dovecot2.service<br/>
<font color="#A82F2F"><font size="2">(12:25:48 AM)</font> <b>euarno:</b></font>            ├─16613 /nix/store/#hashAAA#-dovecot-2.1.17/sbin/dovecot -F -c /nix/store/#hashBBB#-dovecot.conf<br/>
<font color="#A82F2F"><font size="2">(12:25:55 AM)</font> <b>Lethalman:</b></font> great<br/>
<font color="#A82F2F"><font size="2">(12:25:58 AM)</font> <b>Lethalman:</b></font> it&apos;s that one<br/>
<font color="#A82F2F"><font size="2">(12:26:04 AM)</font> <b>Lethalman:</b></font> you are running services.dovecot, right?<br/>
<font color="#A82F2F"><font size="2">(12:26:21 AM)</font> <b>euarno:</b></font> so as you can see, it is very easy for me to use ${pkgs.dovecot} to get the path to #hashAAA#, but how about the #hashBBB# ?  ${pkgs.dovecot} doesn&apos;t give it<br/>
<font color="#A82F2F"><font size="2">(12:26:29 AM)</font> <b>euarno:</b></font> right<br/>
<font color="#A82F2F"><font size="2">(12:26:32 AM)</font> <b>Lethalman:</b></font> euarno, can you follow me<br/>
<font color="#A82F2F"><font size="2">(12:26:38 AM)</font> <b>Lethalman:</b></font> forget pkgs.dovecot<br/>
<font color="#A82F2F"><font size="2">(12:26:41 AM)</font> <b>euarno:</b></font> Lethalman: yes ok<br/>
<font color="#A82F2F"><font size="2">(12:26:41 AM)</font> <b>Lethalman:</b></font> *forget it*<br/>
<font color="#A82F2F"><font size="2">(12:26:43 AM)</font> <b>Lethalman:</b></font> good<br/>
<font color="#A82F2F"><font size="2">(12:26:49 AM)</font> <b>Lethalman:</b></font> you need to access that confFile variable<br/>
<font color="#A82F2F"><font size="2">(12:26:52 AM)</font> <b>Lethalman:</b></font> actually, you can&apos;t<br/>
<font color="#A82F2F"><font size="2">(12:27:02 AM)</font> <b>Lethalman:</b></font> because nobody who wrote that service thought about your use case<br/>
<font color="#A82F2F"><font size="2">(12:27:32 AM)</font> <b>euarno:</b></font> Lethalman: ok understand .. I&apos;m trying to find the best solution to get the path to the &apos;-c /nix/store/#hashBBB#-dovecot.conf&apos;<br/>
<font color="#A82F2F"><font size="2">(12:27:48 AM)</font> <b>euarno:</b></font> Lethalman: as I have to specify it in the  postfix-master.cf config<br/>
<font color="#A82F2F"><font size="2">(12:27:50 AM)</font> <b>Lethalman:</b></font> euarno, you have to tweak that dovecot.nix service I&apos;ve linked to you<br/>
<font color="#A82F2F"><font size="2">(12:28:17 AM)</font> <b>Fuuzetsu:</b></font> who&apos;s in charge of next stable release?<br/>
<font color="#A82F2F"><font size="2">(12:28:20 AM)</font> <b>Lethalman:</b></font> that is, you have to patch the service<br/>
<font color="#A82F2F"><font size="2">(12:28:45 AM)</font> <b>euarno:</b></font> Lethalman: ok, thanks, so tomorrow or the next week I&apos;ll try to do that :-)<br/>
<font color="#A82F2F"><font size="2">(12:29:25 AM)</font> <b>Lethalman:</b></font> euarno, np, shouldn&apos;t take more than a couple of minutes for an experienced developer<br/>
<font color="#A82F2F"><font size="2">(12:29:43 AM)</font> <b>euarno:</b></font> Lethalman: not sure if I&apos;ll succeed, I started with NixOS since 2 days ago.. already successfully migrated 2 of my servers :)  just stuck on that #hashBBB# dovecot conf...<br/>
<font color="#A82F2F"><font size="2">(12:30:21 AM)</font> <b>euarno:</b></font> Lethalman: I&apos;m not that much, that&apos;s why it can take me couple of hours instead.. but should bring good experience though<br/>
<font color="#A82F2F"><font size="2">(12:30:31 AM)</font> <b>euarno:</b></font> Lethalman: unless someone else will be quicker than me :D<br/>
<font color="#A82F2F"><font size="2">(12:31:58 AM)</font> <b>Lethalman:</b></font> euarno, something like this: http://nixpaste.noip.me/zBVU4vW5?nix<br/>
<font color="#A82F2F"><font size="2">(12:32:16 AM)</font> <b>Lethalman:</b></font> euarno, so that you can access the conf from postfix like ${config.services.dovecot.configFile}<br/>
<font color="#A82F2F"><font size="2">(12:32:51 AM)</font> <b>Lethalman:</b></font> see I&apos;ve added the configFile option<br/>
<font color="#A82F2F"><font size="2">(12:33:10 AM)</font> <b>euarno:</b></font> Lethalman: wow, that was fast ! :) I appreciate it , I&apos;m falling asleep, will try it in the following days<br/>
<font color="#A82F2F"><font size="2">(12:33:30 AM)</font> <b>euarno:</b></font> Lethalman: and if it works, will it get to stable soon?<br/>
<font color="#A82F2F"><font size="2">(12:34:17 AM)</font> <b>Lethalman:</b></font> euarno, stable... don&apos;t know, unstable sure<br/>
<font color="#A82F2F"><font size="2">(12:34:31 AM)</font> <b>Lethalman:</b></font> euarno, we&apos;ll ask the maintainer<br/>
<font color="#A82F2F"><font size="2">(12:34:41 AM)</font> <b>Lethalman:</b></font> but probably it won&apos;t hit stable because it&apos;s a new feature<br/>
<font color="#A82F2F"><font size="2">(12:34:54 AM)</font> <b>euarno:</b></font> Lethalman: okay, thanks a lot for tips, help and insight on that ! I see great future behind the NixOS ! :]<br/>
<font color="#A82F2F"><font size="2">(12:35:01 AM)</font> <b>euarno:</b></font> Lethalman: good night!<br/>
<font color="#A82F2F"><font size="2">(12:35:05 AM)</font> <b>Lethalman:</b></font> euarno, but it&apos;s not a problem for you, just patch it in your own system<br/>
<font color="#A82F2F"><font size="2">(12:35:11 AM)</font> <b>Lethalman:</b></font> no need to wait for stable<br/>
<font color="#A82F2F"><font size="2">(12:35:22 AM)</font> <b>euarno:</b></font> Lethalman: yes, I will do that!<br/>
<font color="#A82F2F"><font size="2">(12:35:35 AM)</font> <b>euarno:</b></font> Lethalman: Thanks again!<br/>
<font color="#A82F2F"><font size="2">(12:36:44 AM)</font> <b>euarno:</b></font> Lethalman: as I understand I can do it the way described here http://nixos.org/nixos/community.html    $ git clone git://github.com/NixOS/nixpkgs.git   &amp;&amp; $ nixos-rebuild switch -I nixpkgs=/path/to/my/nixpkgs<br/>
<font color="#A82F2F"><font size="2">(12:37:03 AM)</font> <b>Fuuzetsu:</b></font> yes, may want to override nixos argument too<br/>
<font color="#A82F2F"><font size="2">(12:37:35 AM)</font> <b>euarno:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(12:37:45 AM)</font> <b>Lethalman:</b></font> euarno, also make sure to use the commit that you get with nixos-version<br/>
<font color="#A82F2F"><font size="2">(12:37:51 AM)</font> <b>Lethalman:</b></font> otherwise that&apos;s master<br/>
<font color="#A82F2F"><font size="2">(12:38:14 AM)</font> <b>euarno:</b></font> Lethalman: ah right, will keep in mind<br/>
<font color="#A82F2F"><font size="2">(12:38:32 AM)</font> <b>euarno:</b></font> good bye!<br/>
<font color="#A82F2F"><font size="2">(12:38:35 AM)</font> <b>euarno:</b></font> thanks<br/>
<font size="2">(12:39:39 AM)</font><b> euarno left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(12:49:05 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 4 new commits to master: http://git.io/k0N5sQ<br/>
<font color="#A82F2F"><font size="2">(12:49:05 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ce8651b Renzo Carbonara: Add package xbrightness...<br/>
<font color="#A82F2F"><font size="2">(12:49:05 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 11e3503 Renzo Carbonara: Improve packaging of xbrightness<br/>
<font color="#A82F2F"><font size="2">(12:49:05 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a850749 Renzo Carbonara: xbrightness: remove unnecessary x11 parameter<br/>
<font color="#A82F2F"><font size="2">(12:51:39 AM)</font> <b>copumpkin:</b></font> any nix committers around? :)<br/>
<font color="#A82F2F"><font size="2">(12:53:19 AM)</font> <b>Fuuzetsu:</b></font> nix itself? why?<br/>
<font color="#A82F2F"><font size="2">(12:53:50 AM)</font> <b>copumpkin:</b></font> I need a PR merged :)<br/>
<font color="#A82F2F"><font size="2">(12:55:37 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] rycee opened pull request #5810: Add package for the &apos;open-dyslexic&apos; font. (master...package/open-dyslexic) http://git.io/aGammw<br/>
<font color="#A82F2F"><font size="2">(01:09:28 AM)</font> <b>dweller:</b></font> is it possible to install particular version via environment.systemPackages?<br/>
<font color="#A82F2F"><font size="2">(01:09:46 AM)</font> <b>Fuuzetsu:</b></font> just refer to the attribute you want<br/>
<font color="#A82F2F"><font size="2">(01:10:07 AM)</font> <b>Fuuzetsu:</b></font> oftentimes you get stuff like foo = foo_1_0_0;<br/>
<font color="#A82F2F"><font size="2">(01:10:21 AM)</font> <b>dweller:</b></font> thank you<br/>
<font size="2">(01:13:52 AM)</font><b> roconnor [<em>~roconnor@e120-pool-d89a6a4e.brdbnd.voicenetwork.ca</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(01:26:46 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edwtjo pushed 1 new commit to master: http://git.io/_-CFLg<br/>
<font color="#A82F2F"><font size="2">(01:26:46 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2594999 Edward Tjörnhammar: ihaskell: fix path to installedconf in wrapper<br/>
<font size="2">(01:27:34 AM)</font><b> hexagoxel_ is now known as hexagoxel</b><br/>
<font color="#A82F2F"><font size="2">(01:33:01 AM)</font> <b>matematikaadit:</b></font> hello. I&apos;m new to NixOS here.<br/>
<font color="#A82F2F"><font size="2">(01:33:17 AM)</font> <b>Fuuzetsu:</b></font> greetings<br/>
<font color="#A82F2F"><font size="2">(01:35:50 AM)</font> <b>matematikaadit:</b></font> I&apos;m glad that I&apos;m able to install nixos even though using a usbmodem.<br/>
<font color="#A82F2F"><font size="2">(01:38:08 AM)</font> <b>matematikaadit:</b></font> anyway, what&apos;s is the recommended package installation in nixos? declaratively using /etc/nixos/configuration.nix or ad-hoc installation using nix-env?<br/>
<font color="#A82F2F"><font size="2">(01:38:56 AM)</font> <b>Ralith:</b></font> seems to be mostly according to taste<br/>
<font color="#A82F2F"><font size="2">(01:39:11 AM)</font> <b>Ralith:</b></font> and of course whether you want things available outside of your user environment<br/>
<font color="#A82F2F"><font size="2">(01:40:03 AM)</font> <b>Lethalman:</b></font> matematikaadit, nix-env can also be declarative fyi<br/>
<font color="#A82F2F"><font size="2">(01:41:22 AM)</font> <b>matematikaadit:</b></font> Lethalman, ooh... I don&apos;t know bout that.<br/>
<font color="#A82F2F"><font size="2">(01:42:10 AM)</font> <b>Fuuzetsu:</b></font> IMHO nix-env is the devil<br/>
<font color="#A82F2F"><font size="2">(01:42:14 AM)</font> <b>Fuuzetsu:</b></font> some disagree<br/>
<font color="#A82F2F"><font size="2">(01:43:12 AM)</font> <b>Lethalman:</b></font> imho nix-env is for people that wants to live<br/>
<font color="#A82F2F"><font size="2">(01:43:29 AM)</font> <b>Fuuzetsu:</b></font> here come the some<br/>
<font color="#A82F2F"><font size="2">(01:43:30 AM)</font> <b>Lethalman:</b></font> matematikaadit, if you are a functional fan you can do something like this https://nixos.org/wiki/Howto_keep_multiple_packages_up_to_date_at_once<br/>
<font color="#A82F2F"><font size="2">(01:43:53 AM)</font> <b>Lethalman:</b></font> matematikaadit, or this https://nixos.org/wiki/FAQ#How_can_I_manage_software_with_nix-env_like_with_configuration.nix.3F<br/>
<font color="#A82F2F"><font size="2">(01:44:24 AM)</font> <b>Fuuzetsu:</b></font> the answer to the second would be ‘just use configuration.nix’ on NixOS…<br/>
<font color="#A82F2F"><font size="2">(01:44:34 AM)</font> <b>Lethalman:</b></font> Fuuzetsu, it&apos;s a lot different<br/>
<font color="#A82F2F"><font size="2">(01:44:50 AM)</font> <b>Lethalman:</b></font> in no way it&apos;s the answer in nixos<br/>
<font color="#A82F2F"><font size="2">(01:45:42 AM)</font> <b>Lethalman:</b></font> but I&apos;m tired to repeat that to you Fuuzetsu so I tell you the last time :) nixos builds as a unit, if it fails due to a broken package (say chromium), your system won&apos;t upgrade unless you manually pin chromium to an old package etc. etc.<br/>
<font color="#A82F2F"><font size="2">(01:45:55 AM)</font> <b>Lethalman:</b></font> so it&apos;s different, yet functional<br/>
<font color="#A82F2F"><font size="2">(01:46:03 AM)</font> <b>Lethalman:</b></font> I hope it&apos;s clear once for all<br/>
<font color="#A82F2F"><font size="2">(01:46:35 AM)</font> <b>Fuuzetsu:</b></font> I know that, hence the ‘IMHO’ and ‘some disagree’<br/>
<font color="#A82F2F"><font size="2">(01:46:45 AM)</font> <b>Lethalman:</b></font> it&apos;s not an opinion<br/>
<font color="#A82F2F"><font size="2">(01:46:49 AM)</font> <b>Lethalman:</b></font> that&apos;s how it works<br/>
<font color="#A82F2F"><font size="2">(01:47:28 AM)</font> <b>Lethalman:</b></font> what&apos;s personal is about whether you want to do two upgrades, one for nixos-rebuild and one for nix-env<br/>
<font color="#A82F2F"><font size="2">(01:48:20 AM)</font> <b>Fuuzetsu:</b></font> or whether you want to manage available packages in one place or more<br/>
<font color="#A82F2F"><font size="2">(01:49:41 AM)</font> <b>matematikaadit:</b></font> if I install package using nix-env, and later I put that installed package in the configuration.nix, I won&apos;t need to redownload it right?<br/>
<font color="#A82F2F"><font size="2">(01:49:45 AM)</font> <b>Lethalman:</b></font> yes that&apos;s the real downside of nix-env, not the fact that it&apos;s functional or not<br/>
<font color="#A82F2F"><font size="2">(01:49:55 AM)</font> <b>Lethalman:</b></font> it&apos;s the fact that you have to do N upgrades for each user<br/>
<font color="#A82F2F"><font size="2">(01:50:06 AM)</font> <b>Fuuzetsu:</b></font> N * M number of profiles<br/>
<font color="#A82F2F"><font size="2">(01:50:08 AM)</font> <b>Lethalman:</b></font> so stop saying nix-env about being non-functional or not<br/>
<font color="#A82F2F"><font size="2">(01:50:17 AM)</font> <b>Lethalman:</b></font> Fuuzetsu, omit the profiles, please<br/>
<font color="#A82F2F"><font size="2">(01:50:22 AM)</font> <b>Lethalman:</b></font> don&apos;t be that.... don&apos;t know<br/>
<font color="#A82F2F"><font size="2">(01:50:27 AM)</font> <b>Lethalman:</b></font> you have profiles also in nixos, plase<br/>
<font color="#A82F2F"><font size="2">(01:50:41 AM)</font> <b>Fuuzetsu:</b></font> wait, I didn&apos;t say anything about nix-env being functional or not<br/>
<font color="#A82F2F"><font size="2">(01:50:47 AM)</font> <b>Lethalman:</b></font> matematikaadit, you don&apos;t<br/>
<font color="#A82F2F"><font size="2">(01:52:59 AM)</font> <b>matematikaadit:</b></font> let&apos;s see. I think I need to install firefox to open that link you mentioned above.<br/>
<font color="#A82F2F"><font size="2">(01:53:24 AM)</font> <b>Fuuzetsu:</b></font> something lightweight should work if you&apos;re strapped for bandwidth<br/>
<font color="#A82F2F"><font size="2">(01:54:22 AM)</font> <b>Fuuzetsu:</b></font> wasn&apos;t there a plan to put the wiki in some repo for offline viewing?<br/>
<font color="#A82F2F"><font size="2">(01:54:59 AM)</font> <b>trino:</b></font> btw. great wiki and documentation, who ever feels adressed by this :)<br/>
<font color="#A82F2F"><font size="2">(01:57:40 AM)</font> <b>matematikaadit:</b></font> ah, talking about the docs, I&apos;m glad that you could see the nixos manual in tty 8 during installation.<br/>
<font color="#A82F2F"><font size="2">(01:57:52 AM)</font> <b>matematikaadit:</b></font> that&apos;s really help a lot.<br/>
<font color="#A82F2F"><font size="2">(01:58:01 AM)</font> <b>Fuuzetsu:</b></font> wow, you can?<br/>
<font color="#A82F2F"><font size="2">(01:58:05 AM)</font> <b>Fuuzetsu:</b></font> what is this hidden feature<br/>
<font color="#A82F2F"><font size="2">(01:58:44 AM)</font> <b>Fuuzetsu:</b></font> though I probably just didn&apos;t see the obvious hint somewhere when I was installing<br/>
<font color="#A82F2F"><font size="2">(01:59:21 AM)</font> <b>matematikaadit:</b></font> dunno, I&apos;m greeted by that messages when booting to the installation iso<br/>
<font color="#A82F2F"><font size="2">(01:59:52 AM)</font> <b>Fuuzetsu:</b></font> unrelated: when is FOSDEM happening? did everything get decided?<br/>
<font color="#A82F2F"><font size="2">(01:59:56 AM)</font> <b>matematikaadit:</b></font> it&apos;s say that you could see the manual in tty 8, or something.<br/>
<font color="#A82F2F"><font size="2">(02:00:30 AM)</font> <b>trino:</b></font> Fuuzetsu: 31.01.2015 I believe<br/>
<font color="#A82F2F"><font size="2">(02:01:46 AM)</font> <b>matematikaadit:</b></font> and there is also a setting for that: services.nixosManual.showManual<br/>
<font color="#A82F2F"><font size="2">(02:11:51 AM)</font> <b>Lethalman:</b></font> night<br/>
<font size="2">(02:11:54 AM)</font><b> Lethalman left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(02:12:01 AM)</font> <b>Fuuzetsu:</b></font> gn<br/>
<font color="#A82F2F"><font size="2">(02:40:48 AM)</font> <b>dweller:</b></font> eh<br/>
<font color="#A82F2F"><font size="2">(02:40:56 AM)</font> <b>dweller:</b></font> libvirt is pain in the arse<br/>
<font color="#A82F2F"><font size="2">(02:56:22 AM)</font> <b>copumpkin:</b></font> is there something like allowedReferences, except to make an assertion that you don&apos;t depend on a given thing?<br/>
<font color="#A82F2F"><font size="2">(02:56:31 AM)</font> <b>copumpkin:</b></font> (ideally even transitively)<br/>
<font color="#A82F2F"><font size="2">(03:11:20 AM)</font> <b>roconnor:</b></font> copumpkin: you could try to replace the dependency with &quot;error&quot;<br/>
<font color="#A82F2F"><font size="2">(03:11:34 AM)</font> <b>roconnor:</b></font> if it still works, then it didn&apos;t depend on it.<br/>
<font color="#A82F2F"><font size="2">(03:11:52 AM)</font> <b>copumpkin:</b></font> nah, it&apos;s more about runtime dependencies I guess<br/>
<font color="#A82F2F"><font size="2">(03:12:03 AM)</font> <b>copumpkin:</b></font> I&apos;m trying to ensure my stdenv doesn&apos;t depend on the bootstrap one<br/>
<font color="#A82F2F"><font size="2">(03:12:12 AM)</font> <b>copumpkin:</b></font> (even transitively)<br/>
<font color="#A82F2F"><font size="2">(03:12:30 AM)</font> <b>copumpkin:</b></font> would be nice to be able to make an assertion to that effect in code<br/>
<font color="#A82F2F"><font size="2">(03:12:36 AM)</font> <b>roconnor:</b></font> copumpkin: you can get a list of dependencies<br/>
<font color="#A82F2F"><font size="2">(03:12:47 AM)</font> <b>roconnor:</b></font> and then do whatever check you want<br/>
<font color="#A82F2F"><font size="2">(03:12:51 AM)</font> <b>copumpkin:</b></font> how?<br/>
<font color="#A82F2F"><font size="2">(03:13:08 AM)</font> <b>roconnor:</b></font> exportReferencesGraph<br/>
<font color="#A82F2F"><font size="2">(03:13:22 AM)</font> <b>roconnor:</b></font> I&apos;m not entirely sure how that works, but that is the keyword you want.<br/>
<font color="#A82F2F"><font size="2">(03:13:42 AM)</font> <b>roconnor:</b></font> might be undocumented...<br/>
<font color="#A82F2F"><font size="2">(03:14:35 AM)</font> <b>copumpkin:</b></font> looks profoundly magical<br/>
<font color="#A82F2F"><font size="2">(03:14:42 AM)</font> <b>copumpkin:</b></font> I&apos;ll take a look, thanks :)<br/>
<font color="#A82F2F"><font size="2">(03:15:45 AM)</font> <b>roconnor:</b></font> tell the rest of us :)<br/>
<font color="#A82F2F"><font size="2">(03:15:55 AM)</font> <b>copumpkin:</b></font> you betcha<br/>
<font color="#A82F2F"><font size="2">(03:19:02 AM)</font> <b>copumpkin:</b></font> roconnor: you don&apos;t have nix commit access, right? :) :)<br/>
<font color="#A82F2F"><font size="2">(03:19:11 AM)</font> <b>copumpkin:</b></font> (not nixpkgs)<br/>
<font color="#A82F2F"><font size="2">(04:36:24 AM)</font> <b>roconnor:</b></font> copumpkin: I&apos;m not certain<br/>
<font color="#A82F2F"><font size="2">(04:36:42 AM)</font> <b>roconnor:</b></font> I presume I don&apos;t<br/>
<font color="#A82F2F"><font size="2">(04:45:57 AM)</font> <b>copumpkin:</b></font> oh!<br/>
<font color="#A82F2F"><font size="2">(04:45:59 AM)</font> <b>copumpkin:</b></font> allowedRequisites<br/>
<font color="#A82F2F"><font size="2">(04:46:00 AM)</font> <b>copumpkin:</b></font> nice<br/>
<font color="#A82F2F"><font size="2">(05:02:02 AM)</font> <b>ewemoa:</b></font> viric: is the following line compatible with bootstrap for arm6/7? https://github.com/NixOS/nixpkgs/blob/master/pkgs/stdenv/linux/default.nix#L43 i&apos;m getting missing attribute for busybox...<br/>
<font color="#A82F2F"><font size="2">(05:45:59 AM)</font> <b>mm_freak_:</b></font> hi there<br/>
<font color="#A82F2F"><font size="2">(05:46:15 AM)</font> <b>Fuuzetsu:</b></font> salutations<br/>
<font color="#A82F2F"><font size="2">(05:47:00 AM)</font> <b>mm_freak_:</b></font> i&apos;d like to experiment a bit with completely nixpkgs-independent expressions, but i can&apos;t figure out how to bootstrap<br/>
<font color="#A82F2F"><font size="2">(05:47:17 AM)</font> <b>mm_freak_:</b></font> do i need binary packages in my source tree for bootstrapping?<br/>
<font color="#A82F2F"><font size="2">(05:47:42 AM)</font> <b>Fuuzetsu:</b></font> you can compile nix itself pretty easily, it has like 5 deps<br/>
<font color="#A82F2F"><font size="2">(05:49:17 AM)</font> <b>mm_freak_:</b></font> Fuuzetsu: at some point i&apos;m going to run into the classic chicken/egg issue, if i try to build everything from source…  it seems to me that i need binary packages right in the source tree for bootstrapping, is that correct?<br/>
<font color="#A82F2F"><font size="2">(05:49:32 AM)</font> <b>Fuuzetsu:</b></font> what are you bootstrapping? nix?<br/>
<font color="#A82F2F"><font size="2">(05:49:45 AM)</font> <b>Fuuzetsu:</b></font> I don&apos;t recall needing any binaries in the source tree<br/>
<font color="#A82F2F"><font size="2">(05:49:49 AM)</font> <b>mm_freak_:</b></font> Fuuzetsu: anything really, it doesn&apos;t matter<br/>
<font color="#A82F2F"><font size="2">(05:50:16 AM)</font> <b>mm_freak_:</b></font> let&apos;s see i want to build something simple like the &apos;sl&apos; program, which has a very small closure in the nixpkgs version<br/>
<font color="#A82F2F"><font size="2">(05:50:24 AM)</font> <b>mm_freak_:</b></font> s/see/say/<br/>
<font color="#A82F2F"><font size="2">(05:50:48 AM)</font> <b>Fuuzetsu:</b></font> do you have nix already and just want to build some stuff without nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(05:51:01 AM)</font> <b>mm_freak_:</b></font> yeah, for example, but it might as well be nix itself<br/>
<font color="#A82F2F"><font size="2">(05:51:53 AM)</font> <b>Fuuzetsu:</b></font> I don&apos;t see how building nix is a problem here, you need perl, mysql + some modules, autoconf, make and C++ compiler and it should work IIRC<br/>
<font color="#A82F2F"><font size="2">(05:52:27 AM)</font> <b>mm_freak_:</b></font> ok, let&apos;s start with the C++ compiler, and let&apos;s just use gcc<br/>
<font size="2">(05:52:44 AM)</font><b> roconnor left the room (quit: Quit: Konversation terminated!).</b><br/>
<font color="#A82F2F"><font size="2">(05:52:59 AM)</font> <b>mm_freak_:</b></font> how do i build gcc without referring to an existing gcc?<br/>
<font color="#A82F2F"><font size="2">(05:53:18 AM)</font> <b>Fuuzetsu:</b></font> you use gcc that shipped with your distro/from pre-existing package manager<br/>
<font color="#A82F2F"><font size="2">(05:53:33 AM)</font> <b>mm_freak_:</b></font> i think i&apos;m not explaining my problem properly<br/>
<font color="#A82F2F"><font size="2">(05:53:45 AM)</font> <b>Fuuzetsu:</b></font> yes, I think I&apos;m not understanding what you&apos;re after<br/>
<font color="#A82F2F"><font size="2">(05:54:21 AM)</font> <b>mm_freak_:</b></font> let me retry:  i&apos;d like to write an expression for nix, which depends on gcc, so i need to write an expression for gcc, which needs, well, gcc<br/>
<font color="#A82F2F"><font size="2">(05:54:29 AM)</font> <b>mm_freak_:</b></font> or any other compiler capable of building gcc<br/>
<font color="#A82F2F"><font size="2">(05:54:42 AM)</font> <b>mm_freak_:</b></font> that one itself needs to be built by a compiler, etc.<br/>
<font color="#A82F2F"><font size="2">(05:55:33 AM)</font> <b>mm_freak_:</b></font> it&apos;s the typical bootstrapping chicken/egg problem<br/>
<font color="#A82F2F"><font size="2">(05:56:33 AM)</font> <b>Fuuzetsu:</b></font> the first bootstrap itself happens with system tools, this I believe includes compiling first nix gcc<br/>
<font color="#A82F2F"><font size="2">(05:57:32 AM)</font> <b>Fuuzetsu:</b></font> I don&apos;t know how it is written to allow this if that&apos;s what you&apos;re after<br/>
<font color="#A82F2F"><font size="2">(05:57:56 AM)</font> <b>mm_freak_:</b></font> i think the following is a better restatement of the problem:  how can i write a derivation expression for &apos;gcc&apos; in terms of the builtin function &apos;derivation&apos; alone?<br/>
<font color="#A82F2F"><font size="2">(05:58:12 AM)</font> <b>mm_freak_:</b></font> i.e. no arguments, no imports<br/>
<font color="#A82F2F"><font size="2">(05:59:16 AM)</font> <b>ttuegel:</b></font> mm_freak_: i believe they way its done with nixos is with a tarball of pre-built bootstrapping tools<br/>
<font color="#A82F2F"><font size="2">(05:59:26 AM)</font> <b>ttuegel:</b></font> otherwise, there is no way<br/>
<font color="#A82F2F"><font size="2">(05:59:48 AM)</font> <b>mm_freak_:</b></font> ok, thanks…  i assumed that, but i hoped for a nicer way<br/>
<font color="#A82F2F"><font size="2">(06:00:20 AM)</font> <b>ttuegel:</b></font> i don&apos;t think there&apos;s a cleverer way of bootstrapping gcc in general. it&apos;s a c compiler... written in c :)<br/>
<font color="#A82F2F"><font size="2">(06:00:25 AM)</font> <b>Fuuzetsu:</b></font> in all-packages.nix, bootStdenv parameter is given and during bootstrap that gets instantiated to system tools: this becomes the first stdenv so we now have stdenv ready to compile nix tools<br/>
<font color="#A82F2F"><font size="2">(06:01:35 AM)</font> <b>Fuuzetsu:</b></font> I don&apos;t know anything beyond that ;)<br/>
<font color="#A82F2F"><font size="2">(06:02:03 AM)</font> <b>mm_freak_:</b></font> that leads me to another question:  when &apos;derivation&apos; refers to the builder, it is usually a shell script, but there shouldn&apos;t be a shell available at this point…  is the shell an exception to that rule=<br/>
<font color="#A82F2F"><font size="2">(06:02:07 AM)</font> <b>mm_freak_:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(06:02:46 AM)</font> <b>Fuuzetsu:</b></font> shell is part of stdenv, no?<br/>
<font color="#A82F2F"><font size="2">(06:02:56 AM)</font> <b>mm_freak_:</b></font> Fuuzetsu: stdenv is in nixpkgs<br/>
<font color="#A82F2F"><font size="2">(06:03:48 AM)</font> <b>ttuegel:</b></font> mm_freak_: shell has to be part of your bootstrap tools<br/>
<font color="#A82F2F"><font size="2">(06:03:51 AM)</font> <b>Fuuzetsu:</b></font> well, whatever setup you&apos;re going to have, bootstrapping will be similar: use a bunch of tools you got elsewhere and use those to get yourself up proper<br/>
<font color="#A82F2F"><font size="2">(06:04:02 AM)</font> <b>ttuegel:</b></font> you will need it for all those autoconf scripts :)<br/>
<font color="#A82F2F"><font size="2">(06:04:05 AM)</font> <b>mm_freak_:</b></font> ttuegel: so the first builder must be a binary executable?<br/>
<font color="#A82F2F"><font size="2">(06:05:10 AM)</font> <b>mm_freak_:</b></font> i guess i have enough information to try out a few things =)<br/>
<font color="#A82F2F"><font size="2">(06:05:18 AM)</font> <b>mm_freak_:</b></font> thanks a lot<br/>
<font color="#A82F2F"><font size="2">(06:08:18 AM)</font> <b>copumpkin:</b></font> mm_freak_: it&apos;s a statically linked shell<br/>
<font color="#A82F2F"><font size="2">(06:08:21 AM)</font> <b>copumpkin:</b></font> mm_freak_: as part of the bootstrap tools, built from busybox<br/>
<font color="#A82F2F"><font size="2">(06:08:28 AM)</font> <b>copumpkin:</b></font> the very first thing nix downloads<br/>
<font color="#A82F2F"><font size="2">(06:08:37 AM)</font> <b>copumpkin:</b></font> it comes with a bundled curl to download it<br/>
<font color="#A82F2F"><font size="2">(06:10:14 AM)</font> <b>copumpkin:</b></font> stdenv/linux/bootstrap/i686.nix shows you the first two things it retrieves<br/>
<font color="#A82F2F"><font size="2">(06:10:48 AM)</font> <b>mm_freak_:</b></font> copumpkin: that makes sense, thanks<br/>
<font color="#A82F2F"><font size="2">(06:11:21 AM)</font> <b>copumpkin:</b></font> (I recently had to do the same thing for darwin, which is why I know the process fairly intimately :P)<br/>
<font color="#A82F2F"><font size="2">(06:12:57 AM)</font> <b>mm_freak_:</b></font> copumpkin: this is all part of my effort to create an algebraic configuration system (if you followed the nix-dev thread), and currently i&apos;m researching whether it&apos;s feasible to abstract away the entire operating system<br/>
<font color="#A82F2F"><font size="2">(06:13:16 AM)</font> <b>mm_freak_:</b></font> in particular i&apos;m going to do this experiment with freebsd instead of linux, which is my very first BSD experience =)<br/>
<font color="#A82F2F"><font size="2">(06:14:03 AM)</font> <b>mm_freak_:</b></font> (other than my very short trial with OpenBSD, which sucked) =)<br/>
<font color="#A82F2F"><font size="2">(06:15:29 AM)</font> <b>Fuuzetsu:</b></font> wouldn&apos;t a VM image work<br/>
<font color="#A82F2F"><font size="2">(06:15:46 AM)</font> <b>Fuuzetsu:</b></font> I haven&apos;t seen the thread yet<br/>
<font color="#A82F2F"><font size="2">(06:17:26 AM)</font> <b>copumpkin:</b></font> mm_freak_: exciting!<br/>
<font color="#A82F2F"><font size="2">(06:17:29 AM)</font> <b>copumpkin:</b></font> I hope you succeed<br/>
<font color="#A82F2F"><font size="2">(06:17:44 AM)</font> <b>copumpkin:</b></font> I&apos;d love for a pleasing config system<br/>
<font color="#A82F2F"><font size="2">(06:18:48 AM)</font> <b>mm_freak_:</b></font> Fuuzetsu: a VM image for what?  the thread is a subthread of anderson torres&apos; &quot;Modifying the init system&quot; thread, titled &quot;How to get rid of systemd&quot;<br/>
<font color="#A82F2F"><font size="2">(06:19:11 AM)</font> <b>Fuuzetsu:</b></font> o<br/>
<font color="#A82F2F"><font size="2">(06:19:14 AM)</font> <b>Fuuzetsu:</b></font> abolish systemd<br/>
<font color="#A82F2F"><font size="2">(06:20:09 AM)</font> <b>carter:</b></font> good thing freebsd doesn&apos;t use systemd then :)<br/>
<font color="#A82F2F"><font size="2">(06:20:32 AM)</font> <b>Fuuzetsu:</b></font> not yet<br/>
<font color="#A82F2F"><font size="2">(06:21:02 AM)</font> <b>mm_freak_:</b></font> even for linux with the planned concept there is little reason to run systemd<br/>
<font color="#A82F2F"><font size="2">(06:21:03 AM)</font> <b>ewemoa:</b></font> lol<br/>
<font color="#A82F2F"><font size="2">(06:21:32 AM)</font> <b>mm_freak_:</b></font> i&apos;m bringing back acpid and friends, and thanks to the gentoo folks those things are still developed =)<br/>
<font color="#A82F2F"><font size="2">(07:29:25 AM)</font> <b>bitemyapp:</b></font> http://lpaste.net/5888492259799728128 huh? What am I doing wrong here?<br/>
<font color="#A82F2F"><font size="2">(07:30:17 AM)</font> <b>bitemyapp:</b></font> I get the same thing when I try to install arandr.<br/>
<font color="#A82F2F"><font size="2">(07:30:25 AM)</font> <b>copumpkin:</b></font> nix-env -iA<br/>
<font color="#A82F2F"><font size="2">(07:30:35 AM)</font> <b>copumpkin:</b></font> the -A tells it you want an attribute path<br/>
<font color="#A82F2F"><font size="2">(07:30:41 AM)</font> <b>bitemyapp:</b></font> error: attribute ‘ubuntu_font_family’ in selection path ‘ubuntu_font_family’ not found<br/>
<font color="#A82F2F"><font size="2">(07:30:56 AM)</font> <b>copumpkin:</b></font> pkgs.<br/>
<font color="#A82F2F"><font size="2">(07:31:01 AM)</font> <b>bitemyapp:</b></font> nixos.pkgs<br/>
<font color="#A82F2F"><font size="2">(07:31:09 AM)</font> <b>bitemyapp:</b></font> now I think it&apos;s installed :)<br/>
<font color="#A82F2F"><font size="2">(07:31:15 AM)</font> <b>copumpkin:</b></font> yay<br/>
<font color="#A82F2F"><font size="2">(07:31:16 AM)</font> <b>bitemyapp:</b></font> question is, will Emacs see the font?<br/>
<font color="#A82F2F"><font size="2">(07:31:26 AM)</font> <b>copumpkin:</b></font> not sure!<br/>
<font color="#A82F2F"><font size="2">(07:31:37 AM)</font> <b>bitemyapp:</b></font> looks like it did!<br/>
<font color="#A82F2F"><font size="2">(07:31:39 AM)</font> <b>copumpkin:</b></font> sweet :)<br/>
<font color="#A82F2F"><font size="2">(07:31:48 AM)</font> <b>bitemyapp:</b></font> very, because the ubuntu fonts are really nice for programming.<br/>
<font color="#A82F2F"><font size="2">(07:32:01 AM)</font> <b>copumpkin:</b></font> haven&apos;t tried them<br/>
<font color="#A82F2F"><font size="2">(07:32:04 AM)</font> <b>copumpkin:</b></font> I&apos;ll take a look<br/>
<font color="#A82F2F"><font size="2">(07:32:52 AM)</font> <b>bitemyapp:</b></font> copumpkin: https://github.com/bitemyapp/dotfiles/blob/master/.emacs#L202-L213<br/>
<font color="#A82F2F"><font size="2">(07:34:39 AM)</font> <b>copumpkin:</b></font> cool<br/>
<font color="#A82F2F"><font size="2">(07:34:50 AM)</font> <b>copumpkin:</b></font> what&apos;s your primary OS?<br/>
<font color="#A82F2F"><font size="2">(07:40:01 AM)</font> <b>bitemyapp:</b></font> copumpkin: Ubuntu w/ XMonad.<br/>
<font color="#A82F2F"><font size="2">(07:40:13 AM)</font> <b>bitemyapp:</b></font> well, I reproduced the XServer crashing stuff.<br/>
<font color="#A82F2F"><font size="2">(07:40:21 AM)</font> <b>bitemyapp:</b></font> it happens if I try to start up xmonad<br/>
<font color="#A82F2F"><font size="2">(07:40:40 AM)</font> <b>bitemyapp:</b></font> and after attempting to start xmonad, *none* of my window managers / desktops work.<br/>
<font color="#A82F2F"><font size="2">(07:41:41 AM)</font> <b>copumpkin:</b></font> weird<br/>
<font color="#A82F2F"><font size="2">(07:41:45 AM)</font> <b>bitemyapp:</b></font> moderately.<br/>
<font color="#A82F2F"><font size="2">(07:41:59 AM)</font> <b>copumpkin:</b></font> pfft haskell sux dood<br/>
<font color="#A82F2F"><font size="2">(07:42:02 AM)</font> <b>bitemyapp:</b></font> I&apos;m trying to remember if I&apos;ve encountered something weirder w/ a Linux distro before.<br/>
<font color="#A82F2F"><font size="2">(07:42:17 AM)</font> <b>bitemyapp:</b></font> well clearly some kind of switch got flipped (mutation lol) which breaks my computer.<br/>
<font color="#A82F2F"><font size="2">(07:42:21 AM)</font> <b>copumpkin:</b></font> where are your types now!?!?<br/>
<font color="#A82F2F"><font size="2">(07:42:34 AM)</font> <b>bitemyapp:</b></font> the last time this happened, even empty nix expressions installed from the live cd wouldn&apos;t fix it<br/>
<font color="#A82F2F"><font size="2">(07:42:40 AM)</font> <b>bitemyapp:</b></font> I had to rm -rf the disk and do it over.<br/>
<font color="#A82F2F"><font size="2">(07:42:41 AM)</font> <b>bitemyapp:</b></font> so.<br/>
<font color="#A82F2F"><font size="2">(07:42:42 AM)</font> <b>copumpkin:</b></font> wow<br/>
<font color="#A82F2F"><font size="2">(07:42:47 AM)</font> <b>bitemyapp:</b></font> looks like I get to do that again. or something.<br/>
<font color="#A82F2F"><font size="2">(07:42:51 AM)</font> <b>bitemyapp:</b></font> I&apos;d rather understand it and fix it.<br/>
<font color="#A82F2F"><font size="2">(07:42:55 AM)</font> <b>bitemyapp:</b></font> but now I don&apos;t have a network on it.<br/>
<font color="#A82F2F"><font size="2">(07:42:58 AM)</font> <b>copumpkin:</b></font> syslog have anything?<br/>
<font color="#A82F2F"><font size="2">(07:43:02 AM)</font> <b>bitemyapp:</b></font> and I can&apos;t test it without being booted into it<br/>
<font color="#A82F2F"><font size="2">(07:43:18 AM)</font> <b>bitemyapp:</b></font> how do I read syslog on systemd again?<br/>
<font color="#A82F2F"><font size="2">(07:44:19 AM)</font> <b>bitemyapp:</b></font> journald I guess is what is meant<br/>
<font color="#A82F2F"><font size="2">(07:44:50 AM)</font> <b>copumpkin:</b></font> yeah, sorry<br/>
<font color="#A82F2F"><font size="2">(07:44:53 AM)</font> <b>bitemyapp:</b></font> nothing failed to load according to systemctl<br/>
<font color="#A82F2F"><font size="2">(07:46:06 AM)</font> <b>bitemyapp:</b></font> all that came up was logind reporting that it removed session 7<br/>
<font color="#A82F2F"><font size="2">(07:46:49 AM)</font> <b>bitemyapp:</b></font> kdm.log says it was the dbus again.<br/>
<font color="#A82F2F"><font size="2">(07:46:54 AM)</font> <b>bitemyapp:</b></font> why would xmonad break dbus permanently?<br/>
<font color="#A82F2F"><font size="2">(07:48:22 AM)</font> <b>copumpkin:</b></font> no idea, I don&apos;t really use linux for interactive stuff so that whole part of the ecosystem is voodoo to me<br/>
<font color="#A82F2F"><font size="2">(07:59:12 AM)</font> <b>bitemyapp:</b></font> failed to list unit files, too many symbolic files<br/>
<font color="#A82F2F"><font size="2">(07:59:17 AM)</font> <b>bitemyapp:</b></font> links*<br/>
<font color="#A82F2F"><font size="2">(07:59:24 AM)</font> <b>bitemyapp:</b></font> so I can&apos;t really dump status from systemd?<br/>
<font color="#A82F2F"><font size="2">(08:00:28 AM)</font> <b>mm_freak_:</b></font> i&apos;ll step back from FreeBSD for now and go with linux, but with enough abstraction that it can be replaced later<br/>
<font color="#A82F2F"><font size="2">(08:00:38 AM)</font> <b>mm_freak_:</b></font> also i wonder what happened to the hurd<br/>
<font color="#A82F2F"><font size="2">(08:00:50 AM)</font> <b>copumpkin:</b></font> is there a clean way to inherit nested attributes?<br/>
<font color="#A82F2F"><font size="2">(08:03:04 AM)</font> <b>mm_freak_:</b></font> copumpkin: something that &apos;inherit&apos; itself doesn&apos;t do?<br/>
<font color="#A82F2F"><font size="2">(08:03:32 AM)</font> <b>copumpkin:</b></font> hmm, I thought I tried: inherit (pkgs) llvmPackages.clang<br/>
<font color="#A82F2F"><font size="2">(08:03:43 AM)</font> <b>copumpkin:</b></font> perhaps I screwed something else up that time<br/>
<font color="#A82F2F"><font size="2">(08:03:49 AM)</font> <b>copumpkin:</b></font> will wait for this build to finish and try that<br/>
<font color="#A82F2F"><font size="2">(08:04:25 AM)</font> <b>mm_freak_:</b></font> inheriting is something that my mind has trouble with anyway<br/>
<font color="#A82F2F"><font size="2">(08:04:53 AM)</font> <b>mm_freak_:</b></font> (\\) makes much more sense to me<br/>
<font color="#A82F2F"><font size="2">(08:04:53 AM)</font> <b>copumpkin:</b></font> I think of it as just re-exporting something from a module<br/>
<font color="#A82F2F"><font size="2">(08:05:11 AM)</font> <b>mm_freak_:</b></font> uhm, (//)<br/>
<font color="#A82F2F"><font size="2">(08:12:11 AM)</font> <b>joelteon:</b></font> copumpkin: inherit (pkgs.llvmPackages) clang<br/>
<font color="#A82F2F"><font size="2">(08:12:32 AM)</font> <b>copumpkin:</b></font> but that then gives me a top-level clang<br/>
<font color="#A82F2F"><font size="2">(08:12:37 AM)</font> <b>joelteon:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(08:12:39 AM)</font> <b>copumpkin:</b></font> I want to override llvmPackages.clang<br/>
<font color="#A82F2F"><font size="2">(08:12:41 AM)</font> <b>joelteon:</b></font> whoops<br/>
<font color="#A82F2F"><font size="2">(08:13:22 AM)</font> <b>bitemyapp:</b></font> copumpkin: well, I figured it out.<br/>
<font color="#A82F2F"><font size="2">(08:13:28 AM)</font> <b>bitemyapp:</b></font> unsurprisingly, I&apos;m an idiot.<br/>
<font color="#A82F2F"><font size="2">(08:13:33 AM)</font> <b>copumpkin:</b></font> :O<br/>
<font color="#A82F2F"><font size="2">(08:13:52 AM)</font> <b>bitemyapp:</b></font> the xmonad setup still seems borked (dunno why), but I can get into a desktop env now.<br/>
<font color="#A82F2F"><font size="2">(08:14:06 AM)</font> <b>copumpkin:</b></font> what was happening?<br/>
<font color="#A82F2F"><font size="2">(08:14:21 AM)</font> <b>bitemyapp:</b></font> it&apos;s so stupid.<br/>
<font color="#A82F2F"><font size="2">(08:14:40 AM)</font> <b>Ralith:</b></font> well don&apos;t leave us hanging<br/>
<font color="#A82F2F"><font size="2">(08:14:46 AM)</font> <b>bitemyapp:</b></font> copumpkin: I kept changing displayManagers so I could get better logging<br/>
<font color="#A82F2F"><font size="2">(08:14:54 AM)</font> <b>bitemyapp:</b></font> to see which one would tell me what I needed to know<br/>
<font color="#A82F2F"><font size="2">(08:15:01 AM)</font> <b>bitemyapp:</b></font> well, this wasn&apos;t the wrong thing to do, per se, but it was much simpler than all that.<br/>
<font color="#A82F2F"><font size="2">(08:15:05 AM)</font> <b>bitemyapp:</b></font> bad xsession.<br/>
<font color="#A82F2F"><font size="2">(08:15:12 AM)</font> <b>bitemyapp:</b></font> lightdm had the log message about logging to xsession-errors<br/>
<font color="#A82F2F"><font size="2">(08:15:17 AM)</font> <b>bitemyapp:</b></font> deeeeeeeeeeeeeeeeeeerrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrp<br/>
<font color="#A82F2F"><font size="2">(08:15:32 AM)</font> <b>bitemyapp:</b></font> now to find out how to make xmonad see extras/config/blah<br/>
<font color="#A82F2F"><font size="2">(08:15:53 AM)</font> <b>copumpkin:</b></font> oh :/<br/>
<font color="#A82F2F"><font size="2">(08:16:13 AM)</font> <b>bitemyapp:</b></font> I told you I was an idiot.<br/>
<font color="#A82F2F"><font size="2">(08:18:03 AM)</font> <b>Ralith:</b></font> in fairness, it really should log something to syslog<br/>
<font color="#A82F2F"><font size="2">(08:18:38 AM)</font> <b>Fuuzetsu:</b></font> the service has extraPackages parameter<br/>
<font color="#A82F2F"><font size="2">(08:18:55 AM)</font> <b>bitemyapp:</b></font> Ralith: that would&apos;ve helped me solve the problem ~95% faster/<br/>
<font color="#A82F2F"><font size="2">(08:22:51 AM)</font> <b>karshan:</b></font> is there a way to change options in /etc/nixos/configuration.nix and see the results without rebooting ?<br/>
<font color="#A82F2F"><font size="2">(08:23:08 AM)</font> <b>mm_freak_:</b></font> karshan: what do you mean by &quot;see the results&quot;?<br/>
<font color="#A82F2F"><font size="2">(08:23:34 AM)</font> <b>mm_freak_:</b></font> `nixos-rebuild switch` switches to the new configuration immediately (as far as possible, e.g. it doesn&apos;t change the running kernel)<br/>
<font color="#A82F2F"><font size="2">(08:23:58 AM)</font> <b>karshan:</b></font> oh reallt<br/>
<font color="#A82F2F"><font size="2">(08:24:08 AM)</font> <b>karshan:</b></font> really, lol why have I been restarting all this time xD<br/>
<font color="#A82F2F"><font size="2">(08:24:26 AM)</font> <b>bitemyapp:</b></font> hrm, can&apos;t get xmonad to see contrib/extras<br/>
<font color="#A82F2F"><font size="2">(08:24:31 AM)</font> <b>mm_freak_:</b></font> karshan: if you want to rebuild for the next boot, you would use `nixos-rebuild boot` instead<br/>
<font color="#A82F2F"><font size="2">(08:24:33 AM)</font> <b>Fuuzetsu:</b></font> what&apos;s your setup<br/>
<font color="#A82F2F"><font size="2">(08:24:37 AM)</font> <b>bitemyapp:</b></font> have them in my system packages and the ContribAndExtras = true; thing<br/>
<font color="#A82F2F"><font size="2">(08:25:08 AM)</font> <b>mm_freak_:</b></font> bitemyapp: if it&apos;s of any use, my xmonad configuration is a whole cabalised package and uses a number of hackage packages, and it works well<br/>
<font color="#A82F2F"><font size="2">(08:25:18 AM)</font> <b>Fuuzetsu:</b></font> remove from system packages<br/>
<font color="#A82F2F"><font size="2">(08:25:23 AM)</font> <b>Fuuzetsu:</b></font> I have something like     windowManager.xmonad.extraPackages = self: [ self.xmonadContrib ];<br/>
<font color="#A82F2F"><font size="2">(08:25:34 AM)</font> <b>mm_freak_:</b></font> bitemyapp: http://hub.darcs.net/ertes/config/browse/myxmonad<br/>
<font color="#A82F2F"><font size="2">(08:25:41 AM)</font> <b>bitemyapp:</b></font> Fuuzetsu: I have that too.<br/>
<font color="#A82F2F"><font size="2">(08:25:47 AM)</font> <b>bitemyapp:</b></font> do I need to restart after adding that?<br/>
<font color="#A82F2F"><font size="2">(08:26:04 AM)</font> <b>bitemyapp:</b></font> mm_freak_: thanks. I&apos;m going to try to keep my setup fairly vanilla/nix-ized if possible.<br/>
<font color="#A82F2F"><font size="2">(08:26:07 AM)</font> <b>mm_freak_:</b></font> i disable all window managers in configuration.nix and simply use SLiM with .xsession to start my own xmonad<br/>
<font color="#A82F2F"><font size="2">(08:26:22 AM)</font> <b>mm_freak_:</b></font> bitemyapp: it&apos;s all nix<br/>
<font color="#A82F2F"><font size="2">(08:26:32 AM)</font> <b>bitemyapp:</b></font> do I need an .xsession with anything special to make Xmonad see Contrib?<br/>
<font color="#A82F2F"><font size="2">(08:27:03 AM)</font> <b>bitemyapp:</b></font> rebooting to see if that was it.<br/>
<font color="#A82F2F"><font size="2">(08:27:27 AM)</font> <b>bitemyapp:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(08:27:30 AM)</font> <b>Fuuzetsu:</b></font> you need to rebuild switch, maybe restart graphical session<br/>
<font color="#A82F2F"><font size="2">(08:27:31 AM)</font> <b>bitemyapp:</b></font> you have to reboot. Dunno why.<br/>
<font color="#A82F2F"><font size="2">(08:27:46 AM)</font> <b>bitemyapp:</b></font> I did rebuild switch and kill the graphical session multiple times.<br/>
<font color="#A82F2F"><font size="2">(08:27:49 AM)</font> <b>bitemyapp:</b></font> didn&apos;t work until I rebooted.<br/>
<font color="#A82F2F"><font size="2">(08:27:50 AM)</font> <b>mm_freak_:</b></font> copumpkin: llvmPackages = { inherit (pkgs.llvmPackages) clang; }<br/>
<font color="#A82F2F"><font size="2">(08:27:56 AM)</font> <b>mm_freak_:</b></font> copumpkin: ugly, but it should work<br/>
<font color="#A82F2F"><font size="2">(08:28:10 AM)</font> <b>copumpkin:</b></font> mm_freak_: but won&apos;t that override it to only contain one attribute?<br/>
<font color="#A82F2F"><font size="2">(08:28:22 AM)</font> <b>bitemyapp:</b></font> next question, why can&apos;t I change my gnome-terminal settings?<br/>
<font color="#A82F2F"><font size="2">(08:28:28 AM)</font> <b>copumpkin:</b></font> do I need to manually merge it with the old llvmPackages?<br/>
<font color="#A82F2F"><font size="2">(08:29:15 AM)</font> <b>mm_freak_:</b></font> copumpkin: i&apos;m not sure what you need…  you want to create an attribute set with a custom llvmPacakges attribute, but with some of the subattributes coming from pkgs.llvmPackages?<br/>
<font color="#A82F2F"><font size="2">(08:29:32 AM)</font> <b>copumpkin:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(08:29:46 AM)</font> <b>copumpkin:</b></font> I want to override a particular attribute within llvmPackages<br/>
<font color="#A82F2F"><font size="2">(08:29:59 AM)</font> <b>mm_freak_:</b></font> copumpkin: then you should just use (//)<br/>
<font color="#A82F2F"><font size="2">(08:30:05 AM)</font> <b>copumpkin:</b></font> boo<br/>
<font color="#A82F2F"><font size="2">(08:30:18 AM)</font> <b>mm_freak_:</b></font> llvmPackages = pkgs.llvmPackages // { myAttr = myValue; };<br/>
<font color="#A82F2F"><font size="2">(08:30:23 AM)</font> <b>copumpkin:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(08:30:32 AM)</font> <b>bitemyapp:</b></font> I can set my gnome-terminal settings once, but they get forgotten when I fire up the terminal again.<br/>
<font color="#A82F2F"><font size="2">(08:30:35 AM)</font> <b>bitemyapp:</b></font> or a new one.<br/>
<font color="#A82F2F"><font size="2">(08:31:49 AM)</font> <b>mm_freak_:</b></font> copumpkin: in general (//) corresponds to (&lt;&gt;) for Map, so simply do what you would do in haskell<br/>
<font color="#A82F2F"><font size="2">(08:31:56 AM)</font> <b>copumpkin:</b></font> sure<br/>
<font color="#A82F2F"><font size="2">(08:32:00 AM)</font> <b>mm_freak_:</b></font> unfortunately there is no fmap<br/>
<font color="#A82F2F"><font size="2">(08:32:01 AM)</font> <b>copumpkin:</b></font> I knew how to do that, I just didn&apos;t want to :P<br/>
<font color="#A82F2F"><font size="2">(08:32:09 AM)</font> <b>mm_freak_:</b></font> hehe ok<br/>
<font color="#A82F2F"><font size="2">(08:32:33 AM)</font> <b>copumpkin:</b></font> anyway, not the end of the world I guess<br/>
<font color="#A82F2F"><font size="2">(08:32:40 AM)</font> <b>bitemyapp:</b></font> https://botbot.me/freenode/nixos/2015-01-05/?msg=28761529&amp;page=1<br/>
<font size="2">(08:35:26 AM)</font><b> matematikaadit is now known as Guest21003</b><br/>
<font size="2">(08:36:02 AM)</font><b> Guest21003 is now known as matematikaadit</b><br/>
<font color="#A82F2F"><font size="2">(08:37:24 AM)</font> <b>matematikaadit:</b></font> it&apos;s strange, I get a message that nixos.pkgs.haskellPlatform doesn&apos;t exist.<br/>
<font color="#A82F2F"><font size="2">(09:20:27 AM)</font> <b>bitemyapp:</b></font> bah. konsole works fine. Onward with that.<br/>
<font color="#A82F2F"><font size="2">(09:22:46 AM)</font> <b>mm_freak_:</b></font> matematikaadit: nix-env -qaP<br/>
<font color="#A82F2F"><font size="2">(09:22:59 AM)</font> <b>mm_freak_:</b></font> matematikaadit: however, usually you wouldn&apos;t install the haskell platform on NixOS<br/>
<font color="#A82F2F"><font size="2">(09:30:18 AM)</font> <b>matematikaadit:</b></font> mm_freak_, I didn&apos;t get anything executing nix-env -qaP | grep haskellPlatform<br/>
<font color="#A82F2F"><font size="2">(09:30:30 AM)</font> <b>matematikaadit:</b></font> mm_freak_, well, maybe it was removed.<br/>
<font color="#A82F2F"><font size="2">(09:30:49 AM)</font> <b>matematikaadit:</b></font> anyway, I think haskellPackages.ghc is enough for now.<br/>
<font color="#A82F2F"><font size="2">(09:32:35 AM)</font> <b>MP2E:</b></font> yes it was discussed on the nix-dev mailing list a few months ago, the Haskell Platform was removed because no one seemed interested in porting the newest one and it was agreed that it was extraneous anyway<br/>
<font color="#A82F2F"><font size="2">(09:32:43 AM)</font> <b>MP2E:</b></font> well porting isn&apos;t the right word<br/>
<font color="#A82F2F"><font size="2">(09:32:48 AM)</font> <b>MP2E:</b></font> righting the nix scripts.<br/>
<font color="#A82F2F"><font size="2">(09:32:51 AM)</font> <b>MP2E:</b></font> writing*<br/>
<font color="#A82F2F"><font size="2">(09:37:14 AM)</font> <b>matematikaadit:</b></font> well, if that&apos;s the case, then it&apos;s okay I think. It&apos;s just many tutorial mentions pkgs.haskellPlatform<br/>
<font color="#A82F2F"><font size="2">(09:37:21 AM)</font> <b>matematikaadit:</b></font> *just that<br/>
<font color="#A82F2F"><font size="2">(09:37:23 AM)</font> <b>MP2E:</b></font> ah oops<br/>
<font color="#A82F2F"><font size="2">(09:39:01 AM)</font> <b>matematikaadit:</b></font> anyway, is there a way to switch back to the old configuration.nix build without rebooting and choosing it in the grub menu?<br/>
<font size="2">(09:43:16 AM)</font><b> mojo is now known as Guest53940</b><br/>
<font color="#A82F2F"><font size="2">(09:46:59 AM)</font> <b>mm_freak_:</b></font> matematikaadit: nixos-rebuild can roll back…  see its man page<br/>
<font color="#A82F2F"><font size="2">(09:50:12 AM)</font> <b>matematikaadit:</b></font> let me see..., ah, you&apos;re right. there&apos;s an --roolback option to nixos-rebuild<br/>
<font color="#A82F2F"><font size="2">(09:54:33 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker closed pull request #5808: ZNC: added &quot;privmsg&quot; module. (master...znc-privmsg) http://git.io/Az0LvQ<br/>
<font color="#A82F2F"><font size="2">(09:58:49 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 11 new commits to staging: http://git.io/GAJDaQ<br/>
<font color="#A82F2F"><font size="2">(09:58:49 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/staging 48f63c2 Eric Seidel: rename gcc-wrapper to cc-wrapper....<br/>
<font color="#A82F2F"><font size="2">(09:58:49 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/staging 16fe4be Shea Levy: Add isGNU attribute to gccs<br/>
<font color="#A82F2F"><font size="2">(09:58:49 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/staging f3c6827 Eric Seidel: rename all occurrences of stdenv.cc.gcc to stdenv.cc.cc<br/>
<font color="#A82F2F"><font size="2">(10:03:41 AM)</font> <b>mm_freak_:</b></font> matematikaadit: it&apos;s beneficial to keep a few versions of your configuration.nix (e.g. by using darcs/git) and switch regularly…  not that rolling back is wrong, but you may want to have the corresponding configuration as well<br/>
<font color="#A82F2F"><font size="2">(10:03:53 AM)</font> <b>mm_freak_:</b></font> the configuration expression that is<br/>
<font color="#A82F2F"><font size="2">(10:04:38 AM)</font> <b>mm_freak_:</b></font> and &quot;regularly&quot; in the sense of &quot;not by using --rollback&quot;<br/>
<font color="#A82F2F"><font size="2">(10:29:15 AM)</font> <b>matematikaadit:</b></font> mm_freak_, ah, that would be great. thanks for the tips.<br/>
<font color="#A82F2F"><font size="2">(10:32:04 AM)</font> <b>MP2E:</b></font> organizing through git is really useful<br/>
<font color="#A82F2F"><font size="2">(10:32:34 AM)</font> <b>MP2E:</b></font> I manage all of my nix configs and my custom nix derivations that aren&apos;t pushed upstream here https://github.com/MP2E/nix-projects<br/>
<font color="#062585"><font size="2">(10:32:51 AM)</font> <b>***ewemoa</b></font> goes to take look ;)<br/>
<font color="#A82F2F"><font size="2">(10:33:01 AM)</font> <b>MP2E:</b></font> :P<br/>
<font color="#A82F2F"><font size="2">(10:37:55 AM)</font> <b>ewemoa:</b></font> he he...i like the name of the windows partition<br/>
<font color="#A82F2F"><font size="2">(10:38:09 AM)</font> <b>ewemoa:</b></font> ah you have multi-booting working<br/>
<font color="#A82F2F"><font size="2">(10:39:01 AM)</font> <b>ewemoa:</b></font> another bluez5 user...when will that be the default bluez<br/>
<font color="#A82F2F"><font size="2">(10:39:10 AM)</font> <b>Fuuzetsu:</b></font> what a familiar looking repo ;P<br/>
<font color="#A82F2F"><font size="2">(10:39:21 AM)</font> <b>Fuuzetsu:</b></font> and configs ;)<br/>
<font color="#A82F2F"><font size="2">(10:39:37 AM)</font> <b>Fuuzetsu:</b></font> I need to check out this Haskell ng stuff when I have some time<br/>
<font color="#A82F2F"><font size="2">(10:42:34 AM)</font> <b>MP2E:</b></font> hehehe<br/>
<font color="#A82F2F"><font size="2">(10:42:40 AM)</font> <b>MP2E:</b></font> yeah they were based off of yours :D<br/>
<font color="#A82F2F"><font size="2">(10:42:49 AM)</font> <b>MP2E:</b></font> i&apos;ve made a few modifications since october though :P<br/>
<font color="#A82F2F"><font size="2">(10:43:22 AM)</font> <b>MP2E:</b></font> I agree that bluez5 should be default by now :x<br/>
<font color="#A82F2F"><font size="2">(10:44:59 AM)</font> <b>ewemoa:</b></font> MP2E: what is it in bluez5 that you use if you don&apos;t mind me asking :)<br/>
<font color="#A82F2F"><font size="2">(10:45:34 AM)</font> <b>ewemoa:</b></font> i went for it because of the btle stuff<br/>
<font color="#A82F2F"><font size="2">(10:45:46 AM)</font> <b>MP2E:</b></font> I use it to connect to wiimotes for dolphin-emu :P<br/>
<font color="#A82F2F"><font size="2">(10:45:54 AM)</font> <b>MP2E:</b></font> bluez4 wasn&apos;t working when I tried<br/>
<font color="#A82F2F"><font size="2">(10:49:25 AM)</font> <b>ewemoa:</b></font> MP2E: aha -- hmm...the following seems suggestive that some 4.x might work: http://www.bluez.org/gsoc-nintendo-wii-remote-device-driver/<br/>
<font color="#A82F2F"><font size="2">(10:50:28 AM)</font> <b>ewemoa:</b></font> at least something works...<br/>
<font color="#A82F2F"><font size="2">(10:50:31 AM)</font> <b>MP2E:</b></font> hm<br/>
<font color="#A82F2F"><font size="2">(10:50:34 AM)</font> <b>MP2E:</b></font> I wonder what I was doing wrong<br/>
<font color="#A82F2F"><font size="2">(10:50:42 AM)</font> <b>MP2E:</b></font> it&apos;s been quite a number of months so it&apos;s hard for me to remember :P<br/>
<font color="#A82F2F"><font size="2">(10:50:52 AM)</font> <b>MP2E:</b></font> like 6+ :x<br/>
<font color="#A82F2F"><font size="2">(10:53:54 AM)</font> <b>MP2E:</b></font> i&apos;ll have to try with bluez at the default again sometime<br/>
<font size="2">(10:55:43 AM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:04:54 AM)</font> <b>Phiphler:</b></font> if I run Nix on a different distribution, will it always pull all it&apos;s own makedepends etc when you start installing packages with it? Is there a way to make it use the host system packages for building, dynamic linking etc?<br/>
<font color="#A82F2F"><font size="2">(11:06:34 AM)</font> <b>joelteon:</b></font> no, that would defeat the purpose of nix<br/>
<font color="#A82F2F"><font size="2">(11:07:44 AM)</font> <b>Phiphler:</b></font> joelteon: I figured that it wouldn&apos;t be possible, just making sure. Nix truly does create it&apos;s own stand-alone cache of packages<br/>
<font size="2">(11:18:56 AM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:21:55 AM)</font> <b>Phiphler:</b></font> is there an advantage in using btrfs together with Nix? I can&apos;t quite wrap my head around redundancy&amp;deduplication in Nix<br/>
<font color="#A82F2F"><font size="2">(11:22:00 AM)</font> <b>viric:</b></font> ewemoa: mh I don&apos;t know.<br/>
<font color="#A82F2F"><font size="2">(11:23:26 AM)</font> <b>viric:</b></font> ewemoa: what is your arm6 hw?<br/>
<font color="#A82F2F"><font size="2">(11:24:19 AM)</font> <b>ewemoa:</b></font> viric: i am using arm7 actually -- it&apos;s just smartphones and tablets<br/>
<font color="#A82F2F"><font size="2">(11:24:25 AM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(11:24:38 AM)</font> <b>viric:</b></font> I&apos;ve not evaluated beyond arm5 since long<br/>
<font color="#A82F2F"><font size="2">(11:24:45 AM)</font> <b>viric:</b></font> and arm5 since somewhat long :)<br/>
<font color="#A82F2F"><font size="2">(11:25:57 AM)</font> <b>ewemoa:</b></font> viric: ah...i guess that&apos;s likely to be somewhat tricky to get working then<br/>
<font color="#A82F2F"><font size="2">(11:26:05 AM)</font> <b>viric:</b></font> is it?<br/>
<font color="#A82F2F"><font size="2">(11:26:05 AM)</font> <b>ewemoa:</b></font> or at least time-consuming<br/>
<font color="#A82F2F"><font size="2">(11:26:08 AM)</font> <b>ewemoa:</b></font> well<br/>
<font color="#A82F2F"><font size="2">(11:26:12 AM)</font> <b>viric:</b></font> may be...<br/>
<font color="#A82F2F"><font size="2">(11:26:17 AM)</font> <b>viric:</b></font> I should retake work on that.<br/>
<font color="#A82F2F"><font size="2">(11:26:17 AM)</font> <b>ewemoa:</b></font> i tried to build bootstrap things but...<br/>
<font color="#A82F2F"><font size="2">(11:26:24 AM)</font> <b>viric:</b></font> I&apos;ve a branch with nixos fixes for arm5<br/>
<font color="#A82F2F"><font size="2">(11:26:32 AM)</font> <b>viric:</b></font> But stdenv should be fine<br/>
<font color="#A82F2F"><font size="2">(11:26:52 AM)</font> <b>viric:</b></font> So, you want stdenv in what currentSystem?<br/>
<font color="#A82F2F"><font size="2">(11:26:59 AM)</font> <b>viric:</b></font> what are you trying?<br/>
<font color="#A82F2F"><font size="2">(11:27:42 AM)</font> <b>ewemoa:</b></font> viric: what i have is an arch system on a galaxy s3 running cyanogenmod<br/>
<font color="#A82F2F"><font size="2">(11:27:51 AM)</font> <b>ewemoa:</b></font> it has nix on it<br/>
<font color="#A82F2F"><font size="2">(11:28:11 AM)</font> <b>ewemoa:</b></font> but i have yet to succeed in getting nix-build to complete for a single package<br/>
<font color="#A82F2F"><font size="2">(11:29:01 AM)</font> <b>ewemoa:</b></font> i tried to get make-bootstrap-tools* working but haven&apos;t had luck with that<br/>
<font color="#A82F2F"><font size="2">(11:29:08 AM)</font> <b>ewemoa:</b></font> even on intel: https://github.com/NixOS/nixpkgs/issues/5203<br/>
<font color="#A82F2F"><font size="2">(11:29:31 AM)</font> <b>Phiphler:</b></font> does the &quot;inherit&quot; command in a Nix expression only pull functions from the Nix store, or the whole system?<br/>
<font color="#A82F2F"><font size="2">(11:30:51 AM)</font> <b>joelteon:</b></font> inherit is a lexical shortcut<br/>
<font color="#A82F2F"><font size="2">(11:31:02 AM)</font> <b>joelteon:</b></font> inherit (x) y; ==&gt; y = x.y;<br/>
<font color="#A82F2F"><font size="2">(11:34:52 AM)</font> <b>ewemoa:</b></font> viric: what i&apos;m after atm is running nix with nixpkgs on android (eventually via proot) -- it looks like iMatejC has made some good progress on that: http://hydra.matejc.com/project/crosscompile<br/>
<font color="#A82F2F"><font size="2">(11:38:27 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] arno01 opened pull request #5811: Release 14.12 - opendkim --&gt; libmilter IPv6 enabling (master...release-14.12) http://git.io/NTNHrA<br/>
<font color="#A82F2F"><font size="2">(11:39:17 AM)</font> <b>viric:</b></font> ewemoa: I should try with my android too.<br/>
<font color="#A82F2F"><font size="2">(11:43:32 AM)</font> <b>ewemoa:</b></font> viric: that sounds nice :)  btw, here are some rough notes on what i did: https://pastee.org/xn2sb -- minus the nix-build failing<br/>
<font color="#A82F2F"><font size="2">(11:44:18 AM)</font> <b>viric:</b></font> gut<br/>
<font color="#A82F2F"><font size="2">(12:00:19 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] arno01 opened pull request #5812: Release 14.12 - adding configFile option for the dovecot so that absolute path could be used (release-14.12...master) http://git.io/Z8ZbMw<br/>
<font color="#A82F2F"><font size="2">(12:04:13 PM)</font> <b>Haskellfant:</b></font> I&apos;m trying to unterstand all-packages.nix but I&apos;m confused by the let expression, it ends with &apos;in self; in pkgs;&apos; what is the self for?<br/>
<font color="#A82F2F"><font size="2">(12:05:08 PM)</font> <b>Haskellfant:</b></font> so basically I don&apos;t see what the inner let expression is used for<br/>
<font size="2">(12:10:00 PM)</font><b> Lethalman [<em>~lethal@89.119.188.238</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(12:15:08 PM)</font> <b>musicmatze:</b></font> How to append an element to a list in nix?<br/>
<font color="#A82F2F"><font size="2">(12:15:41 PM)</font> <b>Haskellfant:</b></font> musicmatze: afaik [1 2 3] ++ [4] works<br/>
<font color="#A82F2F"><font size="2">(12:16:19 PM)</font> <b>musicmatze:</b></font> Haskellfant: Unfortunately not for me ... I have a list and a function which gets called and should return a list... maybe I should double check what the function actually returns...<br/>
<font color="#A82F2F"><font size="2">(12:17:21 PM)</font> <b>musicmatze:</b></font> hm<br/>
<font color="#A82F2F"><font size="2">(12:17:49 PM)</font> <b>musicmatze:</b></font> my function returns a set. So your idea should work when doing list ++ [ (functionCall) ]..<br/>
<font color="#A82F2F"><font size="2">(12:18:00 PM)</font> <b>musicmatze:</b></font> but it tells me &quot;value is a function while a list was expected&quot;<br/>
<font color="#A82F2F"><font size="2">(12:18:13 PM)</font> <b>Lethalman:</b></font> musicmatze, so you are doing list ++ function<br/>
<font color="#A82F2F"><font size="2">(12:18:16 PM)</font> <b>Lethalman:</b></font> or function ++ list<br/>
<font color="#A82F2F"><font size="2">(12:18:19 PM)</font> <b>Lethalman:</b></font> the error is clear :)<br/>
<font color="#A82F2F"><font size="2">(12:18:37 PM)</font> <b>musicmatze:</b></font> not to me, sorryß<br/>
<font color="#A82F2F"><font size="2">(12:18:38 PM)</font> <b>musicmatze:</b></font> ?*<br/>
<font color="#A82F2F"><font size="2">(12:19:25 PM)</font> <b>Lethalman:</b></font> well I just said your... your are doing ++ with one of the two operands being a function, and not a list<br/>
<font color="#A82F2F"><font size="2">(12:19:31 PM)</font> <b>Lethalman:</b></font> don&apos;t know how to tell it cleaner<br/>
<font color="#A82F2F"><font size="2">(12:19:48 PM)</font> <b>musicmatze:</b></font> But I&apos;m doing [ (functionCall) ] ++ list<br/>
<font color="#A82F2F"><font size="2">(12:19:58 PM)</font> <b>Lethalman:</b></font> and are you sure that &quot;list&quot; is actually a list?<br/>
<font color="#A82F2F"><font size="2">(12:20:16 PM)</font> <b>musicmatze:</b></font> jup.<br/>
<font color="#A82F2F"><font size="2">(12:20:25 PM)</font> <b>Lethalman:</b></font> and then what do you do with the final list?<br/>
<font color="#A82F2F"><font size="2">(12:20:26 PM)</font> <b>musicmatze:</b></font> its from an import which returns (by now) an empty list.<br/>
<font color="#A82F2F"><font size="2">(12:20:32 PM)</font> <b>musicmatze:</b></font> return it again.<br/>
<font color="#A82F2F"><font size="2">(12:20:41 PM)</font> <b>Lethalman:</b></font> musicmatze, well paste some code and paste the --show-trace<br/>
<font color="#A82F2F"><font size="2">(12:20:52 PM)</font> <b>musicmatze:</b></font> I&apos;ll do this.<br/>
<font color="#A82F2F"><font size="2">(12:25:30 PM)</font> <b>Haskellfant:</b></font> it sounds like you forgot to wrap your function in a singleton list<br/>
<font color="#A82F2F"><font size="2">(12:26:16 PM)</font> <b>musicmatze:</b></font> tell me more...?<br/>
<font color="#A82F2F"><font size="2">(12:26:59 PM)</font> <b>Haskellfant:</b></font> [ 1 2 3 ] ++ (x : x) won&apos;t work because ++ takes to lists, but [ 1 2 3 ] ++ [ (x: x) ] does work because the function is now wrapped into a list<br/>
<font color="#A82F2F"><font size="2">(12:27:17 PM)</font> <b>Haskellfant:</b></font> but judging from what you wrote you have done this so I&apos;m not sure what&apos;s going on<br/>
<font color="#A82F2F"><font size="2">(12:29:54 PM)</font> <b>musicmatze:</b></font> pasted here: https://gist.github.com/matthiasbeyer/ac03d76b1b77bce87d3f<br/>
<font color="#A82F2F"><font size="2">(12:30:38 PM)</font> <b>Haskellfant:</b></font> where is plugins.nix?<br/>
<font color="#A82F2F"><font size="2">(12:30:55 PM)</font> <b>musicmatze:</b></font> in pkgs/vim/<br/>
<font color="#A82F2F"><font size="2">(12:31:09 PM)</font> <b>musicmatze:</b></font> that&apos;s the prefix of the filename, github does not allow &quot;/&quot; in the filenames<br/>
<font color="#A82F2F"><font size="2">(12:31:28 PM)</font> <b>Haskellfant:</b></font> well that is a function<br/>
<font color="#A82F2F"><font size="2">(12:31:33 PM)</font> <b>Haskellfant:</b></font> not a list<br/>
<font color="#A82F2F"><font size="2">(12:31:44 PM)</font> <b>Haskellfant:</b></font> so you&apos;re trying to append a list to a function<br/>
<font color="#A82F2F"><font size="2">(12:31:46 PM)</font> <b>Haskellfant:</b></font> which won&apos;t work<br/>
<font color="#A82F2F"><font size="2">(12:31:51 PM)</font> <b>musicmatze:</b></font> what is a function?<br/>
<font color="#A82F2F"><font size="2">(12:31:59 PM)</font> <b>Haskellfant:</b></font> plugins.nix<br/>
<font color="#A82F2F"><font size="2">(12:32:05 PM)</font> <b>musicmatze:</b></font> you mean?<br/>
<font color="#A82F2F"><font size="2">(12:32:08 PM)</font> <b>musicmatze:</b></font> aaaah<br/>
<font color="#A82F2F"><font size="2">(12:32:08 PM)</font> <b>Haskellfant:</b></font> takes stdenv, lib, … as arguments<br/>
<font color="#A82F2F"><font size="2">(12:32:09 PM)</font> <b>musicmatze:</b></font> oh my god<br/>
<font color="#A82F2F"><font size="2">(12:32:18 PM)</font> <b>musicmatze:</b></font> that&apos;s embarrassing<br/>
<font color="#A82F2F"><font size="2">(12:32:20 PM)</font> <b>Haskellfant:</b></font> and returns an empty list<br/>
<font color="#A82F2F"><font size="2">(12:32:35 PM)</font> <b>musicmatze:</b></font> oh my god, I&apos;m so sorry guys...<br/>
<font color="#A82F2F"><font size="2">(12:32:52 PM)</font> <b>Haskellfant:</b></font> we all do mistakes :)<br/>
<font color="#062585"><font size="2">(12:33:04 PM)</font> <b>***musicmatze</b></font> feels ashamed<br/>
<font color="#A82F2F"><font size="2">(12:34:05 PM)</font> <b>musicmatze:</b></font> How can I call it with all these arguments without specifying every single one?<br/>
<font color="#A82F2F"><font size="2">(12:34:09 PM)</font> <b>musicmatze:</b></font> is there a shortcut for this?<br/>
<font color="#A82F2F"><font size="2">(12:34:48 PM)</font> <b>Haskellfant:</b></font> callPackage passes some stuff in<br/>
<font color="#A82F2F"><font size="2">(12:35:01 PM)</font> <b>Haskellfant:</b></font> not sure if you actuall need fetchgit separately isn&apos;t that in stdenv?<br/>
<font color="#A82F2F"><font size="2">(12:35:56 PM)</font> <b>musicmatze:</b></font> undefined variable callPackage<br/>
<font color="#A82F2F"><font size="2">(12:37:10 PM)</font> <b>Haskellfant:</b></font> it&apos;s in &lt;nixpkgs&gt;<br/>
<font color="#A82F2F"><font size="2">(12:38:10 PM)</font> <b>ambro718:</b></font> Hey, is there any library packaged in nixpkgs to control a Sphero? All I found is a haskell one but I don&apos;t know Haskell :S<br/>
<font color="#A82F2F"><font size="2">(12:41:26 PM)</font> <b>musicmatze:</b></font> Haskellfant: Thank&apos;s a lot... solved that problem! :-)<br/>
<font color="#A82F2F"><font size="2">(12:41:26 PM)</font> <b>Haskellfant:</b></font> does nix-env just search through all attributes in the set and searches through the ones with type = derivation when querying?<br/>
<font color="#A82F2F"><font size="2">(12:43:21 PM)</font> <b>Haskellfant:</b></font> glad I could help<br/>
<font color="#A82F2F"><font size="2">(12:49:29 PM)</font> <b>musicmatze:</b></font> awesome \m/ finally got it to evaluate... that&apos;s a huge step towards a nix based vim setup :-)<br/>
<font color="#A82F2F"><font size="2">(12:54:28 PM)</font> <b>Haskellfant:</b></font> hm I give up, I can&apos;t even find out where `self` in the let expression in all-packages.nix is coming from<br/>
<font color="#A82F2F"><font size="2">(01:07:02 PM)</font> <b>ktosiek:</b></font> Haskellfant: me neither, and you&apos;ve got me interested :-)<br/>
<font color="#A82F2F"><font size="2">(01:07:47 PM)</font> <b>Haskellfant:</b></font> ktosiek: hehe maybe you actually know a thing about nix (I certainly don&apos;t) and can find out what it is used for :)<br/>
<font color="#A82F2F"><font size="2">(01:13:04 PM)</font> <b>ktosiek:</b></font> hmm<br/>
<font color="#A82F2F"><font size="2">(01:14:13 PM)</font> <b>ktosiek:</b></font> Haskellfant: can you see where the let from line 127 ends?<br/>
<font color="#A82F2F"><font size="2">(01:16:23 PM)</font> <b>ktosiek:</b></font> hmm, wait a minute, is most of the all-packages.nix inside the pkgsFun function?<br/>
<font color="#A82F2F"><font size="2">(01:16:55 PM)</font> <b>Haskellfant:</b></font> ktosiek: it looks like it ends with the self<br/>
<font color="#A82F2F"><font size="2">(01:17:09 PM)</font> <b>Haskellfant:</b></font> but then I don&apos;t understand where the let in line 38 ends<br/>
<font color="#A82F2F"><font size="2">(01:17:34 PM)</font> <b>ktosiek:</b></font> last line, &quot;in pkgs&quot;?<br/>
<font color="#A82F2F"><font size="2">(01:18:08 PM)</font> <b>Haskellfant:</b></font> isn&apos;t that the let from line 36?<br/>
<font color="#A82F2F"><font size="2">(01:20:22 PM)</font> <b>ktosiek:</b></font> no, that one ends in the same line (there&apos;s &quot;in&quot; just before the comment)<br/>
<font color="#A82F2F"><font size="2">(01:20:29 PM)</font> <b>Haskellfant:</b></font> oh right<br/>
<font color="#A82F2F"><font size="2">(01:24:32 PM)</font> <b>Haskellfant:</b></font> so then there is self = self_ // overrides, but where does self_ come from?<br/>
<font color="#A82F2F"><font size="2">(01:28:42 PM)</font> <b>ktosiek:</b></font> the next line, &quot;with self; helperFunction // { ...most of the file... }&quot;<br/>
<font color="#A82F2F"><font size="2">(01:29:27 PM)</font> <b>ktosiek:</b></font> I think this is tying the knot - self_ is built from self, and self is built from self_<br/>
<font color="#A82F2F"><font size="2">(01:29:35 PM)</font> <b>Haskellfant:</b></font> ah ok<br/>
<font color="#A82F2F"><font size="2">(01:30:35 PM)</font> <b>Haskellfant:</b></font> thank for your help ktosiek<br/>
<font color="#A82F2F"><font size="2">(02:15:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 1 new commit to master: http://git.io/7vflnw<br/>
<font color="#A82F2F"><font size="2">(02:15:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c611f58 Domen Kožar: fix gevent/eventlet on python 2.7.9, fixes #5782<br/>
<font color="#A82F2F"><font size="2">(02:15:52 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 1 new commit to release-14.12: http://git.io/ow6lVg<br/>
<font color="#A82F2F"><font size="2">(02:15:52 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 a769e87 Domen Kožar: fix gevent/eventlet on python 2.7.9, fixes #5782...<br/>
<font color="#A82F2F"><font size="2">(02:22:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 1 new commit to master: http://git.io/qZEnnA<br/>
<font color="#A82F2F"><font size="2">(02:22:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 9a33fbb Domen Kožar: python: don&apos;t propagate installed packages into userenv, refs #4949...<br/>
<font color="#A82F2F"><font size="2">(02:29:18 PM)</font> <b>attila_lendvai:</b></font> I was wondering... are all the packages in nixos &apos;reproducible build&apos;? I doubt it, but then how would the binary caching work otherwise? and security?<br/>
<font color="#A82F2F"><font size="2">(02:30:41 PM)</font> <b>trino:</b></font> attila_lendvai: all what is needed as an input for the function which creates a package is used for the hash. also for example the git-hash of commit: why do you doubt it?<br/>
<font color="#A82F2F"><font size="2">(02:31:10 PM)</font> <b>aristid:</b></font> attila_lendvai: they are usually reproducible in a binary compatible way.<br/>
<font color="#A82F2F"><font size="2">(02:31:20 PM)</font> <b>attila_lendvai:</b></font> oh, right, the binary itself is not hashed, only the inputs that were used to produce it<br/>
<font color="#A82F2F"><font size="2">(02:31:25 PM)</font> <b>aristid:</b></font> yes.<br/>
<font color="#A82F2F"><font size="2">(02:31:48 PM)</font> <b>trino:</b></font> then you would have problems with compiler-timestamps and so on attila_lendvai<br/>
<font color="#A82F2F"><font size="2">(02:32:08 PM)</font> <b>attila_lendvai:</b></font> I&apos;m just worried about the way binaries are arriving on my machine and I don&apos;t even have a way to double check by compiling stuff locally and compare the binary output...<br/>
<font color="#A82F2F"><font size="2">(02:32:10 PM)</font> <b>aristid:</b></font> trino: there are compiler patches to eliminate that kind of stuff<br/>
<font color="#A82F2F"><font size="2">(02:32:18 PM)</font> <b>trino:</b></font> ok nice :) thanks aristid<br/>
<font color="#A82F2F"><font size="2">(02:32:20 PM)</font> <b>aristid:</b></font> attila_lendvai: you can disable binary downloading.<br/>
<font color="#A82F2F"><font size="2">(02:32:45 PM)</font> <b>aristid:</b></font> attila_lendvai: then it will just download source tarballs, and those are hash-checked<br/>
<font color="#A82F2F"><font size="2">(02:32:49 PM)</font> <b>attila_lendvai:</b></font> I know, reproducible binaries are not trivial because noone cared about them, but they are doable. torproject.org has interesting blog entries about it<br/>
<font color="#A82F2F"><font size="2">(02:33:02 PM)</font> <b>aristid:</b></font> yes, and some people care about them<br/>
<font color="#A82F2F"><font size="2">(02:33:08 PM)</font> <b>aristid:</b></font> some people here<br/>
<font color="#A82F2F"><font size="2">(02:33:30 PM)</font> <b>aristid:</b></font> there is some ongoing work, but i think it has not come far enough to get us fully reproducible builds yet<br/>
<font color="#A82F2F"><font size="2">(02:34:41 PM)</font> <b>joelteon:</b></font> ugh<br/>
<font color="#A82F2F"><font size="2">(02:34:44 PM)</font> <b>joelteon:</b></font> i dripped water on my trackpad<br/>
<font size="2">(02:35:25 PM)</font><b> attila_lendvai left the room.</b><br/>
<font size="2">(02:35:36 PM)</font><b> attila_lendvai [<em>~attila_le@unaffiliated/attila-lendvai/x-3126965</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(02:37:36 PM)</font> <b>aristid:</b></font> joelteon: i did that once too, and it survived after replacing the keyboard.<br/>
<font color="#A82F2F"><font size="2">(02:37:50 PM)</font> <b>aristid:</b></font> actually it was with soda in my case<br/>
<font color="#A82F2F"><font size="2">(02:38:01 PM)</font> <b>joelteon:</b></font> i mean<br/>
<font color="#A82F2F"><font size="2">(02:38:05 PM)</font> <b>joelteon:</b></font> i&apos;ve done it many, many times<br/>
<font color="#A82F2F"><font size="2">(02:38:14 PM)</font> <b>Lethalman:</b></font> however I have to say after some manual checks that most simple builds generate the same byte output<br/>
<font color="#A82F2F"><font size="2">(02:38:19 PM)</font> <b>aristid:</b></font> dude stop doing it so often<br/>
<font color="#A82F2F"><font size="2">(02:38:21 PM)</font> <b>Lethalman:</b></font> e.g. I tried comparing local builds with hydra builds<br/>
<font color="#A82F2F"><font size="2">(02:38:23 PM)</font> <b>Lethalman:</b></font> which is already very nice<br/>
<font color="#A82F2F"><font size="2">(02:38:29 PM)</font> <b>joelteon:</b></font> it&apos;s just that i have to wait for all the random keyboard inputs to stop<br/>
<font color="#A82F2F"><font size="2">(02:38:32 PM)</font> <b>joelteon:</b></font> and click events<br/>
<font color="#A82F2F"><font size="2">(02:38:36 PM)</font> <b>joelteon:</b></font> and it&apos;s annoying<br/>
<font color="#A82F2F"><font size="2">(02:39:06 PM)</font> <b>aristid:</b></font> joelteon: i think my next laptop is going to be a thinkpad again<br/>
<font color="#A82F2F"><font size="2">(02:42:28 PM)</font> <b>joelteon:</b></font> and it opens mission control 40 times per second which is really bad for performance<br/>
<font color="#A82F2F"><font size="2">(02:42:35 PM)</font> <b>joelteon:</b></font> and freezes my screen<br/>
<font color="#A82F2F"><font size="2">(02:43:38 PM)</font> <b>joelteon:</b></font> and changes my font size, somehow<br/>
<font color="#A82F2F"><font size="2">(02:43:41 PM)</font> <b>joelteon:</b></font> i don&apos;t know how it does that<br/>
<font color="#A82F2F"><font size="2">(02:44:29 PM)</font> <b>attila_lendvai:</b></font> good to hear that people keep an eye on reproducible builds here. FYI, there&apos;s a ticket on tor regarding the usage of nixos: https://trac.torproject.org/projects/tor/ticket/12520<br/>
<font color="#062585"><font size="2">(02:44:42 PM)</font> <b>***attila_lendvai</b></font> is answering on that ticket<br/>
<font color="#A82F2F"><font size="2">(02:46:21 PM)</font> <b>iElectric:</b></font> aristid: did you see the new carbon X1?<br/>
<font color="#A82F2F"><font size="2">(02:46:32 PM)</font> <b>aristid:</b></font> iElectric: the one with broadwell? yeah<br/>
<font color="#A82F2F"><font size="2">(02:46:34 PM)</font> <b>iElectric:</b></font> lenovo finally listened<br/>
<font color="#A82F2F"><font size="2">(02:46:44 PM)</font> <b>aristid:</b></font> yeah buttons are back<br/>
<font color="#A82F2F"><font size="2">(02:47:29 PM)</font> <b>iElectric:</b></font> it&apos;s just not available in EU :(<br/>
<font color="#A82F2F"><font size="2">(02:48:11 PM)</font> <b>joelteon:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(02:48:16 PM)</font> <b>joelteon:</b></font> i have my iterm window back, thank god<br/>
<font color="#A82F2F"><font size="2">(02:48:23 PM)</font> <b>joelteon:</b></font> cursor tried to remove it forever but it work<br/>
<font color="#A82F2F"><font size="2">(02:48:28 PM)</font> <b>joelteon:</b></font> it didn&apos;t work<br/>
<font color="#A82F2F"><font size="2">(02:48:33 PM)</font> <b>aristid:</b></font> iElectric: oh, it&apos;s available at all, currently?<br/>
<font color="#A82F2F"><font size="2">(02:48:48 PM)</font> <b>joelteon:</b></font> it is consistently stealing focus and i&apos;m not sure how<br/>
<font color="#A82F2F"><font size="2">(02:49:43 PM)</font> <b>iElectric:</b></font> aristid: in USA<br/>
<font color="#A82F2F"><font size="2">(02:49:46 PM)</font> <b>iElectric:</b></font> and JP<br/>
<font color="#A82F2F"><font size="2">(02:49:58 PM)</font> <b>iElectric:</b></font> I couldn&apos;t find it in EU yet<br/>
<font color="#A82F2F"><font size="2">(02:50:00 PM)</font> <b>aristid:</b></font> iElectric: well, surely it will soon be available in ze europes<br/>
<font color="#A82F2F"><font size="2">(02:50:13 PM)</font> <b>iElectric:</b></font> I hope, I just spilled my old Helix<br/>
<font color="#A82F2F"><font size="2">(02:50:15 PM)</font> <b>aristid:</b></font> how much does it cost in the US?<br/>
<font color="#A82F2F"><font size="2">(02:50:34 PM)</font> <b>iElectric:</b></font> depends on the model<br/>
<font color="#A82F2F"><font size="2">(02:50:41 PM)</font> <b>iElectric:</b></font> the most expensive is like 2500$<br/>
<font color="#A82F2F"><font size="2">(02:50:46 PM)</font> <b>joelteon:</b></font> macbooks always survive spills<br/>
<font color="#A82F2F"><font size="2">(02:50:47 PM)</font> <b>trino:</b></font> aristid: about 1200$ to up to 2700$ or so<br/>
<font color="#A82F2F"><font size="2">(02:50:51 PM)</font> <b>joelteon:</b></font> you just have to deal with the intense annoyance<br/>
<font color="#A82F2F"><font size="2">(02:52:18 PM)</font> <b>aristid:</b></font> joelteon: i intensely hate how feeble the power adapter cord is<br/>
<font color="#A82F2F"><font size="2">(02:52:36 PM)</font> <b>aristid:</b></font> on macbooks<br/>
<font color="#A82F2F"><font size="2">(02:53:12 PM)</font> <b>joelteon:</b></font> i see<br/>
<font color="#A82F2F"><font size="2">(02:53:41 PM)</font> <b>aristid:</b></font> do they not break for you?:P<br/>
<font color="#A82F2F"><font size="2">(02:54:51 PM)</font> <b>joelteon:</b></font> no, they&apos;ve never broken for me<br/>
<font color="#A82F2F"><font size="2">(02:55:17 PM)</font> <b>aristid:</b></font> oO<br/>
<font color="#A82F2F"><font size="2">(02:55:28 PM)</font> <b>aristid:</b></font> i mean, they don&apos;t strictly break<br/>
<font color="#A82F2F"><font size="2">(02:55:40 PM)</font> <b>aristid:</b></font> just the plastic isolation gets ripped apart<br/>
<font color="#A82F2F"><font size="2">(02:55:51 PM)</font> <b>joelteon:</b></font> no, that&apos;s never happened to me<br/>
<font color="#A82F2F"><font size="2">(02:55:54 PM)</font> <b>hyper_ch:</b></font> I still think the magnetic plugs are awesome on macs<br/>
<font color="#A82F2F"><font size="2">(03:00:14 PM)</font> <b>joelteon:</b></font> ok it gets much easier if i disable the trackpad motions for mission control and launchpad<br/>
<font color="#A82F2F"><font size="2">(03:01:03 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] arno01 opened pull request #5813: Enable IPv6 in libmilter and configFile option for dovecot (master...master) http://git.io/Nn4FBQ<br/>
<font color="#A82F2F"><font size="2">(03:01:29 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] arno01 closed pull request #5811: Release 14.12 - opendkim --&gt; libmilter IPv6 enabling (master...release-14.12) http://git.io/NTNHrA<br/>
<font color="#A82F2F"><font size="2">(03:01:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] arno01 closed pull request #5812: Release 14.12 - adding configFile option for the dovecot so that absolute path could be used (release-14.12...master) http://git.io/Z8ZbMw<br/>
<font color="#A82F2F"><font size="2">(03:11:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 3 new commits to master: http://git.io/5SNpwQ<br/>
<font color="#A82F2F"><font size="2">(03:11:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c8d0d91 Robert Helgesson: Add optional backends to matplotlib.<br/>
<font color="#A82F2F"><font size="2">(03:11:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0c27d37 Robert Helgesson: Remove some matplotlib optional backends....<br/>
<font color="#A82F2F"><font size="2">(03:11:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0f82c6b Domen Kožar: matplotlib: add optional gtk3 backend, fixes #4500<br/>
<font color="#A82F2F"><font size="2">(03:11:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5437: Add optional backends to matplotlib. (master...matplotlib-backends) http://git.io/6QmDdQ<br/>
<font color="#A82F2F"><font size="2">(03:14:58 PM)</font> <b>iElectric:</b></font> joelteon: does python build on your darwin branch?<br/>
<font color="#A82F2F"><font size="2">(03:15:22 PM)</font> <b>joelteon:</b></font> iElectric: which of my darwin branches?<br/>
<font color="#A82F2F"><font size="2">(03:15:29 PM)</font> <b>iElectric:</b></font> well, any<br/>
<font color="#A82F2F"><font size="2">(03:15:48 PM)</font> <b>iElectric:</b></font> just wondering what&apos;s the status of https://github.com/NixOS/nixpkgs/issues/4934<br/>
<font color="#A82F2F"><font size="2">(03:16:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman closed pull request #5794: Add package: ctodo (master...add-ctodo) http://git.io/nd2yoA<br/>
<font color="#A82F2F"><font size="2">(03:17:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 4 new commits to master: http://git.io/8DDCqw<br/>
<font color="#A82F2F"><font size="2">(03:17:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 6be4eb7 Matthias Beyer: Add package: stag<br/>
<font color="#A82F2F"><font size="2">(03:17:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ee06c59 Matthias Beyer: Fixup: Missing terminating quote<br/>
<font color="#A82F2F"><font size="2">(03:17:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 261f596 Matthias Beyer: Fixup: set maintainer<br/>
<font color="#A82F2F"><font size="2">(03:18:04 PM)</font> <b>joelteon:</b></font> what the fuck<br/>
<font color="#A82F2F"><font size="2">(03:18:10 PM)</font> <b>joelteon:</b></font> github took over the &apos;hub&apos; tool and rewrote it in go<br/>
<font color="#A82F2F"><font size="2">(03:18:14 PM)</font> <b>joelteon:</b></font> that&apos;s the stupidest thing i&apos;ve ever heard<br/>
<font color="#A82F2F"><font size="2">(03:18:19 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5810: Add package for the &apos;open-dyslexic&apos; font. (master...package/open-dyslexic) http://git.io/aGammw<br/>
<font color="#A82F2F"><font size="2">(03:18:53 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/xoeJ0g<br/>
<font color="#A82F2F"><font size="2">(03:18:53 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 9d2cf54 taku0: firefox-bin: update to version 35.0; thunderbird-bin: update to version 31.4.0<br/>
<font color="#A82F2F"><font size="2">(03:18:53 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0a24d46 Domen Kožar: Merge pull request #5776 from taku0/firefox-bin-35.0...<br/>
<font color="#A82F2F"><font size="2">(03:19:07 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5779: prefetch-scripts: improve purity (master...prefetch-scripts-home) http://git.io/mn1VLw<br/>
<font color="#062585"><font size="2">(03:20:14 PM)</font> <b>***Lethalman</b></font> tries NM 1.0 with gnome 3.14, let&apos;s see<br/>
<font color="#A82F2F"><font size="2">(03:20:42 PM)</font> <b>joelteon:</b></font> goddammit, i have to go<br/>
<font color="#A82F2F"><font size="2">(03:21:17 PM)</font> <b>joelteon:</b></font> girlfriend has taken off her shirt, will be back soon<br/>
<font color="#A82F2F"><font size="2">(03:21:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5795: Skarnet release 2015-01-14 (master...skarnet-2015-01-14) http://git.io/5gnTuw<br/>
<font color="#A82F2F"><font size="2">(03:21:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5785: nixpkgs: new: openbr v0.5 (master...openbr) http://git.io/aREOJg<br/>
<font color="#A82F2F"><font size="2">(03:22:24 PM)</font> <b>trino:</b></font> yes help her to get it back on ... its freezingly cold<br/>
<font color="#A82F2F"><font size="2">(03:22:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/LOWKHQ<br/>
<font color="#A82F2F"><font size="2">(03:22:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2f32d8f Tobias Geerinckx-Rice: Add netsniff-ng 0.5.9-rc4-40-g5107740: Linux networking toolkit<br/>
<font color="#A82F2F"><font size="2">(03:22:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 60f8349 Domen Kožar: Merge pull request #5789 from nckx/netsniff-ng...<br/>
<font color="#A82F2F"><font size="2">(03:25:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 1 new commit to master: http://git.io/n3pw_A<br/>
<font color="#A82F2F"><font size="2">(03:25:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a4e3393 Domen Kožar: matplotlib: be consistent<br/>
<font color="#A82F2F"><font size="2">(03:33:12 PM)</font> <b>ewemoa:</b></font> lol<br/>
<font color="#A82F2F"><font size="2">(03:40:52 PM)</font> <b>viric:</b></font> does anyone know what&apos;s new in stdenv master, compared to 14.12?<br/>
<font color="#A82F2F"><font size="2">(03:43:59 PM)</font> <b>boothead:</b></font> Hi Folks, does anyone know why I might be getting this error: This version of Nixpkgs requires Nix &gt;= 1.8, please upgrade! (I have version 1.8 of nix) and i&apos;m on the nixos-unstable channel<br/>
<font color="#A82F2F"><font size="2">(03:44:55 PM)</font> <b>viric:</b></font> it&apos;s important what nix version you call, not what nix versions you have :)<br/>
<font color="#A82F2F"><font size="2">(03:45:11 PM)</font> <b>ewemoa:</b></font> boothead: don&apos;t know the answer, but see such questions being asked: https://botbot.me/freenode/nixos/search/?q=upgrade+1.8<br/>
<font color="#A82F2F"><font size="2">(03:50:16 PM)</font> <b>boothead:</b></font> ewemoa, seems to be a bit of a problem. Can&apos;t see quite how to fix it though... ocharles_ did you get it sorted in the end?<br/>
<font color="#A82F2F"><font size="2">(03:52:04 PM)</font> <b>Lethalman:</b></font> boothead, https://nixos.org/wiki/How_to_update_when_nix_is_too_old_to_evaluate_nixpkgs<br/>
<font color="#A82F2F"><font size="2">(03:52:10 PM)</font> <b>boothead:</b></font> ewemoa, I&apos;ve updated to the latest version again and I&apos;m not using my local checkout of nixpkgs, but trying to rely on just what&apos;s in the channel. Do I need to delete ~root/.nix-defexpr/ maybe?<br/>
<font color="#A82F2F"><font size="2">(03:52:34 PM)</font> <b>boothead:</b></font> Lethalman, I&apos;ve just carried out the steps in that giude, but still have the same error<br/>
<font color="#A82F2F"><font size="2">(03:52:45 PM)</font> <b>Lethalman:</b></font> boothead, evidently in your $PATH there&apos;s still the old nix?<br/>
<font color="#A82F2F"><font size="2">(03:52:53 PM)</font> <b>Lethalman:</b></font> search in /nix/store/ for a nix-1.8<br/>
<font color="#A82F2F"><font size="2">(03:54:00 PM)</font> <b>boothead:</b></font> nix-instantiate --eval -E &apos;(import &lt;nixpkgs&gt; {}).lib.nixpkgsVersion&apos; gives me &quot;15.05pre56210.39746cb&quot;<br/>
<font color="#A82F2F"><font size="2">(03:54:18 PM)</font> <b>Lethalman:</b></font> mh?<br/>
<font color="#A82F2F"><font size="2">(03:54:24 PM)</font> <b>Lethalman:</b></font> we&apos;re talking about the nix version, not nixpkgs version<br/>
<font color="#A82F2F"><font size="2">(03:54:43 PM)</font> <b>Lethalman:</b></font> boothead, if you followed that guide and nix-env --version is still 1.7, then do what I said<br/>
<font color="#A82F2F"><font size="2">(03:54:52 PM)</font> <b>Lethalman:</b></font> you still have nix 1.7 in your $PATH, find an 1.8 in your nix store<br/>
<font color="#A82F2F"><font size="2">(03:55:03 PM)</font> <b>boothead:</b></font> nix-* --version gives me 1.8 and I have 19 entries in nix-store for nix-1.8<br/>
<font color="#A82F2F"><font size="2">(03:55:25 PM)</font> <b>Lethalman:</b></font> boothead, then you are using somehow another nix version when evaluating your packages<br/>
<font color="#A82F2F"><font size="2">(03:55:31 PM)</font> <b>Lethalman:</b></font> maybe when running as root?<br/>
<font color="#A82F2F"><font size="2">(03:55:38 PM)</font> <b>boothead:</b></font> nix-evn --version == nix-env (Nix) 1.8<br/>
<font color="#A82F2F"><font size="2">(03:55:39 PM)</font> <b>Lethalman:</b></font> sorry WHEN EXACTLY do you get that 1.8 error<br/>
<font color="#A82F2F"><font size="2">(03:55:50 PM)</font> <b>Lethalman:</b></font> as what user<br/>
<font color="#A82F2F"><font size="2">(03:55:53 PM)</font> <b>Lethalman:</b></font> which command<br/>
<font color="#A82F2F"><font size="2">(03:56:13 PM)</font> <b>boothead:</b></font> when I run nixos-rebuild {test|switch} as both root and as my user using sudo<br/>
<font color="#A82F2F"><font size="2">(03:56:16 PM)</font> <b>Lethalman:</b></font> see<br/>
<font color="#A82F2F"><font size="2">(03:56:21 PM)</font> <b>Lethalman:</b></font> evidently as root you still have nix 1.7 in your $PATH<br/>
<font color="#A82F2F"><font size="2">(03:56:23 PM)</font> <b>Lethalman:</b></font> please double check<br/>
<font color="#A82F2F"><font size="2">(03:56:26 PM)</font> <b>Lethalman:</b></font> and fix it<br/>
<font color="#A82F2F"><font size="2">(03:56:35 PM)</font> <b>Lethalman:</b></font> you only followed that guide for the user and not for root<br/>
<font color="#A82F2F"><font size="2">(03:56:36 PM)</font> <b>_1126:</b></font> I was adding a custom library to XMonad in ~/.xmonad/lib/XMonad/Layout/BinarySpacePartition.hs and it worked. Then I changed some more on my xmonad.hs and compilation failed because ghc was unable to find the module. I reverted all changes, it still failed. Weird however while &quot;ghc --make&quot; fails, &quot;xmonad --recompile&quot; works just fine.<br/>
<font color="#A82F2F"><font size="2">(03:56:43 PM)</font> <b>_1126:</b></font> Why is that?<br/>
<font color="#A82F2F"><font size="2">(03:56:46 PM)</font> <b>boothead:</b></font> nix-env --version == nix-env (Nix) 1.8 is as root<br/>
<font color="#A82F2F"><font size="2">(03:57:09 PM)</font> <b>Lethalman:</b></font> boothead, can you please paste step by step what you are doing, including nix-build --version<br/>
<font color="#A82F2F"><font size="2">(03:57:12 PM)</font> <b>Lethalman:</b></font> and the error too<br/>
<font color="#A82F2F"><font size="2">(03:57:29 PM)</font> <b>boothead:</b></font> nix-build (Nix) 1.8<br/>
<font color="#A82F2F"><font size="2">(03:57:38 PM)</font> <b>boothead:</b></font> I&apos;ll pastie the rest<br/>
<font color="#A82F2F"><font size="2">(03:59:35 PM)</font> <b>boothead:</b></font> Lethalman: https://gist.github.com/anonymous/3cc4c6d378f2c15c581d<br/>
<font color="#A82F2F"><font size="2">(04:00:20 PM)</font> <b>boothead:</b></font> in the past, as normal user I&apos;ve been running sudo nixos-rebuild -I &lt;path/to/nixpkgs&gt; switch<br/>
<font color="#A82F2F"><font size="2">(04:01:16 PM)</font> <b>Lethalman:</b></font> wtf<br/>
<font color="#A82F2F"><font size="2">(04:01:35 PM)</font> <b>Lethalman:</b></font> niksnut, ^^ any idea here?<br/>
<font color="#A82F2F"><font size="2">(04:02:16 PM)</font> <b>boothead:</b></font> wft == well that&apos;s fun right ;-)<br/>
<font color="#A82F2F"><font size="2">(04:03:30 PM)</font> <b>Lethalman:</b></font> boothead, I think I found it<br/>
<font color="#A82F2F"><font size="2">(04:04:01 PM)</font> <b>Lethalman:</b></font> boothead, try _NIXOS_REBUILD_REEXEC=1 nixos-rebuild switch<br/>
<font color="#A82F2F"><font size="2">(04:05:05 PM)</font> <b>iElectric:</b></font> https://github.com/NixOS/nixpkgs/blob/master/default.nix<br/>
<font color="#A82F2F"><font size="2">(04:05:15 PM)</font> <b>boothead:</b></font> Lethalman, BOOM! You da man. Could you maybe expaling what the issue is here?<br/>
<font color="#A82F2F"><font size="2">(04:06:45 PM)</font> <b>Lethalman:</b></font> boothead, nixos-rebuild used an hardcoded nix, the one being used in your system<br/>
<font color="#A82F2F"><font size="2">(04:07:02 PM)</font> <b>Lethalman:</b></font> that flag disallowed this behavior, thus using the nix in PATH<br/>
<font color="#A82F2F"><font size="2">(04:08:28 PM)</font> <b>iElectric:</b></font> huh, we should document this.<br/>
<font color="#A82F2F"><font size="2">(04:09:45 PM)</font> <b>iElectric:</b></font> niksnut: is this preferred way to solve the issue?<br/>
<font color="#A82F2F"><font size="2">(04:11:53 PM)</font> <b>boothead:</b></font> Lethalman, ah I see, thanks!<br/>
<font color="#A82F2F"><font size="2">(04:12:13 PM)</font> <b>nckx:</b></font> Hm. If a header file from existing package A _always_ includes a file from package B, should I modify A to use propagatedBuildInputs = [ B ]? Or just add both A &amp; B to my package&apos;s buildInputs?<br/>
<font color="#A82F2F"><font size="2">(04:12:23 PM)</font> <b>nckx:</b></font> (Pretty sure it&apos;s #1 but not entirely.)<br/>
<font color="#A82F2F"><font size="2">(04:13:16 PM)</font> <b>Lethalman:</b></font> nckx, yes<br/>
<font color="#A82F2F"><font size="2">(04:13:22 PM)</font> <b>Lethalman:</b></font> nckx, propagated the buildinput<br/>
<font color="#A82F2F"><font size="2">(04:14:06 PM)</font> <b>nckx:</b></font> OK, thanks.<br/>
<font color="#A82F2F"><font size="2">(04:24:27 PM)</font> <b>boothead:</b></font> Having a problem installing cabal2nix-2.0: Seem to have missing deps: QuickCheck -any, deepseq-generics -any, hspec -any<br/>
<font color="#A82F2F"><font size="2">(04:25:10 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub closed pull request #5771: plan9port: fix acme font loading (master...acme) http://git.io/2_NP0A<br/>
<font color="#A82F2F"><font size="2">(04:26:28 PM)</font> <b>boothead:</b></font> actualy never mind - was just lagging master be a day or so ;-)<br/>
<font color="#A82F2F"><font size="2">(04:31:20 PM)</font> <b>boothead:</b></font> well it&apos;s installed but... cabal2nix: nix-prefetch-zip: createProcess: runInteractiveProcess: exec: does not exist (No such file or directory)<br/>
<font color="#A82F2F"><font size="2">(04:33:06 PM)</font> <b>boothead:</b></font> seems that cabal2nix needs a dependency on nix-prefetch-scripts I&apos;ll raise an issue<br/>
<font color="#A82F2F"><font size="2">(04:33:15 PM)</font> <b>MichaelRaskin:</b></font> I wonder if nixos-rebuild should at some point say that it is roughly equivalent with nix-env -f &apos;&lt;nixos&gt;&apos; -A system --set -p /nix/var/nix/profiles/system; /nix/var/nix/profiles/system/bin/switch-to-configuration switch<br/>
<font color="#A82F2F"><font size="2">(04:33:39 PM)</font> <b>MichaelRaskin:</b></font> That way more people would understand their options when facing a nix version problem or something like that<br/>
<font size="2">(04:35:55 PM)</font><b> arno__ is now known as euarno</b><br/>
<font color="#A82F2F"><font size="2">(04:37:23 PM)</font> <b>euarno:</b></font> hi folks!  anyone have already some solution to /etc/rc.local  on NixOS ? =)<br/>
<font color="#A82F2F"><font size="2">(04:38:46 PM)</font> <b>Lethalman:</b></font> yes, don&apos;t use rc.local<br/>
<font color="#A82F2F"><font size="2">(04:39:00 PM)</font> <b>euarno:</b></font> :D<br/>
<font color="#A82F2F"><font size="2">(04:39:12 PM)</font> <b>euarno:</b></font> I need it to start opendkim<br/>
<font color="#A82F2F"><font size="2">(04:39:23 PM)</font> <b>euarno:</b></font> there is no systemd script for opendkim yet...<br/>
<font color="#A82F2F"><font size="2">(04:39:32 PM)</font> <b>Lethalman:</b></font> damn it virtualbox tests are all failing<br/>
<font color="#A82F2F"><font size="2">(04:39:46 PM)</font> <b>Lethalman:</b></font> and also qt apparently<br/>
<font color="#062585"><font size="2">(04:39:55 PM)</font> <b>***Lethalman</b></font> disables virtualbox, can&apos;t recompile all that stuff really<br/>
<font color="#A82F2F"><font size="2">(04:40:08 PM)</font> <b>Lethalman:</b></font> but then I cannot check whether nm applet works fine<br/>
<font color="#A82F2F"><font size="2">(04:40:08 PM)</font> <b>Lethalman:</b></font> sigh<br/>
<font color="#A82F2F"><font size="2">(04:40:22 PM)</font> <b>hyper_ch:</b></font> Lethalman: you need mental support?<br/>
<font color="#A82F2F"><font size="2">(04:40:52 PM)</font> <b>euarno:</b></font> Lethalman: you are 24/7 , have a break / beer :D<br/>
<font color="#A82F2F"><font size="2">(04:42:12 PM)</font> <b>dweller:</b></font> euarno: make one then<br/>
<font color="#A82F2F"><font size="2">(04:42:30 PM)</font> <b>euarno:</b></font> dweller: sure I will if there is no other way :D<br/>
<font color="#A82F2F"><font size="2">(04:42:41 PM)</font> <b>Lethalman:</b></font> I don&apos;t understand why my virtualbox uses a qt different than the one in hydra<br/>
<font color="#A82F2F"><font size="2">(04:43:10 PM)</font> <b>boothead:</b></font> Haskellers, have we a command to run to figure out which version of a hackage package is available in haskellngPackages?<br/>
<font color="#A82F2F"><font size="2">(04:43:21 PM)</font> <b>Lethalman:</b></font> ah ofc, latest qt4 in hydra is 13 january<br/>
<font color="#A82F2F"><font size="2">(04:43:46 PM)</font> <b>euarno:</b></font> Lethalman: maybe something to do with caches?<br/>
<font color="#A82F2F"><font size="2">(05:01:25 PM)</font> <b>boothead:</b></font> anyone got an example ghc 7.10 environment al la http://wiki.ocharles.org.uk/Nix set up that I can peek at. Or even better, is there a way I can set my default ghc to be 7.10 using the new haskell infrastructure?<br/>
<font color="#A82F2F"><font size="2">(05:12:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx opened pull request #5814: netsniff-ng: add what&apos;s needed to/and build missing tools (master...netsniff) http://git.io/ySjU1w<br/>
<font color="#A82F2F"><font size="2">(05:31:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] aristidb pushed 1 new commit to master: http://git.io/1hZfNw<br/>
<font color="#A82F2F"><font size="2">(05:31:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 46a938a Aristid Breitkreuz: linux 3.18.3<br/>
<font color="#A82F2F"><font size="2">(05:40:14 PM)</font> <b>euarno:</b></font> created rc-local (systemd)  , will commit tomorrow / have to go ...<br/>
<font size="2">(05:40:45 PM)</font><b> euarno left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(05:46:13 PM)</font> <b>musicmatze:</b></font> I guess I accidentially build a nix based package manager :-PPP<br/>
<font color="#A82F2F"><font size="2">(05:46:18 PM)</font> <b>musicmatze:</b></font> +for vim<br/>
<font color="#A82F2F"><font size="2">(05:46:24 PM)</font> <b>musicmatze:</b></font> +plugins<br/>
<font color="#A82F2F"><font size="2">(05:46:28 PM)</font> <b>musicmatze:</b></font> :-/<br/>
<font color="#A82F2F"><font size="2">(05:46:45 PM)</font> <b>nckx:</b></font> euarno: you resurrected rc-local for systemd? Why?<br/>
<font color="#A82F2F"><font size="2">(05:49:26 PM)</font> <b>nckx:</b></font> euarno: it needs to die a painful death, not be praised.<br/>
<font color="#A82F2F"><font size="2">(05:51:01 PM)</font> <b>MichaelRaskin:</b></font> nckx: why so?\<br/>
<font color="#A82F2F"><font size="2">(05:51:44 PM)</font> <b>MichaelRaskin:</b></font> For things that are only locally relevant, it is saner and quicker to write a shell screen that runs them than to adapt every part of this script to init systems as they come and go<br/>
<font color="#A82F2F"><font size="2">(05:53:36 PM)</font> <b>nckx:</b></font> MichaelRaskin: I haven&apos;t had time to follow the ML lately but thought NixOS was moving towards a more generic... thing for that.<br/>
<font color="#062585"><font size="2">(05:54:10 PM)</font> <b>***nckx</b></font> doesn&apos;t mean systemd-specific, but can&apos;t find the thread, so probably dreamt it<br/>
<font color="#A82F2F"><font size="2">(05:54:59 PM)</font> <b>MichaelRaskin:</b></font> nckx: we-ell<br/>
<font color="#A82F2F"><font size="2">(05:55:13 PM)</font> <b>MichaelRaskin:</b></font> The amount of shift I hope for is:<br/>
<font color="#A82F2F"><font size="2">(05:55:48 PM)</font> <b>MichaelRaskin:</b></font> the simple services are written to be supervisor-agnostic, so they can be shared between NixOS and non-NixOS NixPkgs-using systems<br/>
<font color="#A82F2F"><font size="2">(05:56:18 PM)</font> <b>MichaelRaskin:</b></font> (like my current one; and like some of my work server with Fedora base system and _some_ packages managed via Nix)<br/>
<font color="#A82F2F"><font size="2">(05:58:08 PM)</font> <b>MichaelRaskin:</b></font> I do not hope fpr any real agreement to be achieved about multiple-init-system NixOS<br/>
<font color="#A82F2F"><font size="2">(05:58:16 PM)</font> <b>nckx:</b></font> euarno: sorry, I read &apos;recreated&apos;. Tired. I just hope it&apos;s not an appended shell script that (I freely admit) will be just &quot;good enough&quot;.<br/>
<font color="#A82F2F"><font size="2">(05:58:33 PM)</font> <b>MichaelRaskin:</b></font> (so I will have to stay with non-NixOS NixPkgs-only hacked-together system)<br/>
<font color="#A82F2F"><font size="2">(05:58:53 PM)</font> <b>nckx:</b></font> euarno: ro keep people like MichaelRaskin frustrated enough to make something better :-)<br/>
<font color="#A82F2F"><font size="2">(05:59:05 PM)</font> <b>MichaelRaskin:</b></font> I am not on NixOS<br/>
<font color="#A82F2F"><font size="2">(05:59:11 PM)</font> <b>MichaelRaskin:</b></font> Don&apos;t actually hope to return<br/>
<font color="#A82F2F"><font size="2">(05:59:37 PM)</font> <b>MichaelRaskin:</b></font> But I am OK with my NixPkgs-only system<br/>
<font color="#A82F2F"><font size="2">(05:59:52 PM)</font> <b>MichaelRaskin:</b></font> (taking parts from NixOS when they fit)<br/>
<font color="#A82F2F"><font size="2">(06:00:47 PM)</font> <b>nckx:</b></font> MichaelRaskin: do you run a &quot;real&quot; distro underneath? Just curious.<br/>
<font color="#A82F2F"><font size="2">(06:01:02 PM)</font> <b>nckx:</b></font> MichaelRaskin: real as in not something home-made.<br/>
<font color="#A82F2F"><font size="2">(06:01:43 PM)</font> <b>MichaelRaskin:</b></font> Nope<br/>
<font color="#A82F2F"><font size="2">(06:01:48 PM)</font> <b>MichaelRaskin:</b></font> Why would I?<br/>
<font color="#A82F2F"><font size="2">(06:02:14 PM)</font> <b>MichaelRaskin:</b></font> I like Nix package management<br/>
<font color="#A82F2F"><font size="2">(06:02:38 PM)</font> <b>MichaelRaskin:</b></font> I like _most_ of NixPkgs stdenv and most of NixPkgs<br/>
<font color="#A82F2F"><font size="2">(06:02:55 PM)</font> <b>MichaelRaskin:</b></font> I have a list of things that systemd forbids me to have<br/>
<font size="2">(06:03:09 PM)</font><b> mojo is now known as Guest96734</b><br/>
<font color="#A82F2F"><font size="2">(06:04:11 PM)</font> <b>MichaelRaskin:</b></font> My kernel is from NixPkgs, my initramfs is built from NixPkgs binaries using code copied from NixOS and then edited to fit my system<br/>
<font color="#A82F2F"><font size="2">(06:05:00 PM)</font> <b>MichaelRaskin:</b></font> I would gladly throw away my service generation code and use whatever nix-rehash ends up using for user services on non-NixOS Linux systems<br/>
<font color="#A82F2F"><font size="2">(06:05:21 PM)</font> <b>boothead:</b></font> how do all the entries in pkgs/applications/editors/emacs-modes get there? is there a tool to generate them like cabal2nix?<br/>
<font size="2">(06:05:57 PM)</font><b> Lethalman left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(06:06:22 PM)</font> <b>nckx:</b></font> MichaelRaskin: that&apos;s what I would have guessed, but have never tried anything but NixOS and don&apos;t know how much glue you need without it. Not *too* much, I guess. Good to know.<br/>
<font size="2">(06:07:07 PM)</font><b> roconnor [<em>~roconnor@e120-pool-d89a75eb.brdbnd.voicenetwork.ca</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:07:13 PM)</font> <b>MichaelRaskin:</b></font> I guess I should check out mm_freak&apos;s attempt at services<br/>
<font size="2">(06:08:04 PM)</font><b> Guest96734 is now known as mojo</b><br/>
<font color="#A82F2F"><font size="2">(06:08:30 PM)</font> <b>MichaelRaskin:</b></font> If something like this works and if there are a few examples of boot sequences available (mine is available, but still not clean enough), it will become simple to configure such a system<br/>
<font color="#A82F2F"><font size="2">(06:09:18 PM)</font> <b>musicmatze:</b></font> Is there any reason why I do not have &quot;xbacklight&quot; on my system by default when installing the x server?<br/>
<font color="#A82F2F"><font size="2">(06:10:22 PM)</font> <b>MichaelRaskin:</b></font> You don&apos;t even get twm<br/>
<font color="#A82F2F"><font size="2">(06:10:49 PM)</font> <b>MichaelRaskin:</b></font> We don&apos;t do Debian-style &quot;suggests&quot;<br/>
<font color="#A82F2F"><font size="2">(06:10:52 PM)</font> <b>musicmatze:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(06:11:06 PM)</font> <b>musicmatze:</b></font> the package should be named &quot;xbacklight&quot;, shouldn&apos;t it?<br/>
<font color="#A82F2F"><font size="2">(06:11:07 PM)</font> <b>MichaelRaskin:</b></font> Even though we do tend to include many optional dependencies<br/>
<font color="#A82F2F"><font size="2">(06:11:19 PM)</font> <b>MichaelRaskin:</b></font> Is it just merged?<br/>
<font color="#A82F2F"><font size="2">(06:11:19 PM)</font> <b>jlindsay:</b></font> nixos.pkgs.xlibs.xbacklight<br/>
<font color="#A82F2F"><font size="2">(06:11:26 PM)</font> <b>MichaelRaskin:</b></font> Hm<br/>
<font color="#A82F2F"><font size="2">(06:11:39 PM)</font> <b>MichaelRaskin:</b></font> I remember a recent xbacklight PR<br/>
<font color="#A82F2F"><font size="2">(06:14:49 PM)</font> <b>viric:</b></font> auhm doesn&apos;t nix-env use ~/.nix-defexpr anymore?<br/>
<font color="#A82F2F"><font size="2">(06:15:31 PM)</font> <b>viric:</b></font> ah it does. my fault.<br/>
<font color="#A82F2F"><font size="2">(06:15:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #5726: command-not-found: Add ZSH Support (master...zsh-command-not-found) http://git.io/L_0e9A<br/>
<font color="#A82F2F"><font size="2">(06:16:52 PM)</font> <b>musicmatze:</b></font> MichaelRaskin: it works and the package is indeed &quot;xbacklight&quot;. Thanks!<br/>
<font color="#A82F2F"><font size="2">(06:18:38 PM)</font> <b>ambro718:</b></font> How to define a nix file which can both be built directly with nix-build (it imports &lt;nixpkgs&gt;) or used from another nix expressions, with the existing nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(06:19:18 PM)</font> <b>MichaelRaskin:</b></font> {pkgs ? (import &lt;nixpkgs&gt; {})}<br/>
<font color="#A82F2F"><font size="2">(06:19:33 PM)</font> <b>MichaelRaskin:</b></font> : {...}<br/>
<font color="#A82F2F"><font size="2">(06:19:59 PM)</font> <b>mbuf:</b></font> what is causing this error, &apos;failed: unable to open database file at /run/current-system/sw/bin/command-not-found line 12.&apos; in NixOS 14.12? https://gist.github.com/shakthimaan/42f86f4c8a62ee4ce30a<br/>
<font color="#A82F2F"><font size="2">(06:20:16 PM)</font> <b>ambro718:</b></font> MichaelRaskin: thanks<br/>
<font color="#A82F2F"><font size="2">(06:20:55 PM)</font> <b>nckx:</b></font> MichaelRaskin: ah, you&apos;re 7c6f434c? I actually cloned your configurations repository a while back.<br/>
<font color="#A82F2F"><font size="2">(06:21:17 PM)</font> <b>nckx:</b></font> MichaelRaskin: though it still said NixOS if I&apos;m not mistaken.<br/>
<font color="#A82F2F"><font size="2">(06:21:18 PM)</font> <b>MichaelRaskin:</b></font> Yes<br/>
<font color="#A82F2F"><font size="2">(06:21:35 PM)</font> <b>MichaelRaskin:</b></font> It was a bit before I gave up<br/>
<font color="#A82F2F"><font size="2">(06:21:44 PM)</font> <b>musicmatze:</b></font> question: My ~/.bashrc is not evaluated after login, I always have to do this by hand. Is this my fault or is there a nixos option to turn this on?<br/>
<font color="#A82F2F"><font size="2">(06:21:53 PM)</font> <b>MichaelRaskin:</b></font> In the same repo I keep my current expressions<br/>
<font color="#A82F2F"><font size="2">(06:22:51 PM)</font> <b>MichaelRaskin:</b></font> And NixOS config for a brix (I just need sshd and nix-daemon there, and gogo6, the rest are packages)<br/>
<font color="#A82F2F"><font size="2">(06:24:27 PM)</font> <b>MichaelRaskin:</b></font> musicmatze: shouldn&apos;t login source .bash_profile?<br/>
<font color="#A82F2F"><font size="2">(06:24:45 PM)</font> <b>MichaelRaskin:</b></font> Which has an option but no obligation to source .bashrc<br/>
<font color="#A82F2F"><font size="2">(06:25:48 PM)</font> <b>musicmatze:</b></font> hm...<br/>
<font color="#A82F2F"><font size="2">(06:25:52 PM)</font> <b>musicmatze:</b></font> I&apos;ll investigate<br/>
<font color="#A82F2F"><font size="2">(06:26:05 PM)</font> <b>jlindsay:</b></font> It would have to be a non-login to read that<br/>
<font color="#A82F2F"><font size="2">(06:26:36 PM)</font> <b>musicmatze:</b></font> well, it never gets sourced, actually<br/>
<font color="#A82F2F"><font size="2">(06:27:38 PM)</font> <b>MichaelRaskin:</b></font> .bash_profile either?<br/>
<font color="#A82F2F"><font size="2">(06:27:42 PM)</font> <b>MichaelRaskin:</b></font> .profile ?<br/>
<font size="2">(06:47:03 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
