<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Mon 22 Dec 2014 06:16:59 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Mon 22 Dec 2014 06:16:59 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(06:16:59 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(06:16:59 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(06:17:00 PM)</font> <b>sendak.freenode.net:</b></font> (notice) [freenode-info] channel trolls and no channel staff around to help? please check with freenode support: http://freenode.net/faq.shtml#gettinghelp<br/>
<font color="#A82F2F"><font size="2">(06:18:05 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] henrytill opened pull request #5438: dunst: allow user configuration (fixes #5222) (master...dunst) http://git.io/6hH_RQ<br/>
<font color="#16569E"><font size="2">(06:18:32 PM)</font> <b>magnetophon:</b></font> Woohoo!, back on wifi :)<br/>
<font color="#A82F2F"><font size="2">(06:26:26 PM)</font> <b>jaga1:</b></font> When do we need (and have to/can) use nix-instantiate?<br/>
<font size="2">(06:26:28 PM)</font><b> suvash is now known as suvash_away</b><br/>
<font color="#A82F2F"><font size="2">(06:30:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/uBJ5-w<br/>
<font color="#A82F2F"><font size="2">(06:30:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 37fb8fb Henry Till: dunst: allow user configuration (fixes #5222)...<br/>
<font color="#A82F2F"><font size="2">(06:30:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 7541cd1 Domen Kožar: Merge pull request #5438 from henrytill/dunst...<br/>
<font color="#A82F2F"><font size="2">(06:32:33 PM)</font> <b>Hakisho:</b></font> nice magnetophon, I&apos;ve also problems with ath9k.<br/>
<font color="#16569E"><font size="2">(06:34:22 PM)</font> <b>magnetophon:</b></font> Hakisho: what's the problem?<br/>
<font color="#A82F2F"><font size="2">(06:40:15 PM)</font> <b>Hakisho:</b></font> I&apos;ve also pulled the key-combo for disabling WLAN. But after this my card was not recognized, whether I pulled the switch or nor. Now on unstable the switch does not work at all.<br/>
<font color="#16569E"><font size="2">(06:43:25 PM)</font> <b>magnetophon:</b></font> Hakisho: have you tried &quot;rfkill list&quot;?<br/>
<font color="#16569E"><font size="2">(06:44:17 PM)</font> <b>magnetophon:</b></font> Hakisho: that's how I found out the actual state of my card, as the led wasn't working<br/>
<font color="#A82F2F"><font size="2">(06:45:02 PM)</font> <b>Hakisho:</b></font> There are not blocked, neither soft nor hard blocked.<br/>
<font color="#16569E"><font size="2">(06:49:44 PM)</font> <b>magnetophon:</b></font> Hakisho: hmmm. Have you tried booting into another OS  (I'm guessing yes, as I think it was you who recommended that to me...) <br/>
<font size="2">(06:58:53 PM)</font><b> suvash_away is now known as suvash</b><br/>
<font size="2">(07:03:38 PM)</font><b> Lethalman left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(07:03:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 2 new commits to master: http://git.io/Ej3JpQ<br/>
<font color="#A82F2F"><font size="2">(07:03:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master bee4a4e Joachim Fasting: attic: fix sha256<br/>
<font color="#A82F2F"><font size="2">(07:03:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 389f745 Pascal Wittmann: Merge pull request #5429 from joachifm/fix-attic-checksum...<br/>
<font size="2">(07:10:20 PM)</font><b> suvash is now known as suvash_away</b><br/>
<font size="2">(07:18:38 PM)</font><b> MichaelRaskin [<em>~MichaelRa@195.91.224.161</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:25:46 PM)</font> <b>iElectric:</b></font> niksnut: time to release? :)<br/>
<font color="#A82F2F"><font size="2">(07:31:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wizeman pushed 1 new commit to master: http://git.io/E1Iw3A<br/>
<font color="#A82F2F"><font size="2">(07:31:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3639bff Ricardo M. Correia: rustcMaster: Update from 0.13.0-pre-1673-g3a325c6 -&gt; 0.13.0-pre-2600-g34d6800<br/>
<font color="#A82F2F"><font size="2">(07:39:20 PM)</font> <b>shlevy:</b></font> iElectric: Woo!<br/>
<font color="#A82F2F"><font size="2">(07:40:48 PM)</font> <b>shlevy:</b></font> niksnut: ikwildrpepper: What&apos;s the process for updating vbox images and AMIs? Can we help?<br/>
<font size="2">(07:50:18 PM)</font><b> stvc_ is now known as stvc</b><br/>
<font color="#A82F2F"><font size="2">(07:54:10 PM)</font> <b>ambro718:</b></font> Every time I make another nixos build from master the fonts look different ;)<br/>
<font color="#A82F2F"><font size="2">(08:01:26 PM)</font> <b>nikogonzo:</b></font> ugh fonts<br/>
<font color="#A82F2F"><font size="2">(08:08:46 PM)</font> <b>iElectric:</b></font> could someone share some example systemd service definitions for deploying haskell web apps?<br/>
<font color="#A82F2F"><font size="2">(08:08:50 PM)</font> <b>iElectric:</b></font> via warp<br/>
<font color="#A82F2F"><font size="2">(08:09:41 PM)</font> <b>ttuegel:</b></font> ambro718: nikogonzo: feedback about fonts is welcome. (i recently overhauled the fontconfig module)<br/>
<font color="#A82F2F"><font size="2">(08:10:28 PM)</font> <b>ambro718:</b></font> first they were ugly then they were ok, then they got smaller, now they got larger again :)<br/>
<font color="#A82F2F"><font size="2">(08:10:34 PM)</font> <b>ambro718:</b></font> it&apos;s okay I think though<br/>
<font color="#A82F2F"><font size="2">(08:11:31 PM)</font> <b>iElectric:</b></font> woot: https://github.com/rickynils/nixrbd<br/>
<font color="#A82F2F"><font size="2">(08:11:33 PM)</font> <b>MichaelRaskin:</b></font> Well, since fontconfig lost its overriding-everything snippets, I can configure my fonts by changing the font string<br/>
<font color="#A82F2F"><font size="2">(08:11:42 PM)</font> <b>MichaelRaskin:</b></font> Which is all that counts<br/>
<font color="#A82F2F"><font size="2">(08:11:42 PM)</font> <b>iElectric:</b></font> &quot;A daemon that serves NixOS clients booting over iPXE.&quot;<br/>
<font color="#A82F2F"><font size="2">(08:12:08 PM)</font> <b>ttuegel:</b></font> ambro718: smaller and larger sounds like dpi issues. have you changed xorg versions or drivers?<br/>
<font color="#A82F2F"><font size="2">(08:14:05 PM)</font> <b>ambro718:</b></font> dunoo, I just use whatever is in master, the nvidia driver might have been updated<br/>
<font color="#A82F2F"><font size="2">(08:22:34 PM)</font> <b>emery:</b></font> iElectric, sweet<br/>
<font color="#A82F2F"><font size="2">(08:33:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wizeman pushed 1 new commit to master: http://git.io/03CByw<br/>
<font color="#A82F2F"><font size="2">(08:33:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a8e33da Ricardo M. Correia: grsecurity: Update stable and test patches...<br/>
<font color="#A82F2F"><font size="2">(08:41:45 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] rix0rrr opened pull request #5439: Make dmd build on OS X 10.9 (master...fix-dmd-on-osx) http://git.io/qbQOww<br/>
<font size="2">(08:42:07 PM)</font><b> Lethalman [<em>~lethal@89.119.188.238</em>] entered the room.</b><br/>
<font size="2">(08:55:01 PM)</font><b> Lethalman left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(08:59:19 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 2 new commits to master: http://git.io/cnv3sw<br/>
<font color="#A82F2F"><font size="2">(08:59:19 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 7199db8 Sven Keidel: disable verbose logging for XServer, fixes #4333...<br/>
<font color="#A82F2F"><font size="2">(08:59:19 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5078959 lethalman: Merge pull request #5346 from svenkeidel/disable-xserver-verbose-logging...<br/>
<font color="#A82F2F"><font size="2">(08:59:59 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nbp closed pull request #5421: modules: Add mkSinkUndeclaredOptions. (master...mkSink) http://git.io/lE0DBw<br/>
<font color="#A82F2F"><font size="2">(09:01:42 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 1 new commit to master: http://git.io/vYOf3g<br/>
<font color="#A82F2F"><font size="2">(09:01:42 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 79209e3 Luca Bruno: nixos: Add -verbose to xserverArgs example<br/>
<font color="#A82F2F"><font size="2">(09:01:49 PM)</font> <b>pSub:</b></font> hmm… monitor.nixos.org is still broken<br/>
<font size="2">(09:02:09 PM)</font><b> Lethalman [<em>~lethal@89.119.188.238</em>] entered the room.</b><br/>
<font size="2">(09:09:44 PM)</font><b> stepkut` is now known as stepkut</b><br/>
<font color="#A82F2F"><font size="2">(09:13:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] shlevy pushed 1 new commit to master: http://git.io/71bdWA<br/>
<font color="#A82F2F"><font size="2">(09:13:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4e55873 Shea Levy: Add newrelic-sysmond<br/>
<font color="#A82F2F"><font size="2">(09:15:23 PM)</font> <b>stepkut:</b></font> when I do, nix-shell -p haskellPackages.aeson, dependencies like attoparsec are in the environment, but things like base are missing. I have to do, nix-shell -p haskellPackage.aeson haskellPackage.ghc, instead... is this a bug?<br/>
<font color="#A82F2F"><font size="2">(09:15:36 PM)</font> <b>stepkut:</b></font> or just a feature I have not learned to appreciate yet?<br/>
<font color="#A82F2F"><font size="2">(09:18:14 PM)</font> <b>iElectric:</b></font> stepkut: -p haskellPackages.basePrelude<br/>
<font color="#A82F2F"><font size="2">(09:18:55 PM)</font> <b>stepkut:</b></font> iElectric: that seems useful.. but shouldn&apos;t, nix-shell -p haskellPackages.aeson give me a environment where aeson actually works?<br/>
<font color="#A82F2F"><font size="2">(09:19:51 PM)</font> <b>iElectric:</b></font> stepkut: I&apos;m writing my first lines of haskell code these days, so no idea how nixpkgs infrastructure works for haskell<br/>
<font color="#A82F2F"><font size="2">(09:19:58 PM)</font> <b>iElectric:</b></font> stepkut: feel free to open an issue<br/>
<font color="#A82F2F"><font size="2">(09:20:04 PM)</font> <b>stepkut:</b></font> k<br/>
<font color="#A82F2F"><font size="2">(09:20:05 PM)</font> <b>stepkut:</b></font> thanks!<br/>
<font color="#A82F2F"><font size="2">(09:31:36 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ip1981 opened pull request #5440: Patches to Strongswan (master...strongswan) http://git.io/-gzE6Q<br/>
<font color="#A82F2F"><font size="2">(09:47:12 PM)</font> <b>pierron:</b></font> offlinehacker: Sorry, mkAlias might be a little late, somebody changed the rename.nix in a non-backward compatible way.<br/>
<font color="#A82F2F"><font size="2">(09:47:33 PM)</font> <b>pierron:</b></font> in a way which does not respect mkOverride :(<br/>
<font color="#A82F2F"><font size="2">(09:51:27 PM)</font> <b>pierron:</b></font> offlinehacker: oh, nevermind.<br/>
<font size="2">(09:54:24 PM)</font><b> Matrixiumn is now known as Christmasiumn</b><br/>
<font color="#A82F2F"><font size="2">(10:11:18 PM)</font> <b>torkins:</b></font> friends, after --upgrading with nixos-rebuild to 14.12, when I run alsamixer / amixer I get the following: ALSA lib control.c:892:(snd_ctl_open_conf) Unknown field libs<br/>
<font color="#A82F2F"><font size="2">(10:11:20 PM)</font> <b>torkins:</b></font> amixer: Mixer attach default error: Invalid argument<br/>
<font color="#A82F2F"><font size="2">(10:11:36 PM)</font> <b>torkins:</b></font> I&apos;ve tracked it down to the /etc/static/asound.conf that refers to &apos;libs&apos;<br/>
<font color="#A82F2F"><font size="2">(10:12:07 PM)</font> <b>torkins:</b></font> so I&apos;m trying to figure out how to track down if its a screwup in my config or a bug in 14.12. Any pointers?<br/>
<font color="#A82F2F"><font size="2">(10:12:20 PM)</font> <b>bennofs:</b></font> torkins: do you use a custom asound.conf? I don&apos;t think nixos writes asound.conf by default?<br/>
<font color="#A82F2F"><font size="2">(10:12:54 PM)</font> <b>torkins:</b></font> hm I didn&apos;t think so but let me double check<br/>
<font color="#A82F2F"><font size="2">(10:12:56 PM)</font> <b>bennofs:</b></font> torkins: (do you have a line with etc.&quot;asound.conf&quot; = ... in your configuration.nix)<br/>
<font color="#A82F2F"><font size="2">(10:13:01 PM)</font> <b>torkins:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(10:13:22 PM)</font> <b>bennofs:</b></font> torkins: oh, or do you have sound.extraConfig set?<br/>
<font color="#A82F2F"><font size="2">(10:14:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 2 new commits to release-14.12: http://git.io/ncp9_g<br/>
<font color="#A82F2F"><font size="2">(10:14:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 cdbc7b8 lethalman: Merge pull request #5346 from svenkeidel/disable-xserver-verbose-logging...<br/>
<font color="#A82F2F"><font size="2">(10:14:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 e3986e3 Luca Bruno: nixos: Add -verbose to xserverArgs example<br/>
<font color="#A82F2F"><font size="2">(10:14:25 PM)</font> <b>torkins:</b></font> I don&apos;t see it set here.. I wonder if there&apos;s perhaps some file I forgot about that is doing it<br/>
<font color="#A82F2F"><font size="2">(10:14:34 PM)</font> <b>torkins:</b></font> is there any way to inspect the current active configuration?<br/>
<font color="#A82F2F"><font size="2">(10:15:02 PM)</font> <b>bennofs:</b></font> torkins: idk, but maybe you can just rgrep?<br/>
<font color="#A82F2F"><font size="2">(10:15:27 PM)</font> <b>torkins:</b></font> yea that&apos;s running now, so far not<br/>
<font color="#A82F2F"><font size="2">(10:15:38 PM)</font> <b>bennofs:</b></font> torkins: ah, do you use pulseaudio?<br/>
<font color="#A82F2F"><font size="2">(10:15:42 PM)</font> <b>torkins:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(10:15:44 PM)</font> <b>Lethalman:</b></font> torkins, nixos-option<br/>
<font color="#A82F2F"><font size="2">(10:15:58 PM)</font> <b>bennofs:</b></font> I just saw that pulseaudio does write an asound.conf<br/>
<font color="#A82F2F"><font size="2">(10:16:04 PM)</font> <b>torkins:</b></font> my two sound settings are sound.enable = true and hardware.pusleaudio.enable = true<br/>
<font color="#A82F2F"><font size="2">(10:16:36 PM)</font> <b>bennofs:</b></font> ah, that&apos;s also where libs. comes from<br/>
<font color="#A82F2F"><font size="2">(10:16:38 PM)</font> <b>torkins:</b></font> sound.extraConfig for me is &quot;&quot;<br/>
<font color="#A82F2F"><font size="2">(10:16:47 PM)</font> <b>torkins:</b></font> oh interesting<br/>
<font color="#A82F2F"><font size="2">(10:17:19 PM)</font> <b>torkins:</b></font> is it uncommon to use pulse? odd it hasn&apos;t been encountered before<br/>
<font color="#A82F2F"><font size="2">(10:17:30 PM)</font> <b>torkins:</b></font> I looked on the github issues but found nothing I could see related<br/>
<font color="#062585"><font size="2">(10:17:43 PM)</font> <b>***Lethalman</b></font> uses pulseaudio<br/>
<font color="#A82F2F"><font size="2">(10:17:55 PM)</font> <b>torkins:</b></font> I should also mention that I used to have linux packages to 3.15 but for some reason 14.12 removed that<br/>
<font color="#A82F2F"><font size="2">(10:18:01 PM)</font> <b>Lethalman:</b></font> well it&apos;s enabled by default by gnome3<br/>
<font color="#A82F2F"><font size="2">(10:18:02 PM)</font> <b>torkins:</b></font> so I moved it to 17<br/>
<font color="#A82F2F"><font size="2">(10:18:12 PM)</font> <b>Lethalman:</b></font> torkins, we remove EOL kernels<br/>
<font color="#A82F2F"><font size="2">(10:18:29 PM)</font> <b>torkins:</b></font> ah ok<br/>
<font color="#A82F2F"><font size="2">(10:18:32 PM)</font> <b>bennofs:</b></font> torkins: 0c8ad655 changes something related to that libs field<br/>
<font color="#A82F2F"><font size="2">(10:18:38 PM)</font> <b>bennofs:</b></font> it used &apos;lib ...&apos; before<br/>
<font color="#062585"><font size="2">(10:18:45 PM)</font> <b>***pierron</b></font> love git fetch-channels<br/>
<font color="#A82F2F"><font size="2">(10:19:02 PM)</font> <b>bennofs:</b></font> pierron: what is that?<br/>
<font color="#A82F2F"><font size="2">(10:19:05 PM)</font> <b>pierron:</b></font> `git fetch-channels&apos; is aliased to `!sh -c &quot;$(git rev-parse --show-cdup)maintainers/scripts/update-channel-branches.sh&quot;&apos;<br/>
<font color="#A82F2F"><font size="2">(10:19:17 PM)</font> <b>Lethalman:</b></font> pierron, is that recent?<br/>
<font color="#A82F2F"><font size="2">(10:19:25 PM)</font> <b>pierron:</b></font> Lethalman: since I landed it ;)<br/>
<font color="#A82F2F"><font size="2">(10:19:33 PM)</font> <b>Lethalman:</b></font> ahah<br/>
<font color="#A82F2F"><font size="2">(10:19:34 PM)</font> <b>Lethalman:</b></font> thanks<br/>
<font color="#A82F2F"><font size="2">(10:24:06 PM)</font> <b>torkins:</b></font> bennofs: after reading through that commit and docs a bit, I try to upgrade alsa-plugins and that fixed it<br/>
<font color="#A82F2F"><font size="2">(10:25:51 PM)</font> <b>torkins:</b></font> not sure how to fix this kind of bug. I suppose vary the config generated depending on the version of alsaPlguis in pulseaudio.nix?<br/>
<font color="#A82F2F"><font size="2">(10:26:09 PM)</font> <b>torkins:</b></font> er alsaPlugins rather<br/>
<font color="#A82F2F"><font size="2">(10:31:11 PM)</font> <b>erasmas:</b></font> I&apos;m working on a nix package and I have a section in installPhase that copies a .sh file template (with an executable bit) into $out/etc/scripts, but it looks like after I use substitueAll it changes it to read only. is it pretty common to use chmod +x or similar to change it back, or is there a better way?<br/>
<font color="#A82F2F"><font size="2">(10:41:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nbp opened pull request #5441: modules: Extract mkAliasDefinition from the rename.nix NixOS module. (master...mkAlias) http://git.io/fIPQzQ<br/>
<font color="#A82F2F"><font size="2">(10:44:31 PM)</font> <b>emery:</b></font> erasmas, everything in the store is read only<br/>
<font color="#A82F2F"><font size="2">(10:45:10 PM)</font> <b>emery:</b></font> but I don&apos;t see anything wrong with a chmod<br/>
<font color="#A82F2F"><font size="2">(10:45:33 PM)</font> <b>MichaelRaskin:</b></font> emery: erasmas meant readonly as +r-x<br/>
<font color="#A82F2F"><font size="2">(10:48:41 PM)</font> <b>Lethalman:</b></font> +r-w<br/>
<font color="#A82F2F"><font size="2">(10:48:47 PM)</font> <b>Lethalman:</b></font> +x<br/>
<font color="#A82F2F"><font size="2">(10:48:54 PM)</font> <b>erasmas:</b></font> emery: programs installed into /nix/store/&lt;hash&gt;-whatever/bin are often r-x, which is what I wanted (thanks MichaelRaskin)<br/>
<font color="#A82F2F"><font size="2">(10:49:08 PM)</font> <b>Lethalman:</b></font> you can make it +x if you wish<br/>
<font color="#A82F2F"><font size="2">(10:49:11 PM)</font> <b>erasmas:</b></font> but I start with r-x and it becomes r after substituteAll or at some other point in installing<br/>
<font size="2">(10:49:36 PM)</font><b> henrytill left the room (quit: Quit: leaving).</b><br/>
<font color="#A82F2F"><font size="2">(10:51:49 PM)</font> <b>Lethalman:</b></font> erasmas, apparently if the output file is already +x, then substituteAll will also +x<br/>
<font color="#A82F2F"><font size="2">(10:51:51 PM)</font> <b>Lethalman:</b></font> otherwise not<br/>
<font color="#A82F2F"><font size="2">(10:51:58 PM)</font> <b>Lethalman:</b></font> it&apos;s ok to chmod afterwards<br/>
<font color="#A82F2F"><font size="2">(10:53:16 PM)</font> <b>erasmas:</b></font> Lethalman: ok, I&apos;ll double check all the permissions before and after and continue to use chmod if needed for any reason. thanks<br/>
<font color="#A82F2F"><font size="2">(10:54:29 PM)</font> <b>Lethalman:</b></font> erasmas, rather it doesn&apos;t make sense to have the input +x, since it&apos;s not executable if it&apos;s a template<br/>
<font color="#A82F2F"><font size="2">(10:56:50 PM)</font> <b>erasmas:</b></font> Lethalman: oh I see. yes, you&apos;re right -- read only template -&gt; executable script does sound better. (it&apos;s kind of a weird case anyway I suspect; a wrapper for a program that takes an executable script as an argument)<br/>
<font color="#A82F2F"><font size="2">(10:58:00 PM)</font> <b>Lethalman:</b></font> erasmas, we have several templates for scripts in nixos<br/>
<font color="#A82F2F"><font size="2">(11:12:47 PM)</font> <b>_deepfire:</b></font> did noone get test failures in nix-1.8 ?<br/>
<font color="#A82F2F"><font size="2">(11:13:19 PM)</font> <b>_deepfire:</b></font> I have had one failure out of 42, IIRC<br/>
<font color="#A82F2F"><font size="2">(11:13:30 PM)</font> <b>_deepfire:</b></font> ..post build<br/>
<font color="#A82F2F"><font size="2">(11:13:34 PM)</font> <b>_deepfire:</b></font> in 14.12<br/>
<font size="2">(11:34:29 PM)</font><b> o11c^ is now known as o11c</b><br/>
<font color="#A82F2F"><font size="2">(11:38:13 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vbgl pushed 1 new commit to master: http://git.io/OmuomQ<br/>
<font color="#A82F2F"><font size="2">(11:38:13 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master dc8c05d Vincent Laporte: sip-4.16: update from 4.16.1 to 4.16.4<br/>
<font color="#A82F2F"><font size="2">(11:41:06 PM)</font> <b>pmahoney:</b></font> hm, &apos;nix-build -j8&apos;  seems to result in &apos;make -j1&apos; even when enableParallelBuilding is set in this particular pkg<br/>
<font color="#A82F2F"><font size="2">(11:41:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wizeman pushed 1 new commit to master: http://git.io/_6Awxw<br/>
<font color="#A82F2F"><font size="2">(11:41:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 66ca0b6 Ricardo M. Correia: cargoSnapshot: Update from 2014-11-22 -&gt; 2014-12-21<br/>
<font color="#A82F2F"><font size="2">(11:46:49 PM)</font> <b>Lethalman:</b></font> pmahoney, buildPhase overridden?<br/>
<font color="#A82F2F"><font size="2">(11:47:06 PM)</font> <b>pmahoney:</b></font> Lethalman: nope<br/>
<font color="#A82F2F"><font size="2">(11:48:11 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wizeman pushed 1 new commit to master: http://git.io/_l4X3Q<br/>
<font color="#A82F2F"><font size="2">(11:48:11 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 6d1befb Ricardo M. Correia: rustcMaster: Update from 0.13.0-pre-2600-g34d6800 -&gt; 0.13.0-pre-2604-g2f3cff6...<br/>
<font color="#A82F2F"><font size="2">(11:53:14 PM)</font> <b>pmahoney:</b></font> Lethalman: hm, hardcoding it in stdenv/generic/setup.sh#buildPhase did the trick :)   (as i rebuild my entire environment...)<br/>
<font color="#A82F2F"><font size="2">(11:57:24 PM)</font> <b>Lethalman:</b></font> pmahoney, some packages just don&apos;t build with parallel enabled<br/>
<font color="#A82F2F"><font size="2">(11:57:46 PM)</font> <b>pmahoney:</b></font> Lethalman: oh, i see, NIX_BUILD_CORES is 1. if it adds a -j flag at all, it means it was enableParallelBuilding (by &quot;it&quot; i mean stdenv buildPhase)<br/>
<font color="#A82F2F"><font size="2">(11:58:10 PM)</font> <b>pmahoney:</b></font> now how to affect NIX_BUILD_CORES?<br/>
<font color="#A82F2F"><font size="2">(11:58:22 PM)</font> <b>Lethalman:</b></font> pmahoney, NIX_BUILD_CORES is --option build-cores<br/>
<font color="#A82F2F"><font size="2">(11:59:58 PM)</font> <b>pmahoney:</b></font> Lethalman: awesome, thanks.<br/>
<font size="2">(12:15:52 AM)</font><b> suvash_away is now known as suvash</b><br/>
<font size="2">(12:27:20 AM)</font><b> suvash is now known as suvash_away</b><br/>
<font color="#A82F2F"><font size="2">(12:29:16 AM)</font> <b>offlinehacker:</b></font> pierron: no problem, i have some other tasks to do today and tomorrow anyway, so no hurries<br/>
<font color="#A82F2F"><font size="2">(12:39:57 AM)</font> <b>bb010g:</b></font> I&apos;m having problems with panels in XFCE after updating. Did I miss something that I needed to change? (I haven&apos;t updated for about 2 months)<br/>
<font color="#A82F2F"><font size="2">(12:42:08 AM)</font> <b>bb010g:</b></font> They all keep on saying &quot;Plugin &quot;$plugin&quot; unexpectedly left the panel, do you want to restart it?&quot;.<br/>
<font color="#A82F2F"><font size="2">(12:44:12 AM)</font> <b>bb010g:</b></font> My Google-fu isn&apos;t finding anything besides suggestions to update, which is what broke it. :)<br/>
<font color="#A82F2F"><font size="2">(12:55:19 AM)</font> <b>bb010g:</b></font> I nuked my ~/.config/xfce{,-sessions} from XTerm and opened xfce again, but no help.<br/>
<font color="#A82F2F"><font size="2">(12:57:32 AM)</font> <b>bb010g:</b></font> How should I go along a full uninstall/reinstall?<br/>
<font color="#A82F2F"><font size="2">(12:59:08 AM)</font> <b>elifrey:</b></font> bb010g, i typically keep my /home on a seperate partition from my /nix/store. to reinstall i just reformat my /nix/store partition and reinstall with the same /etc/nixos/configuration.nix<br/>
<font color="#A82F2F"><font size="2">(01:00:02 AM)</font> <b>elifrey:</b></font> right now i just have / on one partition and /boot and /home on their own<br/>
<font color="#A82F2F"><font size="2">(01:00:49 AM)</font> <b>bb010g:</b></font> elifrey: I don&apos;t want to do a full NixOS reinstall, just XFCE.<br/>
<font color="#A82F2F"><font size="2">(01:00:58 AM)</font> <b>elifrey:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(01:01:19 AM)</font> <b>elifrey:</b></font> then i just nix-env -e xfce, nix-collect-garbage -d, nix-env -i xfce<br/>
<font color="#A82F2F"><font size="2">(01:01:26 AM)</font> <b>elifrey:</b></font> or you can just upgrade<br/>
<font color="#A82F2F"><font size="2">(01:01:31 AM)</font> <b>elifrey:</b></font> nix-env -u --always<br/>
<font color="#A82F2F"><font size="2">(01:02:09 AM)</font> <b>bb010g:</b></font> I tried just removing all references from my configuration.nix and collect-garbage before reinstalling, but it didn&apos;t help.<br/>
<font color="#A82F2F"><font size="2">(01:02:30 AM)</font> <b>elifrey:</b></font> idk if xfce is user installable though. if you have it in your /etc/nixos/configuration, just do an nixos-rebuild switch<br/>
<font color="#A82F2F"><font size="2">(01:02:41 AM)</font> <b>elifrey:</b></font> i would think<br/>
<font color="#A82F2F"><font size="2">(01:03:06 AM)</font> <b>bb010g:</b></font> I did that, and it&apos;s still broken. None of my panel plugins want to work.<br/>
<font color="#A82F2F"><font size="2">(01:03:23 AM)</font> <b>elifrey:</b></font> :/<br/>
<font color="#A82F2F"><font size="2">(01:03:39 AM)</font> <b>bb010g:</b></font> Everything I&apos;ve found just says &quot;update&quot;.<br/>
<font color="#A82F2F"><font size="2">(01:05:00 AM)</font> <b>bb010g:</b></font> I suppose I&apos;ll try rollback and see if that fixes it, then move from there.<br/>
<font color="#A82F2F"><font size="2">(01:05:38 AM)</font> <b>elifrey:</b></font> it sounds to me like there&apos;s some components living outside of the /nix/store, some kind of state that you have to go through other avenues to clear<br/>
<font color="#A82F2F"><font size="2">(01:05:55 AM)</font> <b>elifrey:</b></font> might have better luck looking at xfce doc?<br/>
<font color="#A82F2F"><font size="2">(01:08:01 AM)</font> <b>elifrey:</b></font> has anyone here attempted to build a ghcjs package? i&apos;ve gotten Cabal / cabal-install 22.whatever and ghcjs-prim building just fine, but i keep getting a clash with ghc-7.8.3 requiring cabal 1.18 and it messes up everything else<br/>
<font color="#A82F2F"><font size="2">(01:08:50 AM)</font> <b>elifrey:</b></font> if i drop into a nix-shell i can build everything with cabal, and i&apos;ve even made sure i&apos;m building the exact same versions of auxiliary (non-base) packages in my nix package as in cabal sandbox<br/>
<font color="#A82F2F"><font size="2">(01:09:31 AM)</font> <b>elifrey:</b></font> i&apos;m not sure a can / should replace ghc-7.8.3&apos;s cabal dependency<br/>
<font color="#A82F2F"><font size="2">(01:09:52 AM)</font> <b>elifrey:</b></font> and ghcHEAD is making cabal.mkDerivation fail<br/>
<font color="#A82F2F"><font size="2">(01:10:50 AM)</font> <b>elifrey:</b></font> if i could figure out how cabal is managing to pull off this build that would be lovely, maybe that would point me in the right direction<br/>
<font color="#A82F2F"><font size="2">(01:25:17 AM)</font> <b>Ouyang:</b></font> anyone know of a useful piece of documentation for setting up a window manager?  https://nixos.org/wiki/Haskell this hasn&apos;t really worked for me<br/>
<font color="#A82F2F"><font size="2">(01:25:59 AM)</font> <b>Ouyang:</b></font> I am used to using a .xinitrc file and the command startx to launch my window manager<br/>
<font color="#A82F2F"><font size="2">(01:31:28 AM)</font> <b>ChongLi:</b></font> Ouyang: trying to set up Xmonad?<br/>
<font color="#A82F2F"><font size="2">(01:31:51 AM)</font> <b>Ouyang:</b></font> yeah, I&apos;ve used xmonad a bit on arch.  Im starting off on nixos and having quite a few issues<br/>
<font color="#A82F2F"><font size="2">(01:32:00 AM)</font> <b>Ouyang:</b></font> following the manual and all<br/>
<font color="#A82F2F"><font size="2">(01:42:05 AM)</font> <b>Ouyang:</b></font> another question is that &quot;chsh -s /home/me/.nix-profile/bin/zsh&quot; returns an invalid shell error, what could be causing that... the executable zsh works<br/>
<font color="#A82F2F"><font size="2">(02:03:30 AM)</font> <b>ChongLi:</b></font> valid shells need to be in the shells file<br/>
<font color="#A82F2F"><font size="2">(02:03:40 AM)</font> <b>ChongLi:</b></font> /etc/shells<br/>
<font color="#A82F2F"><font size="2">(02:03:55 AM)</font> <b>ChongLi:</b></font> as for xmonad<br/>
<font color="#A82F2F"><font size="2">(02:04:01 AM)</font> <b>ChongLi:</b></font> run xmonad --recompile<br/>
<font color="#A82F2F"><font size="2">(02:04:12 AM)</font> <b>ChongLi:</b></font> if it fails to compile then that&apos;s your problem<br/>
<font color="#A82F2F"><font size="2">(02:04:54 AM)</font> <b>Ouyang:</b></font> alright.  thank you<br/>
<font color="#A82F2F"><font size="2">(02:07:16 AM)</font> <b>bb010g:</b></font> elifrey: Ok. Back from a rollback &amp;al. It looks like something in an XFCE update broke it. It works fine on the old version.<br/>
<font color="#A82F2F"><font size="2">(02:10:12 AM)</font> <b>elifrey:</b></font> bb01Og: interesting. whach channels are you subscribed to (sudo nix-channel --list)<br/>
<font color="#A82F2F"><font size="2">(02:11:06 AM)</font> <b>bb010g:</b></font> nixos https://nixos.org/channels/nixos-unstable<br/>
<font color="#A82F2F"><font size="2">(02:11:57 AM)</font> <b>bb010g:</b></font> elifrey ^<br/>
<font color="#A82F2F"><font size="2">(02:17:38 AM)</font> <b>elifrey:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(02:17:59 AM)</font> <b>elifrey:</b></font> bb01Og: yeah, that makes sense :P<br/>
<font color="#A82F2F"><font size="2">(02:18:24 AM)</font> <b>elifrey:</b></font> i try to keep my root channel on stable and only use unstable for user installs<br/>
<font color="#A82F2F"><font size="2">(02:19:18 AM)</font> <b>bb010g:</b></font> Last time I used stable, things were way behind IIRC and it was recommended that I switch to unstable.<br/>
<font color="#A82F2F"><font size="2">(02:19:46 AM)</font> <b>bb010g:</b></font> I think it was Firefox, on a really old version that caught my eye.<br/>
<font color="#A82F2F"><font size="2">(02:20:16 AM)</font> <b>bb010g:</b></font> Can I selectively use unstable?<br/>
<font color="#A82F2F"><font size="2">(02:41:04 AM)</font> <b>elifrey:</b></font> bb01Og: hmmm, that might have been before the 14.12 release which was quite recent<br/>
<font color="#A82F2F"><font size="2">(02:42:18 AM)</font> <b>elifrey:</b></font> i ended up in some whacky scenaria where i accidentally subscribed to nixpkgs-unstable as the root user and it ended up doing something to where i couldn&apos;t boot to X and my fonts were all munged on the console :(<br/>
<font color="#A82F2F"><font size="2">(02:42:28 AM)</font> <b>elifrey:</b></font> had to reinstall<br/>
<font color="#A82F2F"><font size="2">(02:43:19 AM)</font> <b>elifrey:</b></font> i&apos;m actually quite pleased at how painless reinstalls are with nixos. i tend to break things in every way imaginable and it seems i can go from 0 to ready to work on my personal projects in less than half an hour<br/>
<font color="#A82F2F"><font size="2">(02:43:41 AM)</font> <b>johnw:</b></font> elifrey: yeah, it&apos;s pretty good that way<br/>
<font color="#A82F2F"><font size="2">(02:43:49 AM)</font> <b>johnw:</b></font> especially if you make use of multiple environments<br/>
<font color="#A82F2F"><font size="2">(02:44:52 AM)</font> <b>elifrey:</b></font> johnw: yeah, i&apos;ve been learning a thing or too from your nixpkgs/config.nix :P<br/>
<font color="#A82F2F"><font size="2">(02:45:34 AM)</font> <b>elifrey:</b></font> (assumes you are john wiegley)<br/>
<font color="#A82F2F"><font size="2">(02:45:46 AM)</font> <b>elifrey:</b></font> oh, wait, this is irc<br/>
<font color="#062585"><font size="2">(02:45:53 AM)</font> <b>***elifrey</b></font> assumes you are john wiegley<br/>
<font color="#A82F2F"><font size="2">(02:46:52 AM)</font> <b>johnw:</b></font> I am!<br/>
<font color="#A82F2F"><font size="2">(02:47:06 AM)</font> <b>johnw:</b></font> and ++ for spelling my name correctly<br/>
<font color="#A82F2F"><font size="2">(02:47:14 AM)</font> <b>elifrey:</b></font> hah<br/>
<font color="#A82F2F"><font size="2">(02:47:22 AM)</font> <b>elifrey:</b></font> i did check your github to make sure :P<br/>
<font color="#A82F2F"><font size="2">(02:47:46 AM)</font> <b>bb010g:</b></font> So, can I change channels per-package, or is it all or nothing?<br/>
<font color="#A82F2F"><font size="2">(02:48:07 AM)</font> <b>bb010g:</b></font> (I guess more per-expression)<br/>
<font color="#A82F2F"><font size="2">(02:48:23 AM)</font> <b>johnw:</b></font> bb010g: can you nix-env -iA &lt;channel-name&gt;.&lt;expression name&gt;?<br/>
<font color="#A82F2F"><font size="2">(02:48:26 AM)</font> <b>johnw:</b></font> I&apos;ve never tried it though<br/>
<font color="#A82F2F"><font size="2">(02:49:08 AM)</font> <b>elifrey:</b></font> bb01Og: that depends. i tend to have a git clone of the nixpkgs repo that i use with nix-env -f if i&apos;m feeling fiesty<br/>
<font color="#A82F2F"><font size="2">(02:49:29 AM)</font> <b>bb010g:</b></font> I thought one shouldn&apos;t mix nix-env and a configuration.nix.<br/>
<font color="#A82F2F"><font size="2">(02:49:37 AM)</font> <b>bb010g:</b></font> How do they interoperate?<br/>
<font color="#A82F2F"><font size="2">(02:49:40 AM)</font> <b>elifrey:</b></font> nah, it&apos;s cool<br/>
<font color="#A82F2F"><font size="2">(02:49:46 AM)</font> <b>elifrey:</b></font> configuration.nix is for global installs<br/>
<font color="#A82F2F"><font size="2">(02:49:50 AM)</font> <b>elifrey:</b></font> nix-env is for user<br/>
<font color="#A82F2F"><font size="2">(02:50:29 AM)</font> <b>elifrey:</b></font> so i guess for your use case of having one package in there from a different channel it might not work :(<br/>
<font color="#A82F2F"><font size="2">(02:50:57 AM)</font> <b>elifrey:</b></font> perhaps you can import a cloned git repo in your configuration.nix and use that optionally<br/>
<font color="#A82F2F"><font size="2">(02:50:58 AM)</font> <b>bb010g:</b></font> Can I do a configuration.nix style user install? I like having all my packages declared.<br/>
<font color="#A82F2F"><font size="2">(02:51:17 AM)</font> <b>elifrey:</b></font> that&apos;s waht .nixpkgs/config.nix is for<br/>
<font color="#A82F2F"><font size="2">(02:51:51 AM)</font> <b>bb010g:</b></font> Ooh!<br/>
<font color="#A82F2F"><font size="2">(02:52:05 AM)</font> <b>elifrey:</b></font> you should take a look at johnw&apos;s config :P https://github.com/jwiegley/nix-config<br/>
<font color="#A82F2F"><font size="2">(02:52:28 AM)</font> <b>elifrey:</b></font> admitadly, it&apos;s a bit different tack<br/>
<font color="#A82F2F"><font size="2">(02:53:03 AM)</font> <b>elifrey:</b></font> you don&apos;t define everything that&apos;s default installed, you more of define what&apos;s installed for specific (profiles?) environments<br/>
<font color="#A82F2F"><font size="2">(02:53:16 AM)</font> <b>johnw:</b></font> i mean, you could have a &quot;mondo&quot; buildEnv<br/>
<font color="#A82F2F"><font size="2">(02:53:24 AM)</font> <b>johnw:</b></font> but I think it would get unwieldly<br/>
<font color="#A82F2F"><font size="2">(02:55:01 AM)</font> <b>elifrey:</b></font> i also just figured out how to do out-of tree packaging which is a whole other option, that&apos;s what i&apos;m using to package little programs that i&apos;m scared to maintane<br/>
<font color="#A82F2F"><font size="2">(02:55:11 AM)</font> <b>bb010g:</b></font> johnw: How do you use all those expressions? Do you just use nix-shells?<br/>
<font color="#A82F2F"><font size="2">(02:55:28 AM)</font> <b>johnw:</b></font> a myEnvFun gives you a script to run that&apos;s like a nix-shell<br/>
<font color="#A82F2F"><font size="2">(02:55:35 AM)</font> <b>johnw:</b></font> buildEnv installs it into the parent environment<br/>
<font color="#A82F2F"><font size="2">(02:55:47 AM)</font> <b>elifrey:</b></font> currently i&apos;m attempting to package ghcjs, but as said above, there&apos;s this hinky problem that cabal seems to get around that i can&apos;t get nix to cope with :(<br/>
<font color="#A82F2F"><font size="2">(02:57:07 AM)</font> <b>bb010g:</b></font> I&apos;d think you want something like systemToolsEnv available all the time.<br/>
<font color="#A82F2F"><font size="2">(02:58:35 AM)</font> <b>elifrey:</b></font> bb01Og: well, it&apos;s relatively simple to just write our own functions that add default things to environments so they are available everywhere :P<br/>
<font color="#A82F2F"><font size="2">(03:02:15 AM)</font> <b>bb010g:</b></font> Is there a tutorial about this anywhere? I didn&apos;t see anything on the wiki.<br/>
<font color="#A82F2F"><font size="2">(03:04:54 AM)</font> <b>elifrey:</b></font> bb01Og: sadly no. documentation is definately a lacking thing right now for nix (imho). i would like to see some kind of documentation generator enter the ecosystem. but then again you don&apos;t see me volunteering to make it so what have i got to complain about :P<br/>
<font color="#A82F2F"><font size="2">(03:05:18 AM)</font> <b>elifrey:</b></font> http://blog.timsears.com/posts/morenix.html<br/>
<font color="#A82F2F"><font size="2">(03:05:31 AM)</font> <b>elifrey:</b></font> i found this blog post to be a good overview of places to go next for doc<br/>
<font color="#A82F2F"><font size="2">(03:05:39 AM)</font> <b>elifrey:</b></font> the nix-pills are esp. illucidating<br/>
<font color="#A82F2F"><font size="2">(03:05:47 AM)</font> <b>bb010g:</b></font> Looking through those right now<br/>
<font color="#A82F2F"><font size="2">(03:11:44 AM)</font> <b>bb010g:</b></font> http://blog.matejc.com/blogs/myblog/control-your-packages-with-nix-environments/<br/>
<font color="#A82F2F"><font size="2">(03:11:47 AM)</font> <b>bb010g:</b></font> This looks good<br/>
<font size="2">(03:32:39 AM)</font><b> Lethalman left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(03:38:21 AM)</font> <b>bb010g:</b></font> johnw: Could you give an example of how you load/unload environments?<br/>
<font size="2">(03:54:43 AM)</font><b> henrytill [<em>~henrytill@ur.xngns.net</em>] entered the room.</b><br/>
<font size="2">(05:17:07 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
