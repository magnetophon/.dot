<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 01 Jan 2015 03:01:08 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 01 Jan 2015 03:01:08 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(03:01:08 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(03:01:08 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#16569E"><font size="2">(03:01:27 PM)</font> <b>magnetophon:</b></font> Happy new year everybody!   And congratulations on 14.12!!! <br/>
<font color="#A82F2F"><font size="2">(03:02:47 PM)</font> <b>anty:</b></font> happy new year to you too magnetophon<br/>
<font color="#16569E"><font size="2">(03:03:20 PM)</font> <b>magnetophon:</b></font> anty: thanks :)<br/>
<font size="2">(03:07:18 PM)</font><b> anty left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(03:36:02 PM)</font> <b>devhell:</b></font> does ~/.fonts work in nixos?<br/>
<font color="#A82F2F"><font size="2">(03:37:28 PM)</font> <b>iyzsong:</b></font> devhell: it should be ~/.local/share/fonts<br/>
<font color="#A82F2F"><font size="2">(03:38:13 PM)</font> <b>devhell:</b></font> iyzsong: thanks, I&apos;ll try that then<br/>
<font color="#A82F2F"><font size="2">(03:43:23 PM)</font> <b>devhell:</b></font> iyzsong: is this by any chance also true for icons?<br/>
<font color="#A82F2F"><font size="2">(03:43:32 PM)</font> <b>devhell:</b></font> It worked by the way, thanks for that.<br/>
<font color="#A82F2F"><font size="2">(03:47:28 PM)</font> <b>iyzsong:</b></font> devhell: iirc, xcursor are under ~/.icons, while apps&apos;s under ~/.local/share/icons<br/>
<font color="#A82F2F"><font size="2">(03:47:45 PM)</font> <b>devhell:</b></font> iyzsong: sweet, I&apos;ll try that too :)<br/>
<font color="#A82F2F"><font size="2">(03:49:08 PM)</font> <b>iyzsong:</b></font> or better, make packages for your fav icons/fonts :)<br/>
<font color="#A82F2F"><font size="2">(03:49:27 PM)</font> <b>devhell:</b></font> I&apos;m thinking about that, just not sure yet how.<br/>
<font color="#A82F2F"><font size="2">(03:49:53 PM)</font> <b>devhell:</b></font> at the moment I wrote some shell scripts which I&apos;ll just fire off to fetch and install powerline fonts and icons and themes<br/>
<font color="#A82F2F"><font size="2">(03:59:23 PM)</font> <b>devhell:</b></font> :(<br/>
<font color="#A82F2F"><font size="2">(03:59:24 PM)</font> <b>devhell:</b></font> not working<br/>
<font color="#A82F2F"><font size="2">(03:59:53 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nbp closed pull request #5441: modules: Extract mkAliasDefinition from the rename.nix NixOS module. (master...mkAlias) http://git.io/fIPQzQ<br/>
<font color="#A82F2F"><font size="2">(04:00:44 PM)</font> <b>devhell:</b></font> tried faenzadarkest in ~/.local/share/icons<br/>
<font color="#A82F2F"><font size="2">(04:01:04 PM)</font> <b>devhell:</b></font> adjusted the gtk-3.0/settings.ini file accordingly<br/>
<font color="#A82F2F"><font size="2">(04:01:28 PM)</font> <b>devhell:</b></font> I know the icon set works as I have it works on my non-nixos systems<br/>
<font color="#A82F2F"><font size="2">(04:39:05 PM)</font> <b>sepi:</b></font> Does nixos ship hda-analyzer somehow?<br/>
<font size="2">(05:20:21 PM)</font><b> Lethalman left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(05:37:20 PM)</font> <b>ktosiek:</b></font> Is there a debian repository for nix?<br/>
<font color="#A82F2F"><font size="2">(05:37:58 PM)</font> <b>MichaelRaskin:</b></font> I think there are debs on Hydra<br/>
<font color="#A82F2F"><font size="2">(05:38:03 PM)</font> <b>MichaelRaskin:</b></font> But not a repository<br/>
<font color="#A82F2F"><font size="2">(05:38:37 PM)</font> <b>ktosiek:</b></font> there are<br/>
<font color="#A82F2F"><font size="2">(05:38:42 PM)</font> <b>ktosiek:</b></font> heh :-&lt;<br/>
<font color="#A82F2F"><font size="2">(05:38:57 PM)</font> <b>MichaelRaskin:</b></font> Well, you are expected to only install Nix from deb once<br/>
<font color="#A82F2F"><font size="2">(05:39:24 PM)</font> <b>MichaelRaskin:</b></font> If you are using Nix anyway, it is a good idea to get updates from NixPkgs anyway<br/>
<font color="#A82F2F"><font size="2">(05:39:57 PM)</font> <b>ktosiek:</b></font> I&apos;m not so sure about that, what about multi-user setup?<br/>
<font color="#A82F2F"><font size="2">(05:40:26 PM)</font> <b>MichaelRaskin:</b></font> What does it change?<br/>
<font color="#A82F2F"><font size="2">(05:40:50 PM)</font> <b>ktosiek:</b></font> hmm, I&apos;d just have to get the updates as root<br/>
<font color="#A82F2F"><font size="2">(05:41:07 PM)</font> <b>MichaelRaskin:</b></font> Or run nix-daemon<br/>
<font color="#A82F2F"><font size="2">(05:42:45 PM)</font> <b>ktosiek:</b></font> right, but how do I find the right nix-daemon to run then?<br/>
<font color="#A82F2F"><font size="2">(05:43:18 PM)</font> <b>MichaelRaskin:</b></font> Well, nix-daemon version seems to be less important than the frontend nix evaluator one<br/>
<font color="#A82F2F"><font size="2">(05:43:29 PM)</font> <b>MichaelRaskin:</b></font> So nix-daemon will get rare updates from root<br/>
<font color="#A82F2F"><font size="2">(05:44:00 PM)</font> <b>MichaelRaskin:</b></font> And users can update to the latest evaluator part to use fresh NixPkgs<br/>
<font color="#A82F2F"><font size="2">(05:44:17 PM)</font> <b>MichaelRaskin:</b></font> (If they all update to the same version, they will use the same copy)<br/>
<font size="2">(05:44:34 PM)</font><b> Lethalman [<em>~lethal@151.44.203.188</em>] entered the room.</b><br/>
<font size="2">(06:04:42 PM)</font><b> Lethalman left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(06:07:57 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 3 new commits to master: http://git.io/IznR4w<br/>
<font color="#A82F2F"><font size="2">(06:07:58 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c280024 Peter Simons: openafs-client: fix evaluation<br/>
<font color="#A82F2F"><font size="2">(06:07:58 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 628a104 Peter Simons: openafs-client: un-confuse Emacs syntax highlighting<br/>
<font color="#A82F2F"><font size="2">(06:07:58 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 975e623 Peter Simons: openafs-client: drop trailing whitespace<br/>
<font size="2">(06:08:05 PM)</font><b> MichaelRaskin left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font size="2">(06:09:55 PM)</font><b> MichaelRaskin [<em>~MichaelRa@195.91.224.161</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:10:07 PM)</font> <b>rejuvyesh:</b></font> Hi! How do I find why cabal is pointing to an older ghc? cabal: /nix/store/qzjc6x3ng359h1zdyvgnyyl8c5d29kjd-ghc-7.8.3-wrapper/bin/ghc: does not exist<br/>
<font color="#A82F2F"><font size="2">(06:10:40 PM)</font> <b>rejuvyesh:</b></font> While I have ghc version 7.8.4 installed<br/>
<font color="#A82F2F"><font size="2">(06:11:24 PM)</font> <b>devhell:</b></font> hmm... looks like we don&apos;t have tlp in nixos..<br/>
<font size="2">(06:22:48 PM)</font><b> Lethalman [<em>~lethal@ca-18-218-50.service.infuturo.it</em>] entered the room.</b><br/>
<font size="2">(06:27:21 PM)</font><b> Lethalman left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font size="2">(06:40:42 PM)</font><b> Lethalman [<em>~lethal@176.200.132.71</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:54:02 PM)</font> <b>bennofs:</b></font> rejuvyesh: Is this with a cabal project? If yes, you might need to re-run cabal configure<br/>
<font color="#A82F2F"><font size="2">(06:54:16 PM)</font> <b>rejuvyesh:</b></font> ah. thanks<br/>
<font color="#A82F2F"><font size="2">(07:28:05 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #5463: Add support for GHCJS (master...ryghcjs) http://git.io/63ke6g<br/>
<font color="#A82F2F"><font size="2">(07:28:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 189 new commits to master: http://git.io/42Zd2g<br/>
<font color="#A82F2F"><font size="2">(07:28:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2f45176 Ryan Trinkle: Add ssl support to snapServer package.<br/>
<font color="#A82F2F"><font size="2">(07:28:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 632ccf8 Ryan Trinkle: Merge branch &apos;master&apos; of https://github.com/NixOS/nixpkgs<br/>
<font color="#A82F2F"><font size="2">(07:28:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e0b2950 John Wiegley: Initial work on ghcjs<br/>
<font color="#A82F2F"><font size="2">(07:30:08 PM)</font> <b>johnw:</b></font> cool!<br/>
<font color="#A82F2F"><font size="2">(07:31:40 PM)</font> <b>Lethalman:</b></font> asd<br/>
<font color="#A82F2F"><font size="2">(07:31:42 PM)</font> <b>Lethalman:</b></font> great<br/>
<font color="#A82F2F"><font size="2">(07:32:29 PM)</font> <b>Lethalman:</b></font> is nixos the first to have ghcjs?<br/>
<font color="#A82F2F"><font size="2">(07:32:54 PM)</font> <b>johnw:</b></font> in such a convenient way, I&apos;m pretty sure<br/>
<font size="2">(07:33:06 PM)</font><b> straycat_ is now known as straycat</b><br/>
<font color="#A82F2F"><font size="2">(07:33:14 PM)</font> <b>Lethalman:</b></font> deserves a tweet I guess<br/>
<font color="#A82F2F"><font size="2">(07:33:19 PM)</font> <b>johnw:</b></font> it sure does!<br/>
<font color="#A82F2F"><font size="2">(07:33:39 PM)</font> <b>Lethalman:</b></font> in the early days, before ghc 7.8, I was using a vagrant box for ghcjs<br/>
<font color="#A82F2F"><font size="2">(07:33:52 PM)</font> <b>Lethalman:</b></font> now it must be better experience<br/>
<font color="#A82F2F"><font size="2">(07:38:17 PM)</font> <b>jonbaihu:</b></font> the men in blue are coming for you...look outside your...<br/>
<font size="2">(07:45:13 PM)</font><b> Lethalman left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(07:50:28 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #5513: New haskell package: webkitgtk3 (master...webkitgtk3) http://git.io/BnCXSw<br/>
<font color="#A82F2F"><font size="2">(07:54:08 PM)</font> <b>copumpkin:</b></font> jonbaihu: why do you keep going on about the men in blue?<br/>
<font color="#A82F2F"><font size="2">(07:57:02 PM)</font> <b>ktosiek:</b></font> I seem to have a problem: nix-env -iA pkgs.nox says &quot;error: attribute ‘pkgs’ in selection path ‘pkgs.nox’ not found&quot;, and I had to kill nix-env -qa &apos;*&apos; after it took &gt;2GB of RAM...<br/>
<font color="#A82F2F"><font size="2">(07:58:06 PM)</font> <b>bennofs:</b></font> ktosiek: are you on nixos?<br/>
<font color="#A82F2F"><font size="2">(07:58:26 PM)</font> <b>ktosiek:</b></font> no, on Ubuntu<br/>
<font color="#A82F2F"><font size="2">(07:58:48 PM)</font> <b>bennofs:</b></font> ktosiek: try nix-env -iA nixpkgs.nox maybe?<br/>
<font color="#A82F2F"><font size="2">(07:59:10 PM)</font> <b>ktosiek:</b></font> that works, thanks!<br/>
<font color="#A82F2F"><font size="2">(07:59:33 PM)</font> <b>ktosiek:</b></font> still, why would nix-env -qa &apos;*&apos; explode to &gt;2GB RAM?<br/>
<font color="#A82F2F"><font size="2">(07:59:56 PM)</font> <b>bennofs:</b></font> no idea<br/>
<font size="2">(08:02:24 PM)</font><b> Lethalman [<em>~lethal@176.201.84.60</em>] entered the room.</b><br/>
<font size="2">(08:03:22 PM)</font><b> Lethalman left the room (quit: Client Quit).</b><br/>
<font size="2">(08:03:31 PM)</font><b> Lethalman [<em>~lethal@176.201.84.60</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:06:42 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor pushed 1 new commit to master: http://git.io/JhihGg<br/>
<font color="#A82F2F"><font size="2">(08:06:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e4dd2dc Bjørn Forsman: libsigrok: install missing firmware files...<br/>
<font color="#A82F2F"><font size="2">(08:07:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor pushed 1 new commit to release-14.12: http://git.io/-ZvGlA<br/>
<font color="#A82F2F"><font size="2">(08:07:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 ab138b4 Bjørn Forsman: libsigrok: install missing firmware files...<br/>
<font color="#A82F2F"><font size="2">(08:08:37 PM)</font> <b>ttuegel:</b></font> ktosiek: nix-env -qa &apos;*&apos; has to evaluate every nix expression in nixpkgs, that&apos;s probably why it takes so much ram<br/>
<font color="#A82F2F"><font size="2">(08:09:00 PM)</font> <b>ktosiek:</b></font> is there some way to list packages without this?<br/>
<font color="#A82F2F"><font size="2">(08:09:21 PM)</font> <b>ktosiek:</b></font> (and still, 2G seems like a huge amount... how many packages are there?)<br/>
<font color="#A82F2F"><font size="2">(08:10:15 PM)</font> <b>ttuegel:</b></font> ktosiek: nox should do it without evaluating everything (at least after the first time)<br/>
<font color="#A82F2F"><font size="2">(08:10:52 PM)</font> <b>ktosiek:</b></font> I don&apos;t have enough free RAM to evaluate everything :-P<br/>
<font color="#A82F2F"><font size="2">(08:13:24 PM)</font> <b>ttuegel:</b></font> are you just using the channel, or do you have a git clone of nixpkgs? if the latter, you can grep pkgs/top-level/all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(08:14:16 PM)</font> <b>ttuegel:</b></font> as for the number of packages, nix-env -qa &apos;*&apos; | wc -l gives 13868 on my system... so that&apos;s a rough estimate of the number of packages<br/>
<font color="#A82F2F"><font size="2">(08:14:24 PM)</font> <b>ktosiek:</b></font> I&apos;m using the channel (so I can grep ~/.nix-defexpr/channels/nixpkgs/pkgs/top-level/all-packages.nix), but that&apos;s still bad<br/>
<font color="#A82F2F"><font size="2">(08:14:32 PM)</font> <b>ktosiek:</b></font> and won&apos;t search descriptions<br/>
<font color="#A82F2F"><font size="2">(08:14:36 PM)</font> <b>ChongLi:</b></font> it might be just my imagination but mpd seems to sound way better when I have it use jack instead of dmix<br/>
<font color="#A82F2F"><font size="2">(08:14:47 PM)</font> <b>ChongLi:</b></font> am I crazy?<br/>
<font color="#A82F2F"><font size="2">(08:16:13 PM)</font> <b>ktosiek:</b></font> can anyone confirm how much RAM it takes to run nix-env -qa &apos;*&apos;?<br/>
<font color="#A82F2F"><font size="2">(08:17:34 PM)</font> <b>Lethalman:</b></font> ktosiek, don&apos;t do it<br/>
<font color="#A82F2F"><font size="2">(08:17:46 PM)</font> <b>ktosiek:</b></font> Lethalman: don&apos;t do what?<br/>
<font color="#A82F2F"><font size="2">(08:18:16 PM)</font> <b>sivteck:</b></font> almost none &gt;.&gt; (I am on NixOS)<br/>
<font color="#A82F2F"><font size="2">(08:18:24 PM)</font> <b>ktosiek:</b></font> if I use nox, it&apos;ll call nix-env -qa --json, so not better<br/>
<font color="#062585"><font size="2">(08:18:33 PM)</font> <b>***kmicu</b></font> has 500MiB RES<br/>
<font color="#A82F2F"><font size="2">(08:18:35 PM)</font> <b>sivteck:</b></font> and ~13000 lines output<br/>
<font color="#A82F2F"><font size="2">(08:18:52 PM)</font> <b>ktosiek:</b></font> I&apos;m at 621MB and counting :-/<br/>
<font color="#A82F2F"><font size="2">(08:18:57 PM)</font> <b>sivteck:</b></font> weird<br/>
<font color="#A82F2F"><font size="2">(08:19:00 PM)</font> <b>ktosiek:</b></font> oh, it finished<br/>
<font color="#A82F2F"><font size="2">(08:19:03 PM)</font> <b>ttuegel:</b></font> ktosiek: nix-env -qa &apos;*&apos; peaks at around 500M for me<br/>
<font color="#A82F2F"><font size="2">(08:19:18 PM)</font> <b>ktosiek:</b></font> (that&apos;s with --json, without it it went way over 2G)<br/>
<font color="#A82F2F"><font size="2">(08:19:24 PM)</font> <b>sivteck:</b></font> ok 500MB ;x<br/>
<font color="#A82F2F"><font size="2">(08:20:13 PM)</font> <b>ktosiek:</b></font> cool, I&apos;ll just use nox for now :-)<br/>
<font color="#A82F2F"><font size="2">(08:20:17 PM)</font> <b>viric:</b></font> nix uses a predefined cache size in ram<br/>
<font color="#A82F2F"><font size="2">(08:20:20 PM)</font> <b>viric:</b></font> iirc<br/>
<font color="#A82F2F"><font size="2">(08:20:32 PM)</font> <b>viric:</b></font> that helps avoiding the recalculation of expressions<br/>
<font color="#A82F2F"><font size="2">(08:20:56 PM)</font> <b>viric:</b></font> an env var can change that cache size.<br/>
<font color="#A82F2F"><font size="2">(08:21:12 PM)</font> <b>viric:</b></font> so, it can be tuned on speed/ram usage<br/>
<font color="#A82F2F"><font size="2">(08:22:37 PM)</font> <b>ktosiek:</b></font> is this documented? The only memory-related env var I see in man is GC_INITIAL_HEAP_SIZE<br/>
<font color="#A82F2F"><font size="2">(08:23:03 PM)</font> <b>viric:</b></font> that<br/>
<font color="#A82F2F"><font size="2">(08:23:31 PM)</font> <b>viric:</b></font> I don&apos;t know exactly how it works... but I described what I have in my imagination.<br/>
<font color="#A82F2F"><font size="2">(08:27:34 PM)</font> <b>ktosiek:</b></font> hmm, it works ok when run from nox but not from shell O_o<br/>
<font size="2">(08:29:30 PM)</font><b> MichaelRaskin left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(08:37:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 2 new commits to master: http://git.io/4ZxCGw<br/>
<font color="#A82F2F"><font size="2">(08:37:22 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ac55bb2 Peter Simons: gnumake: add version 4.1<br/>
<font color="#A82F2F"><font size="2">(08:37:22 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 37ae6de Peter Simons: s6: don&apos;t depend on GNU Make 4.0...<br/>
<font color="#A82F2F"><font size="2">(08:39:15 PM)</font> <b>ktosiek:</b></font> ugh<br/>
<font color="#A82F2F"><font size="2">(08:39:55 PM)</font> <b>ktosiek:</b></font> stdbuf -oL nix-env -qa &apos;*&apos; needed &lt;700M of memory<br/>
<font color="#A82F2F"><font size="2">(08:40:08 PM)</font> <b>ktosiek:</b></font> so it&apos;s somehow about output buffering O_o<br/>
<font color="#A82F2F"><font size="2">(08:40:50 PM)</font> <b>ktosiek:</b></font> (but there shouldn&apos;t be more than 1M of data in the buffer, even if it&apos;s only flushed when the process exits)<br/>
<font color="#A82F2F"><font size="2">(08:41:45 PM)</font> <b>peti:</b></font> niksnut: hydra.nixos.org has 67,000+ builds in queue but none has been run for 20+ hours. There seems to be something wrong with the machine.<br/>
<font color="#A82F2F"><font size="2">(08:49:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] chongli opened pull request #5522: Added jack support flag for mpd. (master...mpd-jack-support) http://git.io/gzhktw<br/>
<font color="#A82F2F"><font size="2">(09:00:45 PM)</font> <b>tras:</b></font> Hi , I puch this http://pastebin.com/rTkDNY11 in my configuration but I can&apos;t run feroda from nixos grub start , I don&apos;t undertand why no run.<br/>
