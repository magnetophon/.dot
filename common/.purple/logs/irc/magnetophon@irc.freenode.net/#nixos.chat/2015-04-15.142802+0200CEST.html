<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Wed 15 Apr 2015 02:28:02 PM CEST on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Wed 15 Apr 2015 02:28:02 PM CEST on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(02:28:02 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(02:28:02 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font size="2">(02:34:13 PM)</font><b> ehmry is now known as nickemery</b><br/>
<font size="2">(02:34:22 PM)</font><b> nickemery is now known as emery</b><br/>
<font color="#A82F2F"><font size="2">(02:44:52 PM)</font> <b>shlevy:</b></font> Morning all<br/>
<font color="#A82F2F"><font size="2">(02:45:31 PM)</font> <b>Lethalman:</b></font> hi shlevy<br/>
<font color="#A82F2F"><font size="2">(02:45:50 PM)</font> <b>shlevy:</b></font> How&apos;s it going?<br/>
<font color="#A82F2F"><font size="2">(02:46:09 PM)</font> <b>Lethalman:</b></font> alright<br/>
<font color="#A82F2F"><font size="2">(02:58:48 PM)</font> <b>qknight:</b></font> how to see which generation i&apos;m running right now?<br/>
<font color="#A82F2F"><font size="2">(03:00:32 PM)</font> <b>Lethalman:</b></font> qknight, /run/booted-system<br/>
<font color="#A82F2F"><font size="2">(03:00:37 PM)</font> <b>Lethalman:</b></font> qknight, and /run/current-system<br/>
<font color="#A82F2F"><font size="2">(03:01:24 PM)</font> <b>qknight:</b></font> Lethalman: very good! thanks<br/>
<font color="#A82F2F"><font size="2">(03:01:40 PM)</font> <b>Lethalman:</b></font> qknight, compare that to /nix/var/nix/profiles/system<br/>
<font color="#A82F2F"><font size="2">(03:02:08 PM)</font> <b>Lethalman:</b></font> but, if there are multiple generations with the same derivation output, you may not know the generation exactly<br/>
<font color="#A82F2F"><font size="2">(03:05:16 PM)</font> <b>garbas:</b></font> goibhniu: you mean droping in some office and talk about nix? :)<br/>
<font color="#A82F2F"><font size="2">(03:05:22 PM)</font> <b>garbas:</b></font> goibhniu: sure ii will .. :)<br/>
<font color="#A82F2F"><font size="2">(03:05:45 PM)</font> <b>qknight:</b></font> garbas: any news on the nixcon?<br/>
<font color="#A82F2F"><font size="2">(03:06:05 PM)</font> <b>goibhniu:</b></font> garbas: excellent! they&apos;re great guys, you&apos;ll have a fun time!<br/>
<font color="#A82F2F"><font size="2">(03:07:08 PM)</font> <b>garbas:</b></font> qknight: just came from pycon, visiting werkstatt on monday to see if we can get the space<br/>
<font color="#A82F2F"><font size="2">(03:07:17 PM)</font> <b>garbas:</b></font> goibhniu: who should i ping?<br/>
<font color="#A82F2F"><font size="2">(03:07:18 PM)</font> <b>qknight:</b></font> goibhniu: fine!<br/>
<font color="#A82F2F"><font size="2">(03:08:37 PM)</font> <b>goibhniu:</b></font> garbas: falktx on freenode (or pop into #opensourcemusicians)<br/>
<font color="#A82F2F"><font size="2">(03:08:42 PM)</font> <b>garbas:</b></font> qknight: then later next week i will also visit wikimedia to see if they can make us an offer<br/>
<font color="#A82F2F"><font size="2">(03:08:57 PM)</font> <b>qknight:</b></font> goibhniu: wikimedia, for what?<br/>
<font color="#A82F2F"><font size="2">(03:09:05 PM)</font> <b>qknight:</b></font> oh not mediawiki ;-)<br/>
<font color="#A82F2F"><font size="2">(03:09:16 PM)</font> <b>qknight:</b></font> wikimedia &lt;-&gt; mediawiki ;-)<br/>
<font color="#A82F2F"><font size="2">(03:09:47 PM)</font> <b>garbas:</b></font> yeah we wont use their software ... just the space :P<br/>
<font color="#A82F2F"><font size="2">(03:10:15 PM)</font> <b>goibhniu:</b></font> garbas: ah, betahaus is also a co-working space .. might be an option too?<br/>
<font color="#A82F2F"><font size="2">(03:10:34 PM)</font> <b>garbas:</b></font> goibhniu: yes, have it on my todo list<br/>
<font color="#A82F2F"><font size="2">(03:10:47 PM)</font> <b>garbas:</b></font> goibhniu: what you want me to actually poke falktx about<br/>
<font color="#A82F2F"><font size="2">(03:11:00 PM)</font> <b>goibhniu:</b></font> garbas: ah but that&apos;s where the MOD folks are, so you can kill two birds with one stone :)<br/>
<font color="#A82F2F"><font size="2">(03:11:17 PM)</font> <b>goibhniu:</b></font> garbas: yes, or would you prefer an email address or something?<br/>
<font color="#A82F2F"><font size="2">(03:12:04 PM)</font> <b>garbas:</b></font> i&apos;m joining that channel and help me there :)<br/>
<font color="#A82F2F"><font size="2">(03:19:39 PM)</font> <b>attic:</b></font> Hello, forgive me for my ignorance but is it possible to install NixOS on a 32bit uefi machine?<br/>
<font color="#A82F2F"><font size="2">(03:23:28 PM)</font> <b>Lethalman:</b></font> dav, if you are using f# on nix, do you know why this build has failed? http://hydra.nixos.org/job/nixos/trunk-combined/nixpkgs.fsharp.x86_64-linux/all I&apos;m now compiling it at the time of nixos unstable release<br/>
<font color="#A82F2F"><font size="2">(03:27:05 PM)</font> <b>Lethalman:</b></font> mh I was able to compile it.. fine<br/>
<font color="#A82F2F"><font size="2">(03:27:11 PM)</font> <b>Lethalman:</b></font> so it&apos;s a temporary build issue on hydra I hope<br/>
<font color="#A82F2F"><font size="2">(03:37:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 3 new commits to master: http://git.io/vvgvW<br/>
<font color="#A82F2F"><font size="2">(03:37:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 7d916bb Tuomas Tynkkynen: agetty: Add autologinUser config option...<br/>
<font color="#A82F2F"><font size="2">(03:37:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 25062f5 Tuomas Tynkkynen: Installation CD: automatic log in at virtual consoles<br/>
<font color="#A82F2F"><font size="2">(03:37:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8330d64 lethalman: Merge pull request #7372 from dezgeg/getty-autologin...<br/>
<font color="#A82F2F"><font size="2">(03:37:39 PM)</font> <b>LnL:</b></font> Does anybody have experience with the haskell compiler infrastructure, I would like to try and get haste to work<br/>
<font size="2">(03:55:01 PM)</font><b> kleier is now known as kleier_</b><br/>
<font color="#A82F2F"><font size="2">(03:55:19 PM)</font> <b>Lethalman:</b></font> anybody able to run fsharp programs? :S<br/>
<font size="2">(03:55:28 PM)</font><b> kleier_ is now known as kleier</b><br/>
<font color="#A82F2F"><font size="2">(03:55:29 PM)</font> <b>Lethalman:</b></font> it compiled an exe for windows not for linux :P<br/>
<font color="#A82F2F"><font size="2">(03:55:38 PM)</font> <b>Lethalman:</b></font> a PE not an ELF lol<br/>
<font color="#A82F2F"><font size="2">(03:57:25 PM)</font> <b>page:</b></font> wine to the rescue? ;)<br/>
<font color="#A82F2F"><font size="2">(03:58:46 PM)</font> <b>qknight:</b></font> hi. i&apos;ve done: nixos-rebuild --rollback boot; rebootet and everything was as expected at rev. 315 -&gt;  then i wanted to switch back to 316 and did: nix-env --switch-generation 316 -p /nix/var/nix/system and i see: lrwxrwxrwx  1 root root   15 Apr 15 15:43 system -&gt; system-316-link but when i reboot i&apos;m still on 315<br/>
<font color="#A82F2F"><font size="2">(03:58:51 PM)</font> <b>qknight:</b></font> why?<br/>
<font color="#A82F2F"><font size="2">(04:01:21 PM)</font> <b>ttuegel:</b></font> qknight: you just switched the running generation, but you didn&apos;t update the bootloader. it&apos;s as if you ran nixos-rebuild test<br/>
<font color="#A82F2F"><font size="2">(04:01:41 PM)</font> <b>qknight:</b></font> ttuegel: oh, thanks<br/>
<font color="#A82F2F"><font size="2">(04:02:05 PM)</font> <b>Lethalman:</b></font> so apparently mono apps compiled with mcs work, but not with fsharpc<br/>
<font color="#A82F2F"><font size="2">(04:02:13 PM)</font> <b>Lethalman:</b></font> I guess it&apos;s fsharp being broken on nix<br/>
<font color="#A82F2F"><font size="2">(04:05:36 PM)</font> <b>qknight:</b></font> oh, i have to run: /nix/var/nix/profiles/system-316-link/bin/switch-to-configuration i suppose<br/>
<font color="#A82F2F"><font size="2">(04:05:47 PM)</font> <b>qknight:</b></font> reboot<br/>
<font size="2">(04:05:50 PM)</font><b> qknight left the room (quit: Quit: Lost terminal).</b><br/>
<font color="#A82F2F"><font size="2">(04:07:21 PM)</font> <b>Lethalman:</b></font> :S<br/>
<font size="2">(04:21:15 PM)</font><b> pmahoney [<em>~user@50.57.17.245</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(04:21:54 PM)</font> <b>Lethalman:</b></font> oh wow alright, MONO_PATH<br/>
<font color="#A82F2F"><font size="2">(04:23:18 PM)</font> <b>rui2:</b></font> Anyone knows what package I might be missing? Okular is unable to read pdfs<br/>
<font color="#A82F2F"><font size="2">(04:24:10 PM)</font> <b>ttuegel:</b></font> rui2: which okular? kde4.okular or kde5.okular?<br/>
<font color="#A82F2F"><font size="2">(04:24:18 PM)</font> <b>rui2:</b></font> ttuegel: Tried both<br/>
<font color="#A82F2F"><font size="2">(04:24:21 PM)</font> <b>rui2:</b></font> Right now, kde5<br/>
<font color="#A82F2F"><font size="2">(04:24:49 PM)</font> <b>ttuegel:</b></font> rui2: have you logged out/back in and/or run kbuildsycoca5?<br/>
<font color="#A82F2F"><font size="2">(04:24:57 PM)</font> <b>ttuegel:</b></font> since installing<br/>
<font color="#A82F2F"><font size="2">(04:25:08 PM)</font> <b>rui2:</b></font> ttuegel: No<br/>
<font color="#A82F2F"><font size="2">(04:25:11 PM)</font> <b>rui2:</b></font> Let me see<br/>
<font color="#A82F2F"><font size="2">(04:27:14 PM)</font> <b>rui2:</b></font> ttuegel: I only have kbuildsyscoca4. Do you know where that is?<br/>
<font color="#A82F2F"><font size="2">(04:27:43 PM)</font> <b>ttuegel:</b></font> rui2: are you on nixos?<br/>
<font color="#A82F2F"><font size="2">(04:27:48 PM)</font> <b>rui2:</b></font> ttuegel: Yes<br/>
<font color="#A82F2F"><font size="2">(04:28:15 PM)</font> <b>ttuegel:</b></font> rui2: ok, so you&apos;re running a kde4 desktop? you should use kde4.okular then, and run kbuildsycoca4<br/>
<font color="#A82F2F"><font size="2">(04:28:31 PM)</font> <b>rui2:</b></font> ttuegel: Running i3<br/>
<font color="#A82F2F"><font size="2">(04:28:53 PM)</font> <b>seanz:</b></font> Lethalman: ping<br/>
<font color="#A82F2F"><font size="2">(04:29:01 PM)</font> <b>Forkk:</b></font> How long does NixOS keep system changes it tracks?<br/>
<font color="#A82F2F"><font size="2">(04:29:02 PM)</font> <b>ttuegel:</b></font> rui2: huh, i wonder how you got kbuildsycoca4. anyway, kbuildsycoca5 is in kde5.kservice<br/>
<font color="#A82F2F"><font size="2">(04:29:02 PM)</font> <b>Lethalman:</b></font> seanz, what<br/>
<font color="#A82F2F"><font size="2">(04:29:44 PM)</font> <b>ttuegel:</b></font> rui2: if you use many kde applications, you should add kbuildsycoca5 to i3&apos;s startup scripts (or whatever it has)<br/>
<font color="#A82F2F"><font size="2">(04:30:14 PM)</font> <b>rui2:</b></font> ttuegel: Thanks a lot. Dolphin also works weird, I&apos;ll see if this fixes it. You run that without arguments?<br/>
<font color="#A82F2F"><font size="2">(04:30:22 PM)</font> <b>ttuegel:</b></font> rui2: yes<br/>
<font color="#A82F2F"><font size="2">(04:30:42 PM)</font> <b>seanz:</b></font> Lethalman: Hey, I hope you&apos;re well. A while back you were helping me troubleshoot the installation of a python package in a virtualenv. It turns out that the package wouldn&apos;t build because python 2.6 accurately reported the Linux kernel version, and typically python 2.6 was only installed on Linux 2.x kernels. The package failed to build due to the kernel being 3.x and the package explicitly checking for 2.x.<br/>
<font color="#A82F2F"><font size="2">(04:30:55 PM)</font> <b>ttuegel:</b></font> rui2: actually, be sure you run both kbuildsycoca{4,5}. some of the kde5 stuff is still kdelibs4-based<br/>
<font color="#A82F2F"><font size="2">(04:31:25 PM)</font> <b>seanz:</b></font> So I just wanted to let you know what the resolution ended up being. This same package builds fine against python 2.7 because python 2.7 reports the Linux kernel just as &apos;linux&apos; without the version number. Or something similar to that.<br/>
<font color="#A82F2F"><font size="2">(04:33:25 PM)</font> <b>page:</b></font> ttuegel: what does the kbuildsycoca provide?<br/>
<font color="#A82F2F"><font size="2">(04:33:41 PM)</font> <b>page:</b></font> just the other day viric told me about kdewrapper<br/>
<font color="#A82F2F"><font size="2">(04:34:14 PM)</font> <b>Forkk:</b></font> If I install one set of packages from one channel, and then they all get updated, I wouldn&apos;t expect it to keep around the old versions forever, but if such is the case, then what happens if the old versions are removed and I boot the previous configuration?<br/>
<font color="#A82F2F"><font size="2">(04:34:57 PM)</font> <b>page:</b></font> though there&apos;s no mention of that coca thing in the wrapper expression<br/>
<font color="#A82F2F"><font size="2">(04:35:29 PM)</font> <b>ttuegel:</b></font> page: kde keeps a big database of all the libraries, apps, and services installed. kbuildsycoca refreshes it.<br/>
<font color="#A82F2F"><font size="2">(04:35:35 PM)</font> <b>ttuegel:</b></font> page: i don&apos;t know anything about kdewrapper<br/>
<font color="#A82F2F"><font size="2">(04:36:25 PM)</font> <b>Lethalman:</b></font> seanz, :)<br/>
<font color="#A82F2F"><font size="2">(04:36:32 PM)</font> <b>Lethalman:</b></font> I don&apos;t remember well now, but good you solved it<br/>
<font color="#A82F2F"><font size="2">(04:37:07 PM)</font> <b>ttuegel:</b></font> heh, just took a look at kdewrapper. no call to kbuildsycoca == it won&apos;t actually work for some things<br/>
<font color="#A82F2F"><font size="2">(04:37:24 PM)</font> <b>page:</b></font> ttuegel: but what&apos;s the purpose of that database?<br/>
<font color="#A82F2F"><font size="2">(04:37:27 PM)</font> <b>seanz:</b></font> Lethalman: Yes, thanks. I believe my support troubles left a bad taste in your mouth the last time we talked, and I just wanted to let you know I was progressing since what I learned at that time. Each time I solve an issue, NixOS ends up looking better and better. :)<br/>
<font color="#A82F2F"><font size="2">(04:37:32 PM)</font> <b>page:</b></font> ttuegel: perhaps we should add it there?<br/>
<font color="#A82F2F"><font size="2">(04:37:38 PM)</font> <b>rui2:</b></font> ttuegel: works a little better but still doesn&apos;t show pdfs (evince does)<br/>
<font color="#A82F2F"><font size="2">(04:37:39 PM)</font> <b>seanz:</b></font> So that&apos;s it. Please resume your normal life.<br/>
<font color="#A82F2F"><font size="2">(04:38:06 PM)</font> <b>page:</b></font> I&apos;m also interested in working kde apps outside kde :)<br/>
<font color="#A82F2F"><font size="2">(04:38:18 PM)</font> <b>ttuegel:</b></font> page: the database is so apps can find their runtime dependencies. we should not add it to kdewrapper, because it writes to $HOME<br/>
<font color="#A82F2F"><font size="2">(04:38:29 PM)</font> <b>page:</b></font> oh, I see<br/>
<font color="#A82F2F"><font size="2">(04:39:07 PM)</font> <b>ttuegel:</b></font> all that should be necessary to have kde apps outside kde is running kbuildsycoca{4,5} whenever you install something new<br/>
<font color="#A82F2F"><font size="2">(04:39:18 PM)</font> <b>rui2:</b></font> Dolphin doesn&apos;t show icons either. Other kde apps like k3b, konsole...<br/>
<font color="#A82F2F"><font size="2">(04:39:32 PM)</font> <b>rui2:</b></font> (those work perfectly)<br/>
<font color="#A82F2F"><font size="2">(04:39:35 PM)</font> <b>ttuegel:</b></font> rui2: what error message do you get from okular<br/>
<font color="#A82F2F"><font size="2">(04:40:09 PM)</font> <b>rui2:</b></font> ttuegel: for some pdfs, no error, just read as empty. For others, a message that no plugin has been found to read that type of file. Evince opens those<br/>
<font color="#A82F2F"><font size="2">(04:40:24 PM)</font> <b>rui2:</b></font> (and okular in my non-nixos laptop too)<br/>
<font color="#A82F2F"><font size="2">(04:40:47 PM)</font> <b>ttuegel:</b></font> rui2: are they all actually pdfs? none of them are secretly PS files? (because i know that PS happens to be broken ATM)<br/>
<font color="#A82F2F"><font size="2">(04:41:31 PM)</font> <b>rui2:</b></font> ttuegel: I am not sure but they should be pdfs. Furthermore, I also can&apos;t see icons in okular, so at least there&apos;s an issue<br/>
<font color="#A82F2F"><font size="2">(04:42:12 PM)</font> <b>ttuegel:</b></font> rui2: do you have kdelibs, kde_runtime, oxygen_icons, and shared_mime_info installed?<br/>
<font color="#A82F2F"><font size="2">(04:42:23 PM)</font> <b>rui2:</b></font> The left bar (with &quot;Contents&quot;, &quot;Thumbnails&quot;, &quot;Reviews&quot;, and &quot;Bookmarks&quot;) only shows that text, with an empty space on top where there were clearly icons<br/>
<font color="#A82F2F"><font size="2">(04:42:28 PM)</font> <b>rui2:</b></font> ttuegel: Checking...<br/>
<font size="2">(04:42:40 PM)</font><b> ehmry is now known as nickemery</b><br/>
<font size="2">(04:42:46 PM)</font><b> nickemery is now known as ehmry</b><br/>
<font color="#A82F2F"><font size="2">(04:43:17 PM)</font> <b>page:</b></font> ttuegel: how does coca keep track of what do you have in the profile? looks in the path?<br/>
<font color="#A82F2F"><font size="2">(04:43:52 PM)</font> <b>ttuegel:</b></font> page: it&apos;s actually sycoca, and yeah, it looks at KDEDIRS, QT_PLUGIN_PATH, a few other places.<br/>
<font color="#A82F2F"><font size="2">(04:44:42 PM)</font> <b>page:</b></font> ok, thanks<br/>
<font color="#A82F2F"><font size="2">(04:45:38 PM)</font> <b>ttuegel:</b></font> and if sounds like the most annoying piece of software, that&apos;s because... it is!<br/>
<font color="#A82F2F"><font size="2">(04:45:43 PM)</font> <b>ttuegel:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(04:46:05 PM)</font> <b>rui2:</b></font> ttuegel: massively installing/reinstalling all of those<br/>
<font color="#A82F2F"><font size="2">(04:46:12 PM)</font> <b>rui2:</b></font> in their kde4 and kde5 versions<br/>
<font color="#A82F2F"><font size="2">(04:46:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pjones opened pull request #7393: New package: SassC (front-end for libsass) (master...pkg/sassc) http://git.io/vvgww<br/>
<font color="#A82F2F"><font size="2">(04:46:25 PM)</font> <b>ttuegel:</b></font> rui2: ah no, don&apos;t do that, they aren&apos;t compatible<br/>
<font color="#A82F2F"><font size="2">(04:46:33 PM)</font> <b>rui2:</b></font> ttuegel: Too late :)<br/>
<font color="#A82F2F"><font size="2">(04:47:11 PM)</font> <b>rui2:</b></font> If it succeeds, I&apos;ll remove the kde4 ones in a second<br/>
<font color="#A82F2F"><font size="2">(04:48:12 PM)</font> <b>Forkk:</b></font> wow... Ran git status on the nixpkgs repo after a cold boot and it took at least 5-8 seconds<br/>
<font color="#A82F2F"><font size="2">(04:49:05 PM)</font> <b>the-kenny:</b></font> yup, that&apos;s normal :/<br/>
<font color="#A82F2F"><font size="2">(04:53:02 PM)</font> <b>Forkk:</b></font> I&apos;ve never seen a git repo with enough files to do that<br/>
<font color="#A82F2F"><font size="2">(04:56:59 PM)</font> <b>schoppenhauer:</b></font> hi. how is the networkmanager-plugin for openconnect called? (under kde)<br/>
<font color="#A82F2F"><font size="2">(04:57:05 PM)</font> <b>schoppenhauer:</b></font> I only find gnome-packages<br/>
<font color="#A82F2F"><font size="2">(04:58:14 PM)</font> <b>rui2:</b></font> ttuegel: Do you konw if it is safe to just use nix-env --set-flag priority ... to fix conflicts? I have a conflict between kde5.kdelibs and kde5.kservice<br/>
<font color="#A82F2F"><font size="2">(04:58:42 PM)</font> <b>ttuegel:</b></font> rui2: it is not safe. if you are going to use the kde5 versions, you don&apos;t need kdelibs<br/>
<font size="2">(04:59:29 PM)</font><b> ehmry is now known as nickemery</b><br/>
<font color="#A82F2F"><font size="2">(05:00:24 PM)</font> <b>rui2:</b></font> ttuegel: kde-runtime and shared-mime-info also conflict<br/>
<font color="#A82F2F"><font size="2">(05:01:17 PM)</font> <b>ttuegel:</b></font> rui2: that shouldn&apos;t be possible... but ok, prefer kde-runtime then<br/>
<font color="#A82F2F"><font size="2">(05:01:33 PM)</font> <b>rui2:</b></font> ttuegel: Without the shared-mime-info, nos there are icons in okular :) (still no pdf)<br/>
<font color="#A82F2F"><font size="2">(05:01:41 PM)</font> <b>rui2:</b></font> Thanks :), its getting better<br/>
<font color="#A82F2F"><font size="2">(05:01:51 PM)</font> <b>ttuegel:</b></font> i think kde-runtime propagates shared-mime-info, so that&apos;s probably why it &quot;conflicts&quot;<br/>
<font color="#A82F2F"><font size="2">(05:01:53 PM)</font> <b>rui2:</b></font> Dolphin now looks normal<br/>
<font color="#A82F2F"><font size="2">(05:03:01 PM)</font> <b>ttuegel:</b></font> rui2: are you installing with nix-env?<br/>
<font color="#A82F2F"><font size="2">(05:03:16 PM)</font> <b>rui2:</b></font> ttuegel: Yes<br/>
<font color="#A82F2F"><font size="2">(05:03:41 PM)</font> <b>ttuegel:</b></font> rui2: does `ls $HOME/.nix-profile/lib/kde4/okular*.so` show anything?<br/>
<font color="#A82F2F"><font size="2">(05:04:55 PM)</font> <b>rui2:</b></font> ttuegel: Several okularGenerator_*.so stuff<br/>
<font color="#A82F2F"><font size="2">(05:05:00 PM)</font> <b>rui2:</b></font> and okularpart.so<br/>
<font color="#A82F2F"><font size="2">(05:05:10 PM)</font> <b>ttuegel:</b></font> rui2: do you have okularGenerator_poppler.so?<br/>
<font color="#A82F2F"><font size="2">(05:05:18 PM)</font> <b>rui2:</b></font> ttuegel: yes<br/>
<font color="#A82F2F"><font size="2">(05:05:31 PM)</font> <b>rui2:</b></font> No okularGenerator_pdf.so if that should exist :P<br/>
<font color="#A82F2F"><font size="2">(05:05:40 PM)</font> <b>ttuegel:</b></font> poppler = pdf<br/>
<font color="#A82F2F"><font size="2">(05:05:54 PM)</font> <b>ttuegel:</b></font> so now we just need to know why sycoca can&apos;t find it :)<br/>
<font color="#A82F2F"><font size="2">(05:06:25 PM)</font> <b>ttuegel:</b></font> what are the KDEDIRS and QT_PLUGIN_PATH environment vars set to?<br/>
<font color="#A82F2F"><font size="2">(05:07:31 PM)</font> <b>rui2:</b></font> ttuegel: KDEDIRS is $HOME/.nix-profile:/nix/var/nix/profiles/default:/run/current-system/sw<br/>
<font color="#A82F2F"><font size="2">(05:08:03 PM)</font> <b>rui2:</b></font> ttuegel: the other one, $HOME/.nix-profile/lib/qt4/plugins:/home/rui/.nix-profile/lib/kde4/plugins:/nix/var/nix/profiles/default/lib/qt4/plugins:/nix/var/nix/profiles/default/lib/kde4/plugins:/run/current-system/sw/lib/qt4/plugins:/run/current-system/sw/lib/kde4/plugins<br/>
<font color="#A82F2F"><font size="2">(05:08:55 PM)</font> <b>ttuegel:</b></font> rui2: hmm, those look good. you have re-run kbuildsycoca{4,5}?<br/>
<font color="#A82F2F"><font size="2">(05:09:02 PM)</font> <b>Forkk:</b></font> why is my shell completely broken in the VM?<br/>
<font color="#A82F2F"><font size="2">(05:09:11 PM)</font> <b>Forkk:</b></font> is $TERM being propogated into the VM<br/>
<font color="#A82F2F"><font size="2">(05:09:40 PM)</font> <b>Forkk:</b></font> nope<br/>
<font color="#A82F2F"><font size="2">(05:10:16 PM)</font> <b>rui2:</b></font> ttuegel: Yes. Let&apos;s try again with other pdfs in case its that ps thing you just said<br/>
<font color="#A82F2F"><font size="2">(05:11:31 PM)</font> <b>rui2:</b></font> ttuegel: It doesn&apos;t show the &quot;can&apos;t find plugin&quot; error any more. Now they are just shown blank<br/>
<font color="#A82F2F"><font size="2">(05:11:53 PM)</font> <b>ttuegel:</b></font> rui2: i guess that&apos;s an improvement... :)<br/>
<font color="#A82F2F"><font size="2">(05:12:14 PM)</font> <b>rui2:</b></font> ttuegel: It&apos;s all getting better, haha<br/>
<font color="#A82F2F"><font size="2">(05:13:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 4 new commits to master: http://git.io/vvg9h<br/>
<font color="#A82F2F"><font size="2">(05:13:31 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2c6fbde Joel Moberg: i2p: fix platform<br/>
<font color="#A82F2F"><font size="2">(05:13:31 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5b075eb Joel Moberg: i2p: add nixos service<br/>
<font color="#A82F2F"><font size="2">(05:13:31 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e82a94f Joel Moberg: i2p: fix wrapper<br/>
<font color="#A82F2F"><font size="2">(05:14:31 PM)</font> <b>qknight:</b></font> anyone an idea why mysql stops working if i upgrade my system? it is still 5.1.73 before and after the update<br/>
<font color="#A82F2F"><font size="2">(05:15:23 PM)</font> <b>ttuegel:</b></font> rui2: you are using kde5.okular, right?<br/>
<font color="#A82F2F"><font size="2">(05:22:33 PM)</font> <b>rui2:</b></font> ttuegel: Yes. I now tried installing kde4.okular from another user account, and it shows the old &quot;Could not find a plugin...&quot; error<br/>
<font color="#A82F2F"><font size="2">(05:22:53 PM)</font> <b>Lethalman:</b></font> can&apos;t find xutils in nixpkgs<br/>
<font color="#A82F2F"><font size="2">(05:23:03 PM)</font> <b>Lethalman:</b></font> need the xhost program but can&apos;t find anywhere, anybody knows?<br/>
<font color="#A82F2F"><font size="2">(05:23:33 PM)</font> <b>Forkk:</b></font> so it seems like my termcap is broken in my nix vm or something<br/>
<font color="#A82F2F"><font size="2">(05:23:43 PM)</font> <b>nslqqq2:</b></font> https://github.com/NixOS/nixpkgs/blob/6a230188c65b8b7b0a3bb3303e027a862d93a161/pkgs/servers/x11/xorg/default.nix#L1827<br/>
<font color="#A82F2F"><font size="2">(05:23:45 PM)</font> <b>rui2:</b></font> Lethalman: ...pkgs.xlibs.xhost ?<br/>
<font color="#A82F2F"><font size="2">(05:23:55 PM)</font> <b>Lethalman:</b></font> oh thanks<br/>
<font color="#A82F2F"><font size="2">(05:23:56 PM)</font> <b>Lethalman:</b></font> :S<br/>
<font color="#A82F2F"><font size="2">(05:25:09 PM)</font> <b>Forkk:</b></font> the prompt has a bunch of nonsense around it, and when I press the arrow keys, it outputs a bunch of square brackets and symbols or whatever<br/>
<font color="#A82F2F"><font size="2">(05:29:08 PM)</font> <b>ttuegel:</b></font> rui2: i can&apos;t finish debugging this right now... could you open a ticket on github and tag @ttuegel in it? it would also help if you attached your shell environment (just the ouput of `export` or equivalent)<br/>
<font color="#A82F2F"><font size="2">(05:32:57 PM)</font> <b>Forkk:</b></font> nevermind, forgot to set i18n -_-<br/>
<font color="#A82F2F"><font size="2">(05:33:34 PM)</font> <b>Forkk:</b></font> and that didn&apos;t fix it D:<br/>
<font color="#A82F2F"><font size="2">(05:38:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ehmry opened pull request #7394: nixos: fix cjdns json config (master...cjdns) http://git.io/vv2vK<br/>
<font color="#16569E"><font size="2">(05:58:21 PM)</font> <b>magnetophon:</b></font> when using nix on another OS, how do I get my source tree in sync with my current version (since there is no nixos-version in nix)<br/>
<font color="#16569E"><font size="2">(05:59:49 PM)</font> <b>magnetophon:</b></font> nm, found it<br/>
<font color="#A82F2F"><font size="2">(06:00:31 PM)</font> <b>goibhniu:</b></font> magnetophon: by following ~/.nix-defexpr/channels/nixpkgs ... or is there another way?<br/>
<font color="#A82F2F"><font size="2">(06:01:20 PM)</font> <b>chexxor:</b></font> Cheers to the peeps adding to the wiki!<br/>
<font color="#A82F2F"><font size="2">(06:01:22 PM)</font> <b>chexxor:</b></font> https://nixos.org/w/index.php?title=Special:RecentChanges&amp;days=30&amp;from=&amp;limit=100<br/>
<font color="#A82F2F"><font size="2">(06:01:36 PM)</font> <b>chexxor:</b></font> It&apos;s worth saying every once in awhile<br/>
<font color="#16569E"><font size="2">(06:01:41 PM)</font> <b>magnetophon:</b></font> goibhniu: yes: nix-instantiate --eval -E '(import &lt;nixpkgs&gt; {}).lib.nixpkgsVersion'<br/>
<font color="#A82F2F"><font size="2">(06:02:14 PM)</font> <b>goibhniu:</b></font> magnetophon: oh, nice!<br/>
<font color="#A82F2F"><font size="2">(06:08:50 PM)</font> <b>hlavaty:</b></font> hi, is it normal that nix expressions are duplicated between default.nix for nix(os) and release.nix for hydra; or is there a way to reuse the default.nix for hydra nix expressions?<br/>
<font color="#A82F2F"><font size="2">(06:09:36 PM)</font> <b>Lethalman:</b></font> hlavaty, what are you talking about?<br/>
<font color="#A82F2F"><font size="2">(06:10:27 PM)</font> <b>hlavaty:</b></font> Lethalman: i have a nix expression which builds and installs a package into my home environment; now i want to test this in hydra<br/>
<font color="#A82F2F"><font size="2">(06:10:49 PM)</font> <b>hlavaty:</b></font> and havent wrapped my head around it yet<br/>
<font color="#A82F2F"><font size="2">(06:10:59 PM)</font> <b>Lethalman:</b></font> nix has a thing called &quot;import&quot;<br/>
<font color="#A82F2F"><font size="2">(06:11:23 PM)</font> <b>Lethalman:</b></font> then there are functions, and sets<br/>
<font color="#A82F2F"><font size="2">(06:11:27 PM)</font> <b>Lethalman:</b></font> the rest is your imagination<br/>
<font color="#A82F2F"><font size="2">(06:11:58 PM)</font> <b>hlavaty:</b></font> yes, the imagination i&apos;m lacking<br/>
<font color="#A82F2F"><font size="2">(06:12:40 PM)</font> <b>hlavaty:</b></font> or lacking examples<br/>
<font color="#A82F2F"><font size="2">(06:13:13 PM)</font> <b>hlavaty:</b></font> for example, i have not seen a hydra expresion which would refer to package expression somehow<br/>
<font color="#A82F2F"><font size="2">(06:17:41 PM)</font> <b>Lethalman:</b></font> hlavaty, how not, the whole nixpkgs at hydra.nixos.org :)<br/>
<font color="#A82F2F"><font size="2">(06:20:11 PM)</font> <b>hlavaty:</b></font> Lethalman: where can I find the jobset nix expression for nixpkgs @hydra.nixos.org?  it&apos;s not obvious to me<br/>
<font color="#A82F2F"><font size="2">(06:20:35 PM)</font> <b>Lethalman:</b></font> hlavaty, so you have a package.nix<br/>
<font color="#A82F2F"><font size="2">(06:20:53 PM)</font> <b>Lethalman:</b></font> what&apos;s your problem in creating a jobset.nix with { package = import ./package.nix; } ?<br/>
<font color="#A82F2F"><font size="2">(06:22:02 PM)</font> <b>hlavaty:</b></font> by package.nix you mean something like package/default.nix with mkDerivation inside?<br/>
<font color="#A82F2F"><font size="2">(06:22:17 PM)</font> <b>Lethalman:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(06:23:29 PM)</font> <b>hlavaty:</b></font> ok thanks i&apos;ll try that import<br/>
<font color="#A82F2F"><font size="2">(06:23:47 PM)</font> <b>Lethalman:</b></font> it may be more complex than that<br/>
<font color="#A82F2F"><font size="2">(06:24:04 PM)</font> <b>Lethalman:</b></font> try reading the nixpkgs for examples<br/>
<font size="2">(06:25:26 PM)</font><b> pmahoney left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(06:25:44 PM)</font> <b>nicocbg:</b></font> I was surpised to see everything being rebuilt when calling   ‘pkgs.haskellngPackages.ghcWithPackages’ to install aeson when I already had  “pkgs.haskell-ng.packages.ghc784.ghcWithPackages’  with it installed<br/>
<font color="#A82F2F"><font size="2">(06:26:16 PM)</font> <b>bennofs:</b></font> nicocbg: that is indeed surprising<br/>
<font color="#A82F2F"><font size="2">(06:26:40 PM)</font> <b>nicocbg:</b></font> then spotted the following slight difference which might explain it :haskellngPackages = haskell-ng.packages.ghc784.override {<br/>
<font color="#A82F2F"><font size="2">(06:26:40 PM)</font> <b>nicocbg:</b></font>     overrides = config.haskellPackageOverrides or (self: super: {});<br/>
<font color="#A82F2F"><font size="2">(06:26:41 PM)</font> <b>nicocbg:</b></font>     provideOldAttributeNames = config.provideOldHaskellAttributeNames or false;<br/>
<font color="#A82F2F"><font size="2">(06:26:42 PM)</font> <b>nicocbg:</b></font>   };<br/>
<font color="#A82F2F"><font size="2">(06:26:43 PM)</font> <b>bennofs:</b></font> nicocbg: are you sure you didn&apos;t do a channel update or otherwise modified your nixpkgs in between?<br/>
<font color="#A82F2F"><font size="2">(06:27:01 PM)</font> <b>hlavaty:</b></font> Lethalman: grep releaseTools gives very little examples<br/>
<font color="#A82F2F"><font size="2">(06:27:12 PM)</font> <b>bennofs:</b></font> nicocbg: oh, and do you have anything in config.haskellPackageOverrides?<br/>
<font color="#A82F2F"><font size="2">(06:27:28 PM)</font> <b>Lethalman:</b></font> hlavaty, if you pasted the expression maybe you may get more help<br/>
<font color="#A82F2F"><font size="2">(06:27:36 PM)</font> <b>bennofs:</b></font> nicocbg: (does your ~/.nixpkgs/config.nix contain custom haskellPackageOverrides?)<br/>
<font color="#A82F2F"><font size="2">(06:27:38 PM)</font> <b>nicocbg:</b></font> bennofs : this is in the top-level/all-packages<br/>
<font color="#A82F2F"><font size="2">(06:27:39 PM)</font> <b>Lethalman:</b></font> if you still can&apos;t browse through nixpkgs<br/>
<font color="#A82F2F"><font size="2">(06:28:28 PM)</font> <b>nicocbg:</b></font> hence my question : could this simple flag modify the hashes, hence triggering the recompile etc..<br/>
<font color="#A82F2F"><font size="2">(06:28:48 PM)</font> <b>nicocbg:</b></font> that would make sense I guess<br/>
<font color="#A82F2F"><font size="2">(06:28:49 PM)</font> <b>bennofs:</b></font> nicocbg: the question is if you have defined custom haskell package overrides in your ~/.nixpkgs/config.nix<br/>
<font color="#A82F2F"><font size="2">(06:30:08 PM)</font> <b>nicocbg:</b></font> oh, yes.. I override a cabal package  to point to a nix expression<br/>
<font color="#A82F2F"><font size="2">(06:30:14 PM)</font> <b>nicocbg:</b></font> local nix expression<br/>
<font color="#A82F2F"><font size="2">(06:30:28 PM)</font> <b>bennofs:</b></font> nicocbg: is that a dependency of aeson?<br/>
<font color="#A82F2F"><font size="2">(06:30:53 PM)</font> <b>nicocbg:</b></font> yeah that would explain it.. let me check<br/>
<font color="#A82F2F"><font size="2">(06:31:10 PM)</font> <b>nicocbg:</b></font> (I just love this store thing)<br/>
<font color="#A82F2F"><font size="2">(06:34:44 PM)</font> <b>nicocbg:</b></font> so I go to nix-repl&gt; pkgs.haskellngPackages.aeson<br/>
<font color="#A82F2F"><font size="2">(06:34:45 PM)</font> <b>nicocbg:</b></font> «derivation /nix/store/xmgz0xlxigf0mlsica6y38jhvqrk1s84-haskell-aeson-0.8.0.2.drv»<br/>
<font color="#A82F2F"><font size="2">(06:35:18 PM)</font> <b>nicocbg:</b></font> then nix-store -qR /nix/store/xmgz0xlxigf0mlsica6y38jhvqrk1s84-haskell-aeson-0.8.0.2.drv | grep system-fileio<br/>
<font color="#A82F2F"><font size="2">(06:35:21 PM)</font> <b>nicocbg:</b></font> and get nothing<br/>
<font color="#A82F2F"><font size="2">(06:35:29 PM)</font> <b>nicocbg:</b></font> it does not seem to be the case<br/>
<font color="#A82F2F"><font size="2">(06:35:54 PM)</font> <b>nicocbg:</b></font> I’ll get rid of this override and see if any other overrides might trigger the recompile<br/>
<font color="#A82F2F"><font size="2">(06:36:41 PM)</font> <b>bennofs:</b></font> nicocbg: hmm, maybe you could diff the derivation of pkgs.haskellngPackages.aeson and pkgs.haskell-ng.packages.ghc784.aeson?<br/>
<font color="#A82F2F"><font size="2">(06:36:49 PM)</font> <b>bennofs:</b></font> (the .drv&apos;s)<br/>
<font color="#A82F2F"><font size="2">(06:36:50 PM)</font> <b>nicocbg:</b></font> good idea<br/>
<font color="#A82F2F"><font size="2">(06:38:07 PM)</font> <b>nicocbg:</b></font> actually they are the same derivation<br/>
<font color="#A82F2F"><font size="2">(06:39:51 PM)</font> <b>bennofs:</b></font> nicocbg: hmm ok, then can you compare nix-instantiate -E &apos;expression to get ghc with packages&apos; for the two?<br/>
<font color="#A82F2F"><font size="2">(06:39:55 PM)</font> <b>Lethalman:</b></font> well now I can&apos;t understand this :S<br/>
<font color="#A82F2F"><font size="2">(06:40:00 PM)</font> <b>Lethalman:</b></font> the gnome 3.16 nixos test works<br/>
<font color="#A82F2F"><font size="2">(06:40:05 PM)</font> <b>Lethalman:</b></font> but in vbox it doesn&apos;t<br/>
<font color="#A82F2F"><font size="2">(06:40:05 PM)</font> <b>Lethalman:</b></font> :O<br/>
<font color="#062585"><font size="2">(06:40:08 PM)</font> <b>***Lethalman</b></font> stunned<br/>
<font color="#A82F2F"><font size="2">(06:40:15 PM)</font> <b>Lethalman:</b></font> it&apos;s like gdm is following a different code path<br/>
<font color="#A82F2F"><font size="2">(06:40:25 PM)</font> <b>Lethalman:</b></font> that will be a nightmare to debug<br/>
<font color="#A82F2F"><font size="2">(06:40:43 PM)</font> <b>Lethalman:</b></font> ah no<br/>
<font color="#A82F2F"><font size="2">(06:40:48 PM)</font> <b>Lethalman:</b></font> the nixos test passes because it doesn&apos;t use gdm at all!<br/>
<font color="#062585"><font size="2">(06:41:04 PM)</font> <b>***Lethalman</b></font> has to write a gdm test ...<br/>
<font size="2">(06:51:16 PM)</font><b> pmahoney [<em>~user@50.57.17.245</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:56:33 PM)</font> <b>nicocbg:</b></font> there was another package which had in its dependency one of the override I have in my ~/.nixpkgs/config.nix<br/>
<font color="#A82F2F"><font size="2">(06:56:45 PM)</font> <b>nicocbg:</b></font> nix is really good…<br/>
<font size="2">(07:00:26 PM)</font><b> wkennington [<em>~william@76.77.180.204</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:01:27 PM)</font> <b>seppellll:</b></font> has the file ~/.nixpkgs/config.nix any special meaning to nix by default? (i am a noob)<br/>
<font color="#A82F2F"><font size="2">(07:02:13 PM)</font> <b>bennofs:</b></font> seppellll: yes, it&apos;s read by nixpkgs when you use nix-env (you can use it to override packages for nix-env)<br/>
<font size="2">(07:05:22 PM)</font><b> ifur_ is now known as ifur</b><br/>
<font size="2">(07:05:32 PM)</font><b> wkennington left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(07:06:26 PM)</font><b> Lethalman left the room (quit: Quit: Sto andando via).</b><br/>
<font color="#A82F2F"><font size="2">(07:06:33 PM)</font> <b>Forkk:</b></font> So, in the nix VM generated by nixos-rebuild, my terminal is messed up so that whenever I press the arrow keys, it generates ^[[A, ^[[B, etc.<br/>
<font color="#A82F2F"><font size="2">(07:06:34 PM)</font> <b>Forkk:</b></font> is this a known issue?<br/>
<font color="#A82F2F"><font size="2">(07:08:39 PM)</font> <b>qknight:</b></font> Forkk: type &apos;reset&apos;<br/>
<font color="#A82F2F"><font size="2">(07:08:48 PM)</font> <b>qknight:</b></font> Forkk: sometimes this fixes it<br/>
<font size="2">(07:08:59 PM)</font><b> wkennington [<em>~william@76.77.180.204</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:10:43 PM)</font> <b>Forkk:</b></font> qknight, it happens on boot<br/>
<font color="#A82F2F"><font size="2">(07:10:59 PM)</font> <b>Forkk:</b></font> and no, didn&apos;t fix<br/>
<font color="#A82F2F"><font size="2">(07:11:06 PM)</font> <b>Forkk:</b></font> $TERM is set to &quot;linux&quot; too<br/>
<font color="#A82F2F"><font size="2">(07:11:32 PM)</font> <b>Forkk:</b></font> control key things like ^L also don&apos;t work<br/>
<font color="#A82F2F"><font size="2">(07:11:52 PM)</font> <b>Forkk:</b></font> also, the prompt is surrounded by \[\] on both sides<br/>
<font color="#A82F2F"><font size="2">(07:13:47 PM)</font> <b>qknight:</b></font> Forkk: might be caused by your PS1 environment variable<br/>
<font color="#A82F2F"><font size="2">(07:13:55 PM)</font> <b>qknight:</b></font> Forkk: which shell do you use and which terminal?<br/>
<font color="#A82F2F"><font size="2">(07:14:06 PM)</font> <b>Forkk:</b></font> bash and urxvt<br/>
<font color="#A82F2F"><font size="2">(07:14:13 PM)</font> <b>Forkk:</b></font> but this is running in QEMU<br/>
<font color="#A82F2F"><font size="2">(07:14:21 PM)</font> <b>Forkk:</b></font> which is what&apos;s got me confused<br/>
<font color="#A82F2F"><font size="2">(07:14:36 PM)</font> <b>Forkk:</b></font> there&apos;s no terminal emulator involved, yet it&apos;s behaving as if the termcap is fucked up<br/>
<font color="#A82F2F"><font size="2">(07:19:55 PM)</font> <b>ttuegel:</b></font> Forkk: are you ssh&apos;d into the vm?<br/>
<font size="2">(07:20:38 PM)</font><b> dav_ is now known as dav</b><br/>
<font color="#A82F2F"><font size="2">(07:20:45 PM)</font> <b>Forkk:</b></font> ttuegel, no<br/>
<font color="#A82F2F"><font size="2">(07:21:05 PM)</font> <b>ttuegel:</b></font> sorry, i misunderstood because urxvt got in there. i got nothin&apos;<br/>
<font color="#A82F2F"><font size="2">(07:21:18 PM)</font> <b>Forkk:</b></font> ugh<br/>
<font color="#A82F2F"><font size="2">(07:21:23 PM)</font> <b>Forkk:</b></font> this is really annoying<br/>
<font color="#A82F2F"><font size="2">(07:21:36 PM)</font> <b>Forkk:</b></font> ttuegel, how can I set it up so I can ssh into the VM?<br/>
<font color="#A82F2F"><font size="2">(07:21:54 PM)</font> <b>ttuegel:</b></font> Forkk: you would need to set up an ssh server in the vm&apos;s configuration.nix<br/>
<font color="#A82F2F"><font size="2">(07:22:24 PM)</font> <b>Forkk:</b></font> yeah, that&apos;s the easy part<br/>
<font color="#A82F2F"><font size="2">(07:22:37 PM)</font> <b>Forkk:</b></font> but what about port forwarding? How is networking done for the VMs?<br/>
<font color="#A82F2F"><font size="2">(07:23:04 PM)</font> <b>ttuegel:</b></font> idk<br/>
<font color="#A82F2F"><font size="2">(07:24:14 PM)</font> <b>Forkk:</b></font> :|<br/>
<font color="#A82F2F"><font size="2">(07:24:31 PM)</font> <b>Forkk:</b></font> that would probablysolve the problem<br/>
<font color="#A82F2F"><font size="2">(07:25:41 PM)</font> <b>Forkk:</b></font> also, ttuegel, what&apos;s the recommended way to make a /var/lib/&lt;service&gt; folder for a module?<br/>
<font color="#A82F2F"><font size="2">(07:25:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ellis opened pull request #7395: patch Qt to use XDG_CONFIG_DIRS in QSettings (master...qt53-xdg_config_dirs) http://git.io/vv2AM<br/>
<font color="#A82F2F"><font size="2">(07:30:00 PM)</font> <b>Forkk:</b></font> I&apos;ve seen modules do &quot;mkdir /var/lib/whatever&quot; in their systemd unit, but mine is running as a different user, so it doesn&apos;t have permissions<br/>
<font color="#A82F2F"><font size="2">(07:32:46 PM)</font> <b>ttuegel:</b></font> Forkk: i think you can do it in preStart before it drops permissions?<br/>
<font color="#A82F2F"><font size="2">(07:33:10 PM)</font> <b>Forkk:</b></font> I thought perms are dropped in preStart<br/>
<font color="#A82F2F"><font size="2">(07:33:23 PM)</font> <b>Forkk:</b></font> because I put the mkdir command there and still got permission denied<br/>
<font color="#A82F2F"><font size="2">(07:34:33 PM)</font> <b>Forkk:</b></font> oh, hang on<br/>
<font color="#A82F2F"><font size="2">(07:34:37 PM)</font> <b>Forkk:</b></font> maybe not<br/>
<font color="#A82F2F"><font size="2">(07:34:42 PM)</font> <b>kmicu:</b></font> ‘preStart = &quot;mkdir -p ${cfg.dataDir} &amp;&amp; chown -R mopidy:mopidy  ${cfg.dataDir}&quot;;’<br/>
<font color="#A82F2F"><font size="2">(07:37:00 PM)</font> <b>Forkk:</b></font> yep, &quot;cannot create directory &quot;/var/lib/plex&quot;: permission denied<br/>
<font color="#A82F2F"><font size="2">(07:39:28 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub closed pull request #7224: Aegisub: 3.2.1 -&gt; 3.2.2 (master...aegisub) http://git.io/vezM9<br/>
<font color="#A82F2F"><font size="2">(07:41:08 PM)</font> <b>Forkk:</b></font> kmicu, is there any way to have only execstartpre run as root?<br/>
<font color="#A82F2F"><font size="2">(07:42:11 PM)</font> <b>ttuegel:</b></font> Forkk: there&apos;s a difference between preStart and ExecStartPre!<br/>
<font color="#A82F2F"><font size="2">(07:42:52 PM)</font> <b>ttuegel:</b></font> are you sure this doesn&apos;t work? https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/networking/dhcpd.nix#L127<br/>
<font color="#A82F2F"><font size="2">(07:43:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cheecheeo opened pull request #7396: update lastpass-cli to version 0.5.1 (master...lastpass_update) http://git.io/vvaUG<br/>
<font color="#A82F2F"><font size="2">(07:43:54 PM)</font> <b>Forkk:</b></font> I put it in preStart and looked at the generated service file and it just puts it in ExecStartPre. Where is the difference?<br/>
<font color="#A82F2F"><font size="2">(07:45:37 PM)</font> <b>ttuegel:</b></font> ah no sorry, i&apos;m using legacy knowledge, ignore me XD<br/>
<font color="#A82F2F"><font size="2">(07:46:25 PM)</font> <b>dav:</b></font> ALL - Has there been a change in the nix build process where /nix/store cannot be read or something of that sort recently?<br/>
<font color="#A82F2F"><font size="2">(07:46:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 1 new commit to release-14.12: http://git.io/vvakO<br/>
<font color="#A82F2F"><font size="2">(07:46:55 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 dd0f98f Ricardo M. Correia: flashplayer: Update from 11.2.202.442 -&gt; 11.2.202.451...<br/>
<font color="#A82F2F"><font size="2">(07:48:49 PM)</font> <b>Forkk:</b></font> ugh :|<br/>
<font color="#A82F2F"><font size="2">(07:48:55 PM)</font> <b>Forkk:</b></font> this is silly<br/>
<font color="#A82F2F"><font size="2">(07:49:09 PM)</font> <b>Forkk:</b></font> maybe using preStart is causing permissions to drop<br/>
<font color="#A82F2F"><font size="2">(07:52:05 PM)</font> <b>Forkk:</b></font> yep, that was it<br/>
<font size="2">(07:57:03 PM)</font><b> pmahoney left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(08:01:32 PM)</font> <b>Forkk:</b></font> and now it&apos;s saying plex&apos;s executable doesn&apos;t exist... wtf<br/>
<font color="#A82F2F"><font size="2">(08:02:28 PM)</font> <b>dav:</b></font> am very confused<br/>
<font color="#A82F2F"><font size="2">(08:02:40 PM)</font> <b>dav:</b></font> doing nix-shell default.nix -A fsharp --pure<br/>
<font color="#A82F2F"><font size="2">(08:02:49 PM)</font> <b>dav:</b></font> then unpackPhase<br/>
<font color="#A82F2F"><font size="2">(08:03:04 PM)</font> <b>dav:</b></font> then cd fsharp-3.1.1.31<br/>
<font color="#A82F2F"><font size="2">(08:03:50 PM)</font> <b>dav:</b></font> then configurePhase<br/>
<font color="#A82F2F"><font size="2">(08:03:50 PM)</font> <b>dav:</b></font> there it tries to run ./configure even though that&apos;s *not* what the configure phase is<br/>
<font color="#A82F2F"><font size="2">(08:03:50 PM)</font> <b>dav:</b></font> (see https://github.com/NixOS/nixpkgs/blob/master/pkgs/development/compilers/fsharp/default.nix)<br/>
<font color="#A82F2F"><font size="2">(08:03:50 PM)</font> <b>dav:</b></font> what am I doing wrong?<br/>
<font color="#A82F2F"><font size="2">(08:04:21 PM)</font> <b>bennofs:</b></font> dav: try eval &quot;$configurePhase&quot;<br/>
<font color="#A82F2F"><font size="2">(08:05:01 PM)</font> <b>dav:</b></font> bennofs: works<br/>
<font size="2">(08:05:04 PM)</font><b> kleier___ is now known as kleier</b><br/>
<font color="#A82F2F"><font size="2">(08:05:10 PM)</font> <b>dav:</b></font> bennofs: but shouldn&apos;t it be configurePhase?<br/>
<font color="#A82F2F"><font size="2">(08:05:40 PM)</font> <b>bennofs:</b></font> dav: configurePhase is the default configure phase. if a package overrides configurePhase, then it&apos;ll be an environment variable<br/>
<font color="#A82F2F"><font size="2">(08:05:51 PM)</font> <b>bennofs:</b></font> dav: you can also do runHook configurePhase I believe<br/>
<font color="#A82F2F"><font size="2">(08:06:15 PM)</font> <b>bennofs:</b></font> (which will call either eval &quot;$configurePhase&quot; or configurePhase if that is undefined)<br/>
<font color="#A82F2F"><font size="2">(08:06:30 PM)</font> <b>dav:</b></font> so is there a document somewhere that explains the closest sequence of steps to reproduce a nix build in nix-shell ?<br/>
<font color="#A82F2F"><font size="2">(08:06:58 PM)</font> <b>bennofs:</b></font> dav: running genericBuild should do that<br/>
<font color="#A82F2F"><font size="2">(08:07:41 PM)</font> <b>dav:</b></font> ok cool I can just read the code for that function<br/>
<font color="#A82F2F"><font size="2">(08:08:07 PM)</font> <b>bennofs:</b></font> dav: it&apos;s in nixpkgs/pkgs/stdenv/generic/<br/>
<font color="#A82F2F"><font size="2">(08:08:17 PM)</font> <b>dav:</b></font> or I can type type genericBuild<br/>
<font color="#A82F2F"><font size="2">(08:12:19 PM)</font> <b>konobi:</b></font> *blink* what am I just not getting about getting plymouth into my configuration.nix<br/>
<font color="#A82F2F"><font size="2">(08:12:24 PM)</font> <b>konobi:</b></font> =0/<br/>
<font size="2">(08:15:14 PM)</font><b> goibhniu left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(08:23:48 PM)</font> <b>dav:</b></font> Does anyone other than me feel like it would be useful to refactor setup.sh a bit in order to make it easier to build packages in nix-shell?<br/>
<font size="2">(08:28:18 PM)</font><b> pmahoney [<em>~user@50.57.17.245</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:31:35 PM)</font> <b>qknight:</b></font> dav: nix-shell is documentated in the wiki<br/>
<font color="#A82F2F"><font size="2">(08:32:28 PM)</font> <b>qknight:</b></font> dav: https://nixos.org/wiki/Create_and_debug_nix_packages#Using_nix-shell_for_package_development<br/>
<font size="2">(09:06:19 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
