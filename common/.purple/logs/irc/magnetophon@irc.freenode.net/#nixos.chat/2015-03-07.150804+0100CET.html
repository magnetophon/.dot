<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Sat 07 Mar 2015 03:08:04 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Sat 07 Mar 2015 03:08:04 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(03:08:04 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(03:08:04 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(03:10:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] matthiasbeyer opened pull request #6695: Add package: hstr (hh) (master...add-hstr) http://git.io/pkyA<br/>
<font color="#A82F2F"><font size="2">(03:17:29 PM)</font> <b>goibhniu:</b></font> nkar you can use it inside a virtualenv<br/>
<font color="#A82F2F"><font size="2">(03:17:56 PM)</font> <b>goibhniu:</b></font> nkar: but you need to specify the python version for virtualenv to work properly: `virtualenv --python=python2.7 venv`<br/>
<font color="#A82F2F"><font size="2">(03:18:50 PM)</font> <b>musicmatze:</b></font> Hi guys<br/>
<font color="#A82F2F"><font size="2">(03:19:13 PM)</font> <b>musicmatze:</b></font> I want to package a source which does nasty things in the ./configure file, for example checking whether perl is /usr/bin/perl<br/>
<font color="#A82F2F"><font size="2">(03:19:21 PM)</font> <b>musicmatze:</b></font> how to fix this in preConfigurePhase?<br/>
<font color="#A82F2F"><font size="2">(03:19:29 PM)</font> <b>musicmatze:</b></font> Are there some helper scripts around for this?<br/>
<font color="#A82F2F"><font size="2">(03:20:17 PM)</font> <b>goibhniu:</b></font> musicmatze: you probably need to patch it, I don&apos;t know of anything generic for that<br/>
<font color="#A82F2F"><font size="2">(03:20:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to master: http://git.io/pkQi<br/>
<font color="#A82F2F"><font size="2">(03:20:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 08e41f7 taku0: firefox-bin: update to version 36.0.1 (close #6691)<br/>
<font color="#A82F2F"><font size="2">(03:21:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat closed pull request #6691: firefox-bin: update to version 36.0.1 (master...firefox-bin-36.0.1) http://git.io/pUIp<br/>
<font color="#A82F2F"><font size="2">(03:25:21 PM)</font> <b>musicmatze:</b></font> goibhniu: Urgh... just looked at it... seems I&apos;m not packaging this one, this is f**king ugly... :-)<br/>
<font color="#A82F2F"><font size="2">(03:26:14 PM)</font> <b>musicmatze:</b></font> I remember there is a site on nixos.org (or was it hydra.nixos.org?) where all package maintainers are listed, including the packages they are responsible for, ...<br/>
<font color="#A82F2F"><font size="2">(03:26:21 PM)</font> <b>musicmatze:</b></font> can someone tell me how to get there?<br/>
<font color="#A82F2F"><font size="2">(03:26:37 PM)</font> <b>goibhniu:</b></font> musicmatze: http://monitor.nixos.org/ ?<br/>
<font color="#A82F2F"><font size="2">(03:26:37 PM)</font> <b>musicmatze:</b></font> google isn&apos;t really helpful with this... or I&apos;m using the wrong words...<br/>
<font color="#A82F2F"><font size="2">(03:26:46 PM)</font> <b>musicmatze:</b></font> :-(<br/>
<font color="#A82F2F"><font size="2">(03:26:48 PM)</font> <b>musicmatze:</b></font> yeah!<br/>
<font color="#A82F2F"><font size="2">(03:26:51 PM)</font> <b>musicmatze:</b></font> thanks<br/>
<font color="#A82F2F"><font size="2">(03:26:54 PM)</font> <b>goibhniu:</b></font> np<br/>
<font size="2">(03:26:55 PM)</font><b> vcunat left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(03:41:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] matthiasbeyer opened pull request #6696: Update: vdirsyncer 0.4.2 -&gt; 0.4.3 (master...update-vdirsyncer) http://git.io/pkNV<br/>
<font size="2">(03:42:44 PM)</font><b> vcunat [<em>~admin@nat-34.starnet.cz</em>] entered the room.</b><br/>
<font size="2">(03:54:13 PM)</font><b> boegel|afk is now known as boegel</b><br/>
<font color="#A82F2F"><font size="2">(04:09:59 PM)</font> <b>nkar:</b></font> haskell-ng question: does anyone know offhand how to override a dependency in shell.nix to disable tests?<br/>
<font color="#A82F2F"><font size="2">(04:10:39 PM)</font> <b>seanz:</b></font> I&apos;m running KDE w/ NixOS. Does anyone else notice that the left-click produces a right-click randomly?<br/>
<font color="#A82F2F"><font size="2">(04:10:47 PM)</font> <b>seanz:</b></font> Right- or middle-click, I&apos;m not sure which.<br/>
<font color="#A82F2F"><font size="2">(04:10:53 PM)</font> <b>nkar:</b></font> lol<br/>
<font color="#A82F2F"><font size="2">(04:11:57 PM)</font> <b>viric:</b></font> maybe it&apos;s your mouse<br/>
<font color="#A82F2F"><font size="2">(04:18:23 PM)</font> <b>ktosiek:</b></font> seanz: haven&apos;t noticed anything like that<br/>
<font color="#A82F2F"><font size="2">(04:18:39 PM)</font> <b>seanz:</b></font> ktosiek: Hm. I wonder what&apos;s wrong w/ my configuration then.<br/>
<font color="#A82F2F"><font size="2">(04:18:52 PM)</font> <b>seanz:</b></font> Or maybe my laptop&apos;s hardware is starting to develop some problems.<br/>
<font color="#A82F2F"><font size="2">(04:19:26 PM)</font> <b>ktosiek:</b></font> I&apos;d check the hardware first - is the wrong click produced often?<br/>
<font color="#A82F2F"><font size="2">(04:19:39 PM)</font> <b>ktosiek:</b></font> oh, and is it about buttons or tapping the touchpad?<br/>
<font color="#A82F2F"><font size="2">(04:21:17 PM)</font> <b>seanz:</b></font> ktosiek: My laptop has two sets of buttons. It always happens with the bottom left-click button. I don&apos;t use the tap or top buttons often enough to know whether it happens there, too.<br/>
<font color="#A82F2F"><font size="2">(04:21:21 PM)</font> <b>ktosiek:</b></font> you can always boot another OS and check there if it happens a lot<br/>
<font color="#A82F2F"><font size="2">(04:22:20 PM)</font> <b>seanz:</b></font> ktosiek: Yes, good point. I&apos;ve got Windows on another partition in this computer. I&apos;ll check there. I just replaced Fedora w/ NixOS this past week on this laptop, and I don&apos;t recall this issue in Fedora.<br/>
<font color="#A82F2F"><font size="2">(04:24:20 PM)</font> <b>spwhitt:</b></font> seanz: Has happened to me as well<br/>
<font color="#A82F2F"><font size="2">(04:24:34 PM)</font> <b>seanz:</b></font> spwhitt: Ah...confirmation!<br/>
<font color="#A82F2F"><font size="2">(04:24:45 PM)</font> <b>spwhitt:</b></font> seanz: On my thinkpad, the bottom left button sometimes right clicks, but it comes and goes<br/>
<font color="#A82F2F"><font size="2">(04:25:04 PM)</font> <b>seanz:</b></font> spwhitt: Do you think it has to do w/ your synaptics settings? I can&apos;t think of what else could be causing it offhand.<br/>
<font color="#A82F2F"><font size="2">(04:25:11 PM)</font> <b>spwhitt:</b></font> seanz: the row of  buttons abover the trackpad haven&apos;t had that problem, but I don&apos;t use them as much so maybe I missed it<br/>
<font color="#A82F2F"><font size="2">(04:25:29 PM)</font> <b>spwhitt:</b></font> seanz: I&apos;m not sure. I haven&apos;t configured them that much<br/>
<font color="#A82F2F"><font size="2">(04:25:58 PM)</font> <b>seanz:</b></font> These are mine: http://dpaste.com/2578M4P<br/>
<font color="#A82F2F"><font size="2">(04:26:10 PM)</font> <b>seanz:</b></font> Maybe it&apos;s the palmDetect option. Do you have that one set as well?<br/>
<font color="#A82F2F"><font size="2">(04:26:12 PM)</font> <b>spwhitt:</b></font> mine: https://github.com/spwhitt/nix-conf/blob/master/clippy/configuration.nix#L68<br/>
<font color="#A82F2F"><font size="2">(04:26:19 PM)</font> <b>spwhitt:</b></font> no palmDetect<br/>
<font color="#A82F2F"><font size="2">(04:28:10 PM)</font> <b>nkar:</b></font> so is there a way to override a package without using config.nix?<br/>
<font color="#A82F2F"><font size="2">(04:28:14 PM)</font> <b>nkar:</b></font> I just want to add a single line<br/>
<font color="#A82F2F"><font size="2">(04:35:42 PM)</font> <b>jaga1:</b></font> nkar: let aNew = a.overrideDerivation (attrs: { doCheck = false; }); in { ....... };<br/>
<font color="#A82F2F"><font size="2">(04:43:16 PM)</font> <b>nkar:</b></font> jaga1: I get error: anonymous function at &quot;...&quot;:5:14 called without required argument ‘aNew’, at &quot;...customisation.nix&quot;:58:12<br/>
<font color="#A82F2F"><font size="2">(04:43:49 PM)</font> <b>nkar:</b></font> jaga1: my file is similar to this one https://gist.github.com/purefn/026625ad116b05ff9a8d<br/>
<font color="#A82F2F"><font size="2">(04:43:57 PM)</font> <b>nkar:</b></font> but I don&apos;t override the entire set<br/>
<font color="#A82F2F"><font size="2">(04:44:13 PM)</font> <b>nkar:</b></font> instead I have pkg = haskellngPackages.callPackage<br/>
<font color="#A82F2F"><font size="2">(04:44:15 PM)</font> <b>nkar:</b></font> where I use aNew<br/>
<font color="#A82F2F"><font size="2">(04:44:36 PM)</font> <b>nkar:</b></font> and aNew is defined inside let, above pkg<br/>
<font color="#A82F2F"><font size="2">(04:46:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga pushed 2 new commits to master: http://git.io/pInG<br/>
<font color="#A82F2F"><font size="2">(04:46:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 425110d Matthias Beyer: Add package: hstr (hh)<br/>
<font color="#A82F2F"><font size="2">(04:46:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1a25b83 Arseniy Seroka: Merge pull request #6695 from matthiasbeyer/add-hstr...<br/>
<font color="#A82F2F"><font size="2">(04:46:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga pushed 2 new commits to master: http://git.io/pIna<br/>
<font color="#A82F2F"><font size="2">(04:46:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 341c50f Matthias Beyer: Update: vdirsyncer 0.4.2 -&gt; 0.4.3<br/>
<font color="#A82F2F"><font size="2">(04:46:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c9387ca Arseniy Seroka: Merge pull request #6696 from matthiasbeyer/update-vdirsyncer...<br/>
<font color="#A82F2F"><font size="2">(04:53:03 PM)</font> <b>nkar:</b></font> where&apos;s peti :(<br/>
<font color="#A82F2F"><font size="2">(04:55:02 PM)</font> <b>seanz:</b></font> Ah, there are several. Odd, sometimes packages don&apos;t show up in the NixOS package search on their site.<br/>
<font color="#A82F2F"><font size="2">(04:58:16 PM)</font> <b>viric:</b></font> any yubikey user?<br/>
<font color="#A82F2F"><font size="2">(04:58:21 PM)</font> <b>ktosiek:</b></font> seanz: what package were you looking for? I think the non-free ones don&apos;t show up<br/>
<font color="#A82F2F"><font size="2">(04:58:48 PM)</font> <b>seanz:</b></font> ktosiek: I fixed that, but why would postgres by considered non-free?<br/>
<font color="#A82F2F"><font size="2">(04:59:30 PM)</font> <b>ktosiek:</b></font> I can see postgresql on http://nixos.org/nixos/packages.html<br/>
<font color="#A82F2F"><font size="2">(04:59:42 PM)</font> <b>ktosiek:</b></font> just not on the first page of results<br/>
<font color="#A82F2F"><font size="2">(04:59:59 PM)</font> <b>ktosiek:</b></font> (actually, it&apos;s on the last one &gt;_&gt;)<br/>
<font color="#A82F2F"><font size="2">(05:10:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 6 new commits to master: http://git.io/pIRD<br/>
<font color="#A82F2F"><font size="2">(05:10:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master d93b114 Peter Simons: hackage-packages.nix: re-generate from Hackage 2015-03-07T13:02:15+0100<br/>
<font color="#A82F2F"><font size="2">(05:10:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b76fc32 Peter Simons: haskell-persona-idp has been fixed.<br/>
<font color="#A82F2F"><font size="2">(05:10:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8be1ddb Peter Simons: haskell-yabi-muno has been fixed.<br/>
<font size="2">(05:20:57 PM)</font><b> goibhniu left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(05:39:24 PM)</font> <b>seanz:</b></font> Why would I be able to install a package with nix-env -i but then have the same package fail in a default.nix file when using nix-shell --pure?<br/>
<font color="#A82F2F"><font size="2">(05:39:49 PM)</font> <b>seanz:</b></font> The error is: error: undefined variable ‘rabbitmq-server’ at &quot;/home/szicari/src/fb/default.nix&quot;:21:6<br/>
<font color="#A82F2F"><font size="2">(05:39:58 PM)</font> <b>seanz:</b></font> Yet nix-env -i works as expected.<br/>
<font color="#A82F2F"><font size="2">(05:40:56 PM)</font> <b>jaga1:</b></font> seanz: because it&apos;s attribute name is pkgs.rabbitmq_server<br/>
<font color="#A82F2F"><font size="2">(05:41:02 PM)</font> <b>jaga1:</b></font> hm, need to fix it<br/>
<font color="#A82F2F"><font size="2">(05:41:18 PM)</font> <b>seanz:</b></font> jaga1: So I need to import pkgs along with nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(05:42:57 PM)</font> <b>jaga1:</b></font> seanz: have smth like { pkgs ? import &lt;nixpkgs&gt; {} }: with pkgs;<br/>
<font color="#A82F2F"><font size="2">(05:44:05 PM)</font> <b>seanz:</b></font> jaga1: This is what I have: http://dpaste.com/39YYJRY<br/>
<font color="#A82F2F"><font size="2">(05:44:15 PM)</font> <b>seanz:</b></font> The problem is on line 21.<br/>
<font color="#A82F2F"><font size="2">(05:44:49 PM)</font> <b>seanz:</b></font> I changed line 2 to be &quot;with pkgs;&quot;, but that didn&apos;t change the error.<br/>
<font color="#A82F2F"><font size="2">(05:46:24 PM)</font> <b>jaga1:</b></font> seanz: I&apos;ve said, that rabbitmq-server must be rabbitmq_server<br/>
<font color="#A82F2F"><font size="2">(05:46:56 PM)</font> <b>seanz:</b></font> jaga1: Ah, great! My error then.<br/>
<font color="#A82F2F"><font size="2">(05:47:03 PM)</font> <b>seanz:</b></font> Now I see what you&apos;re saying.<br/>
<font color="#A82F2F"><font size="2">(05:47:15 PM)</font> <b>jaga1:</b></font> seanz: :)<br/>
<font color="#A82F2F"><font size="2">(05:47:17 PM)</font> <b>seanz:</b></font> Thanks for helping me with that.<br/>
<font color="#A82F2F"><font size="2">(05:47:23 PM)</font> <b>jaga1:</b></font> np<br/>
<font color="#A82F2F"><font size="2">(05:51:09 PM)</font> <b>petar:</b></font> i&apos;m subscribed to nixpkgs-unstable but cant see the latest build of a package even though hydra seems to have built it a couple of days ago.  am I missing something?<br/>
<font color="#A82F2F"><font size="2">(05:53:14 PM)</font> <b>petar:</b></font> $ nix-channel --list<br/>
<font color="#A82F2F"><font size="2">(05:53:14 PM)</font> <b>petar:</b></font> nixpkgs http://nixos.org/channels/nixpkgs-unstable<br/>
<font color="#A82F2F"><font size="2">(05:53:57 PM)</font> <b>jaga1:</b></font> petar: nixos-version<br/>
<font color="#A82F2F"><font size="2">(05:54:12 PM)</font> <b>petar:</b></font> its arch, not yet NixOS<br/>
<font color="#A82F2F"><font size="2">(05:54:16 PM)</font> <b>jaga1:</b></font> petar: and then check that commit in nixpkgs<br/>
<font color="#A82F2F"><font size="2">(05:54:40 PM)</font> <b>seanz:</b></font> Another question: How would I start a service from within a nix-shell? I&apos;ve installed redis but am having trouble starting it because the CLI commands don&apos;t seem to be available.<br/>
<font color="#A82F2F"><font size="2">(05:55:00 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ardumont opened pull request #6697: [new] tuxguitar derivation (master...add-tuxguitar) http://git.io/pIXK<br/>
<font color="#A82F2F"><font size="2">(05:55:28 PM)</font> <b>jaga1:</b></font> seanz: what do you mean? How did you installed it?<br/>
<font color="#A82F2F"><font size="2">(05:55:54 PM)</font> <b>jaga1:</b></font> s/installed/install/<br/>
<font color="#A82F2F"><font size="2">(05:55:58 PM)</font> <b>seanz:</b></font> jaga1: I have redis in my default.nix, but from within nix-shell --pure the redis-* commands are not available.<br/>
<font color="#A82F2F"><font size="2">(05:56:14 PM)</font> <b>seanz:</b></font> I installed redis with nix-env -i redis outside the shell, and the commands are available.<br/>
<font color="#A82F2F"><font size="2">(05:56:41 PM)</font> <b>jaga1:</b></font> seanz: why won&apos;t you use nix-shell without pure?<br/>
<font color="#A82F2F"><font size="2">(05:56:54 PM)</font> <b>seanz:</b></font> jaga1: Perhaps I&apos;m misguided about that.<br/>
<font color="#A82F2F"><font size="2">(05:56:58 PM)</font> <b>seanz:</b></font> I thought I&apos;d want a pure env.<br/>
<font color="#A82F2F"><font size="2">(05:57:56 PM)</font> <b>jaga1:</b></font> seanz: sorry, but i&apos;m not familliar with you question. Maybe you can tell what do you globally want now? And maybe I can tell you how to do it.<br/>
<font color="#A82F2F"><font size="2">(05:58:41 PM)</font> <b>seanz:</b></font> jaga1: I left off the --pure option and redis-* commands are available. I was explicitly including redis in my default.nix though, so I thought the commands would be available.<br/>
<font size="2">(05:58:50 PM)</font><b> jaga1 is now known as JagaJaga_</b><br/>
<font color="#A82F2F"><font size="2">(05:59:15 PM)</font> <b>JagaJaga_:</b></font> seanz: afaik redis is a server?<br/>
<font color="#A82F2F"><font size="2">(05:59:25 PM)</font> <b>seanz:</b></font> JagaJaga_: Yes.<br/>
<font color="#A82F2F"><font size="2">(05:59:50 PM)</font> <b>JagaJaga_:</b></font> seanz: so why don&apos;t you create a container with that service?<br/>
<font color="#A82F2F"><font size="2">(06:00:01 PM)</font> <b>seanz:</b></font> JagaJaga_: i.e. Docker?<br/>
<font color="#A82F2F"><font size="2">(06:00:04 PM)</font> <b>JagaJaga_:</b></font> seanz: and develop with it already running<br/>
<font color="#A82F2F"><font size="2">(06:00:08 PM)</font> <b>JagaJaga_:</b></font> seanz: nixos-container<br/>
<font color="#A82F2F"><font size="2">(06:00:28 PM)</font> <b>seanz:</b></font> JagaJaga_: This would be the first I&apos;ve heard of this command. Looking it up...<br/>
<font color="#A82F2F"><font size="2">(06:01:05 PM)</font> <b>seanz:</b></font> JagaJaga_: How similar is nixos-container to Docker?<br/>
<font color="#A82F2F"><font size="2">(06:02:40 PM)</font> <b>JagaJaga_:</b></font> seanz: I haven&apos;t used docker yet, nixos satisfies everything I need :)<br/>
<font color="#A82F2F"><font size="2">(06:02:51 PM)</font> <b>seanz:</b></font> Touche. :)<br/>
<font color="#A82F2F"><font size="2">(06:03:40 PM)</font> <b>seanz:</b></font> JagaJaga_: Should I have to use sudo to start and manage a container?<br/>
<font color="#A82F2F"><font size="2">(06:04:07 PM)</font> <b>JagaJaga_:</b></font> seanz: watch this https://www.youtube.com/watch?v=7pAsTRZBMvM<br/>
<font color="#A82F2F"><font size="2">(06:04:44 PM)</font> <b>seanz:</b></font> JagaJaga_: Thanks!<br/>
<font color="#A82F2F"><font size="2">(06:05:12 PM)</font> <b>JagaJaga_:</b></font> seanz: no problem :)<br/>
<font size="2">(06:05:51 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font size="2">(06:31:39 PM)</font><b> Lethalman [<em>~lethal@89.119.188.238</em>] entered the room.</b><br/>
<font size="2">(06:35:24 PM)</font><b> jaga1 is now known as JagaJaga_</b><br/>
<font color="#A82F2F"><font size="2">(06:43:22 PM)</font> <b>blueyed:</b></font> There are no icon themes available in nixpkgs yet? (I am looking for https://packages.qa.debian.org/d/dmz-cursor-theme.html)<br/>
<font color="#A82F2F"><font size="2">(06:44:52 PM)</font> <b>musicmatze:</b></font> Hi, I&apos;m trying to get a decent c++ environment on nixos, but I fail because my cmakelists.txt does not find boost...<br/>
<font color="#A82F2F"><font size="2">(06:45:05 PM)</font> <b>musicmatze:</b></font> is there a tutorial on how to setup these kind of things?<br/>
<font color="#A82F2F"><font size="2">(06:45:52 PM)</font> <b>musicmatze:</b></font> it also does not find pkgconfig<br/>
<font color="#A82F2F"><font size="2">(06:46:05 PM)</font> <b>musicmatze:</b></font> (I&apos;m a cmake noob btw, so maybe it is my fault, I&apos;m not sure...)<br/>
<font color="#A82F2F"><font size="2">(06:46:18 PM)</font> <b>ryantrinkle:</b></font> how do i get the cabal2nix that supports haskell-ng?<br/>
<font size="2">(06:46:38 PM)</font><b> goibhniu1 [<em>~goibhniu@e181005022.adsl.alicedsl.de</em>] entered the room.</b><br/>
<font size="2">(06:47:54 PM)</font><b> goibhniu left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font size="2">(06:51:00 PM)</font><b> icetea is now known as Guest48841</b><br/>
<font size="2">(06:51:50 PM)</font><b> Guest48841 is now known as icecream</b><br/>
<font size="2">(06:52:31 PM)</font><b> goibhniu1 is now known as goibhniu</b><br/>
<font color="#A82F2F"><font size="2">(07:03:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cillianderoiste pushed 3 new commits to master: http://git.io/pLLI<br/>
<font color="#A82F2F"><font size="2">(07:03:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 96cc8da Cillian de Róiste: yoshimi: update from 1.3.2 to 1.3.3<br/>
<font color="#A82F2F"><font size="2">(07:03:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a88bc51 Cillian de Róiste: kde4.kde_wacomtablet: update from 2.0.2 to 2.1.0<br/>
<font color="#A82F2F"><font size="2">(07:03:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 79d7605 Cillian de Róiste: darktable: update from 1.6.2 to 1.6.3<br/>
<font color="#A82F2F"><font size="2">(07:07:30 PM)</font> <b>petar:</b></font> there are several versions of a package available (pkg1 pkg2 pkg21); how do I &quot;pin&quot; one version so that &apos;nix-env -qc&apos; does the right comparison?<br/>
<font color="#A82F2F"><font size="2">(07:08:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] hakuch opened pull request #6699: Samba: Fixed &quot;syncPasswordsByPam&quot;. (master...fix_samba) http://git.io/pLmv<br/>
<font color="#A82F2F"><font size="2">(07:30:22 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 1 new commit to master: http://git.io/pLcX<br/>
<font color="#A82F2F"><font size="2">(07:30:23 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0e0bc3a Domen Kožar: gevent: update Python 2.7.9 compatibility patch<br/>
<font size="2">(07:55:07 PM)</font><b> goibhniu left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font size="2">(07:56:41 PM)</font><b> boegel is now known as boegel|afk</b><br/>
<font size="2">(08:10:04 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:12:02 PM)</font> <b>nkar:</b></font> after 4 hours of searching the web, I still don&apos;t know how to override a package in shell.nix to add a single attribute<br/>
<font color="#A82F2F"><font size="2">(08:15:31 PM)</font> <b>petar:</b></font> nkar: I&apos;m probably trying something similar and the best help I could come up with are sample config.nix files on github..<br/>
<font color="#A82F2F"><font size="2">(08:16:09 PM)</font> <b>nkar:</b></font> I don&apos;t want to have a separate file, it&apos;s a one line change<br/>
<font color="#A82F2F"><font size="2">(08:16:20 PM)</font> <b>nkar:</b></font> and I can&apos;t assume that users are running nixos<br/>
<font color="#A82F2F"><font size="2">(08:16:35 PM)</font> <b>nkar:</b></font> err<br/>
<font color="#A82F2F"><font size="2">(08:16:45 PM)</font> <b>nkar:</b></font> I mean it&apos;s awkward to distribute<br/>
<font color="#A82F2F"><font size="2">(08:26:48 PM)</font> <b>ktosiek:</b></font> nkar: you can actually override the nixpkgs config when you import nixpkgs into your shell.nix<br/>
<font color="#A82F2F"><font size="2">(08:27:41 PM)</font> <b>nkar:</b></font> ktosiek: I&apos;m ready to accept any solution<br/>
<font color="#A82F2F"><font size="2">(08:27:46 PM)</font> <b>nkar:</b></font> could you show me how to do it?<br/>
<font color="#A82F2F"><font size="2">(08:27:48 PM)</font> <b>ktosiek:</b></font> hmm, but this will skip reading ~/.nixpkgs/config.nix<br/>
<font color="#A82F2F"><font size="2">(08:28:02 PM)</font> <b>nkar:</b></font> well, I don&apos;t want it, then<br/>
<font color="#A82F2F"><font size="2">(08:30:02 PM)</font> <b>ktosiek:</b></font> still, this shouldn&apos;t be hard. I&apos;ll look into it<br/>
<font color="#A82F2F"><font size="2">(08:30:19 PM)</font> <b>nkar:</b></font> cool, thank you<br/>
<font color="#A82F2F"><font size="2">(08:30:55 PM)</font> <b>schoppenhauer:</b></font> I am trying to install nix in my home directory. why can $HOME/nix not be a symlink?<br/>
<font color="#A82F2F"><font size="2">(08:31:21 PM)</font> <b>nkar:</b></font> ktosiek: basically, I need to use a haskell-ng package as a dependency but with doCheck = false; because its testsuite fails<br/>
<font color="#A82F2F"><font size="2">(08:34:00 PM)</font> <b>ktosiek:</b></font> schoppenhauer: I&apos;m not sure if it can&apos;t be a symlink, but even if it is one you wouldn&apos;t want to change it (some packages can read links at build time, and would point to the real location anyway)<br/>
<font color="#A82F2F"><font size="2">(08:34:57 PM)</font> <b>schoppenhauer:</b></font> meh. now I have to start over again ...<br/>
<font color="#A82F2F"><font size="2">(08:35:54 PM)</font> <b>ktosiek:</b></font> nkar: I think I have an idea, you can use the nixpkgs-generated config when creating your own<br/>
<font color="#A82F2F"><font size="2">(08:35:55 PM)</font> <b>ktosiek:</b></font> sec<br/>
<font color="#A82F2F"><font size="2">(08:36:44 PM)</font> <b>nkar:</b></font> \o/<br/>
<font color="#A82F2F"><font size="2">(08:38:15 PM)</font> <b>nkar:</b></font> ktosiek: fwiw, there&apos;s https://gist.github.com/purefn/026625ad116b05ff9a8d, which is supposed to work, but I just want to add doCheck = false; instead of coping the entire recipe<br/>
<font color="#A82F2F"><font size="2">(08:39:12 PM)</font> <b>Lethalman:</b></font> nkar, did you try .overrideDerivation already?<br/>
<font color="#A82F2F"><font size="2">(08:39:40 PM)</font> <b>JagaJaga_:</b></font> nkar: why my example didn&apos;t work for you?<br/>
<font color="#A82F2F"><font size="2">(08:40:42 PM)</font> <b>nkar:</b></font> JagaJaga, Lethalman: I pasted the error I was getting.  maybe I did something wrong since I&apos;m no expert.<br/>
<font color="#A82F2F"><font size="2">(08:41:08 PM)</font> <b>nkar:</b></font> here&apos;s what I wrote: &quot;I get error: anonymous function at &quot;...&quot;:5:14 called without required argument ‘aNew’, at &quot;...customisation.nix&quot;:58:12&quot;<br/>
<font color="#A82F2F"><font size="2">(08:41:22 PM)</font> <b>nkar:</b></font> could you paste a self-contained example?<br/>
<font color="#A82F2F"><font size="2">(08:41:41 PM)</font> <b>Lethalman:</b></font> nkar, paste what you did<br/>
<font color="#A82F2F"><font size="2">(08:41:50 PM)</font> <b>Lethalman:</b></font> I don&apos;t use haskell packages<br/>
<font color="#A82F2F"><font size="2">(08:42:25 PM)</font> <b>nkar:</b></font> okay, I need to rewrite it again, will take a few minutes<br/>
<font size="2">(08:44:57 PM)</font><b> goibhniu left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(08:46:41 PM)</font> <b>nkar:</b></font> Lethalman, ktosiek, JagaJaga: http://dpaste.com/22PGMPK<br/>
<font color="#A82F2F"><font size="2">(08:46:58 PM)</font> <b>ktosiek:</b></font> oh wait, you don&apos;t have to dig that deep - you can just use haskellngPackages.override, override the mkDerivation function, and change a parameter<br/>
<font color="#A82F2F"><font size="2">(08:48:02 PM)</font> <b>ktosiek:</b></font> I have an example of doing that mkDerivation override (but in a single package), sec<br/>
<font color="#A82F2F"><font size="2">(08:48:24 PM)</font> <b>ktosiek:</b></font> https://gist.github.com/ktosiek/de2379b7c5407c36032a<br/>
<font color="#A82F2F"><font size="2">(08:49:38 PM)</font> <b>ktosiek:</b></font> nkar: in your example, remove fullstop&apos; from that function&apos;s arguments<br/>
<font color="#A82F2F"><font size="2">(08:50:49 PM)</font> <b>ktosiek:</b></font> the auto-filling of arguments in nix packages is actually callPackage knowing about package set it comes from (I&apos;m sure Lethalman has a nice explanation of this in nix pills)<br/>
<font color="#A82F2F"><font size="2">(08:52:41 PM)</font> <b>nkar:</b></font> ktosiek: removing fullstop (and also changing fullstop in the let to haskellngPackages.fullstop) helps in a sense that it builds, but it doesn&apos;t disable the testsuite<br/>
<font color="#A82F2F"><font size="2">(08:52:51 PM)</font> <b>nkar:</b></font> trying the code from your gist now<br/>
<font color="#A82F2F"><font size="2">(08:54:09 PM)</font> <b>nkar:</b></font> ah no, I don&apos;t know how to adapt it to my usecase<br/>
<font color="#A82F2F"><font size="2">(08:55:35 PM)</font> <b>ktosiek:</b></font> nkar: well, you want to disable the test suite in your own package right?<br/>
<font color="#A82F2F"><font size="2">(08:55:43 PM)</font> <b>ktosiek:</b></font> I mean, the one this shell.nix is for?<br/>
<font color="#A82F2F"><font size="2">(08:55:47 PM)</font> <b>nkar:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(08:56:01 PM)</font> <b>nkar:</b></font> I want to do it in a dependency<br/>
<font color="#A82F2F"><font size="2">(08:56:17 PM)</font> <b>ktosiek:</b></font> ok, so you&apos;ll have to merge my approach with haskellngPackages.override<br/>
<font color="#A82F2F"><font size="2">(08:56:40 PM)</font> <b>nkar:</b></font> right, but I don&apos;t know enough nix to do so<br/>
<font color="#A82F2F"><font size="2">(08:57:41 PM)</font> <b>nkar:</b></font> I&apos;ve tried so many things already, so I doubt that I&apos;ll be able to do it on my own<br/>
<font color="#A82F2F"><font size="2">(08:57:50 PM)</font> <b>nkar:</b></font> and I have no clue how to do it<br/>
<font color="#A82F2F"><font size="2">(08:57:51 PM)</font> <b>JagaJaga_:</b></font> nkar: w8 a bit, Ill make shell.nix for you<br/>
<font color="#A82F2F"><font size="2">(08:57:57 PM)</font> <b>nkar:</b></font> thanks<br/>
<font color="#062585"><font size="2">(08:59:02 PM)</font> <b>***ktosiek</b></font> is also sketching something<br/>
<font size="2">(09:00:12 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:00:24 PM)</font> <b>ktosiek:</b></font> hmm, what&apos;s the second argument in haskellngPackages.override?<br/>
<font color="#A82F2F"><font size="2">(09:00:41 PM)</font> <b>ktosiek:</b></font> *haskellngPackages.overrides<br/>
<font color="#A82F2F"><font size="2">(09:01:06 PM)</font> <b>JagaJaga_:</b></font> nkar: http://lpaste.net/123454 try that?<br/>
<font color="#A82F2F"><font size="2">(09:04:36 PM)</font> <b>nkar:</b></font> JagaJaga: it doesn&apos;t disable the testsuite<br/>
<font color="#A82F2F"><font size="2">(09:04:39 PM)</font> <b>nkar:</b></font> it still runs<br/>
<font color="#A82F2F"><font size="2">(09:06:00 PM)</font> <b>ktosiek:</b></font> I&apos;m guessing something like this: https://gist.github.com/ktosiek/de2379b7c5407c36032a<br/>
<font color="#A82F2F"><font size="2">(09:06:39 PM)</font> <b>ktosiek:</b></font> (mostly the lines 3-7, and the fact you use callPackage from modifiedHasellPackages)<br/>
<font color="#A82F2F"><font size="2">(09:07:16 PM)</font> <b>ktosiek:</b></font> this way you can extend haskellngPackages (I mean, I haven&apos;t tested it, but I think it should work :-))<br/>
<font color="#A82F2F"><font size="2">(09:07:43 PM)</font> <b>nkar:</b></font> ktosiek: let me try<br/>
<font size="2">(09:08:06 PM)</font><b> goibhniu left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(09:10:16 PM)</font> <b>nkar:</b></font> ktosiek: it still runs the testsuite<br/>
<font color="#A82F2F"><font size="2">(09:10:24 PM)</font> <b>nkar:</b></font> should I paste what I have no?<br/>
<font color="#A82F2F"><font size="2">(09:10:26 PM)</font> <b>nkar:</b></font> now<br/>
<font color="#A82F2F"><font size="2">(09:10:28 PM)</font> <b>ktosiek:</b></font> when running nix-shell?<br/>
<font color="#A82F2F"><font size="2">(09:10:31 PM)</font> <b>ktosiek:</b></font> yes, please<br/>
<font color="#A82F2F"><font size="2">(09:10:35 PM)</font> <b>nkar:</b></font> one sec<br/>
<font size="2">(09:10:54 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(09:14:44 PM)</font> <b>magnetophon:</b></font> I'm packaging pd-extended, but getting an error: http://nixpaste.noip.me/Rcyp4Qij   I'd say the errors look like I'm missing alsaLib, but I have that...<br/>
<font color="#A82F2F"><font size="2">(09:15:08 PM)</font> <b>nkar:</b></font> ktosiek: http://dpaste.com/17AFYR2<br/>
<font color="#A82F2F"><font size="2">(09:21:25 PM)</font> <b>ktosiek:</b></font> now I&apos;m lost :-&lt;<br/>
<font color="#A82F2F"><font size="2">(09:21:29 PM)</font> <b>nkar:</b></font> :(((<br/>
<font color="#A82F2F"><font size="2">(09:22:05 PM)</font> <b>ktosiek:</b></font> I&apos;m trying to replicate the problem here<br/>
<font color="#A82F2F"><font size="2">(09:22:13 PM)</font> <b>ktosiek:</b></font> aaand it fails<br/>
<font color="#A82F2F"><font size="2">(09:22:23 PM)</font> <b>ktosiek:</b></font> cool, at least I have the same problem :-)<br/>
<font color="#A82F2F"><font size="2">(09:22:31 PM)</font> <b>nkar:</b></font> oh yeah<br/>
<font color="#A82F2F"><font size="2">(09:24:01 PM)</font> <b>ktosiek:</b></font> bad news: the override works<br/>
<font color="#A82F2F"><font size="2">(09:24:24 PM)</font> <b>ktosiek:</b></font> I mean, nix-shell&apos;ing into the overriden package gives me empty $doCheck<br/>
<font color="#A82F2F"><font size="2">(09:24:42 PM)</font> <b>ktosiek:</b></font> and the failure is at build, not test, step<br/>
<font color="#A82F2F"><font size="2">(09:25:01 PM)</font> <b>ktosiek:</b></font> now why is it building tests is another question<br/>
<font color="#A82F2F"><font size="2">(09:28:46 PM)</font> <b>ktosiek:</b></font> ohhh, it looks like doCheck is used for setting extraConfigureFlags, so overrideDerivation might be a bit too late<br/>
<font color="#A82F2F"><font size="2">(09:31:05 PM)</font> <b>azriphale:</b></font> I am a new user of nixos and trying to get vagrant to work. I have installed vagrant into my user profile using nix-env, after which I installed the vagrant-vsphere plugin with vagrant. After this, attempting to run vagrant causes a failure to load shared some libraries. A dependency appears to not have the correct RPATH.<br/>
<font color="#A82F2F"><font size="2">(09:31:26 PM)</font> <b>azriphale:</b></font> I have worked around this so far by adding to the postFixup of the build: patchelf --set-rpath &quot;$(patchelf --print-rpath $out/opt/vagrant/embedded/gems/gems/nokogiri-1.6.3.1/lib/nokogiri/nokogiri.so):$out/opt/vagrant/embedded/lib&quot; &quot;$out/opt/vagrant/embedded/gems/gems/nokogiri-1.6.3.1/lib/nokogiri/nokogiri.so&quot;<br/>
<font color="#A82F2F"><font size="2">(09:32:09 PM)</font> <b>azriphale:</b></font> I have no idea if I am heading in the right direction. Is somebody able to give me some pointers?<br/>
<font color="#A82F2F"><font size="2">(09:33:13 PM)</font> <b>ktosiek:</b></font> nkar: ha, I have a working one!<br/>
<font color="#A82F2F"><font size="2">(09:33:40 PM)</font> <b>ikwildrpepper:</b></font> azriphale: what version of nixos?<br/>
<font color="#A82F2F"><font size="2">(09:33:46 PM)</font> <b>azriphale:</b></font> 14.12<br/>
<font color="#A82F2F"><font size="2">(09:34:03 PM)</font> <b>ktosiek:</b></font> https://gist.github.com/ktosiek/de2379b7c5407c36032a<br/>
<font color="#A82F2F"><font size="2">(09:34:13 PM)</font> <b>azriphale:</b></font> specifically, 14.12.git.3e52ac8 (Caterpillar)<br/>
<font color="#A82F2F"><font size="2">(09:34:17 PM)</font> <b>ikwildrpepper:</b></font> azriphale: what command produces the error?<br/>
<font color="#A82F2F"><font size="2">(09:35:03 PM)</font> <b>azriphale:</b></font> It only shows up after installing vagrant-vsphere, but after that any command shows the load error (e.g. vagrant up, vagrant ssh-config)<br/>
<font color="#A82F2F"><font size="2">(09:35:49 PM)</font> <b>azriphale:</b></font> initially I worked around it by setting LD_LIBRARY_PATH so I could just get on with things, but now I&apos;d like to look into the problem a bit deeper and come up with a longer term fix.<br/>
<font color="#A82F2F"><font size="2">(09:36:21 PM)</font> <b>ikwildrpepper:</b></font> how do you install vagrant-vsphere?<br/>
<font color="#A82F2F"><font size="2">(09:37:10 PM)</font> <b>ikwildrpepper:</b></font> can&apos;t find it anywhere in nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(09:37:21 PM)</font> <b>ikwildrpepper:</b></font> (I don&apos;t know vagrant btw)<br/>
<font color="#A82F2F"><font size="2">(09:37:32 PM)</font> <b>ikwildrpepper:</b></font> just wanted to see if I can reproduce the issue<br/>
<font color="#A82F2F"><font size="2">(09:37:48 PM)</font> <b>azriphale:</b></font> &quot;vagrant plugin install vagrant-vsphere&quot;. It installs to ~/.vagrant.d/<br/>
<font color="#A82F2F"><font size="2">(09:38:17 PM)</font> <b>ikwildrpepper:</b></font> if that downloads binaries, then that likely  won&apos;t work with nixos<br/>
<font color="#A82F2F"><font size="2">(09:39:29 PM)</font> <b>azriphale:</b></font> What I find curious is that the load error is from within the nix store: https://gist.github.com/sjagoe/f64880239c085c5c621c<br/>
<font color="#A82F2F"><font size="2">(09:40:53 PM)</font> <b>copumpkin:</b></font> ikwildrpepper: have you ever considered https://github.com/NixOS/nixpkgs/issues/6662 or know of previous work in that direction?<br/>
<font color="#A82F2F"><font size="2">(09:41:04 PM)</font> <b>azriphale:</b></font> (updated the gist with output of ldd and patchelf --print-rpath on nokogiri.so)<br/>
<font color="#A82F2F"><font size="2">(09:42:57 PM)</font> <b>ikwildrpepper:</b></font> copumpkin: yeah sure considered it, just never needed it, so never implemented anything like it ;)<br/>
<font color="#A82F2F"><font size="2">(09:43:06 PM)</font> <b>ikwildrpepper:</b></font> also thought of implementing it in nixops somehow<br/>
<font color="#A82F2F"><font size="2">(09:43:30 PM)</font> <b>copumpkin:</b></font> it seems like it could be completely independent of nixops, since it only happens on the machine<br/>
<font color="#A82F2F"><font size="2">(09:44:00 PM)</font> <b>copumpkin:</b></font> although nixops could certainly use it to create autoscaling groups<br/>
<font color="#A82F2F"><font size="2">(09:44:11 PM)</font> <b>ikwildrpepper:</b></font> sure, but you could use it in nixops, using nixops to deploy all the ec2 scaling objects needed<br/>
<font color="#A82F2F"><font size="2">(09:44:14 PM)</font> <b>ikwildrpepper:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(09:44:19 PM)</font> <b>copumpkin:</b></font> yup!<br/>
<font color="#A82F2F"><font size="2">(09:45:31 PM)</font> <b>nkar:</b></font> ktosiek: trying<br/>
<font color="#A82F2F"><font size="2">(09:46:37 PM)</font> <b>ikwildrpepper:</b></font> copumpkin: it should be fairly simple to do such a thing, although you probably want to push more data than just configuration.nix<br/>
<font color="#A82F2F"><font size="2">(09:46:46 PM)</font> <b>ikwildrpepper:</b></font> e.g. the nixos channel / commit to use<br/>
<font color="#A82F2F"><font size="2">(09:46:55 PM)</font> <b>copumpkin:</b></font> yeah, I thought I had that in the ticket<br/>
<font color="#A82F2F"><font size="2">(09:47:08 PM)</font> <b>ikwildrpepper:</b></font> only read the title ;)<br/>
<font color="#A82F2F"><font size="2">(09:47:11 PM)</font> <b>copumpkin:</b></font> ah okay<br/>
<font color="#A82F2F"><font size="2">(09:47:17 PM)</font> <b>copumpkin:</b></font> yeah, I mention channel<br/>
<font color="#A82F2F"><font size="2">(09:47:38 PM)</font> <b>ikwildrpepper:</b></font> also, might be tricky to push code there<br/>
<font color="#A82F2F"><font size="2">(09:48:13 PM)</font> <b>ikwildrpepper:</b></font> esp when it is code that is behind some protection (passwd / firewall / whatever)<br/>
<font color="#A82F2F"><font size="2">(09:48:42 PM)</font> <b>copumpkin:</b></font> oh, you mean have the user-data .nix contents reach out to grab additional code?<br/>
<font color="#A82F2F"><font size="2">(09:48:57 PM)</font> <b>ikwildrpepper:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(09:49:05 PM)</font> <b>copumpkin:</b></font> yeah, agree, but that&apos;s mostly up to the person deploying their infrastructure<br/>
<font color="#A82F2F"><font size="2">(09:49:19 PM)</font> <b>nkar:</b></font> ktosiek: thank you soooo much!  this works for me: http://dpaste.com/1CZJ0SJ<br/>
<font color="#A82F2F"><font size="2">(09:49:31 PM)</font> <b>copumpkin:</b></font> i.e., if I need to grab additional stuff in an autoscaling group, I&apos;ll need to do that regardless of the system I use<br/>
<font color="#A82F2F"><font size="2">(09:49:42 PM)</font> <b>copumpkin:</b></font> and I can probably figure something out :)<br/>
<font color="#A82F2F"><font size="2">(09:49:51 PM)</font> <b>nkar:</b></font> ktosiek: I&apos;ll add it to the wiki and send a message to the mailing list, so people could notice<br/>
<font color="#A82F2F"><font size="2">(09:49:51 PM)</font> <b>ikwildrpepper:</b></font> copumpkin: but in general, the hardest part is likely to think of a structure for the user-data<br/>
<font color="#A82F2F"><font size="2">(09:50:00 PM)</font> <b>ikwildrpepper:</b></font> the implementation should be fairly simple<br/>
<font color="#A82F2F"><font size="2">(09:50:07 PM)</font> <b>ktosiek:</b></font> nkar: cool ^_^<br/>
<font color="#A82F2F"><font size="2">(09:50:08 PM)</font> <b>copumpkin:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(09:50:25 PM)</font> <b>copumpkin:</b></font> although would it be weird to have the brand new EC2 instance run nixos-rebuild switch during boot?<br/>
<font color="#A82F2F"><font size="2">(09:50:41 PM)</font> <b>ikwildrpepper:</b></font> yeah it would be a bit weird<br/>
<font color="#A82F2F"><font size="2">(09:51:07 PM)</font> <b>ikwildrpepper:</b></font> also not sure if that would work, or if you&apos;d need a hook after activation to do it or something<br/>
<font color="#A82F2F"><font size="2">(09:51:12 PM)</font> <b>nkar:</b></font> ktosiek: I wonder how you found out how to do it.  where did you look?<br/>
<font color="#A82F2F"><font size="2">(09:51:23 PM)</font> <b>copumpkin:</b></font> I guess yeah, could be a one-shot systemd service that happens right after boot<br/>
<font color="#A82F2F"><font size="2">(09:51:24 PM)</font> <b>ikwildrpepper:</b></font> but anyhow, that should be a pretty low hurdle<br/>
<font color="#A82F2F"><font size="2">(09:51:26 PM)</font> <b>copumpkin:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(09:52:26 PM)</font> <b>ktosiek:</b></font> nkar: I&apos;ve already knew about the mkDerivation trick, took the haskellngPackages.override example you linked to, guessed what `super` is for, and combined those<br/>
<font color="#A82F2F"><font size="2">(09:52:29 PM)</font> <b>ikwildrpepper:</b></font> at some point I also thought of perhaps allowing the generate ec2 image from nixops, that you could use in autoscaling group<br/>
<font color="#A82F2F"><font size="2">(09:52:46 PM)</font> <b>ktosiek:</b></font> I think I actually know the mkDerivation trick from this channel<br/>
<font color="#A82F2F"><font size="2">(09:52:46 PM)</font> <b>ikwildrpepper:</b></font> but that might be too heavy-weight if you have a lot of changes<br/>
<font color="#A82F2F"><font size="2">(09:53:01 PM)</font> <b>copumpkin:</b></font> the hackiest thing would be to require the configuration.nix to include channels :) and then the startup script would manually parse the .nix to look for channels in it, then use nixos-rebuild<br/>
<font color="#A82F2F"><font size="2">(09:53:19 PM)</font> <b>copumpkin:</b></font> yeah, generating AMIs is also nice, but I wouldn&apos;t want that to be the only way<br/>
<font color="#A82F2F"><font size="2">(09:54:15 PM)</font> <b>ikwildrpepper:</b></font> generating ami would result in quickest boots, fixing versions being used.<br/>
<font color="#A82F2F"><font size="2">(09:54:23 PM)</font> <b>copumpkin:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(09:54:29 PM)</font> <b>ikwildrpepper:</b></font> and solves the propietary fetching of code<br/>
<font color="#A82F2F"><font size="2">(09:54:37 PM)</font> <b>ikwildrpepper:</b></font> &apos;solves&apos;<br/>
<font color="#A82F2F"><font size="2">(09:54:39 PM)</font> <b>copumpkin:</b></font> I just mean it would be nice to have a smooth progression<br/>
<font color="#A82F2F"><font size="2">(09:54:50 PM)</font> <b>copumpkin:</b></font> that doesn&apos;t force you to use monolithic blob images<br/>
<font color="#A82F2F"><font size="2">(09:54:59 PM)</font> <b>ikwildrpepper:</b></font> copumpkin: yeah, I agree that the userdata variant would be nice<br/>
<font color="#A82F2F"><font size="2">(09:55:14 PM)</font> <b>azriphale:</b></font> ikwildrpepper: Regarding the gist I posted above with the link info of nokogiri.so, which is bundled with vagrant, it looks like a packaging issue. Do you have any examples of other nix packages that are repackaged from debian packages (or similar) that need extra treatment of relative link locations or RPATHs?<br/>
<font color="#A82F2F"><font size="2">(09:55:33 PM)</font> <b>ikwildrpepper:</b></font> azriphale: probably spotify<br/>
<font color="#A82F2F"><font size="2">(09:55:40 PM)</font> <b>copumpkin:</b></font> then I could be somewhat agnostic to whether nixops provisioned a machine and sent it configuraiton.nix, or whether it got autoscaled, or whether it is a &quot;frozen&quot; AMI of one of the other two<br/>
<font color="#A82F2F"><font size="2">(09:55:42 PM)</font> <b>azriphale:</b></font> Thanks, I&apos;ll look into it.<br/>
<font color="#A82F2F"><font size="2">(09:55:45 PM)</font> <b>ikwildrpepper:</b></font> azriphale: acrobat reader<br/>
<font color="#A82F2F"><font size="2">(09:55:52 PM)</font> <b>copumpkin:</b></font> I should get the same behavior with slightly different administrative properties in each case<br/>
<font color="#A82F2F"><font size="2">(09:55:54 PM)</font> <b>ikwildrpepper:</b></font> azriphale: search nixpkgs for patchelf<br/>
<font color="#A82F2F"><font size="2">(09:56:15 PM)</font> <b>azriphale:</b></font> Obvious in retrospect ;-) thanks.<br/>
<font color="#A82F2F"><font size="2">(09:56:25 PM)</font> <b>ikwildrpepper:</b></font> copumpkin: so, are you going to work on this? :)<br/>
<font color="#A82F2F"><font size="2">(09:56:40 PM)</font> <b>copumpkin:</b></font> when I wrap up the darwin stuff, possibly<br/>
<font color="#A82F2F"><font size="2">(09:56:42 PM)</font> <b>nkar:</b></font> ktosiek: is this the right page? https://nixos.org/wiki/Haskell  or is there an ng-related page?<br/>
<font color="#A82F2F"><font size="2">(09:56:46 PM)</font> <b>copumpkin:</b></font> or perhaps before, depending on how much I need it elsewhere<br/>
<font color="#A82F2F"><font size="2">(09:56:46 PM)</font> <b>ikwildrpepper:</b></font> copumpkin: awesome<br/>
<font color="#A82F2F"><font size="2">(09:57:48 PM)</font> <b>ktosiek:</b></font> it looks like that page isn&apos;t updated for haskellng yet<br/>
<font color="#A82F2F"><font size="2">(09:58:45 PM)</font> <b>ktosiek:</b></font> and a link from https://nixos.org/wiki/Nix_Modifying_Packages would be handy too :-)<br/>
<font size="2">(10:12:36 PM)</font><b> goibhniu left the room (quit: Ping timeout: 246 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:14:02 PM)</font> <b>copumpkin:</b></font> ikwildrpepper: don&apos;t get too excited! very little time to do anything much :) but it&apos;s definitely on my &quot;eventually&quot; roadmap<br/>
<font color="#A82F2F"><font size="2">(10:17:50 PM)</font> <b>azriphale:</b></font> ikwildrpepper: To follow up, I have come across this: https://nixos.org/wiki/How_to_package_closed-source_software While it is not _quite_ the same (I am trying to correct internal references within the package), I do believe that I am on the right track. I&apos;ll make a pull request against nixpkgs. Should this go against master (which is where I have been testing this now)?<br/>
<font color="#A82F2F"><font size="2">(10:32:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 1 new commit to master: http://git.io/ptuw<br/>
<font color="#A82F2F"><font size="2">(10:32:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0fd3db4 Domen Kožar: fix #6548<br/>
<font color="#A82F2F"><font size="2">(10:32:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to release-14.12: http://git.io/ptuQ<br/>
<font color="#A82F2F"><font size="2">(10:32:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 04be36e Domen Kožar: gevent: update Python 2.7.9 compatibility patch...<br/>
<font color="#A82F2F"><font size="2">(10:32:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 9e72a07 Domen Kožar: fix #6548...<br/>
<font color="#A82F2F"><font size="2">(10:40:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] sjagoe opened pull request #6701: Rewrite RPATH of Vagrant-bundled nokogiri.so to reference $out/opt/vagrant/embedded/lib (master...correct-rpath-for-vagrant-nokogiri) http://git.io/ptgh<br/>
<font color="#A82F2F"><font size="2">(10:44:59 PM)</font> <b>azriphale:</b></font> I have another question. I run dwm with some patches applied, one of which adds a new dependency on libXft. Currently in order to handle this, I build my system using a fork of nixpkgs modified to add this dependency.<br/>
<font color="#A82F2F"><font size="2">(10:45:19 PM)</font> <b>azriphale:</b></font> Is there a way to inject new buildInputs into an existing package recipe?<br/>
<font color="#A82F2F"><font size="2">(10:46:10 PM)</font> <b>benley:</b></font> yep!<br/>
<font color="#A82F2F"><font size="2">(10:46:49 PM)</font> <b>benley:</b></font> there&apos;s an overrideDerivation function you can use to do things like that<br/>
<font color="#A82F2F"><font size="2">(10:48:55 PM)</font> <b>azriphale:</b></font> Thanks, benley.<br/>
<font color="#A82F2F"><font size="2">(10:49:02 PM)</font> <b>benley:</b></font> you&apos;ll do something like:<br/>
<font color="#A82F2F"><font size="2">(10:49:04 PM)</font> <b>benley:</b></font> fancyDwm = dsm.overrideDerivation (x: { buildInputs = x.buildInputs ++ [ newThing otherNewThing ]; })<br/>
<font color="#A82F2F"><font size="2">(10:49:16 PM)</font> <b>benley:</b></font> err s/dsm/dwm/ there.  Whatever the original package is called :)<br/>
<font color="#A82F2F"><font size="2">(10:50:02 PM)</font> <b>benley:</b></font> and x there is a map containing the original derivation&apos;s parameters.<br/>
<font color="#A82F2F"><font size="2">(10:50:15 PM)</font> <b>ktosiek:</b></font> dwm is the WM configured by changing headers?<br/>
<font color="#A82F2F"><font size="2">(10:50:19 PM)</font> <b>azriphale:</b></font> yep, got it (just did a grep for overrideDerivation on nixpkgs). Thanks.<br/>
<font color="#A82F2F"><font size="2">(10:50:27 PM)</font> <b>azriphale:</b></font> ktosiek: Yes, thats the one<br/>
<font color="#A82F2F"><font size="2">(10:50:56 PM)</font> <b>azriphale:</b></font> I moved there from KDE a few months ago and haven&apos;t looked back<br/>
<font color="#A82F2F"><font size="2">(10:51:19 PM)</font> <b>ktosiek:</b></font> how is it used on nixos? Do you install some shim through configuration.nix and then have the configured dwm in user profile?<br/>
<font color="#A82F2F"><font size="2">(10:51:36 PM)</font> <b>ktosiek:</b></font> or do you have to put the WM config in configuration.nix? Or something different?<br/>
<font color="#A82F2F"><font size="2">(10:53:22 PM)</font> <b>azriphale:</b></font> I&apos;m installing it in environment.systemPackages. Using overrideDerivation to grab my own source tarball<br/>
<font color="#A82F2F"><font size="2">(10:54:10 PM)</font> <b>azriphale:</b></font> Although the nix package for dwm applies patches specified in the uses configuration, so I plan to switch to that for applying my patches, which would include configuration.<br/>
<font color="#A82F2F"><font size="2">(10:54:21 PM)</font> <b>azriphale:</b></font> s/uses/user&apos;s/<br/>
<font color="#A82F2F"><font size="2">(10:54:48 PM)</font> <b>benley:</b></font> I&apos;ve never tried using dwm. I take it you like it over other tiled window managers?<br/>
<font color="#062585"><font size="2">(10:55:22 PM)</font> <b>***benley</b></font> &lt;--- currently using awesomewm, which is ok.<br/>
<font color="#A82F2F"><font size="2">(10:55:27 PM)</font> <b>azriphale:</b></font> I haven&apos;t used many. I really liked the simplicity of configuring dwm.<br/>
<font color="#A82F2F"><font size="2">(10:55:36 PM)</font> <b>viric:</b></font> dwm ftw<br/>
<font color="#A82F2F"><font size="2">(10:55:40 PM)</font> <b>hyper_ch:</b></font> so it&apos;s not awesome then...<br/>
<font color="#A82F2F"><font size="2">(10:55:58 PM)</font> <b>benley:</b></font> I used xmonad for a long time, that was also ok.  i3wm didn&apos;t do it for me.<br/>
<font color="#A82F2F"><font size="2">(10:55:59 PM)</font> <b>azriphale:</b></font> and I _really_ like the tagging aspect of dwm<br/>
<font color="#A82F2F"><font size="2">(10:56:44 PM)</font> <b>benley:</b></font> I believe awesomewm&apos;s tagging works similarly.  It&apos;s pretty cool.<br/>
<font color="#A82F2F"><font size="2">(10:56:46 PM)</font> <b>viric:</b></font> one day we will see an anthropology thesis about tiling wm<br/>
<font color="#A82F2F"><font size="2">(10:56:53 PM)</font> <b>viric:</b></font> antropology<br/>
<font color="#A82F2F"><font size="2">(10:57:18 PM)</font> <b>benley:</b></font> one day we&apos;ll look back and wonder what the hell &quot;window managers&quot; were supposed to be<br/>
<font color="#A82F2F"><font size="2">(10:57:38 PM)</font> <b>viric:</b></font> Imagine not only how many different tastes there are: there are people who actually thought it was worth starting a new tiling wm.<br/>
<font color="#A82F2F"><font size="2">(10:57:45 PM)</font> <b>benley:</b></font> (I&apos;m assuming the entire &quot;windowing&quot; paradigm will eventually be gone)<br/>
<font color="#A82F2F"><font size="2">(10:58:13 PM)</font> <b>viric:</b></font> we need more eaglemode<br/>
<font color="#A82F2F"><font size="2">(10:58:22 PM)</font> <b>azriphale:</b></font> What I do miss with dwm is low-battery notifications ;-) I just noticed my laptop battery is on 8%. I have a small tool that updates my battery status on the dwm bar. This conversation reminded me to check it.<br/>
<font color="#A82F2F"><font size="2">(10:58:39 PM)</font> <b>benley:</b></font> azriphale: hahaha I have the exact same problem right now<br/>
<font color="#A82F2F"><font size="2">(10:59:01 PM)</font> <b>azriphale:</b></font> A few times I have run out of battery ... once during a conference call (oops)<br/>
<font color="#A82F2F"><font size="2">(10:59:30 PM)</font> <b>viric:</b></font> use some gtkdialog thing<br/>
<font color="#A82F2F"><font size="2">(10:59:51 PM)</font> <b>viric:</b></font> there are multiple options, which of course I forgot<br/>
<font color="#A82F2F"><font size="2">(10:59:53 PM)</font> <b>azriphale:</b></font> I was playing with twmnd as a notificaion system. I haven&apos;t had that going since I switched to nixos. But I could easily plug into that<br/>
<font color="#A82F2F"><font size="2">(10:59:54 PM)</font> <b>benley:</b></font> yeah after that happened a few times I got around to writing a battery meter widget in lua<br/>
<font color="#A82F2F"><font size="2">(11:00:08 PM)</font> <b>viric:</b></font> the meter is easy<br/>
<font color="#A82F2F"><font size="2">(11:00:15 PM)</font> <b>azriphale:</b></font> (only been on nixos as my main system since the beginning of the week)<br/>
<font color="#A82F2F"><font size="2">(11:00:28 PM)</font> <b>benley:</b></font> the alerts I still don&apos;t have, but at least having a visible &quot;BATTERY TURNING RED&quot; thing helps<br/>
<font color="#A82F2F"><font size="2">(11:00:29 PM)</font> <b>viric:</b></font> the important part is noticing the low battery<br/>
<font color="#A82F2F"><font size="2">(11:01:08 PM)</font> <b>azriphale:</b></font> My battery meter is pretty subtle. Just a % with + after if if charging or a - if discharging<br/>
<font color="#A82F2F"><font size="2">(11:01:47 PM)</font> <b>iMatejC:</b></font> I do not have that kind of problems... I am using kde .. I am quite used to low battery, it happens a lot<br/>
<font color="#A82F2F"><font size="2">(11:01:54 PM)</font> <b>iMatejC:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(11:02:03 PM)</font> <b>benley:</b></font> heh<br/>
<font color="#A82F2F"><font size="2">(11:02:28 PM)</font> <b>azriphale:</b></font> I just got tired of having to arrange windows myself in KDE. I still use a lot of KDE apps, just with a tiling WM<br/>
<font color="#A82F2F"><font size="2">(11:02:33 PM)</font> <b>benley:</b></font> linux laptops aren&apos;t generally known for their amazing battery life. heh.<br/>
<font color="#A82F2F"><font size="2">(11:03:11 PM)</font> <b>azriphale:</b></font> I have a System76 galago, which really isn&apos;t bad (5 hours, unless I run Google Hangouts). Although no doubt could be better.<br/>
<font color="#A82F2F"><font size="2">(11:03:16 PM)</font> <b>benley:</b></font> I basically only use two apps: Chrome and a lot of terminal windows.<br/>
<font color="#A82F2F"><font size="2">(11:03:26 PM)</font> <b>benley:</b></font> (graphical apps, that is)<br/>
<font color="#A82F2F"><font size="2">(11:03:52 PM)</font> <b>azriphale:</b></font> firefox, emacs, konsole<br/>
<font color="#A82F2F"><font size="2">(11:04:00 PM)</font> <b>benley:</b></font> oh right, gvim sometimes.<br/>
<font color="#A82F2F"><font size="2">(11:04:06 PM)</font> <b>benley:</b></font> so yeah same thing heh<br/>
<font size="2">(11:04:37 PM)</font><b> vcunat left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:06:11 PM)</font> <b>nkar:</b></font> &quot;Your IP address is listed as an open proxy in the DNSBL used by Nix Wiki.&quot; nixos wiki hates tor<br/>
<font color="#A82F2F"><font size="2">(11:06:36 PM)</font> <b>azriphale:</b></font> I threw myself in the deep end to learn nixos when I installed a new SSD and couldn&apos;t get a bootable (or non-corrupted) ubuntu USB installer. I figured the best way to get comfortable with it isn&apos;t to play with it on occaision, but to be forced to use it for work. So far, going pretty well.<br/>
<font color="#A82F2F"><font size="2">(11:06:46 PM)</font> <b>kmicu:</b></font> (Nix Wiki hates almost everything.)<br/>
<font color="#A82F2F"><font size="2">(11:08:15 PM)</font> <b>azriphale:</b></font> How can I find what is referencing things in the store that I expected to be cleaned up by nix-collect-garbage ?<br/>
<font color="#A82F2F"><font size="2">(11:08:29 PM)</font> <b>azriphale:</b></font> (or could it be previous revisions of my user env...?)<br/>
<font color="#A82F2F"><font size="2">(11:08:38 PM)</font> <b>benley:</b></font> it definitely could be<br/>
<font color="#A82F2F"><font size="2">(11:08:59 PM)</font> <b>benley:</b></font> try nix-collect-garbage --delete-older-than 7d or something<br/>
<font color="#A82F2F"><font size="2">(11:09:54 PM)</font> <b>azriphale:</b></font> more like 10 minutes ;-)<br/>
<font color="#A82F2F"><font size="2">(11:09:55 PM)</font> <b>nkar:</b></font> kmicu: lol, it also fails to recognize my email address<br/>
<font color="#A82F2F"><font size="2">(11:10:06 PM)</font> <b>kmicu:</b></font> azriphale: check ’man nixs-store’ and use print-roots flag.<br/>
<font color="#A82F2F"><font size="2">(11:10:13 PM)</font> <b>benley:</b></font> also you can look in /nix/var/nix/gcroots/auto for symlinks to &quot;result&quot; directories from building things<br/>
<font color="#A82F2F"><font size="2">(11:10:13 PM)</font> <b>azriphale:</b></font> Thanks<br/>
<font color="#A82F2F"><font size="2">(11:11:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] joachifm opened pull request #6702: nixos: some improvements for dnscrypt-proxy (master...dnscrypt-proxy) http://git.io/ptPY<br/>
<font color="#A82F2F"><font size="2">(11:11:28 PM)</font> <b>benley:</b></font> nix-store --gc --print-roots is identical to nix-collect-garbage --print-roots fwiw<br/>
<font color="#A82F2F"><font size="2">(11:13:24 PM)</font> <b>kmicu:</b></font> Cuz ‘nix-collect-garbage’ is an ‘alias’ for ‘nix-store --gc’…<br/>
<font color="#A82F2F"><font size="2">(11:13:32 PM)</font> <b>benley:</b></font> aye<br/>
<font color="#062585"><font size="2">(11:13:34 PM)</font> <b>***kmicu</b></font> just added scanner and wireless printer… w/o bigger bumps. Amazing.<br/>
<font color="#A82F2F"><font size="2">(11:13:53 PM)</font> <b>benley:</b></font> hm?<br/>
<font color="#A82F2F"><font size="2">(11:13:54 PM)</font> <b>kmicu:</b></font> NixOS is too mainstream.<br/>
<font color="#A82F2F"><font size="2">(11:14:10 PM)</font> <b>azriphale:</b></font> Am I correct in thinking that the command nix-env --delete-generations old will delete _all_ generations that are not the current generation?<br/>
<font color="#A82F2F"><font size="2">(11:14:14 PM)</font> <b>benley:</b></font> time to switch to guix?<br/>
<font color="#A82F2F"><font size="2">(11:14:35 PM)</font> <b>benley:</b></font> azriphale: I think so yes<br/>
<font color="#A82F2F"><font size="2">(11:14:36 PM)</font> <b>kmicu:</b></font> GuixSD should be more fun.<br/>
<font color="#A82F2F"><font size="2">(11:14:51 PM)</font> <b>azriphale:</b></font> Actually, I found the nix expression language much more readable than guile in this domain (and I am not a newcomer to lisp like I was to nix)<br/>
<font color="#A82F2F"><font size="2">(11:15:00 PM)</font> <b>benley:</b></font> what&apos;s GuixSD?<br/>
<font color="#A82F2F"><font size="2">(11:15:13 PM)</font> <b>kmicu:</b></font> NixOS and Nix = GuixSD and Guix.<br/>
<font color="#A82F2F"><font size="2">(11:15:14 PM)</font> <b>benley:</b></font> azriphale: oddly enough I do too<br/>
<font color="#A82F2F"><font size="2">(11:15:22 PM)</font> <b>benley:</b></font> oh ok, guixsd is the distro.<br/>
<font color="#A82F2F"><font size="2">(11:16:05 PM)</font> <b>benley:</b></font> I should tinker with guix a bit, I&apos;m curious to see where the guile integration could be useful.<br/>
<font color="#A82F2F"><font size="2">(11:16:29 PM)</font> <b>benley:</b></font> like, does it replace some of the shell scripty bits with guile blocks? that would be great.<br/>
<font color="#A82F2F"><font size="2">(11:16:42 PM)</font> <b>kmicu:</b></font> Guix team want to Guile All The Things™<br/>
<font color="#A82F2F"><font size="2">(11:16:46 PM)</font> <b>benley:</b></font> heh<br/>
<font color="#A82F2F"><font size="2">(11:17:44 PM)</font> <b>viric:</b></font> one lisp to rule them all<br/>
<font color="#A82F2F"><font size="2">(11:17:51 PM)</font> <b>benley:</b></font> I might be crazy for wanting this but I think it would be neat if the Nix language could be used for more general programming<br/>
<font color="#A82F2F"><font size="2">(11:18:21 PM)</font> <b>benley:</b></font> not that I would want to switch anything from, say, python to nix - but it would be cool to have fewer shell-scripty bits in the midst of nix.<br/>
<font color="#A82F2F"><font size="2">(11:19:16 PM)</font> <b>benley:</b></font> and I&apos;d love it if I could use nix to do fancier config file generation, particularly around things where I need floating point math<br/>
<font color="#A82F2F"><font size="2">(11:19:30 PM)</font> <b>benley:</b></font> but like I said, I&apos;m kinda crazy<br/>
<font color="#A82F2F"><font size="2">(11:20:40 PM)</font> <b>kmicu:</b></font> Start porting Perl hackery in current Nix ecosystem and we will return to that discussion. :)<br/>
<font color="#A82F2F"><font size="2">(11:22:18 PM)</font> <b>benley:</b></font> heh<br/>
<font color="#A82F2F"><font size="2">(11:22:45 PM)</font> <b>benley:</b></font> afaik a lot of the current perl hackery couldn&apos;t easily be done in pure nix, could it?<br/>
<font color="#A82F2F"><font size="2">(11:23:47 PM)</font> <b>azriphale:</b></font> benley: This suggests (via a talk given by Ludovic Courtès) that guile could be used for build scripts as well as package description: http://sandervanderburg.blogspot.co.uk/2012/11/on-nix-and-gnu-guix.html<br/>
<font color="#A82F2F"><font size="2">(11:24:37 PM)</font> <b>azriphale:</b></font> I haven&apos;t seen the talk that is referenced, nor have I looked any further than reading that post.<br/>
<font color="#A82F2F"><font size="2">(11:24:45 PM)</font> <b>benley:</b></font> also speaking of perl, I have to give nix credit for convincing me that Perl is a legit respectable language<br/>
<font color="#062585"><font size="2">(11:24:55 PM)</font> <b>***kmicu</b></font> does not have enough mental strength to touch&amp;read Perl part of Nix universe.<br/>
<font color="#A82F2F"><font size="2">(11:25:20 PM)</font> <b>benley:</b></font> the Hydra codebase is neta.<br/>
<font color="#A82F2F"><font size="2">(11:25:22 PM)</font> <b>benley:</b></font> *neat<br/>
<font color="#A82F2F"><font size="2">(11:25:38 PM)</font> <b>codehero:</b></font> i wonder. why perl and not something like rust?<br/>
<font color="#A82F2F"><font size="2">(11:25:51 PM)</font> <b>azriphale:</b></font> Rust looks pretty interesting<br/>
<font color="#A82F2F"><font size="2">(11:25:52 PM)</font> <b>benley:</b></font> because rust didn&apos;t even slightly exist when all these things were written<br/>
<font color="#A82F2F"><font size="2">(11:26:34 PM)</font> <b>codehero:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(11:26:38 PM)</font> <b>codehero:</b></font> true<br/>
<font color="#A82F2F"><font size="2">(11:27:02 PM)</font> <b>codehero:</b></font> azriphale: yeah. it even has good support for functional programming afaik<br/>
<font color="#A82F2F"><font size="2">(11:29:01 PM)</font> <b>azriphale:</b></font> Another nixos question: I am using nix-shell for an environment where I can do my Python development. Running nix-collect-garbage deleted everything that shell was referencing in the store. Is there a way to prevent that?<br/>
<font color="#A82F2F"><font size="2">(11:29:34 PM)</font> <b>benley:</b></font> don&apos;t close the shell :)<br/>
<font color="#A82F2F"><font size="2">(11:30:24 PM)</font> <b>benley:</b></font> or use a myEnvFun derivation, which will give you a persistent environment you can load<br/>
<font color="#062585"><font size="2">(11:30:56 PM)</font> <b>***kmicu</b></font> prefers Control.Lens.Lens more than Perl. (⸮) https://pbs.twimg.com/media/B_ZVz_WWQAAhhbG.png<br/>
<font color="#A82F2F"><font size="2">(11:30:58 PM)</font> <b>benley:</b></font> or, https://nixos.org/wiki/Development_Environments#Making_a_Persistent_nix-shell_Environment<br/>
<font color="#A82F2F"><font size="2">(11:31:34 PM)</font> <b>benley:</b></font> kmicu: that looks like haskell users making fun of perl :P<br/>
<font color="#A82F2F"><font size="2">(11:31:38 PM)</font> <b>azriphale:</b></font> yes, I had read that, but only now really get it<br/>
<font color="#A82F2F"><font size="2">(11:31:40 PM)</font> <b>azriphale:</b></font> Thanks<br/>
<font color="#A82F2F"><font size="2">(11:31:43 PM)</font> <b>codehero:</b></font> kmicu: lenses are pretty cool<br/>
<font color="#A82F2F"><font size="2">(11:32:22 PM)</font> <b>codehero:</b></font> lol those emoticons<br/>
<font color="#A82F2F"><font size="2">(11:32:33 PM)</font> <b>codehero:</b></font> reminds me of &quot;}{&quot;<br/>
<font color="#A82F2F"><font size="2">(11:32:48 PM)</font> <b>codehero:</b></font> and where was a spaceship operator as well in perl<br/>
<font color="#A82F2F"><font size="2">(11:39:02 PM)</font> <b>azriphale:</b></font> Regarding persistent shells using nix-instantiate, how would I clean that up in the future? Is it as simple as deleting the root link that nix-instantiate creates?<br/>
<font color="#A82F2F"><font size="2">(11:46:55 PM)</font> <b>benley:</b></font> yeah - if you remove that symlink, the garbage collector will notice<br/>
<font color="#A82F2F"><font size="2">(11:47:26 PM)</font> <b>benley:</b></font> that&apos;s what the symlinks in /nix/var/nix/gcroots/auto are for<br/>
<font size="2">(12:06:02 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
