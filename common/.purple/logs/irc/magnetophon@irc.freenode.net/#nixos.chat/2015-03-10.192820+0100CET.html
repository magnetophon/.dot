<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Tue 10 Mar 2015 07:28:20 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Tue 10 Mar 2015 07:28:20 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(07:28:20 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(07:28:20 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(07:35:06 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] rycee opened pull request #6744: Update &apos;fira&apos; to version 4.002. (master...update/fira) http://git.io/pEfS<br/>
<font size="2">(07:36:12 PM)</font><b> devhell is now known as devhell_</b><br/>
<font color="#A82F2F"><font size="2">(07:45:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/pELj<br/>
<font color="#A82F2F"><font size="2">(07:45:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0de5e56 William A. Kennington III: msgpack: Update to 1.0.0<br/>
<font color="#A82F2F"><font size="2">(07:46:18 PM)</font> <b>gridaphobe:</b></font> yikes, somethign has caused hydra to rebuild all of master<br/>
<font color="#A82F2F"><font size="2">(07:46:37 PM)</font> <b>Fuuzetsu:</b></font> maybe the zfs commit<br/>
<font color="#A82F2F"><font size="2">(07:47:13 PM)</font> <b>gridaphobe:</b></font> would that affect the linux stdenv?<br/>
<font color="#A82F2F"><font size="2">(07:47:30 PM)</font> <b>gridaphobe:</b></font> i see a tweak to llvm, which is probably the source of the darwin builds<br/>
<font color="#A82F2F"><font size="2">(07:47:58 PM)</font> <b>Fuuzetsu:</b></font> that is more likely<br/>
<font color="#A82F2F"><font size="2">(07:48:44 PM)</font> <b>azriphale:</b></font> I was just playing with building a newer kernel (3.19), and have a lot of output like this:<br/>
<font color="#A82F2F"><font size="2">(07:48:45 PM)</font> <b>azriphale:</b></font> collision between `/nix/store/65rlz37xr353mv47wz8cn42csd3hp4hh-kmod-18/sbin/modinfo&apos; and `/nix/store/84l8k6lqbm0fj8b8q3fsl6mr40h08z43-modprobe/sbin/modinfo&apos; at /nix/store/9z6d76pz8rr7gci2n3igh5dqi7ac5xqj-builder.pl line 69.<br/>
<font color="#A82F2F"><font size="2">(07:48:59 PM)</font> <b>azriphale:</b></font> is that expected/safe?<br/>
<font color="#A82F2F"><font size="2">(07:50:02 PM)</font> <b>gridaphobe:</b></font> Fuuzetsu: but llvm shouldnt affect the linux stdenv<br/>
<font size="2">(07:51:48 PM)</font><b> devhell_ is now known as devhell</b><br/>
<font color="#A82F2F"><font size="2">(08:03:02 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] blueyed opened pull request #6745: Add new derivation &quot;awesome-git&quot;, based on awesome (master...add-awesome-git) http://git.io/pEc2<br/>
<font color="#A82F2F"><font size="2">(08:18:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 2 new commits to master: http://git.io/pERz<br/>
<font color="#A82F2F"><font size="2">(08:18:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 54290aa Nikita Mikhailov: i3: 4.9 -&gt; 4.9.1<br/>
<font color="#A82F2F"><font size="2">(08:18:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master aab82ca Pascal Wittmann: Merge pull request #6743 from nslqqq/master...<br/>
<font color="#A82F2F"><font size="2">(08:21:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] garrison opened pull request #6746: Add vmtouch package (master...vmtouch) http://git.io/pE0y<br/>
<font color="#A82F2F"><font size="2">(08:22:51 PM)</font> <b>joelteon:</b></font> how do I use nix-shell with ghcWithPackages?<br/>
<font color="#A82F2F"><font size="2">(08:25:54 PM)</font> <b>the-kenny:</b></font> Hah. A thinkpad is suck a cozy lap warmer when building from git.<br/>
<font color="#A82F2F"><font size="2">(08:26:37 PM)</font> <b>ktosiek:</b></font> haha, that feels like Gentoo<br/>
<font color="#A82F2F"><font size="2">(08:27:08 PM)</font> <b>Fuuzetsu:</b></font> I spent many warm hours with ThinkPad + Gentoo<br/>
<font color="#A82F2F"><font size="2">(08:28:58 PM)</font> <b>Digit:</b></font> sounds good at the moment.   infuriated by trying to get fonts to work in nixos.<br/>
<font color="#A82F2F"><font size="2">(08:29:20 PM)</font> <b>Fuuzetsu:</b></font> http://lpaste.net/6638167977998942208<br/>
<font color="#A82F2F"><font size="2">(08:29:22 PM)</font> <b>Fuuzetsu:</b></font> all I needed<br/>
<font size="2">(08:30:51 PM)</font><b> ktosiek left the room (&quot;Leaving, but not forever&quot;).</b><br/>
<font color="#A82F2F"><font size="2">(08:32:20 PM)</font> <b>Digit:</b></font> i make my own.  on other distros, i would simply have the generated fonts in ~/.fonts, and that was it, job done, they &quot;just work&quot;.  i cant wrap my head around wtf nixos is doing at all yet.  xlsfonts doesnt notice some fonts that i can use, and none of my .otb bitmap fonts work, and no idea where i&apos;m actually supposed to be putting them, or how to get configuration.nix to reload<br/>
<font color="#A82F2F"><font size="2">(08:32:33 PM)</font> <b>Digit:</b></font> frustrated n exhausted<br/>
<font color="#A82F2F"><font size="2">(08:35:06 PM)</font> <b>the-kenny:</b></font> Digit: short: Create a &quot;derivation&quot; for it and put them into fonts.fonts<br/>
<font color="#A82F2F"><font size="2">(08:35:55 PM)</font> <b>the-kenny:</b></font> the derivation just has to put the .ttfs into $out/share/fonts/truetype/<br/>
<font color="#A82F2F"><font size="2">(08:36:10 PM)</font> <b>the-kenny:</b></font> NixOS is declarative and does many things different than other distros.<br/>
<font color="#A82F2F"><font size="2">(08:36:57 PM)</font> <b>dnhgff:</b></font> is there any way to trigger a git remote checkout in hydra?<br/>
<font color="#A82F2F"><font size="2">(08:37:14 PM)</font> <b>dnhgff:</b></font> or is poll the only way to go<br/>
<font color="#A82F2F"><font size="2">(08:37:25 PM)</font> <b>MoreTea:</b></font> Hi there, I tried to install tex, with &apos;nix-env -i texlive-full&apos;, but I get the following error: &quot;output path ‘/nix/store/rw04h4i99w8816y4ihjw7l7fhq33i3cr-moderntimeline.zip’ should have sha256 hash ‘0dxwybanj7qvbr69wgsllha1brq6qjsnjfff6nw4r3nijzvvh876’, instead has ‘0y2m0qd0izrfjcwrmf3nvzkqmrhkdhzbv29s4c0knksdnfgcchc8’&quot;<br/>
<font color="#A82F2F"><font size="2">(08:38:33 PM)</font> <b>the-kenny:</b></font> MoreTea: that happens when the hosters just change the zip without changing the url (which is bad).<br/>
<font color="#062585"><font size="2">(08:38:47 PM)</font> <b>***Digit</b></font> opens http://nixos.org/nix/manual/#ssec-derivation for later, when he&apos;s less exhausted n able to fight the dyslexia better.<br/>
<font color="#A82F2F"><font size="2">(08:38:58 PM)</font> <b>MoreTea:</b></font> nix-env --gc doens&apos;t help<br/>
<font color="#A82F2F"><font size="2">(08:39:07 PM)</font> <b>MoreTea:</b></font> hmm.<br/>
<font color="#A82F2F"><font size="2">(08:39:34 PM)</font> <b>the-kenny:</b></font> MoreTea: Someone needs to update the hash in the corresponding .nix file.<br/>
<font color="#A82F2F"><font size="2">(08:39:50 PM)</font> <b>the-kenny:</b></font> (It likely is already updated but not released yet)<br/>
<font color="#A82F2F"><font size="2">(08:39:52 PM)</font> <b>vcunat:</b></font> Digit: ~/.fonts is deprecated (fontconfig upstream suggestion), but ~/.local/share/fonts works as a replacement<br/>
<font color="#A82F2F"><font size="2">(08:40:05 PM)</font> <b>vcunat:</b></font> I use it myself<br/>
<font color="#A82F2F"><font size="2">(08:40:29 PM)</font> <b>the-kenny:</b></font> vcunat: oh, I didn&apos;t know that.<br/>
<font color="#A82F2F"><font size="2">(08:50:43 PM)</font> <b>MoreTea:</b></font> I&apos;ve updated the SHA, can I just create a pullrequest?<br/>
<font color="#A82F2F"><font size="2">(08:51:14 PM)</font> <b>the-kenny:</b></font> MoreTea: yup!<br/>
<font color="#A82F2F"><font size="2">(08:52:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] moretea opened pull request #6747: Update moderncv SHA (master...update_sha_moderncv) http://git.io/pEMQ<br/>
<font color="#A82F2F"><font size="2">(08:52:49 PM)</font> <b>MoreTea:</b></font> There we go<br/>
<font color="#A82F2F"><font size="2">(08:54:50 PM)</font> <b>the-kenny:</b></font> really, changing the tarball for a already-released release is just plain ugly.<br/>
<font color="#A82F2F"><font size="2">(08:56:14 PM)</font> <b>Digit:</b></font> thnx vcunat.  i knew there had to be a sane(r) way.  :)  new font working, n now i can get back to it, rather than wasting half a day getting nowhere. :)<br/>
<font color="#A82F2F"><font size="2">(08:56:58 PM)</font> <b>vcunat:</b></font> :-)<br/>
<font color="#A82F2F"><font size="2">(09:04:32 PM)</font> <b>MoreTea:</b></font> so, am I correct to assume that the difference between fetchurl and fetchzip is, that the SHA of the first is determined by the downloaded resource, whilst the SHA of the latter depends on the SHA of the extracted files?<br/>
<font color="#A82F2F"><font size="2">(09:05:12 PM)</font> <b>bnjbvr:</b></font> hi, i updated my nixos server which has a bind instance on it, but now bind is down, because named can&apos;t access the zone filename, while it could before, what should i do?<br/>
<font color="#A82F2F"><font size="2">(09:05:22 PM)</font> <b>bnjbvr:</b></font> does the named user has its own homedir?<br/>
<font color="#A82F2F"><font size="2">(09:05:25 PM)</font> <b>MoreTea:</b></font> Also, I&apos;m using the 14.10 channel, is there a simple way to override just this latex package?<br/>
<font color="#A82F2F"><font size="2">(09:08:28 PM)</font> <b>bnjbvr:</b></font> pierron, ^?<br/>
<font color="#A82F2F"><font size="2">(09:09:14 PM)</font> <b>vcunat:</b></font> MoreTea: correct<br/>
<font color="#A82F2F"><font size="2">(09:09:22 PM)</font> <b>vcunat:</b></font> you can use packageOverrides<br/>
<font color="#A82F2F"><font size="2">(09:09:54 PM)</font> <b>vcunat:</b></font> MoreTea: an example of that is on https://nixos.org/wiki/Nix_Modifying_Packages#Creating_a_config.nix_File<br/>
<font color="#A82F2F"><font size="2">(09:11:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cillianderoiste pushed 2 new commits to master: http://git.io/pEFt<br/>
<font color="#A82F2F"><font size="2">(09:11:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master dfe87f3 Cillian de Róiste: lmms: update from 1.1.2 to 1.1.3<br/>
<font color="#A82F2F"><font size="2">(09:11:32 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 59be6b0 Cillian de Róiste: python33Packages.evdev: update from 0.4.6 to 0.4.7<br/>
<font color="#A82F2F"><font size="2">(09:18:45 PM)</font> <b>pierron:</b></font> bnjbvr: pong?<br/>
<font color="#A82F2F"><font size="2">(09:19:40 PM)</font> <b>pierron:</b></font> bnjbvr: is the zone file generated by nixos?<br/>
<font color="#A82F2F"><font size="2">(09:20:11 PM)</font> <b>pierron:</b></font> bnjbvr: what is nixos-version ?<br/>
<font color="#A82F2F"><font size="2">(09:20:28 PM)</font> <b>pierron:</b></font> bnjbvr: is the file present?<br/>
<font color="#A82F2F"><font size="2">(09:20:40 PM)</font> <b>pierron:</b></font> bnjbvr: is the file readable by the bind user?<br/>
<font color="#A82F2F"><font size="2">(09:21:16 PM)</font> <b>pierron:</b></font> bnjbvr: if you have no time;  nixos-rebuild test --rollback<br/>
<font color="#A82F2F"><font size="2">(09:21:56 PM)</font> <b>bnjbvr:</b></font> pierron, the issue is that the bind file can&apos;t be read by the bind user, apparently, while it could before the upgrade<br/>
<font color="#A82F2F"><font size="2">(09:22:12 PM)</font> <b>bnjbvr:</b></font> pierron, it is in /root/somewhere/zone.file<br/>
<font color="#A82F2F"><font size="2">(09:22:27 PM)</font> <b>bnjbvr:</b></font> pierron, 14.12.501.2635bde (Caterpillar)<br/>
<font color="#A82F2F"><font size="2">(09:22:58 PM)</font> <b>pierron:</b></font> bnjbvr: maybe somebody added a bind user which was not there previously, what is the bind user?<br/>
<font color="#A82F2F"><font size="2">(09:23:04 PM)</font> <b>bnjbvr:</b></font> how can i find the bind username?<br/>
<font color="#A82F2F"><font size="2">(09:23:10 PM)</font> <b>pierron:</b></font> bnjbvr: does it has its own group?<br/>
<font color="#A82F2F"><font size="2">(09:23:23 PM)</font> <b>wkennington:</b></font> crap, where do i find people who know more about lightdm<br/>
<font color="#A82F2F"><font size="2">(09:23:31 PM)</font> <b>pierron:</b></font> bnjbvr: I guess you can find it in the systemd init script for named<br/>
<font color="#A82F2F"><font size="2">(09:23:52 PM)</font> <b>bnjbvr:</b></font> pierron, bind&apos;s user is named<br/>
<font color="#A82F2F"><font size="2">(09:24:10 PM)</font> <b>pierron:</b></font> bnjbvr: chown ?<br/>
<font color="#A82F2F"><font size="2">(09:24:13 PM)</font> <b>bnjbvr:</b></font> pierron, ooc, where can i find the systemd init script for named? it is automatically generated by my nix configuration...<br/>
<font color="#A82F2F"><font size="2">(09:24:46 PM)</font> <b>hyper_ch:</b></font> someone said the s-word<br/>
<font color="#A82F2F"><font size="2">(09:24:52 PM)</font> <b>pierron:</b></font> bnjbvr: /etc/systemd/system/<br/>
<font color="#A82F2F"><font size="2">(09:25:14 PM)</font> <b>pierron:</b></font> hyper_ch: script?<br/>
<font color="#A82F2F"><font size="2">(09:25:18 PM)</font> <b>vcunat:</b></font> s-word = swear-word?<br/>
<font color="#A82F2F"><font size="2">(09:25:24 PM)</font> <b>hyper_ch:</b></font> systemd ;)<br/>
<font color="#A82F2F"><font size="2">(09:25:35 PM)</font> <b>vcunat:</b></font> swear-word systemd then<br/>
<font color="#A82F2F"><font size="2">(09:26:21 PM)</font> <b>pierron:</b></font> hyper_ch: are you highlighting it in IRC?<br/>
<font color="#A82F2F"><font size="2">(09:26:28 PM)</font> <b>hyper_ch:</b></font> öke<br/>
<font color="#A82F2F"><font size="2">(09:26:32 PM)</font> <b>hyper_ch:</b></font> hell no :)<br/>
<font color="#A82F2F"><font size="2">(09:26:43 PM)</font> <b>hyper_ch:</b></font> I just spotted it by accident and was almost turned blind<br/>
<font color="#A82F2F"><font size="2">(09:26:53 PM)</font> <b>bnjbvr:</b></font> pierron, so the zone file is in /home/user/config/zone.file, but it can&apos;t be accessed by named, although i did apply chown named:nogroup to the zone.file<br/>
<font color="#A82F2F"><font size="2">(09:26:54 PM)</font> <b>hyper_ch:</b></font> one shouldn&apos;t say it without appropriate warning<br/>
<font color="#A82F2F"><font size="2">(09:27:16 PM)</font> <b>pierron:</b></font> bnjbvr: chmod ?<br/>
<font color="#A82F2F"><font size="2">(09:27:31 PM)</font> <b>bnjbvr:</b></font> pierron, let me try this<br/>
<font color="#A82F2F"><font size="2">(09:28:20 PM)</font> <b>bnjbvr:</b></font> pierron, -rw-r--r-- named nogroup<br/>
<font color="#A82F2F"><font size="2">(09:28:29 PM)</font> <b>bnjbvr:</b></font> pierron, that should work?<br/>
<font color="#A82F2F"><font size="2">(09:28:48 PM)</font> <b>pierron:</b></font> bnjbvr: no idea.<br/>
<font color="#A82F2F"><font size="2">(09:29:11 PM)</font> <b>pierron:</b></font> bnjbvr: have you tried running the command executed by systemd manually?<br/>
<font color="#A82F2F"><font size="2">(09:29:20 PM)</font> <b>bnjbvr:</b></font> pierron, will try this<br/>
<font color="#A82F2F"><font size="2">(09:31:59 PM)</font> <b>bnjbvr:</b></font> pierron, nothing more -- it fails silently (return code is != 0, but nothing shows up on screen)<br/>
<font color="#A82F2F"><font size="2">(09:32:26 PM)</font> <b>pierron:</b></font> bnjbvr: can you add any cli to increase the verbosity?<br/>
<font color="#A82F2F"><font size="2">(09:33:14 PM)</font> <b>bnjbvr:</b></font> pierron, (more generally: when a service needs configuration files, where should they live? in which directory?)<br/>
<font color="#A82F2F"><font size="2">(09:34:19 PM)</font> <b>pierron:</b></font> bnjbvr: /etc ?<br/>
<font color="#A82F2F"><font size="2">(09:34:20 PM)</font> <b>pierron:</b></font> bnjbvr: this does not really matter.<br/>
<font color="#A82F2F"><font size="2">(09:34:41 PM)</font> <b>bnjbvr:</b></font> pierron, apparently, it does! so my bind&apos;s zone file should be in /etc?<br/>
<font color="#A82F2F"><font size="2">(09:35:01 PM)</font> <b>pierron:</b></font> bnjbvr: it should be where the service is looking for it.<br/>
<font color="#A82F2F"><font size="2">(09:35:04 PM)</font> <b>bnjbvr:</b></font> could it be that named can&apos;t access the file because it is in my user home directory?<br/>
<font color="#A82F2F"><font size="2">(09:35:25 PM)</font> <b>pierron:</b></font> bnjbvr: some service cannot be configure and need special files in /etc, such as /etc/passwd<br/>
<font color="#A82F2F"><font size="2">(09:35:40 PM)</font> <b>bnjbvr:</b></font> pierron, in the bind&apos;s config file, i&apos;ve put the path to my home directory, containing the zone file, though<br/>
<font color="#A82F2F"><font size="2">(09:35:47 PM)</font> <b>pierron:</b></font> bnjbvr: if your home directory is mounted, no.<br/>
<font color="#A82F2F"><font size="2">(09:36:10 PM)</font> <b>seanz:</b></font> Anyone else here using the postgresql package? I&apos;m curious to know why the root user ends up as the superuser, as opposed to the postgres user as in other distros.<br/>
<font color="#A82F2F"><font size="2">(09:37:28 PM)</font> <b>seanz:</b></font> nixos.pkgs.postgresql, currently version 9.2.9.<br/>
<font color="#A82F2F"><font size="2">(09:41:36 PM)</font> <b>bnjbvr:</b></font> pierron, so i made a quick test: i&apos;ve moved the zone file from my home dir to /etc/named (directory i&apos;ve created) and chown&apos;d the /etc/named to named<br/>
<font color="#A82F2F"><font size="2">(09:41:40 PM)</font> <b>bnjbvr:</b></font> pierron, and now it works<br/>
<font color="#A82F2F"><font size="2">(09:41:57 PM)</font> <b>bnjbvr:</b></font> pierron, so i guess something has changed recently that makes user directories actually private to other users?<br/>
<font color="#A82F2F"><font size="2">(09:42:44 PM)</font> <b>bnjbvr:</b></font> interestingly enough, same issue happens with nginx which can&apos;t read in /root anymore as well<br/>
<font color="#A82F2F"><font size="2">(09:43:38 PM)</font> <b>pierron:</b></font> bnjbvr: isn&apos;t that the fact that the directory is owned by the same user?<br/>
<font color="#A82F2F"><font size="2">(09:44:11 PM)</font> <b>pierron:</b></font> bnjbvr: this could be a security feature, to ensure that the user cannot replace the configuration, I guess.<br/>
<font color="#A82F2F"><font size="2">(09:47:29 PM)</font> <b>bnjbvr:</b></font> pierron, i thought the power of nixos was to not need having files scattered among different directories (like in /etc). Have i misunderstood something? or is it absolutely required for services to live in /etc?<br/>
<font color="#A82F2F"><font size="2">(09:47:52 PM)</font> <b>bnjbvr:</b></font> for instance, where do i put the nginx HTML root of a server, now? does it make sense to have this in /etc?<br/>
<font color="#A82F2F"><font size="2">(09:48:43 PM)</font> <b>pierron:</b></font> bnjbvr: the power of nixos is to manage the configuration for you, but if you opt-out then you should be able to put it where you want<br/>
<font color="#A82F2F"><font size="2">(09:49:00 PM)</font> <b>pierron:</b></font> bnjbvr: I do not know why you are facing these limitations.<br/>
<font color="#A82F2F"><font size="2">(09:49:36 PM)</font> <b>bnjbvr:</b></font> pierron, well, for bind, you *have to* define a zone file somewhere...<br/>
<font color="#A82F2F"><font size="2">(09:49:56 PM)</font> <b>pierron:</b></font> bnjbvr: couldn&apos;t it be generated for you?<br/>
<font color="#A82F2F"><font size="2">(09:50:27 PM)</font> <b>pierron:</b></font> bnjbvr: in which case it would be somewhere in /nix/store ?<br/>
<font color="#A82F2F"><font size="2">(09:51:00 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] moretea closed pull request #6747: Update moderncv SHA (master...update_sha_moderncv) http://git.io/pEMQ<br/>
<font color="#A82F2F"><font size="2">(09:53:02 PM)</font> <b>bnjbvr:</b></font> pierron, can&apos;t be generated for you (unless docs hasn&apos;t been updated :P)<br/>
<font color="#A82F2F"><font size="2">(09:58:56 PM)</font> <b>bnjbvr:</b></font> where do people usually store the root of their nginx html server?<br/>
<font color="#A82F2F"><font size="2">(09:59:01 PM)</font> <b>wkennington:</b></font> hey how do i get the path for the locale binary<br/>
<font color="#A82F2F"><font size="2">(09:59:05 PM)</font> <b>wkennington:</b></font> it is part of glibc<br/>
<font color="#A82F2F"><font size="2">(09:59:18 PM)</font> <b>wkennington:</b></font> i assume we don&apos;t just want to use pkgs.glibc/bin/locale<br/>
<font color="#A82F2F"><font size="2">(09:59:38 PM)</font> <b>Fuuzetsu:</b></font> many packages do that AFAIK<br/>
<font color="#A82F2F"><font size="2">(10:00:51 PM)</font> <b>wkennington:</b></font> it seems wrong though<br/>
<font color="#A82F2F"><font size="2">(10:01:08 PM)</font> <b>Fuuzetsu:</b></font> don&apos;t know of a better solution<br/>
<font color="#A82F2F"><font size="2">(10:01:29 PM)</font> <b>wkennington:</b></font> why do i sometimes get a bold font in my terminal after login<br/>
<font color="#A82F2F"><font size="2">(10:01:35 PM)</font> <b>wkennington:</b></font> this doesn&apos;t make any sense<br/>
<font color="#A82F2F"><font size="2">(10:01:56 PM)</font> <b>wkennington:</b></font> i never understood why this happens<br/>
<font color="#A82F2F"><font size="2">(10:01:59 PM)</font> <b>wkennington:</b></font> but it drives me nuts<br/>
<font color="#A82F2F"><font size="2">(10:02:21 PM)</font> <b>wkennington:</b></font> even though my terminal has fixed font settings<br/>
<font color="#A82F2F"><font size="2">(10:02:51 PM)</font> <b>Sonarpulse:</b></font> it seems that llvmPackages.lld has an incorrect hash<br/>
<font color="#A82F2F"><font size="2">(10:03:31 PM)</font> <b>wkennington:</b></font> hopefully this fixes lightdm for good<br/>
<font color="#A82F2F"><font size="2">(10:03:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/puCM<br/>
<font color="#A82F2F"><font size="2">(10:03:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 7b6e2e1 William A. Kennington III: lightdm: Fix rendering<br/>
<font color="#A82F2F"><font size="2">(10:09:01 PM)</font> <b>spwhitt:</b></font> I had an idea about how to make nix + nixos shell agnostic (so we could easily support any shell, most notably fish)<br/>
<font color="#A82F2F"><font size="2">(10:09:08 PM)</font> <b>spwhitt:</b></font> I put together a proof of concept here: https://github.com/spwhitt/any-shell-init<br/>
<font color="#A82F2F"><font size="2">(10:09:17 PM)</font> <b>spwhitt:</b></font> wondering if anyone has thoughts before I put effort into pull requests<br/>
<font color="#A82F2F"><font size="2">(10:11:15 PM)</font> <b>wkennington:</b></font> someone should make a nixos wallpaper<br/>
<font color="#A82F2F"><font size="2">(10:11:20 PM)</font> <b>pierron:</b></font> bnjbvr: I would say that the root of nginx would usualy be in /var<br/>
<font color="#A82F2F"><font size="2">(10:11:41 PM)</font> <b>pierron:</b></font> bnjbvr: based on the FHS<br/>
<font color="#A82F2F"><font size="2">(10:12:07 PM)</font> <b>pierron:</b></font> bnjbvr: but have you tried starting it manually again?<br/>
<font color="#A82F2F"><font size="2">(10:12:16 PM)</font> <b>pierron:</b></font> bnjbvr: what are the error messages?<br/>
<font color="#A82F2F"><font size="2">(10:12:35 PM)</font> <b>ttuegel:</b></font> spwhitt: one thing about this type of abstraction is that different shells have different initialization files and different semantics for them, so i don&apos;t think you can entirely eliminate shell-specific bits from nixos<br/>
<font color="#A82F2F"><font size="2">(10:13:07 PM)</font> <b>pierron:</b></font> bnjbvr: stupid question, did you remove the access right of all the directory above the files that you are trying to move?<br/>
<font color="#A82F2F"><font size="2">(10:13:28 PM)</font> <b>spwhitt:</b></font> ttuegel: That&apos;s why the init is always written in bash, and executed in bash, but it prints out per-shell translations to execute the non-compatible bits (currenlty just environment variables)<br/>
<font color="#A82F2F"><font size="2">(10:13:29 PM)</font> <b>bnjbvr:</b></font> pierron, no error messages again when running manually, just getting a 500 error message when trying to access /<br/>
<font color="#A82F2F"><font size="2">(10:13:32 PM)</font> <b>pierron:</b></font> bnjbvr: especially the execution flag for other / group on directories?<br/>
<font color="#A82F2F"><font size="2">(10:13:39 PM)</font> <b>spwhitt:</b></font> ttuegel: I encourage you to look through my repo<br/>
<font color="#A82F2F"><font size="2">(10:13:43 PM)</font> <b>bnjbvr:</b></font> pierron, didn&apos;t change it<br/>
<font color="#A82F2F"><font size="2">(10:13:53 PM)</font> <b>pierron:</b></font> bnjbvr: can you verify it?<br/>
<font color="#A82F2F"><font size="2">(10:15:14 PM)</font> <b>pierron:</b></font> bnjbvr: at least that would explain why both programs cannot access your use files.<br/>
<font color="#A82F2F"><font size="2">(10:15:32 PM)</font> <b>pierron:</b></font> s/use/user/<br/>
<font color="#A82F2F"><font size="2">(10:15:54 PM)</font> <b>ttuegel:</b></font> spwhitt: i did look at your repo. i don&apos;t think you understood my point, which is that even if you run the init scripts through bash, different shells will run the scripts at different times, and indeed different numbers of times, at startup.<br/>
<font color="#A82F2F"><font size="2">(10:15:55 PM)</font> <b>spwhitt:</b></font> ttuegel: Though you&apos;re right, I&apos;m aware that things like command-not-found will always be shell specific. But abstracting out environment variable syntax takes care of most of Nix, and the rest can be handled on a per-shell basis.<br/>
<font color="#A82F2F"><font size="2">(10:15:57 PM)</font> <b>bnjbvr:</b></font> pierron, note that once again, putting html files into /var/www worked the first time, so i really think there&apos;s something wrong with storing config files / service files in user home directories<br/>
<font color="#A82F2F"><font size="2">(10:16:16 PM)</font> <b>bnjbvr:</b></font> pierron, will check flags of /home/username...<br/>
<font color="#A82F2F"><font size="2">(10:16:29 PM)</font> <b>pierron:</b></font> bnjbvr: and /home<br/>
<font color="#A82F2F"><font size="2">(10:16:42 PM)</font> <b>ttuegel:</b></font> spwhitt: if i understand correctly, you are trying to get rid of the shell-specific nixos modules, right?<br/>
<font color="#A82F2F"><font size="2">(10:16:56 PM)</font> <b>spwhitt:</b></font> ttuegel: That would be a problem. I assumed most shells had close-enough equivalency in that area.<br/>
<font color="#A82F2F"><font size="2">(10:17:21 PM)</font> <b>bnjbvr:</b></font> pierron, haha, /home/username was only readable by owner<br/>
<font color="#A82F2F"><font size="2">(10:17:24 PM)</font> <b>bnjbvr:</b></font> maybe that changed recently...<br/>
<font color="#A82F2F"><font size="2">(10:17:34 PM)</font> <b>ttuegel:</b></font> spwhitt: i think they all have something like /etc/profile... the problem only becomes if you want something other than that<br/>
<font color="#A82F2F"><font size="2">(10:18:22 PM)</font> <b>spwhitt:</b></font> ttuegel: Two things. 1) I&apos;m trying to get rid of the bourne-shell specific nix.sh you have to source for Nix 2) I&apos;m trying to make it possible to add non-bourne compatible shells as nixos modules<br/>
<font color="#A82F2F"><font size="2">(10:18:51 PM)</font> <b>spwhitt:</b></font> ttuegel: So someone could do programs.fish.enable similar to how we do programs.zsh.enable<br/>
<font color="#A82F2F"><font size="2">(10:18:52 PM)</font> <b>dav:</b></font> What&apos;s a good way to &quot;install nixos from nixos&quot; ? i.e. I have working nixos system and I want to install another one on another partition..<br/>
<font color="#A82F2F"><font size="2">(10:19:05 PM)</font> <b>pierron:</b></font> bnjbvr: no idea, I guess this might be something to look at in the activation script.<br/>
<font color="#A82F2F"><font size="2">(10:19:08 PM)</font> <b>spwhitt:</b></font> ttuegel: Anything else would be icing on the cake<br/>
<font color="#A82F2F"><font size="2">(10:19:27 PM)</font> <b>pierron:</b></font> bnjbvr: less /var/run/current-system/activate<br/>
<font color="#A82F2F"><font size="2">(10:19:29 PM)</font> <b>bnjbvr:</b></font> bnjbvr, arf, still getting 500 in nginx, after i&apos;ve set +r on /home/username and moved back the html dir in /home/username<br/>
<font color="#A82F2F"><font size="2">(10:19:44 PM)</font> <b>pierron:</b></font> bnjbvr: +x ?<br/>
<font color="#A82F2F"><font size="2">(10:20:03 PM)</font> <b>bnjbvr:</b></font> pierron, why would i allow users to execute dir/text files?<br/>
<font color="#A82F2F"><font size="2">(10:20:42 PM)</font> <b>dav:</b></font> bnjbvr: +x for directories means able to cd to it..<br/>
<font color="#A82F2F"><font size="2">(10:20:46 PM)</font> <b>pierron:</b></font> bnjbvr: because this is needed for listing files in directories<br/>
<font color="#A82F2F"><font size="2">(10:21:00 PM)</font> <b>bnjbvr:</b></font> dav, thanks!<br/>
<font color="#A82F2F"><font size="2">(10:21:06 PM)</font> <b>bnjbvr:</b></font> pierron, indeed, that did the trick \o/<br/>
<font color="#062585"><font size="2">(10:21:40 PM)</font> <b>***bnjbvr</b></font> wishes he weren&apos;t such a noob in understanding linux<br/>
<font color="#A82F2F"><font size="2">(10:21:43 PM)</font> <b>ttuegel:</b></font> spwhitt: what is the barrier to writing a fish module now? zsh itself needs a zsh-specific init file, it can&apos;t just use the bash one. what is the problem with doing the same for fish?<br/>
<font color="#A82F2F"><font size="2">(10:21:57 PM)</font> <b>dav:</b></font> pierron: (actually listing files is all you can do with r but no x ;-))<br/>
<font color="#A82F2F"><font size="2">(10:22:44 PM)</font> <b>pierron:</b></font> dav: I recall only setting +x-r on some directory, and I was still able to traverse such directory<br/>
<font color="#A82F2F"><font size="2">(10:23:06 PM)</font> <b>pierron:</b></font> dav: which I found nice for doing some security by obfuscation<br/>
<font color="#A82F2F"><font size="2">(10:23:18 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pjones opened pull request #6748: Add dependency for wicd-gtk to use the systray (master...fix/wicd) http://git.io/puuJ<br/>
<font color="#A82F2F"><font size="2">(10:24:03 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/puuu<br/>
<font color="#A82F2F"><font size="2">(10:24:03 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5893d2e William A. Kennington III: nixos/lightdm: More Cleanups<br/>
<font color="#A82F2F"><font size="2">(10:25:18 PM)</font> <b>spwhitt:</b></font> ttuegel: config.environment.{loginShellInit, interactiveShellInit, shellInit, extraInit} are all written in sh, which can&apos;t be executed from fish. I&apos;m led to believe that a few important things exist in those variables<br/>
<font color="#A82F2F"><font size="2">(10:25:29 PM)</font> <b>bnjbvr:</b></font> pierron, thanks, could put back my bind config file in my home directory as well \o/<br/>
<font color="#A82F2F"><font size="2">(10:25:30 PM)</font> <b>wkennington:</b></font> please try lightdm on master guys<br/>
<font color="#A82F2F"><font size="2">(10:28:05 PM)</font> <b>kmicu:</b></font> More goodies from wkennington… \o/<br/>
<font color="#A82F2F"><font size="2">(10:28:12 PM)</font> <b>spwhitt:</b></font> ttuegel: zsh&apos;s init files include the contents of the variables I listed above<br/>
<font color="#A82F2F"><font size="2">(10:29:19 PM)</font> <b>ttuegel:</b></font> spwhitt: indeed! though arguably those variables should themselves be scripts invoked through bash. shellInit in particular seems to do a lot of work and very little enviroment-setting<br/>
<font color="#A82F2F"><font size="2">(10:29:50 PM)</font> <b>ttuegel:</b></font> spwhitt: still, that doesn&apos;t help with nix.sh, so good work!<br/>
<font color="#A82F2F"><font size="2">(10:30:01 PM)</font> <b>spwhitt:</b></font> ttuegel: Indeed! But I reasoned that it&apos;s often useful to conditionally set an environment variable, which my project allows<br/>
<font color="#A82F2F"><font size="2">(10:31:57 PM)</font> <b>Sonarpulse:</b></font> Could somebody else try installing llvmPackages.lld to confirm that the hash is indeed wrong/rotted ?<br/>
<font color="#A82F2F"><font size="2">(10:32:29 PM)</font> <b>ttuegel:</b></font> spwhitt: if you&apos;re putting together a PR, i think a good proof of concept would be to refactor that shellInit to be a proper script that the shell modules can just eval<br/>
<font color="#A82F2F"><font size="2">(10:33:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/puVE<br/>
<font color="#A82F2F"><font size="2">(10:33:10 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ffed8a8 William A. Kennington III: nixos/sddm: Hide users which don&apos;t have login shells<br/>
<font color="#A82F2F"><font size="2">(10:33:37 PM)</font> <b>earldouglas:</b></font> Is it possible to override the default source URL for a package?<br/>
<font color="#A82F2F"><font size="2">(10:33:49 PM)</font> <b>earldouglas:</b></font> All the eclipse packages are getting 404s on their tarballs: http://monitor.nixos.org/pd?p=eclipses.eclipse_sdk_44<br/>
<font color="#A82F2F"><font size="2">(10:36:06 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/puw5<br/>
<font color="#A82F2F"><font size="2">(10:36:06 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3a67a51 William A. Kennington III: nixos/lightdm: Small cleanup<br/>
<font color="#A82F2F"><font size="2">(10:38:54 PM)</font> <b>vcunat:</b></font> Sonarpulse: lld-3.5 has a wrong hash, but fixing it doesn&apos;t help by itself<br/>
<font color="#A82F2F"><font size="2">(10:39:16 PM)</font> <b>spwhitt:</b></font> ttuegel: That does look like a good starting place, thanks.<br/>
<font color="#A82F2F"><font size="2">(10:39:33 PM)</font> <b>vcunat:</b></font> it&apos;s the same as https://github.com/NixOS/nixpkgs/issues/6636<br/>
<font color="#A82F2F"><font size="2">(10:39:54 PM)</font> <b>vcunat:</b></font> maybe 3.6 will work<br/>
<font color="#A82F2F"><font size="2">(10:40:07 PM)</font> <b>vcunat:</b></font> lldb-3.6 is said to work<br/>
<font color="#A82F2F"><font size="2">(10:40:26 PM)</font> <b>vcunat:</b></font> https://github.com/NixOS/nixpkgs/pull/6668<br/>
<font color="#A82F2F"><font size="2">(10:41:20 PM)</font> <b>Sonarpulse:</b></font> thanks vcunat<br/>
<font color="#A82F2F"><font size="2">(10:41:26 PM)</font> <b>vcunat:</b></font> :-)<br/>
<font color="#A82F2F"><font size="2">(10:48:07 PM)</font> <b>pierron:</b></font> niksnut: How would you debug an OOM in nix-env ?<br/>
<font color="#A82F2F"><font size="2">(10:51:03 PM)</font> <b>bnjbvr:</b></font> is it expected that npm2nix returns an incorrect file? (unterminated nix expression, it seems)<br/>
<font color="#A82F2F"><font size="2">(10:51:19 PM)</font> <b>bnjbvr:</b></font> offlinehacker, you around?<br/>
<font color="#A82F2F"><font size="2">(10:51:59 PM)</font> <b>offlinehacker:</b></font> bnjbvr: yes?<br/>
<font color="#A82F2F"><font size="2">(10:52:11 PM)</font> <b>iMatejC:</b></font> how come that this deletes user environment? http://pastebin.com/nqAgGDtp<br/>
<font color="#A82F2F"><font size="2">(10:52:27 PM)</font> <b>offlinehacker:</b></font> bnjbvr: yes, it&apos;s a bug with new nodejs<br/>
<font color="#A82F2F"><font size="2">(10:52:27 PM)</font> <b>bnjbvr:</b></font> offlinehacker, hi! saw you&apos;re active on npm2nix repo, so i guessed i could ask you a few things about npm2nix :)<br/>
<font color="#A82F2F"><font size="2">(10:52:41 PM)</font> <b>bnjbvr:</b></font> ha, too bad<br/>
<font color="#A82F2F"><font size="2">(10:52:45 PM)</font> <b>offlinehacker:</b></font> someone upgraded to new nodejs too fast<br/>
<font color="#A82F2F"><font size="2">(10:53:00 PM)</font> <b>offlinehacker:</b></font> yes use 0.10.something<br/>
<font color="#A82F2F"><font size="2">(10:53:04 PM)</font> <b>offlinehacker:</b></font> currently<br/>
<font color="#A82F2F"><font size="2">(10:53:11 PM)</font> <b>offlinehacker:</b></font> i will fix it druing the weekend<br/>
<font color="#A82F2F"><font size="2">(10:53:26 PM)</font> <b>bnjbvr:</b></font> offlinehacker, ooc, when npm2nix works, what can i do with the output default.nix / filename.nix?<br/>
<font color="#A82F2F"><font size="2">(10:53:39 PM)</font> <b>bnjbvr:</b></font> (my goal being ultimately being able to have a nix service that does &apos;npm start --production&apos;)<br/>
<font color="#A82F2F"><font size="2">(10:59:29 PM)</font> <b>bnjbvr:</b></font> offlinehacker, (and if my question was stupid or your answer is RTFM, where is the manual? :))<br/>
<font size="2">(11:00:14 PM)</font><b> vcunat left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(11:02:24 PM)</font> <b>offlinehacker:</b></font> bnjbvr: manual? nodePackages support is still experimental, too bad, i was not updating nodejs<br/>
<font color="#A82F2F"><font size="2">(11:02:42 PM)</font> <b>offlinehacker:</b></font> and i&apos;m in progress of writing docs for nodePackages<br/>
<font size="2">(11:05:05 PM)</font><b> c74d is now known as Guest95461</b><br/>
<font color="#A82F2F"><font size="2">(11:05:09 PM)</font> <b>bnjbvr:</b></font> ha nice<br/>
<font color="#A82F2F"><font size="2">(11:05:12 PM)</font> <b>wkennington:</b></font> is there a derivation for the artwork?<br/>
<font size="2">(11:05:51 PM)</font><b> pmahoney left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(11:07:01 PM)</font> <b>FrozenCow:</b></font> is @edolstra on irc on some other name? it&apos;d great to get some feedback on https://github.com/NixOS/nixpkgs/pull/4678<br/>
<font color="#A82F2F"><font size="2">(11:09:13 PM)</font> <b>wkennington:</b></font> FrozenCow: niksnut: ^<br/>
<font color="#A82F2F"><font size="2">(11:10:53 PM)</font> <b>FrozenCow:</b></font> wkennington, niksnut is edolstra or...?<br/>
<font color="#A82F2F"><font size="2">(11:13:49 PM)</font> <b>kmicu:</b></font> s/ or…?/.<br/>
<font color="#A82F2F"><font size="2">(11:14:18 PM)</font> <b>FrozenCow:</b></font> kmicu, ah k, thanks :P<br/>
<font color="#A82F2F"><font size="2">(11:24:50 PM)</font> <b>iElectric:</b></font> I&apos;d just merge it<br/>
<font size="2">(11:48:28 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
