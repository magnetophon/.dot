<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 27 Nov 2014 07:15:32 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 27 Nov 2014 07:15:32 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(07:15:32 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(07:15:32 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(07:15:49 PM)</font> <b>eddyb:</b></font> so I tried something, and I&apos;m baffled by the result<br/>
<font color="#A82F2F"><font size="2">(07:15:51 PM)</font> <b>eddyb:</b></font>         libgcc_s.so.1 =&gt; not found<br/>
<font color="#A82F2F"><font size="2">(07:15:52 PM)</font> <b>eddyb:</b></font>         libgcc_s.so.1 =&gt; /run/current-system/sw/lib/libgcc_s.so.1 (0x00007f94c389f000)<br/>
<font color="#062585"><font size="2">(07:15:59 PM)</font> <b>***aszlig</b></font> suggesting s/iElectric/iRelease/<br/>
<font color="#A82F2F"><font size="2">(07:16:25 PM)</font> <b>aszlig:</b></font> eddyb: where did you get that?<br/>
<font color="#A82F2F"><font size="2">(07:16:58 PM)</font> <b>eddyb:</b></font> I&apos;m seeing like 13 of these &quot;libgcc_s.so.1 =&gt; not found&quot; when running ldd on a patched binary<br/>
<font color="#A82F2F"><font size="2">(07:17:20 PM)</font> <b>eddyb:</b></font> are they from other shared libs that the binary is loading?<br/>
<font color="#A82F2F"><font size="2">(07:17:52 PM)</font> <b>eddyb:</b></font> (seems like it, from sampling a few of the shared libs the binary is using)<br/>
<font color="#A82F2F"><font size="2">(07:17:52 PM)</font> <b>aszlig:</b></font> good question, maybe throw strace at it? :-D<br/>
<font color="#A82F2F"><font size="2">(07:18:40 PM)</font> <b>eddyb:</b></font> but why are those failing while the main binary succeeds?<br/>
<font size="2">(07:19:28 PM)</font><b> med__ [<em>~med@105.104.0.191</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:19:47 PM)</font> <b>eddyb:</b></font> oops! I tried to set rpath on multiple files at once, and patchelf did not complain I passed multiple arguments<br/>
<font color="#062585"><font size="2">(07:20:06 PM)</font> <b>***eddyb</b></font> grumbles and takes out xargs -n 1<br/>
<font color="#A82F2F"><font size="2">(07:20:57 PM)</font> <b>btheado|2:</b></font> I&apos;m having trouble figuring out how to use https://github.com/offlinehacker/pypi2nix<br/>
<font color="#A82F2F"><font size="2">(07:21:19 PM)</font> <b>btheado|2:</b></font> I&apos;m able to generate a reasonable looking nix expression, but I don&apos;t know how to use that<br/>
<font color="#A82F2F"><font size="2">(07:21:47 PM)</font> <b>btheado|2:</b></font> I run nix-shell from a git clone and then: pypi2nix &lt;(echo &apos;[&quot;pytz&quot;]&apos;) out.nix<br/>
<font color="#A82F2F"><font size="2">(07:22:23 PM)</font> <b>btheado|2:</b></font> then: nix-build -E &quot;with import &lt;nixpkgs&gt; { }; callPackage ./out.nix { overrides={}; }&quot;<br/>
<font color="#A82F2F"><font size="2">(07:22:23 PM)</font> <b>btheado|2:</b></font> error: attribute ?by-version.pytz-2014.10? missing, at /tmp/out.nix:50:14<br/>
<font color="#A82F2F"><font size="2">(07:22:24 PM)</font> <b>btheado|2:</b></font>  <br/>
<font color="#A82F2F"><font size="2">(07:24:42 PM)</font> <b>btheado|2:</b></font> looks like there is an examples directory...I should probably start there<br/>
<font size="2">(07:24:58 PM)</font><b> drangewdk [<em>~testuser@82.116.94.242</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:25:37 PM)</font> <b>iElectric:</b></font> offline: ^^<br/>
<font color="#A82F2F"><font size="2">(07:26:28 PM)</font> <b>offline:</b></font> btheado|2: if you will have problems i can help you with pypi2nix<br/>
<font size="2">(07:27:08 PM)</font><b> jb55 [<em>~jb55@208.98.200.98</em>] entered the room.</b><br/>
<font size="2">(07:30:37 PM)</font><b> ambro718 left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font size="2">(07:32:48 PM)</font><b> komarov left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(07:33:48 PM)</font> <b>eddyb:</b></font> ldconfig: Warning: ignoring configuration file that cannot be opened: /nix/store/i11d0d4015p0vbdnjq7lb509v9pwp049-glibc-2.19/etc/ld.so.conf: No such file or directory<br/>
<font color="#A82F2F"><font size="2">(07:33:50 PM)</font> <b>eddyb:</b></font> lol<br/>
<font color="#A82F2F"><font size="2">(07:35:10 PM)</font> <b>eddyb:</b></font> is there a per-user ldconfig?<br/>
<font color="#A82F2F"><font size="2">(07:38:22 PM)</font> <b>btheado|2:</b></font> offline: thanks.  In the examples directory I&apos;m running &apos;pypi2nix spec.json generated.nix&apos; and then maybe once that is done I will be able to use the results via default.nix<br/>
<font size="2">(07:39:13 PM)</font><b> rejuvyesh left the room (quit: Quit: WeeChat 1.0.1).</b><br/>
<font size="2">(07:41:29 PM)</font><b> divyansh_ left the room (quit: Quit: Textual IRC Client: www.textualapp.com).</b><br/>
<font size="2">(07:43:02 PM)</font><b> vandenoever [<em>~oever@kde/vandenoever</em>] entered the room.</b><br/>
<font size="2">(07:43:30 PM)</font><b> romildo [<em>~romildo@200.239.133.52</em>] entered the room.</b><br/>
<font size="2">(07:43:46 PM)</font><b> romildo left the room.</b><br/>
<font size="2">(07:50:27 PM)</font><b> komarov [<em>~komarov@92.47.248.9</em>] entered the room.</b><br/>
<font size="2">(07:50:56 PM)</font><b> drangewdk left the room (quit: Quit: Nettalk6 - www.ntalk.de).</b><br/>
<font size="2">(07:54:46 PM)</font><b> Takle left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(07:55:02 PM)</font><b> komarov left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font size="2">(07:55:06 PM)</font><b> notthemessiah left the room (quit: Read error: Connection timed out).</b><br/>
<font size="2">(07:55:15 PM)</font><b> Takle [<em>~takle@188.228.85.218</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:00:03 PM)</font> <b>musicmatze:</b></font> Hi guys, can you tell me what this means: output path `/nix/store/0m61ma2pghn5g9k101z92fak3ppriz9l-git-export&apos; should have r:sha256 hash `117mvq7xrhw5hz4lzdjihcq38147219piq5p4j1s3zg0yqg40pbc&apos;, instead has `0wsmzk5c2853brgljlahdfa5c97imm102724hpqcfia04fdkhwly&apos; ?<br/>
<font color="#A82F2F"><font size="2">(08:00:17 PM)</font> <b>iElectric:</b></font> niksnut: FYI: staging is almost built http://hydra.nixos.org/jobset/nixpkgs/staging<br/>
<font color="#A82F2F"><font size="2">(08:00:33 PM)</font> <b>iElectric:</b></font> musicmatze: what package?<br/>
<font color="#A82F2F"><font size="2">(08:01:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/Bvpx8w<br/>
<font color="#A82F2F"><font size="2">(08:01:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b4cedc7 Domen Kožar: nixos: reverse logic in nixos interactive tests documentation<br/>
<font color="#A82F2F"><font size="2">(08:01:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 28a1af6 Domen Kožar: fix printing test<br/>
<font color="#A82F2F"><font size="2">(08:01:42 PM)</font> <b>musicmatze:</b></font> git ...<br/>
<font color="#A82F2F"><font size="2">(08:02:06 PM)</font> <b>musicmatze:</b></font> (I&apos;m trying to build github.com/waysome/libreset, which requires cmake and &quot;check&quot;, ... but it builds git for it... and fails...)<br/>
<font color="#A82F2F"><font size="2">(08:03:00 PM)</font> <b>musicmatze:</b></font> and, if that matters, I&apos;m building on a debian with nix installed ( just want to play around with nix by trying to build my current project(s))<br/>
<font color="#A82F2F"><font size="2">(08:06:19 PM)</font> <b>vandenoever:</b></font> phreedom: does calligra from master build calligrasheets for you?<br/>
<font size="2">(08:06:33 PM)</font><b> sogatori [<em>~quassel@dslb-188-105-083-039.188.105.pools.vodafone-ip.de</em>] entered the room.</b><br/>
<font size="2">(08:06:42 PM)</font><b> Takle left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(08:06:54 PM)</font><b> Takle [<em>~takle@2a00:fd00:fff1:5768:171:c7de:2262:41c8</em>] entered the room.</b><br/>
<font size="2">(08:08:07 PM)</font><b> toothbrush0 [<em>~toothbrus@nat-inria-bordeaux-52-gw-01-bso.bordeaux.inria.fr</em>] entered the room.</b><br/>
<font size="2">(08:08:15 PM)</font><b> bennofs [<em>~benno@ip92342b4f.dynamic.kabel-deutschland.de</em>] entered the room.</b><br/>
<font size="2">(08:08:51 PM)</font><b> Xack left the room (quit: Quit: ZNC - http://znc.in).</b><br/>
<font size="2">(08:09:21 PM)</font><b> Matrixiumn [<em>Maxp30@unaffiliated/matrixiumn</em>] entered the room.</b><br/>
<font size="2">(08:11:53 PM)</font><b> nslqqq1 left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font size="2">(08:12:00 PM)</font><b> notthemessiah [<em>~castthesh@c-76-99-49-12.hsd1.pa.comcast.net</em>] entered the room.</b><br/>
<font size="2">(08:13:33 PM)</font><b> Matrixiumn left the room (quit: Client Quit).</b><br/>
<font size="2">(08:14:03 PM)</font><b> Matrixiumn [<em>znc@unaffiliated/matrixiumn</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:14:31 PM)</font> <b>aszlig:</b></font> iElectric: do you happen to know the reason why we use --disable-hardening for virtualbox? i just built without it and it builds fine... (haven&apos;t tested it yet, however)<br/>
<font color="#A82F2F"><font size="2">(08:16:32 PM)</font> <b>iElectric:</b></font> no, but we should use it.<br/>
<font color="#A82F2F"><font size="2">(08:16:43 PM)</font> <b>iElectric:</b></font> did you try git blame?<br/>
<font size="2">(08:18:40 PM)</font><b> Takle_ [<em>~takle@188.228.85.218</em>] entered the room.</b><br/>
<font size="2">(08:19:07 PM)</font><b> the_scourge [<em>~scourge@host-92-17-180-50.as13285.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:19:13 PM)</font> <b>aristid:</b></font> iElectric: do you plan on another staging merge before 13.11?<br/>
<font color="#A82F2F"><font size="2">(08:20:07 PM)</font> <b>musicmatze:</b></font> iElectric: suggestions?<br/>
<font size="2">(08:20:43 PM)</font><b> Takle left the room (quit: Ping timeout: 272 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(08:21:06 PM)</font> <b>iElectric:</b></font> aristid: yes, waiting to talk to niksnut<br/>
<font color="#A82F2F"><font size="2">(08:21:15 PM)</font> <b>aristid:</b></font> iElectric: sounds dangerous:)<br/>
<font color="#A82F2F"><font size="2">(08:21:23 PM)</font> <b>aristid:</b></font> iElectric: anything important in there?<br/>
<font color="#A82F2F"><font size="2">(08:21:42 PM)</font> <b>iElectric:</b></font> musicmatze: apparently git sources are not deterministic<br/>
<font color="#A82F2F"><font size="2">(08:21:56 PM)</font> <b>musicmatze:</b></font> what does this mean?<br/>
<font color="#A82F2F"><font size="2">(08:22:06 PM)</font> <b>iElectric:</b></font> that&apos;s why you see shash mismatch<br/>
<font color="#A82F2F"><font size="2">(08:22:20 PM)</font> <b>iElectric:</b></font> aristid: bash and glibc bumps<br/>
<font color="#A82F2F"><font size="2">(08:22:27 PM)</font> <b>musicmatze:</b></font> how can I fix it?<br/>
<font color="#A82F2F"><font size="2">(08:25:08 PM)</font> <b>iElectric:</b></font> musicmatze: so cmake fails?<br/>
<font color="#A82F2F"><font size="2">(08:25:34 PM)</font> <b>musicmatze:</b></font> no, it tells me that it cannot build git<br/>
<font size="2">(08:25:47 PM)</font><b> jabesed [<em>~ident@bl19-236-221.dsl.telepac.pt</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:25:47 PM)</font> <b>musicmatze:</b></font> &gt;&gt; Hi guys, can you tell me what this means: output path `/nix/store/0m61ma2pghn5g9k101z92fak3ppriz9l-git-export&apos; should have r:sha256 hash `117mvq7xrhw5hz4lzdjihcq38147219piq5p4j1s3zg0yqg40pbc&apos;, instead has `0wsmzk5c2853brgljlahdfa5c97imm102724hpqcfia04fdkhwly&apos; ?<br/>
<font size="2">(08:35:05 PM)</font><b> favetelinguis left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(08:42:56 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
