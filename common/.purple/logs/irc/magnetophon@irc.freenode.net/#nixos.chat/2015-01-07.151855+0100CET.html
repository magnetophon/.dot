<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Wed 07 Jan 2015 03:18:55 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Wed 07 Jan 2015 03:18:55 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(03:18:55 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(03:18:55 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(03:29:29 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 1 new commit to master: http://git.io/-mCV5A<br/>
<font color="#A82F2F"><font size="2">(03:29:29 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 71aef59 Eelco Dolstra: Remove obsolete shebangfix script<br/>
<font color="#A82F2F"><font size="2">(03:34:02 PM)</font> <b>anty:</b></font> johnw, you maintain the isabelle package, right?<br/>
<font size="2">(03:40:52 PM)</font><b> henrytill left the room (quit: Quit: leaving).</b><br/>
<font color="#16569E"><font size="2">(03:47:59 PM)</font> <b>magnetophon:</b></font> goibhniu: ping<br/>
<font color="#A82F2F"><font size="2">(03:48:20 PM)</font> <b>goibhniu:</b></font> hi magnetophon!<br/>
<font color="#16569E"><font size="2">(03:49:19 PM)</font> <b>magnetophon:</b></font> goibhniu: I'm chatting with HarryHaaren about what to present at LAC, and he thinks NixOS would be interesting. I feel under-confident. Wanna colaborate?<br/>
<font color="#A82F2F"><font size="2">(03:51:00 PM)</font> <b>copumpkin:</b></font> MichaelRaskin: yay, thanks!<br/>
<font color="#A82F2F"><font size="2">(03:51:15 PM)</font> <b>goibhniu:</b></font> magnetophon: awesome! I&apos;ve always wanted an excuse to go to LAC :D<br/>
<font color="#A82F2F"><font size="2">(03:51:47 PM)</font> <b>MichaelRaskin:</b></font> copumpkin: you could try to include these in some other way into NixOS<br/>
<font color="#16569E"><font size="2">(03:51:58 PM)</font> <b>magnetophon:</b></font> goibhniu: great. maybe you want to join our conversation over at #non?<br/>
<font color="#A82F2F"><font size="2">(03:52:05 PM)</font> <b>MichaelRaskin:</b></font> Like, nixCheckoutDeps = [...];<br/>
<font color="#A82F2F"><font size="2">(03:52:13 PM)</font> <b>copumpkin:</b></font> ah, I&apos;m on Mac OS right now<br/>
<font color="#A82F2F"><font size="2">(03:52:22 PM)</font> <b>MichaelRaskin:</b></font> I mean NixPkgs<br/>
<font color="#A82F2F"><font size="2">(03:52:26 PM)</font> <b>MichaelRaskin:</b></font> My typo<br/>
<font color="#A82F2F"><font size="2">(03:53:28 PM)</font> <b>MichaelRaskin:</b></font> I somewhat agree that nixCustomFun was an overkill (and it was created before overrideDerivation was used by anyone), but the expression did contain a bit of useful info, so you could try committing whatever parts are useful to you<br/>
<font color="#A82F2F"><font size="2">(03:56:02 PM)</font> <b>copumpkin:</b></font> ah okay<br/>
<font color="#A82F2F"><font size="2">(03:56:09 PM)</font> <b>copumpkin:</b></font> I need to run to work, but thanks for the help!<br/>
<font color="#A82F2F"><font size="2">(03:56:12 PM)</font> <b>copumpkin:</b></font> I&apos;ll try it out tonight<br/>
<font color="#A82F2F"><font size="2">(04:11:30 PM)</font> <b>zmbmartin:</b></font> spwhitt: No I am using bash but `command-not-found make` yeilds `DBI connect(&apos;dbname=/nix/var/nix/profiles/per-user/root/channels/nixos/programs.sqlite&apos;,&apos;&apos;,...) failed: unable to open database file at /run/current-system/sw/bin/command-not-found line 12.`<br/>
<font color="#A82F2F"><font size="2">(04:13:51 PM)</font> <b>musicmatze:</b></font> hey guys... I&apos;m currently playing with vim_customizeable ... I&apos;m currently trying to build my drv, ... what makes me wonder: The pkg manager downloaded a new linux kernel ... ? wtf?<br/>
<font color="#A82F2F"><font size="2">(04:15:24 PM)</font> <b>MichaelRaskin:</b></font> linux kernel tarball -&gt; linux headers -&gt; glibc -&gt; vim<br/>
<font color="#A82F2F"><font size="2">(04:15:31 PM)</font> <b>MichaelRaskin:</b></font> Probably<br/>
<font color="#A82F2F"><font size="2">(04:15:51 PM)</font> <b>musicmatze:</b></font> lol. It also builds a buttload of stuff, including perl and sed, for example...<br/>
<font color="#A82F2F"><font size="2">(04:16:01 PM)</font> <b>MichaelRaskin:</b></font> Grrr.....<br/>
<font color="#A82F2F"><font size="2">(04:16:07 PM)</font> <b>MichaelRaskin:</b></font> An stdenv update, again?<br/>
<font color="#A82F2F"><font size="2">(04:16:33 PM)</font> <b>MichaelRaskin:</b></font> iElectric: Maybe just merge staging while we are having a rebuild a day in master anyway?<br/>
<font color="#A82F2F"><font size="2">(04:18:21 PM)</font> <b>iElectric:</b></font> not sure it works :)<br/>
<font size="2">(04:18:30 PM)</font><b> zmbmartin left the room (quit: Quit: Leaving.).</b><br/>
<font color="#A82F2F"><font size="2">(04:18:45 PM)</font> <b>iElectric:</b></font> nope, it doesnt.<br/>
<font size="2">(04:19:00 PM)</font><b> zmbmartin [<em>~Adium@subtle/supporter/zmbmartin</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(04:19:10 PM)</font> <b>MichaelRaskin:</b></font> Pity<br/>
<font color="#A82F2F"><font size="2">(04:19:14 PM)</font> <b>MichaelRaskin:</b></font> What&apos;s broken?<br/>
<font color="#A82F2F"><font size="2">(04:21:29 PM)</font> <b>iElectric:</b></font> apparently patchshebangs makes texinfo require automake<br/>
<font color="#A82F2F"><font size="2">(04:21:31 PM)</font> <b>iElectric:</b></font> which doesn&apos;t build<br/>
<font color="#A82F2F"><font size="2">(04:21:53 PM)</font> <b>MichaelRaskin:</b></font> automake doesn&apos;t build??<br/>
<font color="#A82F2F"><font size="2">(04:22:00 PM)</font> <b>MichaelRaskin:</b></font> OK, this is a problem<br/>
<font color="#A82F2F"><font size="2">(04:22:23 PM)</font> <b>HarryHaaren:</b></font> pikaboo!<br/>
<font color="#A82F2F"><font size="2">(04:22:42 PM)</font> <b>iElectric:</b></font> MichaelRaskin: apparently introducing patchshebangs in preConfigurePhases won&apos;t be that trivial :)<br/>
<font color="#A82F2F"><font size="2">(04:23:05 PM)</font> <b>goibhniu:</b></font> HarryHaaren!!<br/>
<font color="#062585"><font size="2">(04:23:28 PM)</font> <b>***HarryHaaren</b></font> favorited, just to get some NixOS flavour as the wget downloads...<br/>
<font color="#A82F2F"><font size="2">(04:23:42 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] 7c6f434c pushed 1 new commit to master: http://git.io/wkAOFw<br/>
<font color="#A82F2F"><font size="2">(04:23:42 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4bbfa27 Michael Raskin: Make the Darwin fix in zlib keep Linux hash<br/>
<font color="#A82F2F"><font size="2">(04:23:56 PM)</font> <b>MichaelRaskin:</b></font> OK, I undid at least the latest Linux stdenv change<br/>
<font color="#A82F2F"><font size="2">(04:24:07 PM)</font> <b>zmbmartin:</b></font> Anyone know why `command-not-found make` yields `DBI connect(&apos;dbname=/nix/var/nix/profiles/per-user/root/channels/nixos/programs.sqlite&apos;,&apos;&apos;,...) failed: unable to open database file at /run/current-system/sw/bin/command-not-found line 12.` for me?<br/>
<font color="#A82F2F"><font size="2">(04:24:11 PM)</font> <b>MichaelRaskin:</b></font> It was only relevant on Darwin anyway<br/>
<font color="#A82F2F"><font size="2">(04:25:24 PM)</font> <b>kmicu:</b></font> zmbmartin: command-not-found works with zsh|bash for me and you DBI error is really disturbing.<br/>
<font color="#A82F2F"><font size="2">(04:25:35 PM)</font> <b>kmicu:</b></font> s/you/hour<br/>
<font color="#A82F2F"><font size="2">(04:26:15 PM)</font> <b>zmbmartin:</b></font> kmicu: Hmm… did I forget to install something? Is something wrong with my install?<br/>
<font color="#062585"><font size="2">(04:28:26 PM)</font> <b>***kmicu</b></font> hates keyboards with non-mechanical switches.<br/>
<font color="#A82F2F"><font size="2">(04:28:29 PM)</font> <b>hlavaty:</b></font> hi all, what is the recommended way to run 32 bit linux binaries on 64 nixos?<br/>
<font color="#A82F2F"><font size="2">(04:28:51 PM)</font> <b>zmbmartin:</b></font> apparently `/nix/var/nix/profiles/per-user/root/channels/nixos/programs.sqlite` doesn&apos;t exist<br/>
<font color="#A82F2F"><font size="2">(04:30:26 PM)</font> <b>MichaelRaskin:</b></font> hlavaty: for example, building pkgsi686Linux.something builds you a 32-bit binary that just works<br/>
<font color="#A82F2F"><font size="2">(04:31:20 PM)</font> <b>spwhitt:</b></font> zmbmartin: I&apos;m not sure what program creates that programs.sqlite database, but here&apos;s a complete shot in the dark: do you have any channels configured? check nix-channel --list<br/>
<font color="#A82F2F"><font size="2">(04:31:39 PM)</font> <b>hlavaty:</b></font> MichaelRaskin: thanks, i have my own binaries and just need to set up nixos so that it runs them; or do i need to create my own nix package for that?<br/>
<font color="#A82F2F"><font size="2">(04:31:54 PM)</font> <b>zmbmartin:</b></font> spwhitt: That yields nothing.<br/>
<font color="#A82F2F"><font size="2">(04:32:13 PM)</font> <b>MichaelRaskin:</b></font> hlavaty: you need to do some patching, like firefox-bin package does<br/>
<font color="#A82F2F"><font size="2">(04:32:32 PM)</font> <b>hlavaty:</b></font> ok i&apos;ll have a look, thanks a lot<br/>
<font color="#A82F2F"><font size="2">(04:32:32 PM)</font> <b>MichaelRaskin:</b></font> You can do this with a Nix package, or just manually<br/>
<font color="#A82F2F"><font size="2">(04:32:37 PM)</font> <b>zmbmartin:</b></font> spwhitt: Now that I think about it. Seems like the first time I ran nixos-install when installing there was an error or something, so I ran it again. Could some things have been missed?<br/>
<font color="#A82F2F"><font size="2">(04:33:49 PM)</font> <b>spwhitt:</b></font> zmbmartin: Maybe that&apos;s the problem. Try &apos;nix-channel --add https://nixos.org/channels/nixos-14.12 nixos&apos; (assuming you want to run the latest NixOS stable release)<br/>
<font color="#A82F2F"><font size="2">(04:34:50 PM)</font> <b>spwhitt:</b></font> zmbmartin: then nix-channel --update<br/>
<font color="#A82F2F"><font size="2">(04:36:09 PM)</font> <b>hlavaty:</b></font> MichaelRaskin: what do you mean by &quot;building pkgsi686Linux&quot;; is that not for example &quot;nix-env -i pkgsi686Linux.libxslt&quot;?<br/>
<font color="#A82F2F"><font size="2">(04:37:18 PM)</font> <b>MichaelRaskin:</b></font> hlavaty: the command you gave will install 32-bit libxslt, yes<br/>
<font color="#A82F2F"><font size="2">(04:38:07 PM)</font> <b>hlavaty:</b></font> yeah i was hoping, but it gives me &quot;error: selector ‘pkgsi686Linux.libxslt’ matches no derivations&quot;<br/>
<font color="#A82F2F"><font size="2">(04:39:06 PM)</font> <b>zmbmartin:</b></font> spwhitt: I am afraid if there is other problems<br/>
<font color="#A82F2F"><font size="2">(04:40:43 PM)</font> <b>MichaelRaskin:</b></font> hlavaty: maybe nixpkgs.pkgsi686Linux<br/>
<font color="#A82F2F"><font size="2">(04:41:02 PM)</font> <b>MichaelRaskin:</b></font> I use repository checkouts and explicit paths<br/>
<font color="#A82F2F"><font size="2">(04:41:04 PM)</font> <b>spwhitt:</b></font> zmbmartin: If there are they&apos;re probably beyond my capability: I&apos;m still pretty new to this nixOS thing<br/>
<font color="#A82F2F"><font size="2">(04:41:32 PM)</font> <b>zmbmartin:</b></font> Is there any easy way to see if things are missing from the install?<br/>
<font color="#A82F2F"><font size="2">(04:42:09 PM)</font> <b>pmahoney:</b></font> hlavaty: MichaelRaskin: maybe -iA instead of -i<br/>
<font color="#A82F2F"><font size="2">(04:42:43 PM)</font> <b>MichaelRaskin:</b></font> Oops<br/>
<font color="#A82F2F"><font size="2">(04:42:51 PM)</font> <b>MichaelRaskin:</b></font> Yes, -iA, definitely<br/>
<font color="#A82F2F"><font size="2">(04:44:29 PM)</font> <b>hlavaty:</b></font> pmahoney MichaelRaskin: &quot;nix-env -iA pkgsi686Linux.libxslt&quot; still the same error<br/>
<font color="#A82F2F"><font size="2">(04:44:41 PM)</font> <b>hlavaty:</b></font> also with the nixpkgs. prefix<br/>
<font color="#A82F2F"><font size="2">(04:46:15 PM)</font> <b>zmbmartin:</b></font> My system just locked up doing a `sudo nixos-rebuild switch —upgrade` it is locked at `stopping the following units`<br/>
<font color="#A82F2F"><font size="2">(04:46:25 PM)</font> <b>MichaelRaskin:</b></font> hlavaty: can you install 64-bit libxslt ?<br/>
<font color="#A82F2F"><font size="2">(04:46:27 PM)</font> <b>MichaelRaskin:</b></font> Hm<br/>
<font color="#A82F2F"><font size="2">(04:46:30 PM)</font> <b>hlavaty:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(04:46:39 PM)</font> <b>MichaelRaskin:</b></font> Maybe you need a checkout for pkgsi686Linux<br/>
<font color="#A82F2F"><font size="2">(04:46:43 PM)</font> <b>MichaelRaskin:</b></font> Not sure<br/>
<font color="#A82F2F"><font size="2">(04:47:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] oxij opened pull request #5627: postfix: make 2.11 the default, nixos: update postfix config for 2.11 (master...update-postfix) http://git.io/IXd3PA<br/>
<font color="#A82F2F"><font size="2">(04:48:08 PM)</font> <b>hlavaty:</b></font> there is pkgsi686Linux defined in all-packages, but i dont understand yet, how to call it<br/>
<font color="#A82F2F"><font size="2">(04:48:19 PM)</font> <b>hlavaty:</b></font> all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(04:48:48 PM)</font> <b>MichaelRaskin:</b></font> nix-env -f /path/to/nixpkgs -iA pkgsi686Linux.libxslt<br/>
<font color="#A82F2F"><font size="2">(04:49:24 PM)</font> <b>hlavaty:</b></font> why is it preferable to have local checkout to the default config?<br/>
<font size="2">(04:55:49 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
