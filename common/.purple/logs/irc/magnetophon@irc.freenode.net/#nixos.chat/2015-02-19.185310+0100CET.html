<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 19 Feb 2015 06:53:10 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 19 Feb 2015 06:53:10 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(06:53:11 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(06:53:11 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font size="2">(06:59:10 PM)</font><b> Lethalman left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(07:10:21 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] brodul opened pull request #6456: Add scrolls game (unfree) (master...scrolls) http://git.io/AYyt<br/>
<font color="#A82F2F"><font size="2">(07:14:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 4 new commits to master: http://git.io/AY9J<br/>
<font color="#A82F2F"><font size="2">(07:14:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master a53da93 codyopel: wayland: 1.6.0 -&gt; 1.7.0 &amp; add optionals...<br/>
<font color="#A82F2F"><font size="2">(07:14:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2cbd639 William A. Kennington III: graphviz-nox: Actually build without any deps on mesa or x11<br/>
<font color="#A82F2F"><font size="2">(07:14:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e574da8 William A. Kennington III: wayland: Always build documentation<br/>
<font color="#A82F2F"><font size="2">(07:14:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington closed pull request #6446: wayland: 1.6.0 -&gt; 1.7.0 &amp; add optionals (master...wayland) http://git.io/ALtI<br/>
<font color="#A82F2F"><font size="2">(07:15:09 PM)</font> <b>martin3:</b></font> what do i need to do to make a directory in a package outPath appear in /run/current-system/sw/share?<br/>
<font color="#A82F2F"><font size="2">(07:16:18 PM)</font> <b>goibhniu:</b></font> martin3 check out environment.pathsToLink<br/>
<font color="#A82F2F"><font size="2">(07:23:17 PM)</font> <b>bfrog:</b></font> really digging the nix config stuff so far<br/>
<font color="#A82F2F"><font size="2">(07:23:29 PM)</font> <b>bfrog:</b></font> is there any docs on how to config nginx with it?<br/>
<font color="#A82F2F"><font size="2">(07:34:16 PM)</font> <b>avn:</b></font> btw, why nixos stick on gcc 4.8?<br/>
<font color="#A82F2F"><font size="2">(07:39:53 PM)</font> <b>ifur:</b></font> asked myself the same thing, been a while since gcc was as problematic as 4.8, been trying to skip that entirely as much as possible<br/>
<font color="#A82F2F"><font size="2">(07:40:30 PM)</font> <b>ifur:</b></font> 4.7 and 4.9 is what i try to stick to<br/>
<font color="#A82F2F"><font size="2">(07:43:46 PM)</font> <b>avn:</b></font> I use 4.9 (due gccgo) for development.<br/>
<font color="#A82F2F"><font size="2">(07:44:50 PM)</font> <b>avn:</b></font> Want to try apply https://github.com/graysky2/kernel_gcc_patch to kernel, and rebuild with -march/-mtune=bdver2<br/>
<font color="#A82F2F"><font size="2">(07:45:44 PM)</font> <b>bfrog:</b></font> is there someway to fix this...<br/>
<font size="2">(07:45:50 PM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(07:45:57 PM)</font> <b>bfrog:</b></font> ld -lltdl says it can&apos;t find ltdl<br/>
<font color="#A82F2F"><font size="2">(07:46:12 PM)</font> <b>bfrog:</b></font> ldconfig -p says it can&apos;t read any ld.so.cache<br/>
<font color="#A82F2F"><font size="2">(07:46:30 PM)</font> <b>bfrog:</b></font> seems really messed up<br/>
<font color="#A82F2F"><font size="2">(07:48:26 PM)</font> <b>viric:</b></font> nixos doesn&apos;t use ld.so.cache<br/>
<font color="#A82F2F"><font size="2">(07:48:32 PM)</font> <b>viric:</b></font> neither ldconfig<br/>
<font color="#A82F2F"><font size="2">(07:51:15 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] fpletz opened pull request #6457: Add new package charybdis ircd (master...package/charybdis) http://git.io/AOTn<br/>
<font size="2">(07:51:34 PM)</font><b> suvash is now known as suvash_away</b><br/>
<font color="#A82F2F"><font size="2">(07:55:04 PM)</font> <b>avn:</b></font> bfrog: I wrote perfect libltdl replacement couple of years go, trying to find it.<br/>
<font color="#A82F2F"><font size="2">(07:55:48 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] fpletz opened pull request #6458: Add new package screen-message (master...package/screen-message) http://git.io/AOIF<br/>
<font color="#A82F2F"><font size="2">(07:55:51 PM)</font> <b>avn:</b></font> bfrog: git://git.openinkpot.org/iplinux/fakeltdl.git<br/>
<font color="#A82F2F"><font size="2">(07:56:40 PM)</font> <b>avn:</b></font> (mainly it do-nothing wrapper to libdl)<br/>
<font color="#A82F2F"><font size="2">(07:57:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] fpletz opened pull request #6459: Update silc-client to 1.1.11 (master...package/silc-client) http://git.io/AOLD<br/>
<font color="#A82F2F"><font size="2">(08:01:13 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] fpletz opened pull request #6460: Update libressl to 2.1.3 (master...package/libressl) http://git.io/AOqC<br/>
<font size="2">(08:02:23 PM)</font><b> pmahoney left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(08:02:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] viric pushed 2 new commits to master: http://git.io/AOqp<br/>
<font color="#A82F2F"><font size="2">(08:02:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 48f4290 Franz Pletz: Update silc-client to 1.1.11<br/>
<font color="#A82F2F"><font size="2">(08:02:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 792eba5 viric: Merge pull request #6459 from fpletz/package/silc-client...<br/>
<font color="#A82F2F"><font size="2">(08:10:24 PM)</font> <b>bfrog:</b></font> the broken ldconfig and ld.so.cache breaks go build<br/>
<font color="#A82F2F"><font size="2">(08:10:27 PM)</font> <b>bfrog:</b></font> :(<br/>
<font color="#A82F2F"><font size="2">(08:11:00 PM)</font> <b>bfrog:</b></font> I don&apos;t think I can use nixos then<br/>
<font color="#A82F2F"><font size="2">(08:11:02 PM)</font> <b>bfrog:</b></font> sadly<br/>
<font color="#A82F2F"><font size="2">(08:11:36 PM)</font> <b>emery:</b></font> bfrog, what are you trying to do?<br/>
<font color="#A82F2F"><font size="2">(08:12:02 PM)</font> <b>emery:</b></font> go stuff?<br/>
<font color="#A82F2F"><font size="2">(08:12:06 PM)</font> <b>bfrog:</b></font> in general yeah<br/>
<font color="#A82F2F"><font size="2">(08:12:12 PM)</font> <b>bfrog:</b></font> it uses libxml and some cgo stuff though<br/>
<font color="#A82F2F"><font size="2">(08:12:16 PM)</font> <b>emery:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(08:12:31 PM)</font> <b>bfrog:</b></font> it seems really broken<br/>
<font color="#A82F2F"><font size="2">(08:12:50 PM)</font> <b>avn:</b></font> bfrog: I use go 1.3.x and gccgo4.9 on nixos (custom myEnvFun environment)<br/>
<font color="#A82F2F"><font size="2">(08:13:10 PM)</font> <b>emery:</b></font> bfrog, yea, getting go stuff to work is hit or miss<br/>
<font color="#A82F2F"><font size="2">(08:13:10 PM)</font> <b>bfrog:</b></font> what did you do to fix the linker issue?<br/>
<font color="#A82F2F"><font size="2">(08:13:22 PM)</font> <b>bfrog:</b></font> yeah I mean, seems kind of like a hassle<br/>
<font color="#A82F2F"><font size="2">(08:13:23 PM)</font> <b>avn:</b></font> I haven&apos;t linker issue btw<br/>
<font color="#A82F2F"><font size="2">(08:13:32 PM)</font> <b>viric:</b></font> I also use go with cgo<br/>
<font color="#A82F2F"><font size="2">(08:13:38 PM)</font> <b>bfrog:</b></font> are you using cgo though?<br/>
<font color="#A82F2F"><font size="2">(08:13:52 PM)</font> <b>bfrog:</b></font> in this case its linking to -lz and -lltdl<br/>
<font color="#A82F2F"><font size="2">(08:13:54 PM)</font> <b>viric:</b></font> you need to rlink<br/>
<font color="#A82F2F"><font size="2">(08:13:57 PM)</font> <b>bfrog:</b></font> both of which it can&apos;t find<br/>
<font color="#A82F2F"><font size="2">(08:14:15 PM)</font> <b>viric:</b></font> bfrog: add -L to NIX_LDFLAGS<br/>
<font color="#A82F2F"><font size="2">(08:14:18 PM)</font> <b>viric:</b></font> the proper -L paths<br/>
<font color="#A82F2F"><font size="2">(08:14:21 PM)</font> <b>avn:</b></font> I work on https://github.com/sendgrid/go-gmime under boths debian and nixos<br/>
<font color="#A82F2F"><font size="2">(08:14:37 PM)</font> <b>bfrog:</b></font> thats a pain in the ass<br/>
<font color="#A82F2F"><font size="2">(08:14:45 PM)</font> <b>bfrog:</b></font> its going to be a path per lib right?<br/>
<font color="#A82F2F"><font size="2">(08:15:43 PM)</font> <b>avn:</b></font> bfrog: build env with go + zlib + libtool (for ltdl). Everything should work then.<br/>
<font color="#A82F2F"><font size="2">(08:15:47 PM)</font> <b>bfrog:</b></font> why would ld not just work?<br/>
<font color="#A82F2F"><font size="2">(08:16:11 PM)</font> <b>bfrog:</b></font> avn: how, with nix?<br/>
<font color="#A82F2F"><font size="2">(08:16:23 PM)</font> <b>bfrog:</b></font> chroot and src&apos;s?<br/>
<font size="2">(08:16:58 PM)</font><b> Matrixiumn is now known as Xack</b><br/>
<font color="#A82F2F"><font size="2">(08:17:28 PM)</font> <b>avn:</b></font> bfrog: https://gist.github.com/avnik/213b8f7adb76321e5303<br/>
<font color="#A82F2F"><font size="2">(08:17:47 PM)</font> <b>avn:</b></font> (can be bit outdated, I post it before wrapGCC -&gt; wrapCC transition<br/>
<font color="#A82F2F"><font size="2">(08:18:36 PM)</font> <b>bfrog:</b></font> and then I can just go build as usual?<br/>
<font color="#A82F2F"><font size="2">(08:18:42 PM)</font> <b>bfrog:</b></font> or I&apos;d need to use nix to build right<br/>
<font color="#A82F2F"><font size="2">(08:19:11 PM)</font> <b>avn:</b></font> bfrog: I update gist, adding zsh now.<br/>
<font color="#A82F2F"><font size="2">(08:19:25 PM)</font> <b>viric:</b></font> bfrog: there are nixpkgs expressions that build things with cgo<br/>
<font color="#A82F2F"><font size="2">(08:19:41 PM)</font> <b>bfrog:</b></font> I mean, I&apos;m not packaging though<br/>
<font color="#A82F2F"><font size="2">(08:19:41 PM)</font> <b>avn:</b></font> Just run  load-env-gccgo, and work in this shell<br/>
<font color="#A82F2F"><font size="2">(08:19:43 PM)</font> <b>bfrog:</b></font> I&apos;m developing<br/>
<font color="#A82F2F"><font size="2">(08:19:50 PM)</font> <b>bfrog:</b></font> I&apos;d like to just use the native development tooling<br/>
<font color="#A82F2F"><font size="2">(08:20:36 PM)</font> <b>avn:</b></font> You can refer to this gist, and go-gmime lib bin/ scripts (they are not very standard, but I tested them for both go and gccgo+valgrind)<br/>
<font color="#A82F2F"><font size="2">(08:21:12 PM)</font> <b>bfrog:</b></font> avn: thanks I&apos;ll take a look<br/>
<font color="#A82F2F"><font size="2">(08:21:41 PM)</font> <b>bfrog:</b></font> disappointed its not just as easy as installing go, but I&apos;ll take a look<br/>
<font color="#A82F2F"><font size="2">(08:21:44 PM)</font> <b>avn:</b></font> bfrog: ask if you have questions ;)<br/>
<font color="#A82F2F"><font size="2">(08:22:10 PM)</font> <b>avn:</b></font> bfrog: most dances I do was for gccgo (which I need for valgrinding)<br/>
<font color="#A82F2F"><font size="2">(08:25:55 PM)</font> <b>avn:</b></font> I still curious, why google&apos;s go compiler haven&apos;t option to 1-1 goroutines/threads mapping, and blocking calls. Sometimes it very useful to debug memory issues in cgo/3rd party libs<br/>
<font size="2">(08:30:19 PM)</font><b> suvash_away is now known as suvash</b><br/>
<font size="2">(08:31:53 PM)</font><b> boegel|afk is now known as boegel</b><br/>
<font color="#A82F2F"><font size="2">(08:50:08 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] henrytill opened pull request #6461: hsetroot: fix libX11 error (master...hsetroot) http://git.io/AOVA<br/>
<font color="#A82F2F"><font size="2">(08:52:02 PM)</font> <b>bfrog:</b></font> avn: that exact reason is why rust does not have a GC and maps 1-1 tasks to threads...<br/>
<font color="#A82F2F"><font size="2">(08:52:26 PM)</font> <b>bfrog:</b></font> but the language is kind of... quirky sometimes<br/>
<font color="#A82F2F"><font size="2">(08:54:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to release-14.12: http://git.io/AOo0<br/>
<font color="#A82F2F"><font size="2">(08:54:57 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 a21057f Vladimír Čunát: fontforge: large update with large changes implied...<br/>
<font size="2">(08:58:43 PM)</font><b> bfrog left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(08:59:06 PM)</font> <b>goodwill:</b></font> ikwildrpepper: yes he is<br/>
<font color="#A82F2F"><font size="2">(08:59:21 PM)</font> <b>goodwill:</b></font> ikwildrpepper: today is a slower day ... booth starts tomorrow<br/>
<font color="#A82F2F"><font size="2">(09:06:35 PM)</font> <b>iElectric:</b></font> goodwill: where&apos;s your ass at<br/>
<font color="#A82F2F"><font size="2">(09:06:49 PM)</font> <b>idioterna:</b></font> behind? :)<br/>
<font color="#A82F2F"><font size="2">(09:06:52 PM)</font> <b>goodwill:</b></font> iElectric: I had to be up at 5 in the mornign to fix a server<br/>
<font color="#A82F2F"><font size="2">(09:07:00 PM)</font> <b>goodwill:</b></font> iElectric: I am trying to make it my way over there<br/>
<font color="#A82F2F"><font size="2">(09:07:03 PM)</font> <b>goodwill:</b></font> iElectric: you having fun?<br/>
<font color="#A82F2F"><font size="2">(09:07:20 PM)</font> <b>turtil:</b></font> question<br/>
<font color="#A82F2F"><font size="2">(09:07:30 PM)</font> <b>turtil:</b></font> will nixos support other caches&apos;?<br/>
<font color="#A82F2F"><font size="2">(09:08:15 PM)</font> <b>iElectric:</b></font> goodwill: cool, yup<br/>
<font color="#A82F2F"><font size="2">(09:08:47 PM)</font> <b>iElectric:</b></font> goodwill: fyi: got my adapter<br/>
<font color="#A82F2F"><font size="2">(09:09:55 PM)</font> <b>goodwill:</b></font> nice<br/>
<font color="#A82F2F"><font size="2">(09:10:08 PM)</font> <b>goodwill:</b></font> iElectric: they found your bag?<br/>
<font color="#A82F2F"><font size="2">(09:13:22 PM)</font> <b>iElectric:</b></font> nope<br/>
<font color="#A82F2F"><font size="2">(09:13:31 PM)</font> <b>iElectric:</b></font> I guess it&apos;s too early<br/>
<font color="#A82F2F"><font size="2">(09:13:44 PM)</font> <b>goodwill:</b></font> iElectric: how did you get the adapter then?<br/>
<font color="#A82F2F"><font size="2">(09:14:19 PM)</font> <b>iElectric:</b></font> bought it<br/>
<font color="#A82F2F"><font size="2">(09:14:23 PM)</font> <b>iElectric:</b></font> I need it anyway<br/>
<font color="#A82F2F"><font size="2">(09:14:29 PM)</font> <b>goodwill:</b></font> okie<br/>
<font color="#062585"><font size="2">(09:14:48 PM)</font> <b>***goodwill</b></font> looks at his sad, unneeded adapter now ...<br/>
<font color="#A82F2F"><font size="2">(09:14:54 PM)</font> <b>goodwill:</b></font> jk<br/>
<font color="#A82F2F"><font size="2">(09:14:56 PM)</font> <b>goodwill:</b></font> okie, see you soon<br/>
<font color="#A82F2F"><font size="2">(09:15:40 PM)</font> <b>iElectric:</b></font> o/<br/>
<font color="#A82F2F"><font size="2">(09:15:42 PM)</font> <b>joelmo:</b></font> I only have nixpkgs, is it then possible to make a custom ova, where I choose which packages to include? Im sure it&apos;s possible but what&apos;s an easy way to do this?<br/>
<font color="#A82F2F"><font size="2">(09:20:15 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] offlinehacker opened pull request #6463: Add sikulix (master...pkgs/sikulix/add) http://git.io/AO9K<br/>
<font color="#A82F2F"><font size="2">(09:20:41 PM)</font> <b>ikwildrpepper:</b></font> goodwill: good, hope you guys are having fun there<br/>
<font color="#A82F2F"><font size="2">(09:21:32 PM)</font> <b>turtil:</b></font> is there some documentation on building up packages?<br/>
<font color="#A82F2F"><font size="2">(09:21:38 PM)</font> <b>goodwill:</b></font> ikwildrpepper: you know you wanna be here<br/>
<font color="#A82F2F"><font size="2">(09:26:55 PM)</font> <b>iElectric:</b></font> https://www.reddit.com/donate?organization=460503801<br/>
<font color="#A82F2F"><font size="2">(09:27:58 PM)</font> <b>iElectric:</b></font> woot<br/>
<font color="#A82F2F"><font size="2">(09:28:03 PM)</font> <b>iElectric:</b></font> xfce 4.12 in a week<br/>
<font color="#A82F2F"><font size="2">(09:28:16 PM)</font> <b>kmicu:</b></font> \o/<br/>
<font size="2">(09:29:31 PM)</font><b> boegel is now known as boegel|afk</b><br/>
<font color="#A82F2F"><font size="2">(09:31:43 PM)</font> <b>__Sander__:</b></font> hmm that&apos;s odd<br/>
<font color="#A82F2F"><font size="2">(09:31:53 PM)</font> <b>__Sander__:</b></font> if I use the NixOS testdriver<br/>
<font color="#A82F2F"><font size="2">(09:32:01 PM)</font> <b>__Sander__:</b></font> I can&apos;t connect to myself using my own hostname<br/>
<font color="#A82F2F"><font size="2">(09:32:02 PM)</font> <b>__Sander__:</b></font> e.g.<br/>
<font color="#A82F2F"><font size="2">(09:32:11 PM)</font> <b>__Sander__:</b></font> $test1-&gt;mustSucceed(&quot;ping test1&quot;);<br/>
<font color="#A82F2F"><font size="2">(09:32:12 PM)</font> <b>__Sander__:</b></font> fails<br/>
<font color="#A82F2F"><font size="2">(09:32:13 PM)</font> <b>__Sander__:</b></font> while<br/>
<font color="#A82F2F"><font size="2">(09:32:26 PM)</font> <b>__Sander__:</b></font> for example: $test2-&gt;mustSucceed(&quot;ping test1&quot;); suceeds<br/>
<font color="#A82F2F"><font size="2">(09:32:47 PM)</font> <b>__Sander__:</b></font> a system&apos;s hostname isn&apos;t in /etc/hosts at all<br/>
<font color="#A82F2F"><font size="2">(09:32:50 PM)</font> <b>__Sander__:</b></font> I don&apos;t think that&apos;s right<br/>
<font color="#A82F2F"><font size="2">(09:32:57 PM)</font> <b>turtil:</b></font> isnt this php ?<br/>
<font color="#A82F2F"><font size="2">(09:33:02 PM)</font> <b>__Sander__:</b></font> perl<br/>
<font color="#A82F2F"><font size="2">(09:33:07 PM)</font> <b>turtil:</b></font> :o<br/>
<font color="#A82F2F"><font size="2">(09:33:10 PM)</font> <b>__Sander__:</b></font> we implement testing stuff in perl<br/>
<font color="#A82F2F"><font size="2">(09:33:25 PM)</font> <b>__Sander__:</b></font> NixOS testcases consist of a network configuration<br/>
<font color="#A82F2F"><font size="2">(09:33:30 PM)</font> <b>__Sander__:</b></font> + perl snippet that executes tests<br/>
<font color="#A82F2F"><font size="2">(09:33:31 PM)</font> <b>turtil:</b></font> i see i see<br/>
<font color="#A82F2F"><font size="2">(09:33:52 PM)</font> <b>turtil:</b></font> Actually i had an issue with the install last night in regards to a wide charecter in perl :D<br/>
<font color="#A82F2F"><font size="2">(09:34:28 PM)</font> <b>meditans:</b></font> hi, I have a problem with ghci-ng, error here http://lpaste.net/120787<br/>
<font color="#A82F2F"><font size="2">(09:35:12 PM)</font> <b>meditans:</b></font> I think this could be related to cabal configuration, but I don&apos;t know for sure<br/>
<font color="#A82F2F"><font size="2">(09:35:25 PM)</font> <b>meditans:</b></font> did anything similar happen to you?<br/>
<font color="#A82F2F"><font size="2">(09:38:41 PM)</font> <b>Haskellfant:</b></font> meditans: I had this issue two times and fixed it by randomly reinstalling stuff :/<br/>
<font color="#A82F2F"><font size="2">(09:41:03 PM)</font> <b>meditans:</b></font> Haskellfant: like reinstalling what? I&apos;m trying every cabal clean &amp;&amp; cabal reconfigure I can think of, but with no luck<br/>
<font color="#A82F2F"><font size="2">(09:41:22 PM)</font> <b>Haskellfant:</b></font> meditans: I tried reinstalling cabal and ghci-ng<br/>
<font color="#A82F2F"><font size="2">(09:41:59 PM)</font> <b>MP2E:</b></font> :v using cabal to manually manage packages is a road to frustration<br/>
<font color="#A82F2F"><font size="2">(09:42:09 PM)</font> <b>MP2E:</b></font> should only use cabal-install to update hackage and use cabal2nix from there<br/>
<font color="#A82F2F"><font size="2">(09:42:11 PM)</font> <b>meditans:</b></font> Haskellfant: ok, but weren&apos;t those in a ghcWithPackages for you? Did you just reinstall the environment?<br/>
<font color="#A82F2F"><font size="2">(09:42:14 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga closed pull request #6453: prosody: added luaevent dependency (master...prosody) http://git.io/AtFS<br/>
<font color="#A82F2F"><font size="2">(09:42:26 PM)</font> <b>Haskellfant:</b></font> MP2E: who talked about using cabal install?<br/>
<font color="#A82F2F"><font size="2">(09:42:42 PM)</font> <b>MP2E:</b></font> fair enough, just making sure.<br/>
<font color="#A82F2F"><font size="2">(09:42:51 PM)</font> <b>Haskellfant:</b></font> meditans: no I don&apos;t use ghcWithPackages.<br/>
<font color="#A82F2F"><font size="2">(09:43:14 PM)</font> <b>Haskellfant:</b></font> meditans: it&apos;s been a while since I had this problem. not quite sure what exactly fixed it in the end<br/>
<font color="#A82F2F"><font size="2">(09:43:22 PM)</font> <b>meditans:</b></font> Haskellfant: ok, what do you use instead?<br/>
<font color="#A82F2F"><font size="2">(09:43:31 PM)</font> <b>Haskellfant:</b></font> I just install them in my user env<br/>
<font color="#A82F2F"><font size="2">(09:43:35 PM)</font> <b>MP2E:</b></font> ghcWithPackages is the recommended way<br/>
<font color="#A82F2F"><font size="2">(09:43:41 PM)</font> <b>MP2E:</b></font> installing in your user environment is also bound to break things<br/>
<font color="#A82F2F"><font size="2">(09:43:41 PM)</font> <b>Haskellfant:</b></font> well cabal &amp; ghci-ng<br/>
<font color="#A82F2F"><font size="2">(09:43:43 PM)</font> <b>meditans:</b></font> Haskellfant: yes, don&apos;t worry. Were you in the end able to use ghci-ng?<br/>
<font color="#A82F2F"><font size="2">(09:44:08 PM)</font> <b>MP2E:</b></font> in fact that&apos;s probably why ghci-ng keeps breaking. nix-env and haskell packages do not mix well<br/>
<font color="#A82F2F"><font size="2">(09:44:16 PM)</font> <b>MP2E:</b></font> though i don&apos;t know why it would break with ghcWithPackages<br/>
<font color="#A82F2F"><font size="2">(09:44:18 PM)</font> <b>MP2E:</b></font> that sounds like a bug.<br/>
<font color="#A82F2F"><font size="2">(09:44:24 PM)</font> <b>Haskellfant:</b></font> MP2E: ah that sounds correct<br/>
<font color="#A82F2F"><font size="2">(09:44:54 PM)</font> <b>MP2E:</b></font> I used to do lots of hair pulling with Haskell packages and had to reinstall them every so often because they would break horribly, and I figured out it&apos;s because I was installing libraries with nix-env<br/>
<font color="#A82F2F"><font size="2">(09:44:58 PM)</font> <b>MP2E:</b></font> you can usually get away with installing programs that wya<br/>
<font color="#A82F2F"><font size="2">(09:45:19 PM)</font> <b>meditans:</b></font> MP2E: should I file this on github?<br/>
<font color="#A82F2F"><font size="2">(09:45:21 PM)</font> <b>Haskellfant:</b></font> yeah that&apos;s why I thought it would work for ghci-ng<br/>
<font color="#A82F2F"><font size="2">(09:45:24 PM)</font> <b>MP2E:</b></font> i&apos;d still recommend the bulk of haskell packages going in an environment :P<br/>
<font color="#A82F2F"><font size="2">(09:45:42 PM)</font> <b>MP2E:</b></font> meditans: yeah make a github issue about it<br/>
<font color="#A82F2F"><font size="2">(09:45:50 PM)</font> <b>Haskellfant:</b></font> meditans: looks like ghci-ng is working atm<br/>
<font color="#A82F2F"><font size="2">(09:45:52 PM)</font> <b>MP2E:</b></font> ghcWithPackages set to an environment should stay fine<br/>
<font color="#A82F2F"><font size="2">(09:46:08 PM)</font> <b>MP2E:</b></font> as in, not break due to updates<br/>
<font color="#A82F2F"><font size="2">(09:46:22 PM)</font> <b>Haskellfant:</b></font> so should cabal also be in ghcwithpackages?<br/>
<font color="#A82F2F"><font size="2">(09:46:40 PM)</font> <b>Haskellfant:</b></font> I only have ghc, cabal &amp; ghci-ng outside of my shell environments<br/>
<font color="#A82F2F"><font size="2">(09:47:30 PM)</font> <b>MP2E:</b></font> Ah. I&apos;ve never had cabal break outside of an environment so that should be ok, but ghci-ng should go in the environment (because it looks for packages you have installed)<br/>
<font color="#A82F2F"><font size="2">(09:47:52 PM)</font> <b>MP2E:</b></font> I have cabal in my environment just in case though, because it doesn&apos;t hurt anything<br/>
<font color="#A82F2F"><font size="2">(09:47:59 PM)</font> <b>MP2E:</b></font> the only hting outside of my environment right now is darcs<br/>
<font color="#A82F2F"><font size="2">(09:48:04 PM)</font> <b>MP2E:</b></font> and that&apos;s because if i put it in the environment there&apos;s a conflict<br/>
<font color="#A82F2F"><font size="2">(09:48:08 PM)</font> <b>MP2E:</b></font> not sure how to solve it.<br/>
<font color="#A82F2F"><font size="2">(09:48:17 PM)</font> <b>meditans:</b></font> MP2E, Haskellfant: do you have a configuration which uses ghci-ng on github, so that I can take a look?<br/>
<font color="#A82F2F"><font size="2">(09:48:39 PM)</font> <b>Haskellfant:</b></font> meditans: nope, but there it is http://sprunge.us/BTCD<br/>
<font color="#A82F2F"><font size="2">(09:48:42 PM)</font> <b>MP2E:</b></font> I haven&apos;t used ghci-ng before but mine looks like this https://github.com/MP2E/nix-projects/blob/master/nixpkgs-config/config.nix#L60<br/>
<font color="#A82F2F"><font size="2">(09:49:16 PM)</font> <b>meditans:</b></font> Haskellfant: MP2E: thanks<br/>
<font color="#A82F2F"><font size="2">(09:49:40 PM)</font> <b>meditans:</b></font> if I&apos;m not able to fix my installation with this, I&apos;ll file the problem on github<br/>
<font color="#A82F2F"><font size="2">(09:51:38 PM)</font> <b>iElectric:</b></font> niksnut: new nix unstable won&apos;t compile https://travis-ci.org/NixOS/nixpkgs/builds/51222219<br/>
<font color="#A82F2F"><font size="2">(09:52:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/A3fK<br/>
<font color="#A82F2F"><font size="2">(09:52:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 22bfa41 Franz Pletz: Update libressl to 2.1.3<br/>
<font color="#A82F2F"><font size="2">(09:52:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 6eb7401 Domen Kožar: Merge pull request #6460 from fpletz/package/libressl...<br/>
<font color="#A82F2F"><font size="2">(09:53:27 PM)</font> <b>Haskellfant:</b></font> now that went wrong<br/>
<font color="#A82F2F"><font size="2">(09:53:42 PM)</font> <b>Haskellfant:</b></font> I&apos;m getting a permission error when trying to use the package cache because it doesn&apos;t find ghc-pkg<br/>
<font color="#A82F2F"><font size="2">(09:53:47 PM)</font> <b>Haskellfant:</b></font> ährg<br/>
<font color="#A82F2F"><font size="2">(09:53:59 PM)</font> <b>Haskellfant:</b></font> not because it doesn&apos;t find ghc-pkg, because I can&apos;t access package.cache<br/>
<font color="#A82F2F"><font size="2">(09:54:59 PM)</font> <b>Haskellfant:</b></font> MP2E: but is ghcWithPackages any good if I then try to use it in nix-shell with libraries not declared in the packageset?<br/>
<font color="#A82F2F"><font size="2">(09:55:06 PM)</font> <b>Haskellfant:</b></font> that&apos;s the case where it broke for me<br/>
<font color="#A82F2F"><font size="2">(09:56:35 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to release-14.12: http://git.io/A3UN<br/>
<font color="#A82F2F"><font size="2">(09:56:35 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 3d25526 Vladimír Čunát: uthash: new package...<br/>
<font color="#A82F2F"><font size="2">(09:57:02 PM)</font> <b>Haskellfant:</b></font> ah lol, found the issue for the permissions bug https://github.com/NixOS/nixpkgs/issues/6419<br/>
<font color="#A82F2F"><font size="2">(09:57:06 PM)</font> <b>MP2E:</b></font> how does it break? It has worked for me<br/>
<font color="#A82F2F"><font size="2">(09:57:39 PM)</font> <b>Haskellfant:</b></font> well it works most of the time, but I had it two times in the past where &apos;cabal repl --with-ghc=ghci-ng&apos; didn&apos;t find some libraries<br/>
<font color="#A82F2F"><font size="2">(09:57:57 PM)</font> <b>Haskellfant:</b></font> maybe it was just me being stupid, I&apos;ll just go with ghcwithpackages for the time being until that breaks :)<br/>
<font color="#A82F2F"><font size="2">(09:58:04 PM)</font> <b>Haskellfant:</b></font> and then try to debug it properly<br/>
<font color="#A82F2F"><font size="2">(09:58:11 PM)</font> <b>MP2E:</b></font> Well, if ghcWithPackages does break, peti and I would like to know about it<br/>
<font color="#A82F2F"><font size="2">(09:58:17 PM)</font> <b>MP2E:</b></font> because that&apos;s the main way going forward :P<br/>
<font color="#A82F2F"><font size="2">(09:58:22 PM)</font> <b>Haskellfant:</b></font> ok :)<br/>
<font color="#A82F2F"><font size="2">(09:58:31 PM)</font> <b>Haskellfant:</b></font> but does that influence what happens in nix-shell?<br/>
<font color="#A82F2F"><font size="2">(09:58:46 PM)</font> <b>Haskellfant:</b></font> as in should stuff defined in ghcwithpackages find the packages defined in the shell environment?<br/>
<font color="#A82F2F"><font size="2">(09:58:57 PM)</font> <b>MP2E:</b></font> your current environment is preserved in nix-shell unless you do --pure, but it shouldn&apos;t break things<br/>
<font color="#A82F2F"><font size="2">(09:59:04 PM)</font> <b>Haskellfant:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(09:59:16 PM)</font> <b>MP2E:</b></font> that one i&apos;m not sure, if haskell packages should find packages in ghcWithPackages. That sounds correct<br/>
<font color="#A82F2F"><font size="2">(09:59:25 PM)</font> <b>MP2E:</b></font> if not we need to figure out a way to deal with ghcWithPackages +nix-shell<br/>
<font color="#A82F2F"><font size="2">(09:59:34 PM)</font> <b>MP2E:</b></font> peti would have to be asked that one<br/>
<font color="#A82F2F"><font size="2">(09:59:41 PM)</font> <b>MP2E:</b></font> since he wrote haskell-ng :P<br/>
<font color="#A82F2F"><font size="2">(09:59:44 PM)</font> <b>Haskellfant:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(10:01:21 PM)</font> <b>meditans:</b></font> Haskellfant: MP2E: just so that you know, ghci-ng doesn&apos;t work out of ghcWithPackages, either :(<br/>
<font color="#A82F2F"><font size="2">(10:02:10 PM)</font> <b>MP2E:</b></font> i&apos;m rebuilding my environment with ghci-ng to check it out, might take a bit because I updated too, though.<br/>
<font color="#A82F2F"><font size="2">(10:02:23 PM)</font> <b>MP2E:</b></font> I think it&apos;s safe to post to github issues, this is sounding more and more like a bug<br/>
<font color="#A82F2F"><font size="2">(10:04:00 PM)</font> <b>Haskellfant:</b></font> meditans: can&apos;t confirm that<br/>
<font color="#A82F2F"><font size="2">(10:04:03 PM)</font> <b>Haskellfant:</b></font> seems to work for me<br/>
<font color="#A82F2F"><font size="2">(10:06:28 PM)</font> <b>Haskellfant:</b></font> meditans: in nix-shell<br/>
<font color="#A82F2F"><font size="2">(10:12:17 PM)</font> <b>Haskellfant:</b></font> anyway, I&apos;m off to bed. exam at 8am :)<br/>
