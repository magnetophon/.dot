<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 22 Jan 2015 03:56:29 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 22 Jan 2015 03:56:29 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(03:56:29 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(03:56:29 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(03:56:30 PM)</font> <b>tepper.freenode.net:</b></font> (notice) [freenode-info] channel trolls and no channel staff around to help? please check with freenode support: http://freenode.net/faq.shtml#gettinghelp<br/>
<font color="#A82F2F"><font size="2">(03:59:35 PM)</font> <b>Fuuzetsu:</b></font> anyone in-the-know for GHC 7.10?<br/>
<font color="#A82F2F"><font size="2">(03:59:37 PM)</font> <b>Fuuzetsu:</b></font> (RC)<br/>
<font color="#16569E"><font size="2">(04:01:05 PM)</font> <b>magnetophon:</b></font> I need some help packaging. Specifically, I need to search/replace   &quot;$CXX $&quot;. When I test with &quot;grep \$CXX\ \$&quot; nothing matches, but when I test &quot;grep \$CXX\ \$.&quot; I &lt;do&gt; get my match, except with one character too many.  Any ideas?<br/>
<font color="#A82F2F"><font size="2">(04:02:50 PM)</font> <b>Fuuzetsu:</b></font> try grep &apos;\$CXX \$&apos;<br/>
<font color="#A82F2F"><font size="2">(04:03:01 PM)</font> <b>Fuuzetsu:</b></font> (with single quotes)<br/>
<font color="#A82F2F"><font size="2">(04:03:33 PM)</font> <b>Fuuzetsu:</b></font> or use \\$ instead<br/>
<font color="#16569E"><font size="2">(04:03:49 PM)</font> <b>magnetophon:</b></font> Fuuzetsu: thanks. That works. Can you tell me why?<br/>
<font color="#A82F2F"><font size="2">(04:04:01 PM)</font> <b>Fuuzetsu:</b></font> top reply http://stackoverflow.com/questions/3759926/how-to-grep-for-the-dollar-symbol<br/>
<font color="#16569E"><font size="2">(04:04:12 PM)</font> <b>magnetophon:</b></font> Thanks!<br/>
<font color="#A82F2F"><font size="2">(04:05:43 PM)</font> <b>ThorHop:</b></font> That sounds like an awesome rap song... &quot;Grep dat dolla!&quot;<br/>
<font color="#A82F2F"><font size="2">(04:06:22 PM)</font> <b>Fuuzetsu:</b></font> ThorHop: I think bumblebee works fine based on some vague memory of someone saying something somewhere sometime ;P<br/>
<font color="#A82F2F"><font size="2">(04:07:10 PM)</font> <b>qknight:</b></font> ThorHop: some time ago i wanted to use it. right now i&apos;m not using bumblebee, does anyone?<br/>
<font color="#16569E"><font size="2">(04:07:20 PM)</font> <b>magnetophon:</b></font> ThorHop: lol<br/>
<font color="#A82F2F"><font size="2">(04:08:18 PM)</font> <b>ThorHop:</b></font> qknight: I know some people who use it with ubuntu, arch, fedora..<br/>
<font color="#A82F2F"><font size="2">(04:08:26 PM)</font> <b>qknight:</b></font> ThorHop: nice<br/>
<font color="#A82F2F"><font size="2">(04:08:33 PM)</font> <b>qknight:</b></font> ThorHop: but none one nixos, right?<br/>
<font color="#A82F2F"><font size="2">(04:08:34 PM)</font> <b>ThorHop:</b></font> qknight: but are you saying it&apos;s not very much supported on NixOS? ^^;<br/>
<font color="#A82F2F"><font size="2">(04:08:44 PM)</font> <b>qknight:</b></font> ThorHop: no, just that i didn&apos;t get it working<br/>
<font color="#A82F2F"><font size="2">(04:08:57 PM)</font> <b>qknight:</b></font> ThorHop: which might be the same as &apos;it&apos;s not very much supported on NixOS&apos; ;-)<br/>
<font color="#A82F2F"><font size="2">(04:09:07 PM)</font> <b>ThorHop:</b></font> qknight: there could be several reasons to that<br/>
<font color="#A82F2F"><font size="2">(04:09:19 PM)</font> <b>ThorHop:</b></font> qknight: I for instance get an &quot;access denied&quot; when trying to access the DRI<br/>
<font size="2">(04:09:20 PM)</font><b> MichaelRaskin left the room (quit: Read error: Connection reset by peer).</b><br/>
<font color="#A82F2F"><font size="2">(04:09:35 PM)</font> <b>ThorHop:</b></font> However, it&apos;s a simple problem of timeouts<br/>
<font color="#A82F2F"><font size="2">(04:09:38 PM)</font> <b>qknight:</b></font> but i lately bought a laptop with intel 4000 only, and that is the best, very best user experience i had for years now. just open source drivers, 3d works uptimes for days with many, many suspend-ram cycles and such<br/>
<font color="#A82F2F"><font size="2">(04:09:42 PM)</font> <b>ThorHop:</b></font> I just add &quot;rcutree.rcu_idle_gp_delay=1&quot; to the kernel parameters and it works<br/>
<font color="#A82F2F"><font size="2">(04:10:00 PM)</font> <b>qknight:</b></font> ThorHop: do it with root first, when this works nail the permission issues you might come across<br/>
<font color="#A82F2F"><font size="2">(04:10:18 PM)</font> <b>ThorHop:</b></font> qknight: bumblebeed is always run by root (I think...)<br/>
<font color="#A82F2F"><font size="2">(04:11:09 PM)</font> <b>Lethalman:</b></font> ThorHop, qknight there is a bumblebee service for nixos<br/>
<font color="#A82F2F"><font size="2">(04:11:11 PM)</font> <b>ThorHop:</b></font> or the appropriate user group, which usually is bumblebee... in nixos it&apos;s wheel... so I set it to video<br/>
<font color="#A82F2F"><font size="2">(04:11:13 PM)</font> <b>qknight:</b></font> iElectric: should we create a &apos;reinvent the packaging whell&apos; award?<br/>
<font color="#A82F2F"><font size="2">(04:11:13 PM)</font> <b>Lethalman:</b></font> it should suffice to enable it<br/>
<font color="#A82F2F"><font size="2">(04:11:17 PM)</font> <b>Lethalman:</b></font> and also enable nvidia card somehow<br/>
<font color="#A82F2F"><font size="2">(04:11:19 PM)</font> <b>Lethalman:</b></font> but I never used it<br/>
<font color="#A82F2F"><font size="2">(04:11:51 PM)</font> <b>qknight:</b></font> Lethalman: i don&apos;t know if that bumblbee thing was there as a service last time i tried: 2years ago<br/>
<font color="#A82F2F"><font size="2">(04:11:55 PM)</font> <b>qknight:</b></font> probably not<br/>
<font color="#A82F2F"><font size="2">(04:12:16 PM)</font> <b>ThorHop:</b></font> qknight: oh it is<br/>
<font color="#A82F2F"><font size="2">(04:12:24 PM)</font> <b>qknight:</b></font> ThorHop: oh it is, or it was?<br/>
<font color="#A82F2F"><font size="2">(04:12:34 PM)</font> <b>ThorHop:</b></font> hardware.bumblebee.enable = true; hardware.bumblebee.group = &quot;video&quot;;<br/>
<font color="#A82F2F"><font size="2">(04:12:43 PM)</font> <b>ThorHop:</b></font> Now I gotta reboot and test it...<br/>
<font color="#A82F2F"><font size="2">(04:12:51 PM)</font> <b>qknight:</b></font> ThorHop: have fun!<br/>
<font color="#A82F2F"><font size="2">(04:13:13 PM)</font> <b>ThorHop:</b></font> and btw; for some reason even though I did boot.blacklistedKernelModules = [ &quot;nouveau&quot; ]; nouveau was still loaded on boot..<br/>
<font color="#A82F2F"><font size="2">(04:13:33 PM)</font> <b>qknight:</b></font> ThorHop: did you put the nvidia into drivers?<br/>
<font color="#A82F2F"><font size="2">(04:13:53 PM)</font> <b>qknight:</b></font> ThorHop: did you run &apos;nixos rebuild boot&apos; (or switch) before reboot?<br/>
<font color="#A82F2F"><font size="2">(04:13:54 PM)</font> <b>ThorHop:</b></font> qknight: would want to avoid that as I think it sets the Xorg driver to nvidia<br/>
<font color="#A82F2F"><font size="2">(04:14:04 PM)</font> <b>qknight:</b></font> ThorHop: wait a sec<br/>
<font color="#A82F2F"><font size="2">(04:14:17 PM)</font> <b>ThorHop:</b></font> qknight: what bumblebeed does is start an extra Xorg session off the screen with the nvidia drivers loaded<br/>
<font color="#A82F2F"><font size="2">(04:14:26 PM)</font> <b>qknight:</b></font> ThorHop: services.xserver = { enable = true; videoDrivers = [ &quot;intel&quot; ];<br/>
<font color="#A82F2F"><font size="2">(04:14:31 PM)</font> <b>ThorHop:</b></font> So you really want the iGPU (in this case 4600), i.e intel<br/>
<font color="#A82F2F"><font size="2">(04:14:31 PM)</font> <b>qknight:</b></font> ThorHop: just change it to nvidia<br/>
<font color="#A82F2F"><font size="2">(04:14:59 PM)</font> <b>ThorHop:</b></font> qknight: that might be against my intentions ^^;<br/>
<font color="#A82F2F"><font size="2">(04:15:10 PM)</font> <b>qknight:</b></font> ThorHop: i have a intel 4000 and i&apos;m really happy with it -&gt; it is inside a t530 thinkpad<br/>
<font color="#A82F2F"><font size="2">(04:15:27 PM)</font> <b>qknight:</b></font> ThorHop: i attached 2 additional screens, so i have laptop+2xdvi<br/>
<font color="#A82F2F"><font size="2">(04:15:33 PM)</font> <b>ThorHop:</b></font> qknight: it sure does the trick ;)<br/>
<font color="#A82F2F"><font size="2">(04:15:42 PM)</font> <b>ThorHop:</b></font> Anyways... here goes nothing<br/>
<font size="2">(04:15:48 PM)</font><b> ThorHop left the room (quit: Quit: Once more IN TO THE BREACH...!).</b><br/>
<font color="#A82F2F"><font size="2">(04:15:51 PM)</font> <b>qknight:</b></font> ThorHop: welcome to nvidia and linux<br/>
<font color="#A82F2F"><font size="2">(04:15:56 PM)</font> <b>qknight:</b></font> has been a struggle like forever<br/>
<font color="#A82F2F"><font size="2">(04:17:15 PM)</font> <b>qknight:</b></font> anyways, this doesn&apos;t help<br/>
<font size="2">(04:18:29 PM)</font><b> ThorHop [<em>~quassel@162.84-48-92.nextgentel.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(04:23:07 PM)</font> <b>Lethalman:</b></font> qknight, I think the problem is more with the nixos module rather than linux and nvidi a:)<br/>
<font color="#A82F2F"><font size="2">(04:24:18 PM)</font> <b>qknight:</b></font> Lethalman: partially. if nvidia would support the nouveau driver like intel does with the intel driver, then one would not even have this problem<br/>
<font color="#A82F2F"><font size="2">(04:24:35 PM)</font> <b>qknight:</b></font> Lethalman: i would love if they would at least put the power-saving stuff into nouveau for all their cards<br/>
<font color="#A82F2F"><font size="2">(04:24:53 PM)</font> <b>Lethalman:</b></font> qknight, still not a linux/nvidia problem, rather a nixos problem<br/>
<font color="#A82F2F"><font size="2">(04:24:56 PM)</font> <b>qknight:</b></font> Lethalman: because if you do bumblebee with nvidia driver, you still have a potentially broken binary blog in your system<br/>
<font color="#A82F2F"><font size="2">(04:25:09 PM)</font> <b>qknight:</b></font> Lethalman: if you use nouveau (which is possible) then you got a fan on seroids *g*<br/>
<font color="#A82F2F"><font size="2">(04:25:12 PM)</font> <b>qknight:</b></font> steroids<br/>
<font color="#A82F2F"><font size="2">(04:25:33 PM)</font> <b>ThorHop:</b></font> So Akonadi still doesn&apos;t work?<br/>
<font color="#A82F2F"><font size="2">(04:25:50 PM)</font> <b>qknight:</b></font> ThorHop: interesting question, you mean on nixos?<br/>
<font color="#A82F2F"><font size="2">(04:26:00 PM)</font> <b>ThorHop:</b></font> qknight: lol - quite. Yes.<br/>
<font color="#A82F2F"><font size="2">(04:26:31 PM)</font> <b>ThorHop:</b></font> Trying to launch KMail yields this error &apos;&apos; Cannot connect to the Akonadi service. (Unable to obtain agent type &apos;&apos;.)&quot; &apos;&apos;<br/>
<font color="#A82F2F"><font size="2">(04:26:34 PM)</font> <b>qknight:</b></font> goibhniu: do you use akonadi?<br/>
<font color="#A82F2F"><font size="2">(04:26:47 PM)</font> <b>qknight:</b></font> ThorHop: type akonadi in the kde search and see for it<br/>
<font color="#A82F2F"><font size="2">(04:26:55 PM)</font> <b>ThorHop:</b></font> It might be remedied by downgrading to a version of kdepim that doesn&apos;t use akonadi...<br/>
<font color="#A82F2F"><font size="2">(04:26:55 PM)</font> <b>qknight:</b></font> ThorHop: my instance complains about not being able to connect to mysql<br/>
<font color="#A82F2F"><font size="2">(04:27:17 PM)</font> <b>ThorHop:</b></font> qknight: I googled it and some nixos related pages suggested including it in build... insinuating it&apos;s not<br/>
<font color="#A82F2F"><font size="2">(04:27:28 PM)</font> <b>qknight:</b></font> ThorHop: i think using kdepim with akonadi could have some cool results as email indexing (not sure if that works though)<br/>
<font color="#A82F2F"><font size="2">(04:27:36 PM)</font> <b>goibhniu:</b></font> qknight: nope<br/>
<font color="#A82F2F"><font size="2">(04:28:02 PM)</font> <b>qknight:</b></font> what i would love so much would be a portal which tracks what software of nixpkgs is actually used and how often<br/>
<font color="#A82F2F"><font size="2">(04:28:37 PM)</font> <b>goibhniu:</b></font> qknight: like debian&apos;s popcon?<br/>
<font color="#A82F2F"><font size="2">(04:28:50 PM)</font> <b>qknight:</b></font> goibhniu: not sure but yes other distros do that sometimes<br/>
<font color="#A82F2F"><font size="2">(04:29:41 PM)</font> <b>goibhniu:</b></font> qknight: AFAIK popcon uses atime, which most people disable for performance reasons ... I&apos;m also curious about something like that though<br/>
<font color="#A82F2F"><font size="2">(04:29:59 PM)</font> <b>ThorHop:</b></font> https://techbase.kde.org/Projects/PIM/Akonadi/Database#Sqlite<br/>
<font color="#A82F2F"><font size="2">(04:30:04 PM)</font> <b>ThorHop:</b></font> Here&apos;s why<br/>
<font color="#A82F2F"><font size="2">(04:30:06 PM)</font> <b>Fuuzetsu:</b></font> does anyone have an example of overriding a haskellng package set in their config.nix?<br/>
<font color="#062585"><font size="2">(04:30:07 PM)</font> <b>***goibhniu</b></font> doubts we could change atime in the store anyway :D<br/>
<font color="#A82F2F"><font size="2">(04:30:51 PM)</font> <b>ThorHop:</b></font> https://github.com/NixOS/nixpkgs/blob/master/pkgs/desktops/kde-4.14/support/akonadi/default.nix<br/>
<font color="#A82F2F"><font size="2">(04:31:13 PM)</font> <b>bennofs:</b></font> Fuuzetsu: I think overriding works the same as in pre-ng, but the `extension` attribute is now called `overrides`<br/>
<font color="#A82F2F"><font size="2">(04:31:45 PM)</font> <b>Fuuzetsu:</b></font> aha<br/>
<font color="#A82F2F"><font size="2">(04:31:50 PM)</font> <b>ThorHop:</b></font> ^ According to this akonadi builds with sqlite... which teh KDE people say they&apos;ve tried to support, but prefer MySQL<br/>
<font color="#A82F2F"><font size="2">(04:32:27 PM)</font> <b>Fuuzetsu:</b></font> bennofs: do we still do callPackage stuff?<br/>
<font color="#A82F2F"><font size="2">(04:32:29 PM)</font> <b>ThorHop:</b></font> When I get home later I&apos;ll try to change the sqlite to mysql with my fork of nixpkgs and get back to you ^^;<br/>
<font color="#A82F2F"><font size="2">(04:33:42 PM)</font> <b>Fuuzetsu:</b></font> oh nvm, just realised I was thinking of something irrelevant<br/>
<font color="#A82F2F"><font size="2">(04:37:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] svanderburg pushed 1 new commit to master: https://github.com/NixOS/nixpkgs/commit/53a4002bbcd552296f8ee7854a5ac3265044b1e3<br/>
<font color="#A82F2F"><font size="2">(04:37:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 53a4002 Sander van der Burg: xcodeenv: make version 6.1.1 the default<br/>
<font color="#A82F2F"><font size="2">(04:37:26 PM)</font> <b>qknight:</b></font> goibhniu: no but we could create a tool which scans for installed software and maybe together with the wrappers we have we could add a activation script or something similar<br/>
<font color="#A82F2F"><font size="2">(04:48:46 PM)</font> <b>Fuuzetsu:</b></font> 3 CVEs in just one minor ffmpeg release, I fucking love C software<br/>
<font color="#A82F2F"><font size="2">(04:48:53 PM)</font> <b>Fuuzetsu:</b></font> C/C++/whatever*<br/>
<font color="#A82F2F"><font size="2">(04:49:12 PM)</font> <b>viric:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(04:49:36 PM)</font> <b>viric:</b></font> it seems C has more bugs just because it&apos;s much more spread and used<br/>
<font color="#A82F2F"><font size="2">(04:49:43 PM)</font> <b>viric:</b></font> C code<br/>
<font color="#A82F2F"><font size="2">(04:49:59 PM)</font> <b>civodul:</b></font> not just that IMO<br/>
<font color="#A82F2F"><font size="2">(04:50:24 PM)</font> <b>kmicu:</b></font> viric: “3 CVEs in just one minor ffmpeg release”<br/>
<font color="#A82F2F"><font size="2">(04:50:48 PM)</font> <b>Fuuzetsu:</b></font> somethingsomethingheartbleedsomethingsomething<br/>
<font color="#A82F2F"><font size="2">(04:51:09 PM)</font> <b>viric:</b></font> I&apos;m trying to start a troll war<br/>
<font color="#A82F2F"><font size="2">(04:51:38 PM)</font> <b>Fuuzetsu:</b></font> I think there are too many Haskellers here<br/>
<font color="#A82F2F"><font size="2">(04:51:48 PM)</font> <b>aszlig:</b></font> basvandijk: !<br/>
<font color="#16569E"><font size="2">(04:52:23 PM)</font> <b>magnetophon:</b></font> When I do the following in the postInstallPhase:     find $out/bin/ -name &quot;*faust2*&quot; -type f | xargs sed 's@CXX=g++@CXX=${gcc}/bin/g++ \&quot;-I $out/include/\&quot;@g' -i         the first $out (as part of the find command) gets substituted as expected, but the second one (in the sed command) gets put there literally.   I also tried ${out}, and ${faust}, both of which return &quot;error: undefined variable&quot; while building the package....<br/>
<font color="#A82F2F"><font size="2">(04:52:39 PM)</font> <b>Fuuzetsu:</b></font> interesting, base is now an explicit dependency generated by cabal2nix<br/>
<font color="#A82F2F"><font size="2">(04:53:12 PM)</font> <b>kmicu:</b></font> Epic Faust Journey Attacks…<br/>
<font color="#A82F2F"><font size="2">(04:53:43 PM)</font> <b>ktosiek:</b></font> magnetophon: the second $out is inside single quotes<br/>
<font color="#A82F2F"><font size="2">(04:54:20 PM)</font> <b>Fuuzetsu:</b></font> the ${foo} means ‘foo is nix code, eval that and splice in return value’<br/>
<font color="#16569E"><font size="2">(04:55:38 PM)</font> <b>magnetophon:</b></font> ktosiek: you mean the double quotes?  Yeah, I need those, to get rid of some other error.  Any way to work around that? <br/>
<font color="#A82F2F"><font size="2">(04:56:05 PM)</font> <b>Fuuzetsu:</b></font> bennofs: any idea what new shell.nix look like?<br/>
<font color="#A82F2F"><font size="2">(04:56:28 PM)</font> <b>Haskellfant:</b></font> does anybody understand where openjdk announces releases and how to find the urls to the source tarballs? oracle announced quite a few security vulnerabilities so we should update asap, but I can&apos;t find out if patches are available for openjdk and if so where<br/>
<font color="#A82F2F"><font size="2">(04:56:34 PM)</font> <b>ktosiek:</b></font> no, I mean the single quotes (apostrophes?) in &apos;s@....@g&apos;<br/>
<font color="#16569E"><font size="2">(04:56:35 PM)</font> <b>magnetophon:</b></font> Fuuzetsu: So I expected  either ${faust} or ${out} to work, but they don't...<br/>
<font color="#A82F2F"><font size="2">(04:56:35 PM)</font> <b>Haskellfant:</b></font> their website is a giant mess<br/>
<font color="#A82F2F"><font size="2">(04:57:28 PM)</font> <b>ktosiek:</b></font> ${gcc} works because it&apos;s replaced by nix, but $out is only available at build time (in shell)<br/>
<font color="#A82F2F"><font size="2">(04:58:08 PM)</font> <b>ktosiek:</b></font> try: xargs sed &quot;s@CXX=g++@CXX=${gcc}/bin/g++ \&quot;-I $out/include/\&quot;@g&quot; -i<br/>
<font color="#A82F2F"><font size="2">(04:58:09 PM)</font> <b>Fuuzetsu:</b></font> magnetophon: out is a shell variable hence why $out works<br/>
<font size="2">(04:58:26 PM)</font><b> hugoduncan is now known as hugod</b><br/>
<font size="2">(04:58:58 PM)</font><b> hugod is now known as Guest24103</b><br/>
<font color="#A82F2F"><font size="2">(05:00:06 PM)</font> <b>ktosiek:</b></font> Haskellfant: were those vulns in openjdk or Oracle&apos;s jdk? (Or are they not separate anymore?)<br/>
<font color="#A82F2F"><font size="2">(05:00:23 PM)</font> <b>Haskellfant:</b></font> ktosiek: afaik they are pretty similar so both were affected<br/>
<font color="#16569E"><font size="2">(05:00:50 PM)</font> <b>magnetophon:</b></font> ktosiek: Thanks, trying that now.<br/>
<font color="#A82F2F"><font size="2">(05:01:40 PM)</font> <b>ktosiek:</b></font> oh, Oracle JDK is OpenJDK + proprietary extensions<br/>
<font color="#A82F2F"><font size="2">(05:01:43 PM)</font> <b>ragge_:</b></font> Haskellfant: don&apos;t know about annouced releases, but for source tarballs could we use the hg repo?<br/>
<font color="#A82F2F"><font size="2">(05:02:05 PM)</font> <b>ragge_:</b></font> Haskellfant: for instance http://hg.openjdk.java.net/jdk8/jdk8/archive/2a8f4c022aa0.tar.bz2<br/>
<font color="#A82F2F"><font size="2">(05:02:05 PM)</font> <b>Haskellfant:</b></font> ragge_: yeah I guess we should use that instead of trying to find the urls directly<br/>
<font color="#A82F2F"><font size="2">(05:02:41 PM)</font> <b>ragge_:</b></font> Haskellfant: as long as we can lookup tag -&gt; commit<br/>
<font color="#A82F2F"><font size="2">(05:02:47 PM)</font> <b>Haskellfant:</b></font> don&apos;t we have some fetchhg function or something similar that would allow us to just specify a tag?<br/>
<font color="#A82F2F"><font size="2">(05:03:07 PM)</font> <b>ragge_:</b></font> don&apos;t know, new to this, but I&apos;ve used fetchgit<br/>
<font color="#A82F2F"><font size="2">(05:04:15 PM)</font> <b>Haskellfant:</b></font> apparently it&apos;s fixed in jdk8-31<br/>
<font color="#A82F2F"><font size="2">(05:04:26 PM)</font> <b>Haskellfant:</b></font> but there must be some way to find this way easier<br/>
<font color="#A82F2F"><font size="2">(05:04:45 PM)</font> <b>ragge_:</b></font> yeah, also not clear to me if openjdk tags are same as oraclejdk &quot;updates&quot;<br/>
<font color="#A82F2F"><font size="2">(05:08:01 PM)</font> <b>Haskellfant:</b></font> srsly that&apos;s a mess, how does anybody manage to find out when to update packages<br/>
<font color="#A82F2F"><font size="2">(05:08:29 PM)</font> <b>meditans:</b></font> edwtjo_: how do you get working :doc and :hoogle in ihaskell?<br/>
<font color="#A82F2F"><font size="2">(05:08:46 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] svanderburg pushed 1 new commit to master: https://github.com/NixOS/nixpkgs/commit/0878b2e9be1140f32735ae8d0b471748e309d6e0<br/>
<font color="#A82F2F"><font size="2">(05:08:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0878b2e Sander van der Burg: titaniumenv: Add Titanium SDK 3.5.0 support<br/>
<font color="#A82F2F"><font size="2">(05:09:21 PM)</font> <b>Fuuzetsu:</b></font> woohoo, got something to eval with haskell-ng ;)<br/>
<font color="#A82F2F"><font size="2">(05:10:22 PM)</font> <b>alpounet:</b></font> that&apos;s not supposed to be hard :p<br/>
<font color="#A82F2F"><font size="2">(05:14:43 PM)</font> <b>Fuuzetsu:</b></font> not much in terms of instructions on how to migrate from my old setup<br/>
<font color="#A82F2F"><font size="2">(05:15:09 PM)</font> <b>Fuuzetsu:</b></font> but it seems that haskell-ng will be nicer to use indeed<br/>
<font color="#A82F2F"><font size="2">(05:15:40 PM)</font> <b>alpounet:</b></font> i haven&apos;t had any trouble using peti&apos;s email + ocharles SO post, but maybe you had some more complicated expressions around than mines (which are quite straighforward)<br/>
<font color="#A82F2F"><font size="2">(05:15:40 PM)</font> <b>ragge_:</b></font> can anyone explain how to use gems with ruby on nixos (14.12)?<br/>
<font color="#A82F2F"><font size="2">(05:16:13 PM)</font> <b>Fuuzetsu:</b></font> not really anything complicated but I had a fair amount of overrides for many GHC versions<br/>
<font color="#A82F2F"><font size="2">(05:16:32 PM)</font> <b>Fuuzetsu:</b></font> all my shell.nix need updating and cabal2nix has a -m bug ;P<br/>
<font color="#A82F2F"><font size="2">(05:17:11 PM)</font> <b>alpounet:</b></font> ragge_: there&apos;s a mail about it on the nix mailing list, from a few days ago I think: http://lists.science.uu.nl/pipermail/nix-dev/2015-January/015780.html<br/>
<font color="#A82F2F"><font size="2">(05:17:18 PM)</font> <b>alpounet:</b></font> hah, from today actually =)<br/>
<font color="#A82F2F"><font size="2">(05:18:54 PM)</font> <b>ragge_:</b></font> alpounet: thanks! might have to move up to git master then...<br/>
<font color="#A82F2F"><font size="2">(05:20:08 PM)</font> <b>alpounet:</b></font> ragge_: to be honest, i know nothing about it, but i was browsing the mailing list&apos;s recent posts earlier today and saw that. but good luck anyway :p<br/>
<font color="#A82F2F"><font size="2">(05:22:42 PM)</font> <b>MarcWeber:</b></font> error: cloning builder process: Invalid argument, any idea ?<br/>
<font color="#A82F2F"><font size="2">(05:23:40 PM)</font> <b>shlevy:</b></font> MarcWeber: nix version, kernel version?<br/>
<font color="#A82F2F"><font size="2">(05:23:56 PM)</font> <b>MarcWeber:</b></font> Linux nixos 3.10.64 #1-NixOS SMP Thu Jan 1 00:00:01 UTC 1970 x86_64 GNU/Linux<br/>
<font color="#A82F2F"><font size="2">(05:24:27 PM)</font> <b>MarcWeber:</b></font> nix-1.9pre4020_f6716e9<br/>
<font color="#A82F2F"><font size="2">(05:24:33 PM)</font> <b>shlevy:</b></font> checking, one sec<br/>
<font color="#A82F2F"><font size="2">(05:24:35 PM)</font> <b>MarcWeber:</b></font> (from .service file)<br/>
<font color="#16569E"><font size="2">(05:24:51 PM)</font> <b>magnetophon:</b></font> ktosiek: That worked in so far that I'm getting the output textfile I was expecting, but when I run it (it's a script) , I get:     -I /nix/store/5k8wx44anbs0mz7sh6rfyvgbdsa9asjg-faust-8-1-2015/include/: No such file or directory. <br/>
<font color="#A82F2F"><font size="2">(05:25:08 PM)</font> <b>MarcWeber:</b></font> message gets triggerd in build.cc when forking chroot child fails or such<br/>
<font color="#A82F2F"><font size="2">(05:25:47 PM)</font> <b>shlevy:</b></font> Do you have namespaces available in your kernel?<br/>
<font color="#A82F2F"><font size="2">(05:25:58 PM)</font> <b>shlevy:</b></font> Is it default kernel config or a custom one?<br/>
<font color="#A82F2F"><font size="2">(05:26:32 PM)</font> <b>MarcWeber:</b></font> CONFIG_NAMESPACES=y in /proc/config.gz<br/>
<font color="#16569E"><font size="2">(05:27:05 PM)</font> <b>magnetophon:</b></font> ktosiek: Of course, the path in question &lt;does&gt;exist.   I looked up the proper usage of g++ -I, and afaik, I'm doing it right.  <br/>
<font color="#A82F2F"><font size="2">(05:27:06 PM)</font> <b>shlevy:</b></font> Is it a custom config?<br/>
<font color="#A82F2F"><font size="2">(05:27:14 PM)</font> <b>shlevy:</b></font> If so, can you paste it somewhere?<br/>
<font color="#A82F2F"><font size="2">(05:27:29 PM)</font> <b>shlevy:</b></font> Ah, I think I see the issue<br/>
<font color="#A82F2F"><font size="2">(05:27:34 PM)</font> <b>shlevy:</b></font> niksnut: around?<br/>
<font color="#A82F2F"><font size="2">(05:27:49 PM)</font> <b>MarcWeber:</b></font> http://mawercer.de/tmp/config.gz<br/>
<font color="#A82F2F"><font size="2">(05:30:15 PM)</font> <b>shlevy:</b></font> MarcWeber: opening an issue on the nix tracker, one sec<br/>
<font color="#A82F2F"><font size="2">(05:30:54 PM)</font> <b>MarcWeber:</b></font> I&apos;ll restart soon to see whether that solves the issues.<br/>
<font color="#16569E"><font size="2">(05:31:07 PM)</font> <b>magnetophon:</b></font> Lethalman: You suggested using &quot;g++ -I&quot; in the first place.  Could I just set CPATH in my wrappers instead?  Seems neater, and I can't get &quot;g++ -I&quot; to work...<br/>
<font color="#A82F2F"><font size="2">(05:31:47 PM)</font> <b>Lethalman:</b></font> magnetophon, you can use NIX_COMPILE_CFLAGS<br/>
<font color="#16569E"><font size="2">(05:32:08 PM)</font> <b>magnetophon:</b></font> Lethalman: Thanks. googling that now.<br/>
<font color="#A82F2F"><font size="2">(05:33:12 PM)</font> <b>shlevy:</b></font> MarcWeber: https://github.com/NixOS/nix/issues/453<br/>
<font color="#A82F2F"><font size="2">(05:33:34 PM)</font> <b>Lethalman:</b></font> magnetophon, NIX_CFLAGS_COMPILE sorry :P<br/>
<font color="#A82F2F"><font size="2">(05:34:23 PM)</font> <b>Lethalman:</b></font> magnetophon, you have to set this var in the lv2 script btw<br/>
<font color="#A82F2F"><font size="2">(05:34:25 PM)</font> <b>Lethalman:</b></font> not in the derivation<br/>
<font color="#A82F2F"><font size="2">(05:34:34 PM)</font> <b>Lethalman:</b></font> magnetophon, but that&apos;s exactly the same as tweaking the var in lv2<br/>
<font color="#A82F2F"><font size="2">(05:34:38 PM)</font> <b>shlevy:</b></font> MarcWeber: I think you&apos;ll have to revert nix to bd0f362d2fad1dd5f28e762011888b5eabd21280~1 or disable chroot builds for now<br/>
<font color="#A82F2F"><font size="2">(05:34:42 PM)</font> <b>Lethalman:</b></font> magnetophon, in other words, keep doing what you are doing<br/>
<font color="#A82F2F"><font size="2">(05:34:45 PM)</font> <b>Lethalman:</b></font> magnetophon, what&apos;s the problem exactly?<br/>
<font color="#A82F2F"><font size="2">(05:34:47 PM)</font> <b>shlevy:</b></font> Not sure how niksnut ever got this to work...<br/>
<font color="#A82F2F"><font size="2">(05:34:54 PM)</font> <b>MarcWeber:</b></font> Looks that way, yes.<br/>
<font color="#16569E"><font size="2">(05:36:14 PM)</font> <b>magnetophon:</b></font> Lethalman: when I use -I I get: -I /nix/store/5k8wx44anbs0mz7sh6rfyvgbdsa9asjg-faust-8-1-2015/include/: No such file or directory, even though that path &lt;does&gt; exist <br/>
<font color="#A82F2F"><font size="2">(05:36:38 PM)</font> <b>Lethalman:</b></font> magnetophon, the final call is wrong, not certainly that single line<br/>
<font color="#A82F2F"><font size="2">(05:36:46 PM)</font> <b>Lethalman:</b></font> evidently something else is messed up and the final command is wrong<br/>
<font color="#A82F2F"><font size="2">(05:37:03 PM)</font> <b>Lethalman:</b></font> magnetophon, in particular it&apos;s like you are passing the whole &quot;-I foo&quot; as a file<br/>
<font color="#A82F2F"><font size="2">(05:37:07 PM)</font> <b>Lethalman:</b></font> maybe too many double quotes<br/>
<font color="#16569E"><font size="2">(05:38:46 PM)</font> <b>magnetophon:</b></font> Lethalman: The line looks OK in the store: CXX=/nix/store/2gjrvig5qwvsks6nixrm549w6fca1ybi-gcc-wrapper-4.8.3/bin/g++ &quot;-I /nix/store/5k8wx44anbs0mz7sh6rfyvgbdsa9asjg-faust-8-1-2015/include/&quot;<br/>
<font color="#A82F2F"><font size="2">(05:39:29 PM)</font> <b>Lethalman:</b></font> magnetophon, absolutely not<br/>
<font color="#16569E"><font size="2">(05:39:33 PM)</font> <b>magnetophon:</b></font> Lethalman: oh<br/>
<font color="#A82F2F"><font size="2">(05:39:34 PM)</font> <b>Lethalman:</b></font> magnetophon, those double quotes are wrong<br/>
<font color="#16569E"><font size="2">(05:41:25 PM)</font> <b>magnetophon:</b></font> Lethalman: when I try without double quotes, I get another error.  I think it's &quot; -I: command not found&quot;. I'll doublecheck if that's the correct error to go with the no-double-quotes version...<br/>
<font color="#A82F2F"><font size="2">(05:41:42 PM)</font> <b>Lethalman:</b></font> magnetophon, the double quote must be at the beginning<br/>
<font color="#A82F2F"><font size="2">(05:41:47 PM)</font> <b>Lethalman:</b></font> magnetophon, CXX=&quot;........................&quot;<br/>
<font color="#A82F2F"><font size="2">(05:41:52 PM)</font> <b>Lethalman:</b></font> one at the beginning, on at the end<br/>
<font color="#16569E"><font size="2">(05:42:03 PM)</font> <b>magnetophon:</b></font> Lethalman: ah, OK. Thanks<br/>
<font color="#A82F2F"><font size="2">(05:46:15 PM)</font> <b>Fuuzetsu:</b></font> I wish Hydra speeds didn&apos;t suck ass<br/>
<font color="#A82F2F"><font size="2">(05:46:28 PM)</font> <b>Fuuzetsu:</b></font> 500KB/s…<br/>
<font color="#A82F2F"><font size="2">(05:46:37 PM)</font> <b>Fuuzetsu:</b></font> with bursts to 1MB<br/>
<font color="#A82F2F"><font size="2">(05:51:16 PM)</font> <b>pmade:</b></font> After upgrading to 14.12 local pulseaudio clients can&apos;t connect to the local daemon.  I can run the daemon with -vvv and it looks like the clients aren&apos;t even trying to connect.<br/>
<font color="#A82F2F"><font size="2">(05:52:16 PM)</font> <b>goibhniu:</b></font> pmade: do you have anything in ~/.asoundrc ?<br/>
<font color="#A82F2F"><font size="2">(05:52:29 PM)</font> <b>Fuuzetsu:</b></font> did you reboot? updates often just completely screw it up<br/>
<font color="#A82F2F"><font size="2">(05:52:30 PM)</font> <b>pmade:</b></font> goibhniu: Nope.<br/>
<font color="#A82F2F"><font size="2">(05:52:40 PM)</font> <b>pmade:</b></font> Fuuzetsu: Yes, rebooted.<br/>
<font color="#A82F2F"><font size="2">(05:52:47 PM)</font> <b>goibhniu:</b></font> how about ~/.pulse ?<br/>
<font color="#A82F2F"><font size="2">(05:52:48 PM)</font> <b>Fuuzetsu:</b></font> ok, that&apos;s the help from me done ;P<br/>
<font color="#A82F2F"><font size="2">(05:53:15 PM)</font> <b>goibhniu:</b></font> ah, maybe it&apos;s actually ~/.config/pulse now<br/>
<font color="#A82F2F"><font size="2">(05:53:24 PM)</font> <b>pmade:</b></font> goibhniu: I do have stuff in ~/.config/pulse<br/>
<font color="#A82F2F"><font size="2">(05:53:39 PM)</font> <b>pmade:</b></font> Let me clear that out.<br/>
<font color="#A82F2F"><font size="2">(05:54:21 PM)</font> <b>goibhniu:</b></font> meh, that&apos;s probably not it<br/>
<font color="#A82F2F"><font size="2">(05:54:27 PM)</font> <b>pmade:</b></font> Yeah, that didn&apos;t help.<br/>
<font color="#A82F2F"><font size="2">(05:55:09 PM)</font> <b>pmade:</b></font> pavucontrol starts pulseaudio, but then hangs trying to connect to it.<br/>
<font color="#A82F2F"><font size="2">(05:55:24 PM)</font> <b>pmade:</b></font> And alsamixer dies with a connection refused.<br/>
<font color="#A82F2F"><font size="2">(05:55:28 PM)</font> <b>goibhniu:</b></font> does `lsof /dev/snd/*` should anything apart from pulseaudio?<br/>
<font color="#A82F2F"><font size="2">(05:55:51 PM)</font> <b>pmade:</b></font> goibhniu: No, nothing.<br/>
<font color="#A82F2F"><font size="2">(05:56:46 PM)</font> <b>pmade:</b></font> Is it possible that clients are looking at the wrong socket file or something?<br/>
<font color="#A82F2F"><font size="2">(05:57:04 PM)</font> <b>goibhniu:</b></font> ah, but it does should some pulseaudio stuff, right?<br/>
<font color="#A82F2F"><font size="2">(05:57:29 PM)</font> <b>pmade:</b></font> No, that lsof shows no output.<br/>
<font color="#A82F2F"><font size="2">(05:58:00 PM)</font> <b>goibhniu:</b></font> interesting, but pulseaudio is running?<br/>
<font size="2">(06:20:26 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
