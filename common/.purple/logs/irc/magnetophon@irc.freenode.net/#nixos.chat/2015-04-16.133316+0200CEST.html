<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Thu 16 Apr 2015 01:33:16 PM CEST on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Thu 16 Apr 2015 01:33:16 PM CEST on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(01:33:16 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(01:33:16 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(01:33:28 PM)</font> <b>realteh_:</b></font> are there any rules on what can go into the 14.12 branch?<br/>
<font color="#A82F2F"><font size="2">(01:33:36 PM)</font> <b>realteh_:</b></font> it seems people are still adding features<br/>
<font color="#A82F2F"><font size="2">(01:35:14 PM)</font> <b>Lethalman:</b></font> realteh_, yeah I don&apos;t like people adding features to 14.12<br/>
<font color="#A82F2F"><font size="2">(01:35:25 PM)</font> <b>Lethalman:</b></font> I only push bug fixes<br/>
<font color="#A82F2F"><font size="2">(01:36:10 PM)</font> <b>realteh_:</b></font> Lethalman, cool. I could not find any policy docs on that. Maybe we can write a small note?<br/>
<font color="#A82F2F"><font size="2">(01:36:49 PM)</font> <b>realteh_:</b></font> I had a few heart attacks where I thought I missed e.g. an nginx security update but it was just someone adding a feature<br/>
<font color="#A82F2F"><font size="2">(01:37:37 PM)</font> <b>qknight:</b></font> realteh_: is there any docs how this branches should be used and how to keep a stable system somewhere?<br/>
<font color="#A82F2F"><font size="2">(01:38:31 PM)</font> <b>realteh_:</b></font> qknight, not that I know of. I can only find http://nixos.org/nixpkgs/manual/#chap-contributing<br/>
<font color="#A82F2F"><font size="2">(01:38:48 PM)</font> <b>qknight:</b></font> realteh_: so how are you using it then?<br/>
<font color="#A82F2F"><font size="2">(01:39:21 PM)</font> <b>qknight:</b></font> srly? http://nixos.org/nixpkgs/manual/#chap-contributing has only 4 lines of docs... ;P<br/>
<font color="#A82F2F"><font size="2">(01:39:52 PM)</font> <b>realteh_:</b></font> qknight, we have a checkout of the stable branch and then set NIX_PATH=nixpkgs=PATH/TO/nixpkgs-stable before running nixops<br/>
<font color="#A82F2F"><font size="2">(01:40:11 PM)</font> <b>qknight:</b></font> realteh_: ok. thanks for your advice<br/>
<font color="#A82F2F"><font size="2">(01:40:39 PM)</font> <b>realteh_:</b></font> it&apos;s still a bit confusing because the server actually has a channel as well<br/>
<font size="2">(01:42:41 PM)</font><b> Kingsquee is now known as Kingsleep</b><br/>
<font color="#A82F2F"><font size="2">(01:43:01 PM)</font> <b>realteh_:</b></font> nixops uses the local channel to build the things you are pushing to the server but then runs the equivalent of nixos-rebuild switch on the server<br/>
<font color="#A82F2F"><font size="2">(01:43:01 PM)</font> <b>konobi:</b></font> qknight: not quite... i want to use alternate libraries with all nixos binaries<br/>
<font color="#A82F2F"><font size="2">(01:43:49 PM)</font> <b>konobi:</b></font> in this instance, it&apos;s an emulation layer<br/>
<font color="#A82F2F"><font size="2">(01:44:54 PM)</font> <b>realteh_:</b></font> qknight, we just ran into this issue because I was deploying against a stable 14.12 AMI but forgot to set the nix path. The exported configs didn&apos;t work with the older systemd<br/>
<font color="#A82F2F"><font size="2">(01:45:03 PM)</font> <b>realteh_:</b></font> qknight, and the system just freezes<br/>
<font color="#A82F2F"><font size="2">(01:45:44 PM)</font> <b>konobi:</b></font> (specifically, this is to try and get nixos working as an lx brand on smartos)<br/>
<font color="#062585"><font size="2">(01:49:47 PM)</font> <b>***Lethalman</b></font> getting a headache<br/>
<font color="#A82F2F"><font size="2">(01:49:57 PM)</font> <b>Lethalman:</b></font> the display-manager service doesn&apos;t have virtualbox lib path in LD_LIBRARY_PATh :S<br/>
<font color="#A82F2F"><font size="2">(01:50:47 PM)</font> <b>Lethalman:</b></font> should it be there?<br/>
<font color="#A82F2F"><font size="2">(01:50:57 PM)</font> <b>Lethalman:</b></font> because apparently X can&apos;t find the vbox driver<br/>
<font color="#A82F2F"><font size="2">(01:51:21 PM)</font> <b>Lethalman:</b></font> couldn&apos;t open module vboxvideo<br/>
<font color="#A82F2F"><font size="2">(01:51:26 PM)</font> <b>Lethalman:</b></font> maybe I should run with -verbose, let&apos;s see<br/>
<font color="#A82F2F"><font size="2">(01:51:41 PM)</font> <b>Lethalman:</b></font> oh well no, &quot;module does not exist&quot;.. mah<br/>
<font color="#A82F2F"><font size="2">(01:52:44 PM)</font> <b>realteh_:</b></font> garbas, I get all these errors like `error: avro3k-1.7.7-SNAPSHOT not supported for interpreter python2.6`<br/>
<font color="#A82F2F"><font size="2">(01:53:01 PM)</font> <b>realteh_:</b></font> garbas, I tried to remove some manually but that&apos;s not sustainable<br/>
<font color="#A82F2F"><font size="2">(01:53:07 PM)</font> <b>realteh_:</b></font> garbas, how did you deal with that?<br/>
<font color="#A82F2F"><font size="2">(01:53:17 PM)</font> <b>realteh_:</b></font> garbas, (context is still rebuilding all python)<br/>
<font color="#A82F2F"><font size="2">(01:54:38 PM)</font> <b>garbas:</b></font> realteh_: did you try `nox-review wip` as goibhniu suggested?<br/>
<font color="#A82F2F"><font size="2">(01:55:03 PM)</font> <b>realteh_:</b></font> garbas, not yet, apologies. let me try<br/>
<font color="#A82F2F"><font size="2">(01:59:21 PM)</font> <b>alex444:</b></font> Hi, is it true that MAC systems such as SELinux Apparmor and others cant work along with nix package manager and nix conf file? Is it harder to write rules for MAC systems in nixos?<br/>
<font color="#A82F2F"><font size="2">(02:00:20 PM)</font> <b>nicocbg:</b></font> hi, what is the recommended way to use hoogle and build documentation with nix ? are there any uptodate docs ?<br/>
<font color="#A82F2F"><font size="2">(02:00:44 PM)</font> <b>realteh_:</b></font> alex444, that&apos;s a fairly broad question, https://github.com/NixOS/nixpkgs/issues/7220 is a good starting point for security on nix (not a great story so far but going to be awesome real soon now)<br/>
<font color="#A82F2F"><font size="2">(02:00:52 PM)</font> <b>nicocbg:</b></font> with haskellng pipeline of course<br/>
<font color="#A82F2F"><font size="2">(02:06:33 PM)</font> <b>nicocbg:</b></font> ah, some recent discussion about this here https://github.com/NixOS/nixpkgs/pull/5908<br/>
<font color="#A82F2F"><font size="2">(02:15:15 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub closed pull request #7413: mu: 0.9.11 -&gt; 0.9.12 (master...mu_0_9_12) http://git.io/vvoFw<br/>
<font size="2">(02:15:46 PM)</font><b> catonano_ is now known as catonano</b><br/>
<font color="#A82F2F"><font size="2">(02:17:23 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub closed pull request #7409: git-and-tools/hub: 2.2.0-rc1 -&gt; 2.2.1 (master...hub-2.2.1) http://git.io/vvoqh<br/>
<font color="#A82F2F"><font size="2">(02:18:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 2 new commits to master: http://git.io/vvKwK<br/>
<font color="#A82F2F"><font size="2">(02:18:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 88b9578 John Chee: update lastpass-cli to version 0.5.1<br/>
<font color="#A82F2F"><font size="2">(02:18:40 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 138de6b Pascal Wittmann: Merge pull request #7396 from cheecheeo/lastpass_update...<br/>
<font color="#A82F2F"><font size="2">(02:21:07 PM)</font> <b>realteh_:</b></font> garbas, I tried `nox-review wip` but it suffers from the same issue: the nix expression evaluation fails. I guess I&apos;ll try sth like nix-env -qaP and a shell script to build each one in isolation<br/>
<font color="#A82F2F"><font size="2">(02:26:11 PM)</font> <b>statusfailed:</b></font> How can I give a regular user the ability to &quot;su&quot; ?<br/>
<font color="#A82F2F"><font size="2">(02:26:36 PM)</font> <b>statusfailed:</b></font> I haven&apos;t configured a password<br/>
<font color="#A82F2F"><font size="2">(02:26:39 PM)</font> <b>wmertens:</b></font> statusfailed: you give them the root password<br/>
<font color="#A82F2F"><font size="2">(02:26:52 PM)</font> <b>wmertens:</b></font> statusfailed: pretty sure you want to give them sudo instead<br/>
<font color="#A82F2F"><font size="2">(02:27:05 PM)</font> <b>statusfailed:</b></font> wmertens: s/&quot;su&quot;/become root/g :-)<br/>
<font color="#A82F2F"><font size="2">(02:27:33 PM)</font> <b>statusfailed:</b></font> wmertens: I thought adding to &quot;wheel&quot; group would work<br/>
<font color="#A82F2F"><font size="2">(02:28:16 PM)</font> <b>wmertens:</b></font> statusfailed: it should... is sudo enabled? https://nixos.org/nixos/manual/ch-options.html#opt-security.sudo.configFile<br/>
<font color="#A82F2F"><font size="2">(02:28:33 PM)</font> <b>wmertens:</b></font> and what happens when you type &quot;id&quot; on the cli?<br/>
<font color="#A82F2F"><font size="2">(02:28:43 PM)</font> <b>wmertens:</b></font> ...or groups<br/>
<font color="#A82F2F"><font size="2">(02:28:57 PM)</font> <b>wmertens:</b></font> might need to logout/login<br/>
<font color="#A82F2F"><font size="2">(02:29:05 PM)</font> <b>Dezgeg:</b></font> maybe &apos;security.sudo.wheelNeedsPassword = false;&apos; is required (if you really want zero passwords on the system)<br/>
<font color="#A82F2F"><font size="2">(02:29:33 PM)</font> <b>statusfailed:</b></font> wmertens: I am in &quot;wheel&quot; when I type &quot;id&quot;- the issue is that it asks for password when my user is configured with an ssh key only<br/>
<font color="#A82F2F"><font size="2">(02:29:47 PM)</font> <b>statusfailed:</b></font> is it a bad idea to set wheelNeedsPassword = false ?<br/>
<font color="#A82F2F"><font size="2">(02:29:50 PM)</font> <b>wmertens:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(02:29:56 PM)</font> <b>wmertens:</b></font> yes-ish<br/>
<font color="#A82F2F"><font size="2">(02:30:20 PM)</font> <b>statusfailed:</b></font> What would be the best thing to do? Configure a password? or is there a third option?<br/>
<font color="#A82F2F"><font size="2">(02:30:59 PM)</font> <b>wmertens:</b></font> statusfailed: maybe https://nixos.org/nixos/manual/ch-options.html#opt-security.pam.services._name__.sshAgentAuth<br/>
<font color="#A82F2F"><font size="2">(02:31:30 PM)</font> <b>statusfailed:</b></font> ooh<br/>
<font color="#A82F2F"><font size="2">(02:35:40 PM)</font> <b>garbas:</b></font> realteh_: you can filter on x.name (in my expression i send you)<br/>
<font color="#A82F2F"><font size="2">(02:36:38 PM)</font> <b>garbas:</b></font> where x.name is &quot;python2.6-BTrees-4.0.8&quot; for example<br/>
<font color="#A82F2F"><font size="2">(02:48:24 PM)</font> <b>statusfailed:</b></font> wmertens: having some trouble- I&apos;ve added that plus &quot;forwardXAuth&quot; and &quot;pam.enableSSHAgentAuth&quot;, but that doesn&apos;t seem to help<br/>
<font color="#A82F2F"><font size="2">(02:49:32 PM)</font> <b>wmertens:</b></font> statusfailed: sorry, I don<br/>
<font color="#A82F2F"><font size="2">(02:49:48 PM)</font> <b>wmertens:</b></font> &apos;t know how to use the pam sshagentauth stuff, I just noticed it<br/>
<font color="#A82F2F"><font size="2">(02:50:02 PM)</font> <b>statusfailed:</b></font> oh ok, i&apos;ll keep poking around!<br/>
<font color="#A82F2F"><font size="2">(02:50:09 PM)</font> <b>statusfailed:</b></font> thanks for pointing it out though, I never would have found it otherwise!<br/>
<font color="#A82F2F"><font size="2">(02:50:11 PM)</font> <b>wmertens:</b></font> statusfailed: good luck :)<br/>
<font color="#A82F2F"><font size="2">(02:50:14 PM)</font> <b>statusfailed:</b></font> cheers!!!<br/>
<font color="#A82F2F"><font size="2">(02:50:33 PM)</font> <b>wmertens:</b></font> statusfailed: do let me know how it works, interested myself<br/>
<font color="#A82F2F"><font size="2">(02:51:01 PM)</font> <b>statusfailed:</b></font> Might write a blog post if I get it to work :)<br/>
<font color="#A82F2F"><font size="2">(02:51:21 PM)</font> <b>statusfailed:</b></font> i&apos;ll make a note<br/>
