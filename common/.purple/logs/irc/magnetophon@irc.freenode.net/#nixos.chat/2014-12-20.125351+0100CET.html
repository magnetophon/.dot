<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Sat 20 Dec 2014 12:53:51 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Sat 20 Dec 2014 12:53:51 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(12:53:52 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(12:53:52 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(12:53:52 PM)</font> <b>morgan.freenode.net:</b></font> (notice) [freenode-info] channel flooding and no channel staff around to help? Please check with freenode support: http://freenode.net/faq.shtml#gettinghelp<br/>
<font color="#A82F2F"><font size="2">(12:54:02 PM)</font> <b>the_scourge:</b></font> i think i might just re-write the entire expression to use fetchgit instead of fetchurl, and pass a with-submodules to it, but of course that means that other packages can&apos;t use the dispersy library :(<br/>
<font color="#A82F2F"><font size="2">(12:54:24 PM)</font> <b>the_scourge:</b></font> which seems a shame considering they&apos;ve done the right thing and put their library into a separate repo for us<br/>
<font color="#A82F2F"><font size="2">(12:59:03 PM)</font> <b>goibhniu:</b></font> hi wmertens, do you have a link for the hangout already?<br/>
<font color="#A82F2F"><font size="2">(12:59:30 PM)</font> <b>wmertens:</b></font> maybe this works https://plus.google.com/hangouts/_/calendar/d291dC5tZXJ0ZW5zQGdtYWlsLmNvbQ.48v00n6pkmmhabikkidtu1fjes?authuser=0<br/>
<font color="#A82F2F"><font size="2">(01:02:31 PM)</font> <b>goibhniu:</b></font> yep, looks good<br/>
<font color="#A82F2F"><font size="2">(01:05:31 PM)</font> <b>the_scourge:</b></font> does anyone know a good vim syntax plugin for nix code?<br/>
<font color="#A82F2F"><font size="2">(01:15:57 PM)</font> <b>goibhniu:</b></font> hi guys, I can listen in and discuss it afterwards<br/>
<font color="#A82F2F"><font size="2">(01:16:08 PM)</font> <b>goibhniu:</b></font> on irc, or whatever<br/>
<font color="#A82F2F"><font size="2">(01:16:11 PM)</font> <b>wmertens:</b></font> goibhniu: oki<br/>
<font color="#A82F2F"><font size="2">(01:20:21 PM)</font> <b>goibhniu:</b></font> FTR, I do really like the idea of the challenge ... PR for a usb stick etc.<br/>
<font color="#A82F2F"><font size="2">(01:21:43 PM)</font> <b>goibhniu:</b></font> I also want to try to make some laser cut badges ... as swag<br/>
<font color="#A82F2F"><font size="2">(01:22:14 PM)</font> <b>goibhniu:</b></font> sorry about the technical difficulties :/ .... sounds like it&apos;s gonna be fun!<br/>
<font color="#A82F2F"><font size="2">(01:23:14 PM)</font> <b>mgrbyte:</b></font> Can anyone point me towards getting libmagic working on Nix?<br/>
<font color="#062585"><font size="2">(01:23:16 PM)</font> <b>***goibhniu</b></font> is using a netbook ... it doesn&apos;t seem to be able to handle hangouts <br/>
<font color="#A82F2F"><font size="2">(01:23:39 PM)</font> <b>goibhniu:</b></font> hi mgrbyte! ... what trouble are you having with it?<br/>
<font color="#A82F2F"><font size="2">(01:23:46 PM)</font> <b>mgrbyte:</b></font> hey :)<br/>
<font color="#A82F2F"><font size="2">(01:23:57 PM)</font> <b>mgrbyte:</b></font> finding it! :p<br/>
<font color="#A82F2F"><font size="2">(01:24:04 PM)</font> <b>goibhniu:</b></font> do you want to build a python module with it?<br/>
<font color="#A82F2F"><font size="2">(01:24:16 PM)</font> <b>wmertens:</b></font> goibhniu: no problem... going to write it up now<br/>
<font color="#A82F2F"><font size="2">(01:24:25 PM)</font> <b>goibhniu:</b></font> wmertens: great, thanks!<br/>
<font color="#A82F2F"><font size="2">(01:24:40 PM)</font> <b>mgrbyte:</b></font> i&apos;m looking at building python-magic, and it needs the system library &apos;libmagic&apos;, which I can&apos;t seem to locate a nix package for<br/>
<font color="#A82F2F"><font size="2">(01:25:08 PM)</font> <b>mgrbyte:</b></font> also, a bit confuzzled in gneral about where mimetypes come from :p<br/>
<font color="#A82F2F"><font size="2">(01:25:15 PM)</font> <b>goibhniu:</b></font> right, cool ... you can fiddle with some environment variables to do it in an unclean way<br/>
<font color="#A82F2F"><font size="2">(01:25:28 PM)</font> <b>goibhniu:</b></font> or make a development environment which sets that stuff up for you<br/>
<font color="#A82F2F"><font size="2">(01:25:33 PM)</font> <b>goibhniu:</b></font> or write a nix package<br/>
<font color="#A82F2F"><font size="2">(01:25:37 PM)</font> <b>mgrbyte:</b></font> sounds fine, at this point just trying to get some tests to pass<br/>
<font color="#A82F2F"><font size="2">(01:25:48 PM)</font> <b>mgrbyte:</b></font> looking for the quickest/easiest option<br/>
<font color="#A82F2F"><font size="2">(01:26:37 PM)</font> <b>mgrbyte:</b></font> goibhniu: don&apos;t suppose you have a url to hand with an example? ;P<br/>
<font color="#A82F2F"><font size="2">(01:26:40 PM)</font> <b>goibhniu:</b></font> packaging it might be the best way<br/>
<font color="#A82F2F"><font size="2">(01:26:50 PM)</font> <b>goibhniu:</b></font> https://nixos.org/wiki/Howto_develop_software_on_nixos explains the options for dev environments<br/>
<font color="#A82F2F"><font size="2">(01:27:03 PM)</font> <b>goibhniu:</b></font> but the easiest is something like<br/>
<font color="#A82F2F"><font size="2">(01:27:16 PM)</font> <b>goibhniu:</b></font> nix-shell -p python -p libmagic<br/>
<font color="#A82F2F"><font size="2">(01:27:41 PM)</font> <b>goibhniu:</b></font> which will drop you in a temporary shell with the libs on your path (I think)<br/>
<font color="#A82F2F"><font size="2">(01:27:49 PM)</font> <b>mgrbyte:</b></font> ah, i see. I think I&apos;d need to package the libmagic c stuff first<br/>
<font color="#A82F2F"><font size="2">(01:27:53 PM)</font> <b>goibhniu:</b></font> I haven&apos;t tried that with python c modules<br/>
<font color="#A82F2F"><font size="2">(01:27:55 PM)</font> <b>mgrbyte:</b></font> that&apos;s what&apos;s missing<br/>
<font color="#A82F2F"><font size="2">(01:27:59 PM)</font> <b>goibhniu:</b></font> really?<br/>
<font color="#A82F2F"><font size="2">(01:28:02 PM)</font> <b>mgrbyte:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(01:29:22 PM)</font> <b>goibhniu:</b></font> did you grep nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(01:29:37 PM)</font> <b>goibhniu:</b></font> sorry, I&apos;m on an old netbook here, I don&apos;t seem to have a clone<br/>
<font color="#A82F2F"><font size="2">(01:29:38 PM)</font> <b>mgrbyte:</b></font> https://github.com/NixOS/nixpkgs/blob/master/pkgs/top-level/python-packages.nix<br/>
<font color="#A82F2F"><font size="2">(01:29:47 PM)</font> <b>mgrbyte:</b></font> I see, it seems to compile from source<br/>
<font color="#A82F2F"><font size="2">(01:30:12 PM)</font> <b>mgrbyte:</b></font> and I&apos;m using a venv<br/>
<font color="#A82F2F"><font size="2">(01:30:28 PM)</font> <b>goibhniu:</b></font> are you on nixos?<br/>
<font color="#A82F2F"><font size="2">(01:30:31 PM)</font> <b>mgrbyte:</b></font> so probably need to fiddle with point venv build to nix package<br/>
<font color="#A82F2F"><font size="2">(01:30:33 PM)</font> <b>mgrbyte:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(01:30:50 PM)</font> <b>goibhniu:</b></font> when you create a venv, be sure to specify the python version<br/>
<font color="#A82F2F"><font size="2">(01:31:07 PM)</font> <b>goibhniu:</b></font> if affects the way the venv is set up, and works better on nixos<br/>
<font color="#A82F2F"><font size="2">(01:31:19 PM)</font> <b>mgrbyte:</b></font> i usually do: virtualenv -p $(which pythonX.X) env<br/>
<font color="#A82F2F"><font size="2">(01:31:26 PM)</font> <b>goibhniu:</b></font> ah, good<br/>
<font color="#A82F2F"><font size="2">(01:31:36 PM)</font> <b>mgrbyte:</b></font> in this case,3.4<br/>
<font color="#A82F2F"><font size="2">(01:32:27 PM)</font> <b>goibhniu:</b></font> you might need to fiddle with C_INCLUDE_PATH and LIBRARY_PATH, there are examples in that wiki page<br/>
<font color="#062585"><font size="2">(01:32:35 PM)</font> <b>***goibhniu</b></font> has to go ... good luck!<br/>
<font color="#A82F2F"><font size="2">(01:32:42 PM)</font> <b>mgrbyte:</b></font> yep, i needed to so similar for zope c stuff<br/>
<font color="#A82F2F"><font size="2">(01:32:49 PM)</font> <b>mgrbyte:</b></font> tara, thanks!<br/>
