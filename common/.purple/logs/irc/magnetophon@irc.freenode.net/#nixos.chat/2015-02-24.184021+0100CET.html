<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Tue 24 Feb 2015 06:40:21 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Tue 24 Feb 2015 06:40:21 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(06:40:21 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(06:40:21 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(06:42:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 1 new commit to master: http://git.io/ASq6<br/>
<font color="#A82F2F"><font size="2">(06:42:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 3facd6b Eelco Dolstra: sqlite: Update to 3.8.7.4<br/>
<font color="#A82F2F"><font size="2">(06:44:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 1 new commit to release-14.12: http://git.io/ASmo<br/>
<font color="#A82F2F"><font size="2">(06:44:37 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 0902cfe lethalman: Merge pull request #6552 from nslqqq/master...<br/>
<font color="#A82F2F"><font size="2">(06:45:28 PM)</font> <b>jedai:</b></font> I tried start display-manager in my root session and now the status ends up with &quot;Started X11 Server&quot; but Ctrl+Alt+F7 still doesn&apos;t bring me to a graphic session ? Is there something else I&apos;m missing ?<br/>
<font color="#A82F2F"><font size="2">(06:45:53 PM)</font> <b>xplat:</b></font> so nix-copy-closure doesn&apos;t seem to work on single-user nix installations<br/>
<font color="#A82F2F"><font size="2">(06:46:41 PM)</font> <b>xplat:</b></font> it doesn&apos;t appear to use a shell to execute git-store on the target machine<br/>
<font color="#A82F2F"><font size="2">(06:46:56 PM)</font> <b>xplat:</b></font> which means git-store is not on the path<br/>
<font color="#A82F2F"><font size="2">(06:47:27 PM)</font> <b>Lethalman:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(06:47:32 PM)</font> <b>Lethalman:</b></font> nix-copy-closure uses ssh<br/>
<font color="#A82F2F"><font size="2">(06:47:34 PM)</font> <b>Lethalman:</b></font> isn&apos;t it?<br/>
<font color="#A82F2F"><font size="2">(06:47:40 PM)</font> <b>Lethalman:</b></font> I use it often<br/>
<font color="#A82F2F"><font size="2">(06:47:54 PM)</font> <b>Lethalman:</b></font> you mean nix-store?<br/>
<font color="#A82F2F"><font size="2">(06:48:02 PM)</font> <b>xplat:</b></font> it uses ssh, but ssh with a command given does not run the command through a shell<br/>
<font color="#A82F2F"><font size="2">(06:48:08 PM)</font> <b>xplat:</b></font> yeah, i meant nix-store<br/>
<font color="#A82F2F"><font size="2">(06:48:15 PM)</font> <b>Lethalman:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(06:49:16 PM)</font> <b>xplat:</b></font> there seems to be no reliable way to set PATH that is visible to sshd&apos;s command processing<br/>
<font color="#A82F2F"><font size="2">(06:49:58 PM)</font> <b>xplat:</b></font> there are ways, but all of them are turned off by default on most debian-based distros as a security measure<br/>
<font color="#A82F2F"><font size="2">(06:50:27 PM)</font> <b>xplat:</b></font> (e.g. ssh user environments, .pam_environment)<br/>
<font size="2">(06:50:38 PM)</font><b> jedai left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(06:50:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 2 new commits to master: http://git.io/ASsK<br/>
<font color="#A82F2F"><font size="2">(06:50:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 843f21f Eelco Dolstra: nss: Update to 3.17.4<br/>
<font color="#A82F2F"><font size="2">(06:50:41 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8196962 Eelco Dolstra: firefox: Update to 36.0<br/>
<font size="2">(06:51:25 PM)</font><b> goibhniu left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(06:52:00 PM)</font> <b>xplat:</b></font> so nix-copy-closure needs to either explicitly use a shell to invoke nix-store or allow setting a full pathname for the nix-store command to be used<br/>
<font size="2">(06:53:32 PM)</font><b> jedai [<em>~jedai@ARouen-651-1-491-107.w92-132.abo.wanadoo.fr</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:54:01 PM)</font> <b>pierron:</b></font> niksnut: https://bugzilla.mozilla.org/show_bug.cgi?id=1136240 ;)<br/>
<font color="#A82F2F"><font size="2">(06:54:08 PM)</font> <b>pierron:</b></font> niksnut: Thanks :)<br/>
<font size="2">(06:59:13 PM)</font><b> MichaelRaskin [<em>~MichaelRa@195.91.224.161</em>] entered the room.</b><br/>
<font size="2">(07:04:00 PM)</font><b> Lethalman left the room (quit: Quit: Sto andando via).</b><br/>
<font color="#A82F2F"><font size="2">(07:04:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 2 new commits to master: http://git.io/AS8j<br/>
<font color="#A82F2F"><font size="2">(07:04:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 48add86 Pascal Wittmann: groovy: update homepage<br/>
<font color="#A82F2F"><font size="2">(07:04:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c639b83 Pascal Wittmann: groovy: update from 2.4.0 to 2.4.1<br/>
<font color="#A82F2F"><font size="2">(07:29:31 PM)</font> <b>joelmo:</b></font> the mirrors for chromium is not working well<br/>
<font color="#A82F2F"><font size="2">(07:37:12 PM)</font> <b>Szna:</b></font> So... I have two Linux partitions. How can I configure NixS to setup Grub for both? Right now, I can only boot into NixOS, but that&apos;s likely because I didn&apos;t edit my configuration.nix to include the other partition, right?<br/>
<font color="#A82F2F"><font size="2">(07:38:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor pushed 1 new commit to release-14.12: http://git.io/ASPr<br/>
<font color="#A82F2F"><font size="2">(07:38:47 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 4b67cdf Bjørn Forsman: xclip: set meta.platforms...<br/>
<font color="#A82F2F"><font size="2">(07:43:01 PM)</font> <b>avn:</b></font> Hmm, are possible to update util-linux, w/o triggering mass-rebuild?<br/>
<font color="#A82F2F"><font size="2">(07:52:47 PM)</font> <b>Fuuzetsu:</b></font> not unless you do a dirty hack<br/>
<font size="2">(07:55:28 PM)</font><b> suvash is now known as suvash_away</b><br/>
<font color="#A82F2F"><font size="2">(08:18:28 PM)</font> <b>ktosiek:</b></font> avn: there is a way, but it&apos;s only meant to be used for quick security updates<br/>
<font color="#A82F2F"><font size="2">(08:20:12 PM)</font> <b>ktosiek:</b></font> but for those (hopefully rare) cases there&apos;s https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/replace-dependency.nix<br/>
<font color="#A82F2F"><font size="2">(08:22:52 PM)</font> <b>avn:</b></font> ktosiek: well, installing to user&apos;s profile not rebuild everything, and it enought for me (I need updated logger utility only)<br/>
<font color="#A82F2F"><font size="2">(08:23:16 PM)</font> <b>ktosiek:</b></font> oh, ok :-)<br/>
<font color="#A82F2F"><font size="2">(08:23:45 PM)</font> <b>avn:</b></font> But would be nice, if it will be updated in staging, to have one mass-rebuild lesser ;)<br/>
<font color="#A82F2F"><font size="2">(08:27:50 PM)</font> <b>ktosiek:</b></font> but I do still wonder how security fixes (like the glibc one) are handled in big production environments<br/>
<font color="#A82F2F"><font size="2">(08:28:17 PM)</font> <b>ktosiek:</b></font> upgrading everything with replace-dependency, and then waiting for a full rebuild?<br/>
<font color="#A82F2F"><font size="2">(08:30:09 PM)</font> <b>avn:</b></font> ktosiek: full rebuild is a few hours if you have 40-cores builder ;)<br/>
<font color="#A82F2F"><font size="2">(08:30:45 PM)</font> <b>Cyphus:</b></font> Anyone in this channel live near Pasadena California who is willing to give a talk about NixOS to the San Gabriel Valley Linux Users Group (SGVLUG)?<br/>
<font color="#A82F2F"><font size="2">(08:32:38 PM)</font> <b>ktosiek:</b></font> yeah, it&apos;s still a few hours for a pretty urgent fix<br/>
<font color="#A82F2F"><font size="2">(08:33:28 PM)</font> <b>avn:</b></font> ktosiek: usually, pretty urgent fixes are for bugs, which live for years ;)<br/>
<font color="#A82F2F"><font size="2">(08:33:49 PM)</font> <b>ktosiek:</b></font> yes, but they get more urgent the moment CVE gets published<br/>
<font color="#A82F2F"><font size="2">(08:34:33 PM)</font> <b>ktosiek:</b></font> (I mean, high-profile sites might worry about zero-days, most of the internet worries about fresh releases)<br/>
<font size="2">(08:35:49 PM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:40:40 PM)</font> <b>wkennington:</b></font> Avn: ask goodwill<br/>
<font color="#A82F2F"><font size="2">(08:40:48 PM)</font> <b>wkennington:</b></font> Avn: he is probably the closest<br/>
<font color="#A82F2F"><font size="2">(08:40:58 PM)</font> <b>wkennington:</b></font> Oh crap sorry<br/>
<font color="#A82F2F"><font size="2">(08:41:14 PM)</font> <b>wkennington:</b></font> Cyphus: ask goodwill<br/>
<font color="#A82F2F"><font size="2">(08:41:43 PM)</font> <b>wkennington:</b></font> He should be close enough and might be willing<br/>
<font color="#A82F2F"><font size="2">(08:41:52 PM)</font> <b>Cyphus:</b></font> thanks wkennington<br/>
<font size="2">(08:43:48 PM)</font><b> ``````` is now known as sivteck</b><br/>
<font color="#A82F2F"><font size="2">(08:43:49 PM)</font> <b>wkennington:</b></font> Cyphus: He&apos;s somewhere in the LA area<br/>
<font color="#A82F2F"><font size="2">(08:44:00 PM)</font> <b>wkennington:</b></font> Avail<br/>
<font color="#A82F2F"><font size="2">(08:47:53 PM)</font> <b>offlinehacker:</b></font> any network expert here?<br/>
<font color="#A82F2F"><font size="2">(08:47:58 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington closed pull request #6422: libinput: refactor &amp; add optional dependencies (master...libinput) http://git.io/Aed6<br/>
<font color="#A82F2F"><font size="2">(08:48:32 PM)</font> <b>NewToNixos:</b></font> Hi, how can I install a language pack for KDE? Cannot find it anywhere. I searched everywhere and I am stuck now.<br/>
<font color="#A82F2F"><font size="2">(08:48:53 PM)</font> <b>ktosiek:</b></font> offlinehacker: ask the question, maybe someone knows<br/>
<font color="#A82F2F"><font size="2">(08:49:36 PM)</font> <b>Fuuzetsu:</b></font> offlinehacker: you&apos;re offlinehacker, you should have 0 networking problems!<br/>
<font color="#062585"><font size="2">(08:49:46 PM)</font> <b>***ktosiek</b></font> waited for that joke<br/>
<font color="#A82F2F"><font size="2">(08:50:01 PM)</font> <b>offlinehacker:</b></font> kini: well i want to test linux routing and iptables rules and i can&apos;t test it from remote machine, so i want to generate packets on speciffied interfaces<br/>
<font color="#A82F2F"><font size="2">(08:50:02 PM)</font> <b>Fuuzetsu:</b></font> ktosiek: I have waited since day 1 I came here ;P<br/>
<font color="#A82F2F"><font size="2">(08:50:11 PM)</font> <b>kini:</b></font> offlinehacker: I see<br/>
<font color="#A82F2F"><font size="2">(08:51:06 PM)</font> <b>offlinehacker:</b></font> ups wrong nick<br/>
<font color="#A82F2F"><font size="2">(08:51:14 PM)</font> <b>offlinehacker:</b></font> ktosiek: question above<br/>
<font color="#A82F2F"><font size="2">(08:51:42 PM)</font> <b>wkennington:</b></font> There is a framework for that<br/>
<font color="#A82F2F"><font size="2">(08:51:52 PM)</font> <b>wkennington:</b></font> Why not make a VM test for it?<br/>
<font color="#A82F2F"><font size="2">(08:52:06 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] avnik opened pull request #6553: Update util-linux to 2.26 (staging...update-util-linux) http://git.io/A9lK<br/>
<font color="#A82F2F"><font size="2">(08:52:29 PM)</font> <b>offlinehacker:</b></font> wkennington: well i can&apos;t, i&apos;m deploying nixos on some ubuntu lxc container<br/>
<font color="#A82F2F"><font size="2">(08:52:34 PM)</font> <b>wkennington:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(08:52:45 PM)</font> <b>offlinehacker:</b></font> wkennington: i tried scapy for network generation<br/>
<font color="#A82F2F"><font size="2">(08:52:57 PM)</font> <b>offlinehacker:</b></font> i generate packets on correct interface<br/>
<font color="#A82F2F"><font size="2">(08:53:04 PM)</font> <b>offlinehacker:</b></font> i can see in tcpdump<br/>
<font color="#A82F2F"><font size="2">(08:53:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/A98q<br/>
<font color="#A82F2F"><font size="2">(08:53:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 51b7fe5 William A. Kennington III: libinput: 0.10 -&gt; 0.11<br/>
<font color="#A82F2F"><font size="2">(08:53:17 PM)</font> <b>offlinehacker:</b></font> but kernel does not respond to SYN TCP<br/>
<font color="#A82F2F"><font size="2">(08:53:37 PM)</font> <b>wkennington:</b></font> Weird<br/>
<font color="#A82F2F"><font size="2">(08:53:45 PM)</font> <b>offlinehacker:</b></font> wkennington: do you know which kernel options are relevant, i assume this is some kind of spoofing security<br/>
<font color="#A82F2F"><font size="2">(08:54:04 PM)</font> <b>offlinehacker:</b></font> i already disabled rp_filter, no success<br/>
<font color="#A82F2F"><font size="2">(08:54:24 PM)</font> <b>wkennington:</b></font> Did you remove the rp filtering rules on the raw table?<br/>
<font color="#A82F2F"><font size="2">(08:54:36 PM)</font> <b>wkennington:</b></font> And make sure the sysctl is off<br/>
<font color="#A82F2F"><font size="2">(08:54:49 PM)</font> <b>offlinehacker:</b></font> wkennington: raw table? i did remove them with sysctl<br/>
<font color="#A82F2F"><font size="2">(08:55:01 PM)</font> <b>offlinehacker:</b></font> just for purpose of testing<br/>
<font color="#A82F2F"><font size="2">(08:57:14 PM)</font> <b>wkennington:</b></font> Iptables -t raw -L<br/>
<font color="#A82F2F"><font size="2">(08:57:36 PM)</font> <b>wkennington:</b></font> If you have source filtering rules you might need to remove them<br/>
<font color="#A82F2F"><font size="2">(08:58:28 PM)</font> <b>offlinehacker:</b></font> iptables rules already flushed<br/>
<font color="#062585"><font size="2">(08:58:32 PM)</font> <b>***pierron</b></font> discovered git-crypt ( https://www.agwa.name/projects/git-crypt/ )<br/>
<font color="#A82F2F"><font size="2">(08:58:52 PM)</font> <b>pierron:</b></font> I think I will use that for my configuration repositories now :)<br/>
<font color="#A82F2F"><font size="2">(08:59:08 PM)</font> <b>offlinehacker:</b></font> wkennington: what real question is, is it possible to generate packets destinated to local interfaces with spoofed source ip<br/>
<font color="#A82F2F"><font size="2">(08:59:31 PM)</font> <b>offlinehacker:</b></font> pierron: i use it too :)<br/>
<font color="#A82F2F"><font size="2">(08:59:38 PM)</font> <b>wkennington:</b></font> Offlinehack: but if you dont flush that table it won&apos;t be flushed<br/>
<font color="#A82F2F"><font size="2">(09:00:37 PM)</font> <b>offlinehacker:</b></font> wkennington: i did flushing, still no fun<br/>
<font color="#A82F2F"><font size="2">(09:00:53 PM)</font> <b>offlinehacker:</b></font> i can see SYN, but no SYN ACK, and service is listening<br/>
<font color="#A82F2F"><font size="2">(09:05:51 PM)</font> <b>wkennington:</b></font> Weird<br/>
<font color="#A82F2F"><font size="2">(09:07:59 PM)</font> <b>lseppala:</b></font> wkennington: is the goal for network-interfaces-systemd and -scripted to keep them feature-congruent, or do you imagine moving to networkd by default?<br/>
<font color="#A82F2F"><font size="2">(09:08:26 PM)</font> <b>lseppala:</b></font> &quot;no real plans&quot; totally an acceptable answer :)<br/>
<font color="#A82F2F"><font size="2">(09:08:47 PM)</font> <b>lseppala:</b></font> asking for some infra decisions at work<br/>
<font color="#A82F2F"><font size="2">(09:08:56 PM)</font> <b>avn:</b></font> JagaJaga: I fixed yesterday&apos;s build problems, but now travis fail on some very unrelated stuff, possible by timeout<br/>
<font color="#A82F2F"><font size="2">(09:09:19 PM)</font> <b>JagaJaga:</b></font> avn: build problem of a perl pkg?<br/>
<font color="#A82F2F"><font size="2">(09:10:46 PM)</font> <b>avn:</b></font> JagaJaga: yep, as I suspected, it wanted ModulePluggable in build dependedncies, starting from PerlAlienWx<br/>
<font color="#A82F2F"><font size="2">(09:11:29 PM)</font> <b>avn:</b></font> JagaJaga: https://travis-ci.org/NixOS/nixpkgs/builds/52032308 this is build timeout, or some other failure?<br/>
<font color="#A82F2F"><font size="2">(09:13:37 PM)</font> <b>JagaJaga:</b></font> avn: seems to<br/>
<font color="#A82F2F"><font size="2">(09:14:28 PM)</font> <b>JagaJaga:</b></font> Please, to be definitely sure, build it locally? You can use nox to do it (like travis does)<br/>
<font color="#A82F2F"><font size="2">(09:16:34 PM)</font> <b>avn:</b></font> JagaJaga:  nox-review pr 6499?<br/>
<font color="#A82F2F"><font size="2">(09:18:37 PM)</font> <b>JagaJaga:</b></font> avn: yup<br/>
<font color="#A82F2F"><font size="2">(09:19:06 PM)</font> <b>avn:</b></font> JagaJaga: this also would work for staging, w/o world-rebuild locally?<br/>
<font color="#A82F2F"><font size="2">(09:21:31 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to master: http://git.io/A9iW<br/>
<font color="#A82F2F"><font size="2">(09:21:31 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master f799749 Vladimír Čunát: vimPlugins.Syntastic: fix fetchgit hash...<br/>
<font size="2">(09:24:07 PM)</font><b> suvash_away is now known as suvash</b><br/>
<font color="#A82F2F"><font size="2">(09:24:31 PM)</font> <b>JagaJaga:</b></font> madjar: ^<br/>
<font color="#A82F2F"><font size="2">(09:24:42 PM)</font> <b>JagaJaga:</b></font> madjar: I&apos;m not into nox, help avn<br/>
<font color="#A82F2F"><font size="2">(09:27:57 PM)</font> <b>avn:</b></font> I feel myself a travis-ci ;) And my cpu cores now heat my room ;)<br/>
<font color="#A82F2F"><font size="2">(09:29:42 PM)</font> <b>JagaJaga:</b></font> avn: cook yourself something :D<br/>
<font color="#A82F2F"><font size="2">(09:30:09 PM)</font> <b>c74d:</b></font> How might I check whether Nix has pre-built packages for something?<br/>
<font color="#A82F2F"><font size="2">(09:30:49 PM)</font> <b>avn:</b></font> JagaJaga: yep, amd cores good for cooking ;)<br/>
<font size="2">(09:31:33 PM)</font><b> pmahoney [<em>~user@50.57.17.244</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(09:31:42 PM)</font> <b>c74d:</b></font> Alternatively, how might I force Nix to use only pre-built packages?<br/>
<font color="#A82F2F"><font size="2">(09:32:07 PM)</font> <b>Haskellfant:</b></font> --prebuild-only<br/>
<font color="#A82F2F"><font size="2">(09:32:11 PM)</font> <b>Haskellfant:</b></font> or -b for short<br/>
<font color="#A82F2F"><font size="2">(09:32:31 PM)</font> <b>c74d:</b></font> &quot;prebuild&quot;, or &quot;prebuilt&quot;?<br/>
<font color="#A82F2F"><font size="2">(09:33:07 PM)</font> <b>Haskellfant:</b></font> prebuild<br/>
<font color="#A82F2F"><font size="2">(09:33:16 PM)</font> <b>Haskellfant:</b></font> at least that&apos;s what the manpage of nix-env says<br/>
<font color="#A82F2F"><font size="2">(09:33:32 PM)</font> <b>c74d:</b></font> Okay, thanks.<br/>
<font color="#A82F2F"><font size="2">(09:36:49 PM)</font> <b>c74d:</b></font> `nix-env -iAb &lt;package&gt;` fails silently (including having exit status code 0) if no pre-built &lt;package&gt; is available?<br/>
