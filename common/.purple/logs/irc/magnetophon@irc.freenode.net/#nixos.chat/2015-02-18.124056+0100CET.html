<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Wed 18 Feb 2015 12:40:56 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Wed 18 Feb 2015 12:40:56 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(12:40:56 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(12:40:56 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(12:41:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nix] edolstra pushed 1 new commit to master: http://git.io/Afez<br/>
<font color="#A82F2F"><font size="2">(12:41:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nix/master bb10010 Eelco Dolstra: Fix nix-shell shebang scripts if -p is used<br/>
<font color="#A82F2F"><font size="2">(12:41:49 PM)</font> <b>Lethalman:</b></font> damn right, it doesn&apos;t take into account propagated build inputs<br/>
<font color="#A82F2F"><font size="2">(12:41:53 PM)</font> <b>Lethalman:</b></font> better write a derivation, ok :)<br/>
<font color="#A82F2F"><font size="2">(12:42:34 PM)</font> <b>iElectric:</b></font> yeah, it&apos;s cheaper ;)<br/>
<font color="#062585"><font size="2">(12:43:50 PM)</font> <b>***goibhniu</b></font> uses pkgs.python27Full.buildEnv.override to configure a python to have access to additional libraries<br/>
<font color="#16569E"><font size="2">(12:45:51 PM)</font> <b>magnetophon:</b></font> I've made a pkg of a fork of mutt, and I think maybe it should be integrated with the mutt pkg, as it changes very little. I just have no idea how. https://github.com/magnetophon/nixpkgs/blob/mutt-kz-14.12/pkgs/applications/networking/mailreaders/mutt-kz/default.nix <br/>
<font color="#16569E"><font size="2">(12:47:14 PM)</font> <b>magnetophon:</b></font> (I've looked for an online diff util, but none let me link to the result, and github doesn't diff arbitrary files, afaik...)<br/>
<font color="#16569E"><font size="2">(12:47:48 PM)</font> <b>magnetophon:</b></font> the-kenny: what do you think?  ^^<br/>
<font color="#A82F2F"><font size="2">(12:48:47 PM)</font> <b>the-kenny:</b></font> magnetophon: move it to the mutt folder, rename it to mutt-kz, add another attribute to all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(12:48:56 PM)</font> <b>the-kenny:</b></font> and try to see if you can share code between both packages<br/>
<font color="#16569E"><font size="2">(12:49:40 PM)</font> <b>magnetophon:</b></font> the-kenny: do you know of any example pkgs I could use to learn how to share code?<br/>
<font size="2">(12:50:06 PM)</font><b> c74d is now known as Guest60144</b><br/>
<font color="#16569E"><font size="2">(01:03:37 PM)</font> <b>magnetophon:</b></font> I've been browsing trough nixpkgs, looking for directory's with multiple .nix expressions in them, but none that I've found so far share any code.<br/>
<font color="#16569E"><font size="2">(01:03:55 PM)</font> <b>magnetophon:</b></font> I'd love to learn how to do this though...<br/>
<font color="#A82F2F"><font size="2">(01:04:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 1 new commit to master: http://git.io/AfLc<br/>
<font color="#A82F2F"><font size="2">(01:04:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4ac280e Eelco Dolstra: Blacklist the nouveau driver on EC2<br/>
<font color="#062585"><font size="2">(01:12:28 PM)</font> <b>***Lethalman</b></font> confused by consul on nixos<br/>
<font color="#A82F2F"><font size="2">(01:12:31 PM)</font> <b>Lethalman:</b></font> it only has the agent<br/>
<font color="#A82F2F"><font size="2">(01:12:35 PM)</font> <b>Lethalman:</b></font> but how do I configure the server? :S<br/>
<font color="#A82F2F"><font size="2">(01:18:26 PM)</font> <b>ikwildrpepper:</b></font> Lethalman: didn&apos;t offlinehacker make that?<br/>
<font color="#A82F2F"><font size="2">(01:18:30 PM)</font> <b>Lethalman:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(01:18:33 PM)</font> <b>ikwildrpepper:</b></font> perhaps ping him :)<br/>
<font color="#A82F2F"><font size="2">(01:18:55 PM)</font> <b>offlinehacker:</b></font> Lethalman: ?<br/>
<font color="#A82F2F"><font size="2">(01:19:01 PM)</font> <b>Lethalman:</b></font> offlinehacker, trying to understand consul :P<br/>
<font color="#A82F2F"><font size="2">(01:19:31 PM)</font> <b>Lethalman:</b></font> offlinehacker, there&apos;s no server nixos module? I&apos;ve enabled the agent on all my containers<br/>
<font color="#A82F2F"><font size="2">(01:23:17 PM)</font> <b>Lethalman:</b></font> oh wait<br/>
<font color="#A82F2F"><font size="2">(01:23:22 PM)</font> <b>Lethalman:</b></font> I have to enable the agent also on the host<br/>
<font color="#16569E"><font size="2">(01:25:11 PM)</font> <b>magnetophon:</b></font> the-kenny: OK, I moved it inside mutt. Would a PR make sense now?  I commented out the SideBar patch references, as those are included in the source of mutt-kz by default, but I left in  those comments, so that mutt and mutt-kz can more easily be merged by someone more knowledgeable.<br/>
<font color="#16569E"><font size="2">(01:25:14 PM)</font> <b>magnetophon:</b></font> https://github.com/magnetophon/nixpkgs/blob/mutt-kz-14.12/pkgs/applications/networking/mailreaders/mutt/mutt-kz.nix<br/>
<font color="#A82F2F"><font size="2">(01:34:41 PM)</font> <b>jimstutt:</b></font> how can I find the broadcom-sta nxipkg for my wifif; nix-env -qaP &apos;*&apos;|grep broadcom-sta shows nothing?<br/>
<font color="#A82F2F"><font size="2">(01:37:47 PM)</font> <b>kmicu:</b></font> jimstutt: set ‘allowUnfree’ to ‘true’ in your ~/.nixpkgs/config.nix<br/>
<font color="#A82F2F"><font size="2">(01:39:22 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] psibi opened pull request #6431: new package: pybcrypt (master...new-python-sibi-patch) http://git.io/Afcz<br/>
<font color="#062585"><font size="2">(01:40:48 PM)</font> <b>***Lethalman</b></font> getting a headache<br/>
<font color="#A82F2F"><font size="2">(01:41:28 PM)</font> <b>kmicu:</b></font> (Too many nix pills)<br/>
<font color="#A82F2F"><font size="2">(01:44:02 PM)</font> <b>DanielJour:</b></font> Hi ... I&apos;m trying to install llvm alongside clang (in the same env), but there is a collision between two files (libclang_rt.asan-x86_64.a). nix tells me that I could set the priority of one of the packages to solve that. Has anyone else this issue and does changing the priority (and thus using one of the -- not identical -- libraries) lead to any errors?<br/>
<font color="#A82F2F"><font size="2">(01:46:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar opened pull request #6432: Regenerate R modules and update mirrors (master...r-update) http://git.io/Aflq<br/>
<font color="#A82F2F"><font size="2">(01:49:22 PM)</font> <b>DanielJour:</b></font> ... and: what do I need to specify the package name for nix-env --set-flag priority NUMBER PACKAGE?<br/>
<font color="#A82F2F"><font size="2">(01:50:39 PM)</font> <b>Lethalman:</b></font> offlinehacker, if I have N agents and 1 server, do the N agents still have to talk each other?<br/>
<font color="#A82F2F"><font size="2">(01:50:49 PM)</font> <b>Lethalman:</b></font> I&apos;ve setup N nixos containers with private addresses<br/>
<font color="#A82F2F"><font size="2">(01:50:55 PM)</font> <b>Lethalman:</b></font> not sure if that&apos;s correct at this point<br/>
<font color="#A82F2F"><font size="2">(01:51:01 PM)</font> <b>Lethalman:</b></font> seems like consul doesn&apos;t work well<br/>
<font color="#A82F2F"><font size="2">(01:51:24 PM)</font> <b>Lethalman:</b></font> the host is with service_mode = &quot;server&quot;<br/>
<font color="#A82F2F"><font size="2">(01:52:15 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar opened pull request #6433: rpcbind: update and adopt (master...rpcbind) http://git.io/Af4g<br/>
<font color="#A82F2F"><font size="2">(01:54:50 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar opened pull request #6434: bundler: fix hash (master...bundler-checksum) http://git.io/AfBa<br/>
<font color="#A82F2F"><font size="2">(01:55:41 PM)</font> <b>Lethalman:</b></font> it&apos;s a mess<br/>
<font size="2">(01:58:58 PM)</font><b> boegel|afk is now known as boegel</b><br/>
<font color="#A82F2F"><font size="2">(01:59:50 PM)</font> <b>Lethalman:</b></font> it might be an udp problem with systemd-nspawn though<br/>
<font color="#A82F2F"><font size="2">(02:05:36 PM)</font> <b>Lethalman:</b></font> daaaamn it<br/>
<font color="#A82F2F"><font size="2">(02:05:42 PM)</font> <b>Lethalman:</b></font> I was looking at the wrong documentation, maybe old<br/>
<font color="#A82F2F"><font size="2">(02:05:42 PM)</font> <b>Lethalman:</b></font> sigh<br/>
<font color="#A82F2F"><font size="2">(02:09:10 PM)</font> <b>jimstutt:</b></font> kmicu: I suck allowUnfree = true;  in the &apos;pkgs:{&apos; section of my ~/nixpkgs/config.nix just before &apos;packageOverrides = {&apos;; I already has allowUnfree = true; in my configuration.nix and I can find a broadcom-sta in my &apos;~/nixpkgs/...&apos; store. Still no matching derivation.<br/>
<font color="#A82F2F"><font size="2">(02:09:45 PM)</font> <b>jimstutt:</b></font> kmicu: rotten typo s/suck/stuck/, sorry<br/>
<font color="#A82F2F"><font size="2">(02:10:41 PM)</font> <b>kmicu:</b></font> jimstutt: Put ‘allowUnfree = true;’ after first { in your config.nix.<br/>
<font color="#A82F2F"><font size="2">(02:11:19 PM)</font> <b>Lethalman:</b></font> niksnut, that you know, how would one let nixos containers communicate?<br/>
<font color="#A82F2F"><font size="2">(02:11:26 PM)</font> <b>Lethalman:</b></font> niksnut, with some sort of private network<br/>
<font color="#A82F2F"><font size="2">(02:11:31 PM)</font> <b>Lethalman:</b></font> should I create a bridge?<br/>
<font color="#A82F2F"><font size="2">(02:16:52 PM)</font> <b>kmicu:</b></font> jimstutt: if you want an example then check https://nixos.org/wiki/Enable_Browser_Plugins#Per_User<br/>
<font color="#A82F2F"><font size="2">(02:18:03 PM)</font> <b>jimstutt:</b></font> I created a new ~/nixpkgs/config.nix with just &apos;{}&apos; in it nix-env &apos;*&apos; | grep broadcom-sta =&gt; still no match.<br/>
<font color="#A82F2F"><font size="2">(02:18:39 PM)</font> <b>jimstutt:</b></font> kmicu: I&apos;ll look at that, now.<br/>
<font color="#A82F2F"><font size="2">(02:19:42 PM)</font> <b>kmicu:</b></font> You need to put ‘{ allowUnfree = true; }’, b/c allowUnfree from configuration.nix has no effect on ‘nix-env’ command.<br/>
<font color="#A82F2F"><font size="2">(02:24:38 PM)</font> <b>jimstutt:</b></font> kmicu: my single line config.nix should work but it doesn&apos;t; I had allowUnfree=true; when I had a per-user installs of FF and chromium.<br/>
<font color="#A82F2F"><font size="2">(02:26:08 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] magnetophon opened pull request #6435: add mutt-kz; a fork of mutt that supports notmuch (master...mutt-kz-new) http://git.io/AfKk<br/>
<font color="#A82F2F"><font size="2">(02:28:13 PM)</font> <b>goibhniu:</b></font> jimstutt: you probably want to use `nix-env -qaP`<br/>
<font color="#A82F2F"><font size="2">(02:29:08 PM)</font> <b>ewemoa:</b></font> jimstutt: not a matter of ~/.nixpkgs/config.nix vs ~/nixpkgs/config.nix right?<br/>
<font color="#A82F2F"><font size="2">(02:31:04 PM)</font> <b>kmicu:</b></font> (sometimes a dot is a lot)<br/>
<font color="#A82F2F"><font size="2">(02:33:27 PM)</font> <b>jimstutt:</b></font> kmicu: after I moved my github ~/nixpkgs to ~/.nixpkgs I could find it with nix-env -qaP and it installed. After reading a post by ocharles where github obviously creates a nixpkgs dir I didn&apos;t know whether ~/.nixpkgs and /nixpkgs are treated the same by nix? Obviously not.<br/>
<font color="#A82F2F"><font size="2">(02:34:16 PM)</font> <b>jimstutt:</b></font> ewemoa: just read your correct answer. Tnx kmicu,goibhniu and ewemoa.<br/>
<font color="#A82F2F"><font size="2">(02:35:23 PM)</font> <b>goibhniu:</b></font> jimstutt: great!<br/>
<font color="#A82F2F"><font size="2">(02:39:52 PM)</font> <b>MoreTea:</b></font> Hi there, small question. I&apos;d like to install https://github.com/NixOS/nixpkgs/blob/master/pkgs/applications/misc/workrave/default.nix, but it&apos;s not in my nixos yet, what&apos;s the best way to install it?<br/>
<font color="#A82F2F"><font size="2">(02:39:54 PM)</font> <b>goibhniu:</b></font> Is anyone using baloo in KDE? (The replacement for Nepomuk, for tagging and indexing files etc.) .. I added batou and baloo_widgets, and I have it enabled in System Settings etc. ... but I can&apos;t see how to tag anything<br/>
<font color="#A82F2F"><font size="2">(02:40:17 PM)</font> <b>goibhniu:</b></font> MoreTea: you could find it on hydra and install it directly from there<br/>
<font color="#A82F2F"><font size="2">(02:41:21 PM)</font> <b>ttuegel:</b></font> goibhniu: kde 4 or 5?<br/>
<font color="#A82F2F"><font size="2">(02:41:54 PM)</font> <b>goibhniu:</b></font> 4 ... although I must update to 5 at the weekend<br/>
<font color="#A82F2F"><font size="2">(02:41:58 PM)</font> <b>goibhniu:</b></font> does it work on 5?<br/>
<font color="#A82F2F"><font size="2">(02:42:01 PM)</font> <b>meditans:</b></font> hi, did anyone get the error: ghc-pkg: /nix/store/HASH-ghc-7.8.4/lib/ghc-7.8.4/package.conf.d/package.cache: you don&apos;t have permission to modify this file<br/>
<font color="#A82F2F"><font size="2">(02:42:10 PM)</font> <b>meditans:</b></font> when using haskell-ng?<br/>
<font color="#A82F2F"><font size="2">(02:42:14 PM)</font> <b>MoreTea:</b></font> goibhniu, thanks, that will probably work :)<br/>
<font color="#A82F2F"><font size="2">(02:42:20 PM)</font> <b>ttuegel:</b></font> goibhniu: i haven&apos;t actually checked if it works on 5 XD<br/>
<font color="#062585"><font size="2">(02:42:23 PM)</font> <b>***goibhniu</b></font> expects to find some tagging option in dolphin<br/>
<font color="#A82F2F"><font size="2">(02:42:25 PM)</font> <b>goibhniu:</b></font> kk<br/>
<font color="#A82F2F"><font size="2">(02:42:32 PM)</font> <b>ttuegel:</b></font> that&apos;s what i would expect<br/>
<font color="#A82F2F"><font size="2">(02:43:27 PM)</font> <b>goibhniu:</b></font> it&apos;s cool, it adds tags using xattr (rather than keeping them in a database like nepomuk)<br/>
<font color="#A82F2F"><font size="2">(02:45:06 PM)</font> <b>ttuegel:</b></font> i didn&apos;t even know that was possible! that&apos;s fantastic<br/>
<font color="#A82F2F"><font size="2">(02:45:37 PM)</font> <b>ttuegel:</b></font> that definitely bumps it up on my list of things to test<br/>
<font color="#A82F2F"><font size="2">(02:45:54 PM)</font> <b>goibhniu:</b></font> yeah, so you can copy / move them around and keep your tags ... baloo just indexes them<br/>
<font color="#A82F2F"><font size="2">(02:46:17 PM)</font> <b>ttuegel:</b></font> right above &quot;window decoration previews&quot; and right below &quot;multi-display configuration&quot;<br/>
<font color="#A82F2F"><font size="2">(02:46:27 PM)</font> <b>goibhniu:</b></font> excellent :D<br/>
<font color="#062585"><font size="2">(02:47:08 PM)</font> <b>***ttuegel</b></font> is giving a talk the week after next, and will be very embarassed if kscreen dies when he plugs in his laptop<br/>
<font color="#A82F2F"><font size="2">(02:48:07 PM)</font> <b>goibhniu:</b></font> heh ... yeah, that&apos;s never a good way to start :)<br/>
<font color="#A82F2F"><font size="2">(02:49:04 PM)</font> <b>ttuegel:</b></font> it died during rehearsal yesterday (in front of my advisor) but it died *after* configuring my screens, so nobody noticed!<br/>
<font color="#A82F2F"><font size="2">(03:01:47 PM)</font> <b>Haskellfant:</b></font> learn the essential xrandr commands as a backup :)<br/>
<font color="#A82F2F"><font size="2">(03:02:54 PM)</font> <b>MichaelRaskin:</b></font> After you learn them, though, you will not be able to understand why bother with graphical layout setup.<br/>
<font color="#A82F2F"><font size="2">(03:03:17 PM)</font> <b>goibhniu:</b></font> ... so that you can forget them again :)<br/>
<font size="2">(03:07:18 PM)</font><b> c74d is now known as Guest14893</b><br/>
<font color="#A82F2F"><font size="2">(03:29:57 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 2 new commits to master: http://git.io/AJfs<br/>
<font color="#A82F2F"><font size="2">(03:29:57 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 69e75d0 Brian McKenna: Add consul-template package<br/>
<font color="#A82F2F"><font size="2">(03:29:57 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master ee61219 lethalman: Merge pull request #6400 from puffnfresh/package/consul-template...<br/>
<font size="2">(03:57:16 PM)</font><b> c74d is now known as Guest87025</b><br/>
<font color="#A82F2F"><font size="2">(04:02:11 PM)</font> <b>jimstutt:</b></font> how do I query/list installed system packages?<br/>
<font color="#A82F2F"><font size="2">(04:02:33 PM)</font> <b>Lethalman:</b></font> jimstutt, that&apos;s the question of the year<br/>
<font color="#A82F2F"><font size="2">(04:02:35 PM)</font> <b>Lethalman:</b></font> :P<br/>
<font color="#A82F2F"><font size="2">(04:02:38 PM)</font> <b>Lethalman:</b></font> million dollars<br/>
<font color="#A82F2F"><font size="2">(04:04:23 PM)</font> <b>jimstutt:</b></font> Lethalman: I thought I&apos;d read somewhere that there was some sedish way of doing it?<br/>
<font color="#A82F2F"><font size="2">(04:04:48 PM)</font> <b>Lethalman:</b></font> jimstutt, with a recent nixos you should be able to do nixos-option environment.systemPackages<br/>
<font color="#062585"><font size="2">(04:04:51 PM)</font> <b>***goibhniu</b></font> tried `nixos-option environment.systemPackages` but that looks like a load of .drvs<br/>
<font size="2">(04:05:13 PM)</font><b> c74d is now known as Guest47372</b><br/>
<font size="2">(04:13:45 PM)</font><b> c74d is now known as Guest82831</b><br/>
<font color="#A82F2F"><font size="2">(04:25:15 PM)</font> <b>Lethalman:</b></font> i wonder.... a service has Restart=on-failure and RestartSec=1s<br/>
<font color="#A82F2F"><font size="2">(04:25:21 PM)</font> <b>Lethalman:</b></font> why it doesn&apos;t restart... -.-&apos;<br/>
<font color="#A82F2F"><font size="2">(04:25:37 PM)</font> <b>Lethalman:</b></font> uhm Result: start-limit<br/>
<font color="#A82F2F"><font size="2">(04:26:26 PM)</font> <b>Lethalman:</b></font> ok got it :S<br/>
<font color="#A82F2F"><font size="2">(04:30:02 PM)</font> <b>Lethalman:</b></font> oh great<br/>
<font color="#A82F2F"><font size="2">(04:30:11 PM)</font> <b>Lethalman:</b></font> I&apos;m done with that consul stuff<br/>
<font color="#A82F2F"><font size="2">(04:30:14 PM)</font> <b>Lethalman:</b></font> to follow up the blog post<br/>
<font color="#062585"><font size="2">(04:46:49 PM)</font> <b>***magnetophon</b></font> also tried nixos-option environment.systemPackages and got an unending (and unkillable) stream of letters...<br/>
<font size="2">(04:49:02 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
