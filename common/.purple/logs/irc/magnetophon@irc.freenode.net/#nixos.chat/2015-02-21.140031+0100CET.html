<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Sat 21 Feb 2015 02:00:31 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Sat 21 Feb 2015 02:00:31 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(02:00:31 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(02:00:31 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(02:04:43 PM)</font> <b>Lethalman:</b></font> mh?<br/>
<font color="#A82F2F"><font size="2">(02:04:48 PM)</font> <b>Lethalman:</b></font> Havvy, ?<br/>
<font color="#A82F2F"><font size="2">(02:05:13 PM)</font> <b>Havvy:</b></font> https://github.com/iojs/io.js/issues/686<br/>
<font color="#A82F2F"><font size="2">(02:05:43 PM)</font> <b>pengi:</b></font> I&apos;ve found documentation on how to have custom kernel configuration, but is there an easy way to build the kernel with a custom patch? For example, specify a custom git repository?<br/>
<font color="#A82F2F"><font size="2">(02:06:02 PM)</font> <b>Lethalman:</b></font> in nix we don&apos;t like building static stuff<br/>
<font color="#A82F2F"><font size="2">(02:06:40 PM)</font> <b>Lethalman:</b></font> there&apos;s no reason to build io.js libs statically on nix, so not an issue<br/>
<font color="#A82F2F"><font size="2">(02:07:11 PM)</font> <b>Lethalman:</b></font> pengi, if you dive enough into how linux builds by reading nix expressions, you could be able to<br/>
<font color="#A82F2F"><font size="2">(02:07:27 PM)</font> <b>Lethalman:</b></font> pengi, and recently there was a PR for making this easier, hold on<br/>
<font color="#A82F2F"><font size="2">(02:07:41 PM)</font> <b>pengi:</b></font> nice :)<br/>
<font color="#A82F2F"><font size="2">(02:08:35 PM)</font> <b>Lethalman:</b></font> pengi, ah it landed, check linuxPackages_custom, you tell version, src, but apparently no patches :S<br/>
<font color="#A82F2F"><font size="2">(02:08:40 PM)</font> <b>Lethalman:</b></font> I think it can be improved to also have patches<br/>
<font color="#A82F2F"><font size="2">(02:09:28 PM)</font> <b>Lethalman:</b></font> pengi, ah there you also have to specify a manual config<br/>
<font color="#A82F2F"><font size="2">(02:09:28 PM)</font> <b>Lethalman:</b></font> mh<br/>
<font color="#A82F2F"><font size="2">(02:09:40 PM)</font> <b>pengi:</b></font> if it is possible to have a custom git repo, I can simply clone the linux kernel tree on github or bitbucket or similar, add my patch there (it&apos;s just a couple of lines in a USB-CAN driver), and use that as a source<br/>
<font color="#A82F2F"><font size="2">(02:10:00 PM)</font> <b>pengi:</b></font> no need for patches to be local as .patch-files<br/>
<font color="#A82F2F"><font size="2">(02:10:09 PM)</font> <b>Lethalman:</b></font> ah sure you can use a custom git repo<br/>
<font color="#A82F2F"><font size="2">(02:10:25 PM)</font> <b>Lethalman:</b></font> but I think you also have to provide a fully custom config file<br/>
<font color="#A82F2F"><font size="2">(02:10:31 PM)</font> <b>Lethalman:</b></font> but let me see if it&apos;s easier doing something else<br/>
<font color="#A82F2F"><font size="2">(02:10:54 PM)</font> <b>pengi:</b></font> that&apos;s no problem either, the default is available as /proc/config.gz afaik<br/>
<font color="#A82F2F"><font size="2">(02:12:02 PM)</font> <b>Lethalman:</b></font> pengi, anyway look at all-packages.nix for linuxPackages, I&apos;m sure you&apos;ll come up with a good solution<br/>
<font color="#A82F2F"><font size="2">(02:12:17 PM)</font> <b>Lethalman:</b></font> pengi, so I think you could do packageOverrides fo linuxPackages = yourLinuxPackages;<br/>
<font color="#A82F2F"><font size="2">(02:12:18 PM)</font> <b>pengi:</b></font> yep, thanks :)<br/>
<font color="#A82F2F"><font size="2">(02:12:27 PM)</font> <b>Lethalman:</b></font> with your linux kernel with kernelPatches<br/>
<font color="#A82F2F"><font size="2">(02:12:39 PM)</font> <b>Lethalman:</b></font> then write a simple .nix file for your own repository<br/>
<font color="#A82F2F"><font size="2">(02:12:43 PM)</font> <b>Lethalman:</b></font> shouldn&apos;t be that hard<br/>
<font color="#A82F2F"><font size="2">(02:12:51 PM)</font> <b>pengi:</b></font> I&apos;ll have a look :) Thanks<br/>
<font color="#A82F2F"><font size="2">(02:13:18 PM)</font> <b>pengi:</b></font> I think it&apos;s also a good project to get to learn even more about nix :)<br/>
<font color="#A82F2F"><font size="2">(02:13:44 PM)</font> <b>Lethalman:</b></font> just make sure you use a whole different linuxPackages, so you also get all the modules and tools recompiled with that new linux<br/>
<font color="#A82F2F"><font size="2">(02:13:54 PM)</font> <b>Lethalman:</b></font> so packageOverrides for sure<br/>
<font color="#A82F2F"><font size="2">(02:16:12 PM)</font> <b>pengi:</b></font> ah, I&apos;ll try, and I&apos;ll se what happens :)<br/>
<font size="2">(02:18:53 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font size="2">(02:20:01 PM)</font><b> Lethalman left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(02:20:51 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ts468 opened pull request #6497: Add &apos;host&apos; input parameter to nixos modules and nixpkgs (master...host_parameter) http://git.io/ABE3<br/>
<font color="#062585"><font size="2">(02:28:57 PM)</font> <b>***pengi</b></font> might have a lucky day... resynced the kernel tree, and someone has already done the patch upstream :)<br/>
<font color="#A82F2F"><font size="2">(02:33:45 PM)</font> <b>zimbatm_:</b></font> hi, what&apos;s the best way to solve a collision ? is it possible to expose the dependency graph of the packages ?<br/>
<font color="#A82F2F"><font size="2">(02:38:50 PM)</font> <b>irctc914:</b></font> Hello All.<br/>
<font size="2">(02:43:04 PM)</font><b> irctc914 left the room (quit: Ping timeout: 246 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(02:45:43 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ts468 opened pull request #6498: Build qemu-vm without KVM. Require KVM only for execution of VM. (master...qemu-vm) http://git.io/ABwT<br/>
<font size="2">(02:55:53 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
