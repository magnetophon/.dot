<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Mon 24 Nov 2014 09:57:24 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Mon 24 Nov 2014 09:57:24 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(09:57:25 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(09:57:25 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font size="2">(09:57:26 PM)</font><b> MarcWeber [<em>~marc@mawercer.de</em>] entered the room.</b><br/>
<font size="2">(09:57:35 PM)</font><b> justbeingglad [<em>~justbeing@cpc10-warw15-2-0-cust75.3-2.cable.virginm.net</em>] entered the room.</b><br/>
<font size="2">(09:58:28 PM)</font><b> justbeingglad left the room.</b><br/>
<font size="2">(09:58:37 PM)</font><b> bennofs left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(09:58:57 PM)</font> <b>MarcWeber:</b></font> aszlig: I&apos;ve seen that you&apos;ve updated cups. Did you take care about all the other changes (cupsd etc)?<br/>
<font size="2">(09:59:49 PM)</font><b> rost left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(10:01:00 PM)</font> <b>MarcWeber:</b></font> https://github.com/NixOS/nixpkgs/pull/1120<br/>
<font color="#A82F2F"><font size="2">(10:01:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to master: http://git.io/ZQ7-EA<br/>
<font color="#A82F2F"><font size="2">(10:01:28 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0168c1b Bart Brouns: faust: rename to faust-compiler (close #5113)...<br/>
<font color="#A82F2F"><font size="2">(10:03:35 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cillianderoiste closed pull request #5006: enable different useraccount name for gitolite user (master...este/customgitoliteuser) http://git.io/5xDiug<br/>
<font color="#A82F2F"><font size="2">(10:05:32 PM)</font> <b>aristid__:</b></font> iElectric: i&apos;m trying now to extend the containers test case to test this:)<br/>
<font color="#A82F2F"><font size="2">(10:14:23 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to staging: http://git.io/L_45bA<br/>
<font color="#A82F2F"><font size="2">(10:14:23 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/staging bb2fba1 Vladimír Čunát: Revert &quot;mesa: Don&apos;t depend on Wayland&quot;...<br/>
<font color="#A82F2F"><font size="2">(10:15:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 1 new commit to staging: http://git.io/ShKmAw<br/>
<font color="#A82F2F"><font size="2">(10:15:12 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/staging a9bad25 Vladimír Čunát: Merge branch &apos;master&apos; into staging<br/>
<font color="#A82F2F"><font size="2">(10:17:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cillianderoiste pushed 1 new commit to master: http://git.io/u2hVsA<br/>
<font color="#A82F2F"><font size="2">(10:17:28 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 909311b Cillian de Róiste: openimageio: update from 1.4.13 to 1.4.14<br/>
<font size="2">(10:19:09 PM)</font><b> zz_flazz is now known as flazz</b><br/>
<font size="2">(10:19:23 PM)</font><b> petar [<em>~petar@77-57-42-79.dclient.hispeed.ch</em>] entered the room.</b><br/>
<font size="2">(10:19:50 PM)</font><b> moha_hunt left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font size="2">(10:21:15 PM)</font><b> gciolli left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(10:22:49 PM)</font><b> hnoob [<em>~hnoob@172.56.8.158</em>] entered the room.</b><br/>
<font size="2">(10:32:14 PM)</font><b> bb010g [<em>uid21050@gateway/web/irccloud.com/x-eowyurnzonafvlwz</em>] entered the room.</b><br/>
<font size="2">(10:32:21 PM)</font><b> moha_hunt [<em>~moha@95.90.232.63</em>] entered the room.</b><br/>
<font size="2">(10:38:50 PM)</font><b> sivteck [<em>~sivteck@unaffiliated/sivteck</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:39:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 2 new commits to master: http://git.io/RErJ8Q<br/>
<font color="#A82F2F"><font size="2">(10:39:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master bba575f Eduard Bachmakov: nvidia_x11: update to 340.58...<br/>
<font color="#A82F2F"><font size="2">(10:39:25 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master d39c6ce Vladimír Čunát: nvidia_x11: current long-lived becomes a new legacy...<br/>
<font size="2">(10:43:57 PM)</font><b> Ankhers left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:44:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] aristidb pushed 1 new commit to master: http://git.io/T1Db5g<br/>
<font color="#A82F2F"><font size="2">(10:44:26 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b216e2b Aristid Breitkreuz: systemd-nspawn: Ignore existing directories when trying to create mount-points (#4989)<br/>
<font color="#A82F2F"><font size="2">(10:44:31 PM)</font> <b>ttuegel:</b></font> does anyone here have gitolite working through the nixos module? what secret thing do i have to do to get it to set the admin key the first time?<br/>
<font color="#A82F2F"><font size="2">(10:46:11 PM)</font> <b>abbradar:</b></font> ttuegel: gitolite.adminPubkey = builtins.readFile &quot;/root/.ssh/id_rsa.pub&quot;<br/>
<font color="#A82F2F"><font size="2">(10:46:48 PM)</font> <b>ttuegel:</b></font> i assume it doesn&apos;t have to be root&apos;s pubkey?<br/>
<font color="#A82F2F"><font size="2">(10:46:51 PM)</font> <b>abbradar:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(10:47:25 PM)</font> <b>ttuegel:</b></font> hm, that&apos;s what i did. permission denied.<br/>
<font color="#A82F2F"><font size="2">(10:47:56 PM)</font> <b>abbradar:</b></font> strange, it just worked for me<br/>
<font color="#A82F2F"><font size="2">(10:48:16 PM)</font> <b>abbradar:</b></font> gitolite@localhost:gitolite-admin.git<br/>
<font color="#A82F2F"><font size="2">(10:48:25 PM)</font> <b>abbradar:</b></font> I&apos;ve cloned this<br/>
<font color="#A82F2F"><font size="2">(10:48:32 PM)</font> <b>ttuegel:</b></font> you did as the gitolite instructions indicate and use a pubkey for a user that doesn&apos;t already have ssh access?<br/>
<font color="#A82F2F"><font size="2">(10:49:08 PM)</font> <b>abbradar:</b></font> I haven&apos;t done this specifically, but yes, this key is not used anywhere else<br/>
<font color="#A82F2F"><font size="2">(10:49:25 PM)</font> <b>ttuegel:</b></font> hmm<br/>
<font color="#A82F2F"><font size="2">(10:49:35 PM)</font> <b>abbradar:</b></font> I don&apos;t think this should be an issue, though<br/>
<font color="#A82F2F"><font size="2">(10:50:06 PM)</font> <b>ttuegel:</b></font> well, gitolite&apos;s instructions say you must absolutely NOT use a pubkey for an existing user<br/>
<font size="2">(10:50:18 PM)</font><b> MP2E [<em>~cray@ip70-170-88-148.lv.lv.cox.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:50:23 PM)</font> <b>ttuegel:</b></font> i&apos;m wondering if that&apos;s wrong<br/>
<font color="#A82F2F"><font size="2">(10:50:39 PM)</font> <b>abbradar:</b></font> maybe it means &quot;for user existing in gitolite-admin/keys&quot;<br/>
<font color="#A82F2F"><font size="2">(10:50:52 PM)</font> <b>ttuegel:</b></font> no, it&apos;s very clear: no existing ssh users<br/>
<font color="#A82F2F"><font size="2">(10:50:52 PM)</font> <b>abbradar:</b></font> otherwise it would be strange<br/>
<font color="#A82F2F"><font size="2">(10:50:55 PM)</font> <b>ttuegel:</b></font> or it will get confused<br/>
<font color="#A82F2F"><font size="2">(10:51:02 PM)</font> <b>ttuegel:</b></font> about who you&apos;re trying to login as<br/>
<font color="#A82F2F"><font size="2">(10:51:27 PM)</font> <b>abbradar:</b></font> hm, really strange -- we are giving it user explicitly, so it should not get confused in theory<br/>
<font size="2">(10:51:38 PM)</font><b> flazz is now known as zz_flazz</b><br/>
<font color="#A82F2F"><font size="2">(10:51:59 PM)</font> <b>ttuegel:</b></font> it doesn&apos;t really matter; i&apos;m giving it a perfectly valid pubkey<br/>
<font color="#A82F2F"><font size="2">(10:52:13 PM)</font> <b>abbradar:</b></font> also, what do ssh -v and journalctl sshd say?<br/>
<font color="#A82F2F"><font size="2">(10:52:29 PM)</font> <b>abbradar:</b></font> maybe there&apos;s something interesting there<br/>
<font color="#A82F2F"><font size="2">(10:52:52 PM)</font> <b>ttuegel:</b></font> ssh -vvv says that the server rejected the pubkef<br/>
<font color="#A82F2F"><font size="2">(10:52:55 PM)</font> <b>ttuegel:</b></font> *pubkey<br/>
<font color="#A82F2F"><font size="2">(10:53:35 PM)</font> <b>abbradar:</b></font> also systemctl status gitolite-init<br/>
<font color="#A82F2F"><font size="2">(10:53:41 PM)</font> <b>abbradar:</b></font> maybe it failed something<br/>
<font color="#A82F2F"><font size="2">(10:54:01 PM)</font> <b>ttuegel:</b></font> journalctl -u sshd says &quot;PAM: Authentication failure for illegal user git&quot;<br/>
<font color="#A82F2F"><font size="2">(10:54:05 PM)</font> <b>abbradar:</b></font> wait<br/>
<font color="#A82F2F"><font size="2">(10:54:07 PM)</font> <b>abbradar:</b></font> use gitolite user<br/>
<font color="#A82F2F"><font size="2">(10:54:09 PM)</font> <b>abbradar:</b></font> not &quot;git&quot;<br/>
<font color="#A82F2F"><font size="2">(10:54:23 PM)</font> <b>ttuegel:</b></font> *sigh* gitolite instructions say to name gitolite user &quot;git&quot;<br/>
<font color="#A82F2F"><font size="2">(10:54:26 PM)</font> <b>ttuegel:</b></font> that&apos;s the problem<br/>
<font color="#A82F2F"><font size="2">(10:54:38 PM)</font> <b>abbradar:</b></font> hm, you&apos;ve changed the defaults somewhere?<br/>
<font color="#A82F2F"><font size="2">(10:54:49 PM)</font> <b>abbradar:</b></font> because it worked for me as gitolite<br/>
<font color="#A82F2F"><font size="2">(10:54:53 PM)</font> <b>abbradar:</b></font> and I haven&apos;t changed anything<br/>
<font color="#A82F2F"><font size="2">(10:54:59 PM)</font> <b>abbradar:</b></font> maybe it&apos;s a NixOS customization<br/>
<font color="#A82F2F"><font size="2">(10:54:59 PM)</font> <b>aszlig:</b></font> MarcWeber: well, i had to, unfortunately i don&apos;t have any printer to test cups properly<br/>
<font color="#A82F2F"><font size="2">(10:55:13 PM)</font> <b>ttuegel:</b></font> i changed nothing. it didn&apos;t work because nixos is out of sync with upstream&apos;s docs and i used wrong username<br/>
<font color="#A82F2F"><font size="2">(10:55:52 PM)</font> <b>abbradar:</b></font> yes, and I remember why now -- &quot;git&quot; is used by &quot;git-daemon&apos;<br/>
<font size="2">(10:55:53 PM)</font><b> hnoob left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(10:56:05 PM)</font> <b>abbradar:</b></font> (I haven&apos;t done this but bumped into some access rights issues earlier)<br/>
<font color="#A82F2F"><font size="2">(10:56:15 PM)</font> <b>abbradar:</b></font> (and found this out)<br/>
<font color="#A82F2F"><font size="2">(10:56:22 PM)</font> <b>ttuegel:</b></font> that makes sense. we should put that in big red letters in the manual<br/>
<font color="#A82F2F"><font size="2">(10:56:45 PM)</font> <b>MarcWeber:</b></font> aszlig: Because there were some changes in the config files - which I didn&apos;t see in your patch.<br/>
<font color="#A82F2F"><font size="2">(10:56:45 PM)</font> <b>ttuegel:</b></font> yup, user gitolite works, thanks<br/>
<font color="#A82F2F"><font size="2">(10:57:08 PM)</font> <b>MarcWeber:</b></font> But probably I&apos;ve missed an update because nobody complained.<br/>
<font color="#A82F2F"><font size="2">(10:57:26 PM)</font> <b>abbradar:</b></font> np. we really should mark this in docs<br/>
<font color="#A82F2F"><font size="2">(10:59:11 PM)</font> <b>abbradar:</b></font> BTW, where can I find recent documentation build?<br/>
<font size="2">(11:20:56 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
