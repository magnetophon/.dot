<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Fri 21 Nov 2014 12:42:08 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Fri 21 Nov 2014 12:42:08 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(12:42:08 AM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(12:42:08 AM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(12:42:08 AM)</font> <b>asimov.freenode.net:</b></font> (notice) [freenode-info] channel trolls and no channel staff around to help? please check with freenode support: http://freenode.net/faq.shtml#gettinghelp<br/>
<font color="#A82F2F"><font size="2">(12:43:22 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cillianderoiste closed pull request #5068: Add vimus (master...add-vimus) http://git.io/ZutTHg<br/>
<font color="#16569E"><font size="2">(12:44:31 AM)</font> <b>magnetophon:</b></font> Hi, I'm trying to put my configuration.nix on github. Should I just make a repo in /etc/nixos/ as root, or is there a cleaner way? It's kind of a hard thing to google for.... :-/<br/>
<font size="2">(12:45:18 AM)</font><b> chirpsalot left the room (quit: Ping timeout: 256 seconds).</b><br/>
<font size="2">(12:46:36 AM)</font><b> toothbrush0 left the room (quit: Quit: leaving).</b><br/>
<font color="#A82F2F"><font size="2">(12:46:37 AM)</font> <b>ttuegel:</b></font> magnetophon: i have a repo in my home directory, and /etc/nixos is symlinked to it. that may not be the most secure way<br/>
<font size="2">(12:47:56 AM)</font><b> chirpsalot [<em>~Chirps@unaffiliated/chirpsalot</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(12:49:15 AM)</font> <b>magnetophon:</b></font> ttuegel: Thanks. Putting your configuration on github is quite common, isn't there a best practice? <br/>
<font color="#A82F2F"><font size="2">(12:50:51 AM)</font> <b>ttuegel:</b></font> none that i am aware of<br/>
<font color="#16569E"><font size="2">(12:51:38 AM)</font> <b>magnetophon:</b></font> ttuegel: :-/<br/>
<font color="#A82F2F"><font size="2">(12:52:19 AM)</font> <b>ttuegel:</b></font> i&apos;m definitely not the person to ask about nix best-practices, though. i tend to isolate myself from the community somewhat<br/>
<font size="2">(12:54:13 AM)</font><b> Takle [<em>~takle@146.6.189.80.dyn.plus.net</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(12:54:30 AM)</font> <b>magnetophon:</b></font> ttuegel: OK, fair enough. Let's hope someone else will answer then :)<br/>
<font size="2">(12:55:05 AM)</font><b> goibhniu1 left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font size="2">(12:56:42 AM)</font><b> Takle left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(12:57:38 AM)</font><b> MP2E [<em>~cray@ip70-170-88-148.lv.lv.cox.net</em>] entered the room.</b><br/>
<font size="2">(01:02:40 AM)</font><b> statusbot left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(01:02:57 AM)</font><b> statusbot [<em>~statusbot@ec2-54-187-136-182.us-west-2.compute.amazonaws.com</em>] entered the room.</b><br/>
<font size="2">(01:05:25 AM)</font><b> ambro718 left the room (quit: Quit: Konversation terminated!).</b><br/>
<font size="2">(01:06:24 AM)</font><b> mizu_no_oto [<em>~textual@c-76-24-18-193.hsd1.ma.comcast.net</em>] entered the room.</b><br/>
<font size="2">(01:21:27 AM)</font><b> moha_hunt left the room (quit: Quit: moha_hunt).</b><br/>
<font size="2">(01:23:26 AM)</font><b> hexagoxel_ [<em>~hexagoxel@kiel-5f768068.pool.mediaWays.net</em>] entered the room.</b><br/>
<font size="2">(01:25:33 AM)</font><b> copumpkin left the room (quit: Quit: My MacBook Pro has gone to sleep. ZZZzzz…).</b><br/>
<font size="2">(01:26:53 AM)</font><b> hexagoxel left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font color="#16569E"><font size="2">(01:27:06 AM)</font> <b>magnetophon:</b></font> I installed some packages, one of which was a package I made myself, and now it looks like nixos is compiling glibc. Is that normal?<br/>
<font size="2">(01:30:12 AM)</font><b> robertbellarmine [<em>~robertbel@cpe-173-175-162-119.elp.res.rr.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(01:32:54 AM)</font> <b>shlevy:</b></font> Damn<br/>
<font color="#062585"><font size="2">(01:33:09 AM)</font> <b>***shlevy</b></font> once again gives up on the unstable channel and goes back to git<br/>
<font color="#A82F2F"><font size="2">(01:33:34 AM)</font> <b>Fuuzetsu:</b></font> hope you like compiling Qt five times a day ;P<br/>
<font color="#A82F2F"><font size="2">(01:34:05 AM)</font> <b>shlevy:</b></font> Server :P<br/>
<font color="#A82F2F"><font size="2">(01:34:08 AM)</font> <b>shlevy:</b></font> Better not compile qt<br/>
<font color="#A82F2F"><font size="2">(01:35:27 AM)</font> <b>viric:</b></font> ikwildrpepper: yes, I recall it somehow :)<br/>
<font color="#A82F2F"><font size="2">(01:40:33 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] shlevy pushed 1 new commit to master: http://git.io/HP-KjA<br/>
<font color="#A82F2F"><font size="2">(01:40:33 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b7b956f Shea Levy: nix-exec: bump<br/>
<font color="#A82F2F"><font size="2">(01:42:35 AM)</font> <b>ttuegel:</b></font> Fuuzetsu: hey now, some of us put our qt-rebuilding-patches into staging! :)<br/>
<font color="#A82F2F"><font size="2">(01:46:38 AM)</font> <b>ttuegel:</b></font> magnetophon: if you are using the nixpkgs git repo, yes it&apos;s normal to have big recompiles<br/>
<font size="2">(01:49:41 AM)</font><b> hexagoxel_ left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font size="2">(01:51:34 AM)</font><b> madjar left the room (quit: Quit: Connection closed for inactivity).</b><br/>
<font size="2">(01:52:46 AM)</font><b> lucidd left the room (quit: Read error: Connection reset by peer).</b><br/>
<font color="#16569E"><font size="2">(01:55:06 AM)</font> <b>magnetophon:</b></font> ttuegel: I cloned the nixpkgs git repo to be able to do a pull request later, and added my package in to it. Will it now recompile my whole system?<br/>
<font size="2">(01:55:43 AM)</font><b> mizu_no_oto left the room (quit: Quit: Computer has gone to sleep.).</b><br/>
<font size="2">(01:55:57 AM)</font><b> echo_oddly [<em>~echo_oddl@h69-130-243-70.mdtnwi.broadband.dynamic.tds.net</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(01:57:29 AM)</font> <b>magnetophon:</b></font> ttuegel: put another way: why do I get a big recompile when all the packages except one small one, (with just xrandr as a dependancy), are in the binary repo?<br/>
<font size="2">(01:58:50 AM)</font><b> Lowl3v3l left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#16569E"><font size="2">(02:01:29 AM)</font> <b>magnetophon:</b></font> for example, right now it's compiling gmp mpz, which google tells me are &quot;High-level signed integer arithmetic functions&quot;. Shouldn't I be receiving that kind of thing binary, instead of localy compiled?<br/>
<font size="2">(02:05:46 AM)</font><b> joneshf-laptop left the room (quit: Ping timeout: 272 seconds).</b><br/>
<font size="2">(02:08:55 AM)</font><b> lucidd [<em>~lucid@HSI-KBW-078-042-152-111.hsi3.kabel-badenwuerttemberg.de</em>] entered the room.</b><br/>
<font size="2">(02:09:34 AM)</font><b> Hijiri [<em>~oneechan@2602:306:b85c:4820:7911:f01:46aa:4bce</em>] entered the room.</b><br/>
<font size="2">(02:12:14 AM)</font><b> phreedom left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(02:12:28 AM)</font><b> phreedom [<em>~quassel@gateway/tor-sasl/phreedom</em>] entered the room.</b><br/>
<font size="2">(02:16:57 AM)</font><b> ok2 left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font size="2">(02:17:24 AM)</font><b> ok2 [<em>~user@31.6.23.46</em>] entered the room.</b><br/>
<font size="2">(02:18:00 AM)</font><b> Takle [<em>~takle@146.6.189.80.dyn.plus.net</em>] entered the room.</b><br/>
<font size="2">(02:22:48 AM)</font><b> Takle left the room (quit: Ping timeout: 264 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(02:32:35 AM)</font> <b>wkennington:</b></font> magnetophon: i don&apos;t quite understand your problem?<br/>
<font color="#A82F2F"><font size="2">(02:32:50 AM)</font> <b>wkennington:</b></font> magnetophon: why do you recompile everything if you build against master?<br/>
<font size="2">(02:33:07 AM)</font><b> jb55 left the room (quit: Remote host closed the connection).</b><br/>
<font color="#16569E"><font size="2">(02:37:37 AM)</font> <b>magnetophon:</b></font> wkennington: I did &quot;nixos-rebuild -I nixpkgs=/path/to/git/clone/of/nixpkgs switch&quot; and now nixos seems to be building libc. Is that normal? Did I do something wrong? I didn't intend to compile anything but my new package...<br/>
<font size="2">(02:38:08 AM)</font><b> mizu_no_oto [<em>~textual@c-76-24-18-193.hsd1.ma.comcast.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(02:39:02 AM)</font> <b>wkennington:</b></font> it&apos;s not &quot;normal&quot; as in the usual case<br/>
<font color="#A82F2F"><font size="2">(02:39:17 AM)</font> <b>wkennington:</b></font> it&apos;s valid behavior though because we updated the core libraries in a fairly recent version of master<br/>
<font color="#A82F2F"><font size="2">(02:39:21 AM)</font> <b>wkennington:</b></font> which the cache probably doesn&apos;t have yet<br/>
<font color="#A82F2F"><font size="2">(02:39:59 AM)</font> <b>wkennington:</b></font> if you base your change on the commit which is in the channel you won&apos;t rebuild everything<br/>
<font color="#16569E"><font size="2">(02:40:50 AM)</font> <b>magnetophon:</b></font> wkennington: sorry, I'm not following you. Do you mean you recently changed the stable release, and it's not in cache yet?<br/>
<font color="#16569E"><font size="2">(02:41:15 AM)</font> <b>magnetophon:</b></font> wkennington: and your last line I don't get at all... sorry!<br/>
<font color="#A82F2F"><font size="2">(02:41:42 AM)</font> <b>wkennington:</b></font> what version of nixos are you running? unstable or 14.04?<br/>
<font color="#16569E"><font size="2">(02:41:51 AM)</font> <b>magnetophon:</b></font> wkennington: 14.04<br/>
<font color="#A82F2F"><font size="2">(02:42:23 AM)</font> <b>wkennington:</b></font> and you checked out the master git branch?<br/>
<font color="#16569E"><font size="2">(02:42:30 AM)</font> <b>magnetophon:</b></font> wkennington: yes<br/>
<font color="#A82F2F"><font size="2">(02:42:42 AM)</font> <b>wkennington:</b></font> so the master git branch is the packages / expressions for 14.11<br/>
<font color="#A82F2F"><font size="2">(02:42:50 AM)</font> <b>wkennington:</b></font> you have to build those packages to test your change<br/>
<font color="#A82F2F"><font size="2">(02:42:58 AM)</font> <b>wkennington:</b></font> because almost all of them have been updated since 14.04<br/>
<font color="#16569E"><font size="2">(02:43:31 AM)</font> <b>magnetophon:</b></font> wkennington: so now my whole system will be upgraded to 14.11? Can I still undo that?<br/>
<font color="#A82F2F"><font size="2">(02:43:38 AM)</font> <b>wkennington:</b></font> not necessarily<br/>
<font color="#A82F2F"><font size="2">(02:43:56 AM)</font> <b>wkennington:</b></font> if you just did a nix-build of xrandr then no<br/>
<font color="#16569E"><font size="2">(02:44:01 AM)</font> <b>magnetophon:</b></font> wkennington: should I press Ctrl-C now?<br/>
<font color="#A82F2F"><font size="2">(02:44:07 AM)</font> <b>wkennington:</b></font> probably<br/>
<font color="#A82F2F"><font size="2">(02:44:18 AM)</font> <b>wkennington:</b></font> i wouldn&apos;t recommend doing major version changes with a nixos-rebuild switch anyway<br/>
<font color="#A82F2F"><font size="2">(02:44:28 AM)</font> <b>wkennington:</b></font> they should almost always be done with a nixos-rebuild boot<br/>
<font color="#A82F2F"><font size="2">(02:44:43 AM)</font> <b>wkennington:</b></font> but even if you did a nixos-rebuild boot you would upgrade to 14.11<br/>
<font color="#A82F2F"><font size="2">(02:45:01 AM)</font> <b>wkennington:</b></font> it&apos;s not like you can&apos;t roll back though<br/>
<font color="#A82F2F"><font size="2">(02:45:08 AM)</font> <b>wkennington:</b></font> you just select the old version and go on your way<br/>
<font color="#16569E"><font size="2">(02:45:09 AM)</font> <b>magnetophon:</b></font> wkennington: I didn't intend to change version. I just tried to follow the manual on how to contribute back.<br/>
<font color="#A82F2F"><font size="2">(02:45:16 AM)</font> <b>doublec:</b></font> magnetophon: if you want to test a package you can just nix-build it<br/>
<font size="2">(02:45:19 AM)</font><b> haasn left the room (quit: Quit: haasn).</b><br/>
<font color="#A82F2F"><font size="2">(02:45:28 AM)</font> <b>doublec:</b></font> magnetophon: I do that when pulling master and testing the change<br/>
<font color="#A82F2F"><font size="2">(02:45:32 AM)</font> <b>wkennington:</b></font> magnetophon: the manual kinda assumes you are running unstable<br/>
<font color="#A82F2F"><font size="2">(02:45:45 AM)</font> <b>wkennington:</b></font> doublec: he isn&apos;t running unstable though so he still has to build everything<br/>
<font color="#A82F2F"><font size="2">(02:46:00 AM)</font> <b>doublec:</b></font> wkennington: ah true<br/>
<font color="#A82F2F"><font size="2">(02:46:02 AM)</font> <b>McEnroe:</b></font> magnetophon: checkout your revision and rebase your change on that.<br/>
<font color="#16569E"><font size="2">(02:46:20 AM)</font> <b>magnetophon:</b></font> can I still contribute packages without upgrading to 14.11?<br/>
<font color="#16569E"><font size="2">(02:46:31 AM)</font> <b>magnetophon:</b></font> McEnroe: sorry, over my head<br/>
<font color="#A82F2F"><font size="2">(02:46:34 AM)</font> <b>wkennington:</b></font> magnetophon: adding packages likely<br/>
<font color="#16569E"><font size="2">(02:46:45 AM)</font> <b>magnetophon:</b></font> McEnroe: ah, no I get you<br/>
<font color="#A82F2F"><font size="2">(02:46:45 AM)</font> <b>doublec:</b></font> magnetophon: there&apos;s a release-14.04 branch you can base it on<br/>
<font color="#A82F2F"><font size="2">(02:46:48 AM)</font> <b>wkennington:</b></font> magnetophon: modifying is a different story because you have to keep track of all the changes<br/>
<font color="#16569E"><font size="2">(02:48:58 AM)</font> <b>magnetophon:</b></font> wkennington, McEnroe: are you  both saying I should checkout branch 14.04 in my cloned nixpkgs, and run &quot;nixos-rebuild -I nixpkgs=/path/to/git/clone/of/nixpkgs switch&quot; again?<br/>
<font color="#16569E"><font size="2">(02:49:30 AM)</font> <b>magnetophon:</b></font> just checking if I understood correctly...<br/>
<font color="#A82F2F"><font size="2">(02:49:32 AM)</font> <b>wkennington:</b></font> yes, that would likely suffice since 14.04-release doesn&apos;t change much<br/>
<font color="#16569E"><font size="2">(02:50:26 AM)</font> <b>magnetophon:</b></font> OK, thanks everyone!<br/>
<font color="#16569E"><font size="2">(02:50:35 AM)</font> <b>magnetophon:</b></font> will report back...<br/>
<font size="2">(02:51:57 AM)</font><b> Ankhers left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(02:52:23 AM)</font> <b>wkennington:</b></font> crap, infinite recursion errors are sometimes impossible to figure out<br/>
<font size="2">(02:55:05 AM)</font><b> erasmas left the room (quit: Quit: leaving).</b><br/>
<font color="#16569E"><font size="2">(02:57:43 AM)</font> <b>magnetophon:</b></font> I did as told and now it's unpacking source archive gcc4.8.3. That's wrong isn't it?<br/>
<font size="2">(03:00:42 AM)</font><b> tg left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(03:01:23 AM)</font> <b>McEnroe:</b></font> magnetophon: are you at the right revision?<br/>
<font color="#A82F2F"><font size="2">(03:02:02 AM)</font> <b>McEnroe:</b></font> magnetophon: Do a nixos-version . Does the hash in the end correspond to your current checkout?<br/>
<font color="#A82F2F"><font size="2">(03:02:06 AM)</font> <b>wkennington:</b></font> McEnroe: it&apos;s possible we pushed changes to 14.04 that he doesn&apos;t have<br/>
<font color="#A82F2F"><font size="2">(03:02:33 AM)</font> <b>McEnroe:</b></font> wkennington: Doing the comparison should make that clear.<br/>
<font color="#A82F2F"><font size="2">(03:02:38 AM)</font> <b>wkennington:</b></font> yup<br/>
<font color="#16569E"><font size="2">(03:03:31 AM)</font> <b>magnetophon:</b></font> I'm at version 14.04.572.2b0cacc<br/>
<font color="#A82F2F"><font size="2">(03:03:56 AM)</font> <b>McEnroe:</b></font> magnetophon: so do a git checkout 2b0cacc<br/>
<font size="2">(03:05:01 AM)</font><b> haasn [<em>~haasn@static.102.126.46.78.clients.your-server.de</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(03:05:20 AM)</font> <b>magnetophon:</b></font> McEnroe: ah, that's what you meant. Will that take me back to vanilla 14.04? What is the difference with git checkout -b 14.04?<br/>
<font color="#16569E"><font size="2">(03:06:49 AM)</font> <b>magnetophon:</b></font> Sorry guys, this is my first day with nixos... not up to date on the lingo yet. Loving the experience though!!!<br/>
<font color="#A82F2F"><font size="2">(03:07:36 AM)</font> <b>McEnroe:</b></font> magnetophon: `git help checkout` =&gt; look for &quot;-b&quot; ... ask if man not clear<br/>
<font size="2">(03:07:50 AM)</font><b> krgn_ left the room (quit: Ping timeout: 272 seconds).</b><br/>
<font color="#16569E"><font size="2">(03:08:14 AM)</font> <b>magnetophon:</b></font> McEnroe: right, excuse me!<br/>
<font color="#A82F2F"><font size="2">(03:09:07 AM)</font> <b>McEnroe:</b></font> Once you&apos;re at your system&apos;s current revision, you can go about creating new branches.<br/>
<font color="#16569E"><font size="2">(03:10:05 AM)</font> <b>magnetophon:</b></font> McEnroe: right -b creates a branch. I should have done -B, right?<br/>
<font color="#A82F2F"><font size="2">(03:10:09 AM)</font> <b>McEnroe:</b></font> At least that&apos;s what I&apos;ve been doing. I assume that&apos;s what everyone does since rebuilding virtually EVERYTHING is not a terribly attractive option.<br/>
<font color="#A82F2F"><font size="2">(03:10:35 AM)</font> <b>McEnroe:</b></font> wkennington: Is that how you do it, btw?<br/>
<font color="#A82F2F"><font size="2">(03:10:45 AM)</font> <b>McEnroe:</b></font> magnetophon: to do what?<br/>
<font color="#A82F2F"><font size="2">(03:10:57 AM)</font> <b>wkennington:</b></font> McEnroe: have a script which checks out the channel version in a branch called cache<br/>
<font color="#16569E"><font size="2">(03:11:06 AM)</font> <b>magnetophon:</b></font> McEnroe: to get back to vanilla 14.04<br/>
<font color="#A82F2F"><font size="2">(03:11:08 AM)</font> <b>wkennington:</b></font> McEnroe: but i often work off of master and just have my own hydra cluster<br/>
<font size="2">(03:11:31 AM)</font><b> codyopel left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(03:12:11 AM)</font><b> tg [<em>~x@unaffiliated/tg</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(03:12:28 AM)</font> <b>McEnroe:</b></font> magnetophon: You do `git checkout 2b0cacc`. Then `git checkout -b my-new-changes`. And so on.<br/>
<font color="#A82F2F"><font size="2">(03:13:45 AM)</font> <b>McEnroe:</b></font> magnetophon: Alternatively I believe you can do `git checkout -b my-new-changes 2b0cacc`.<br/>
<font color="#A82F2F"><font size="2">(03:14:46 AM)</font> <b>McEnroe:</b></font> wkennington: Regarding your hydra cluster, what computing power are we talking about?<br/>
<font color="#A82F2F"><font size="2">(03:16:31 AM)</font> <b>wkennington:</b></font> Around 64 cores<br/>
<font color="#A82F2F"><font size="2">(03:16:46 AM)</font> <b>wkennington:</b></font> 4 GB ram per core<br/>
<font color="#16569E"><font size="2">(03:16:58 AM)</font> <b>magnetophon:</b></font> McEnroe: OK, thanks.<br/>
<font size="2">(03:17:16 AM)</font><b> silver left the room (quit: Read error: Connection reset by peer).</b><br/>
<font color="#16569E"><font size="2">(03:17:59 AM)</font> <b>magnetophon:</b></font> I read that sometimes version upgrades cannot be undone. How do I know if I am f****d?<br/>
<font color="#A82F2F"><font size="2">(03:18:33 AM)</font> <b>wkennington:</b></font> It mostly depends on the software you run<br/>
<font color="#16569E"><font size="2">(03:18:42 AM)</font> <b>magnetophon:</b></font> will nixos complain in that case, or will it fail silently?<br/>
<font color="#A82F2F"><font size="2">(03:18:57 AM)</font> <b>wkennington:</b></font> If you so a major postgres upgrade you might not be able to revert<br/>
<font color="#A82F2F"><font size="2">(03:19:05 AM)</font> <b>McEnroe:</b></font> magnetophon: I have yet to encouter those updates.<br/>
<font color="#A82F2F"><font size="2">(03:19:08 AM)</font> <b>wkennington:</b></font> Btrfs can be finicky like this too<br/>
<font color="#A82F2F"><font size="2">(03:19:40 AM)</font> <b>dysinger:</b></font> how does it feel to use nixos on freebsd? is it working well?<br/>
<font color="#A82F2F"><font size="2">(03:19:48 AM)</font> <b>wkennington:</b></font> If you run the stable branch it should never happen<br/>
<font color="#A82F2F"><font size="2">(03:20:00 AM)</font> <b>wkennington:</b></font> NixOS doesn&apos;t exist for freebsd<br/>
<font size="2">(03:20:09 AM)</font><b> krgn_ [<em>~k@p20030045462E5E0002247EFFFE703173.dip0.t-ipconnect.de</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(03:20:10 AM)</font> <b>wkennington:</b></font> Nix used to work somewhat okay<br/>
<font color="#A82F2F"><font size="2">(03:20:11 AM)</font> <b>McEnroe:</b></font> magnetophon: If something breaks permanently, probably it&apos;s under /var<br/>
<font color="#A82F2F"><font size="2">(03:20:36 AM)</font> <b>wkennington:</b></font> Yes stateful breakage<br/>
<font color="#A82F2F"><font size="2">(03:21:12 AM)</font> <b>dysinger:</b></font> sorry I meant nixpkgs<br/>
<font color="#A82F2F"><font size="2">(03:21:17 AM)</font> <b>dysinger:</b></font> wkennington: ^<br/>
<font color="#16569E"><font size="2">(03:21:21 AM)</font> <b>magnetophon:</b></font> wkennington: what's statefull breakage? <br/>
<font color="#A82F2F"><font size="2">(03:21:47 AM)</font> <b>McEnroe:</b></font> magnetophon: example: data is in format 1.0<br/>
<font color="#A82F2F"><font size="2">(03:21:58 AM)</font> <b>McEnroe:</b></font> magnetophon: software update.<br/>
<font color="#A82F2F"><font size="2">(03:22:26 AM)</font> <b>McEnroe:</b></font> magnetophon: Migration script updates data format: 1.0 -&gt; 1.1.<br/>
<font color="#A82F2F"><font size="2">(03:22:48 AM)</font> <b>McEnroe:</b></font> magnetophon: Turns out that the software itself is broken in 1.1!<br/>
<font size="2">(03:23:00 AM)</font><b> begriffs [<em>~begriffs@173-8-156-177-SFBA.hfc.comcastbusiness.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(03:23:01 AM)</font> <b>McEnroe:</b></font> magnetophon: Rollback! Software back 1.0.<br/>
<font color="#A82F2F"><font size="2">(03:23:17 AM)</font> <b>McEnroe:</b></font> magnetophon: Time to run the un-migration script!<br/>
<font color="#16569E"><font size="2">(03:23:25 AM)</font> <b>magnetophon:</b></font> McEnroe: so he was responding to your &quot;it'll be in /var&quot;?<br/>
<font color="#A82F2F"><font size="2">(03:23:28 AM)</font> <b>McEnroe:</b></font> magnetophon: Tears.<br/>
<font color="#A82F2F"><font size="2">(03:23:41 AM)</font> <b>wkennington:</b></font> Yes<br/>
<font color="#A82F2F"><font size="2">(03:24:24 AM)</font> <b>wkennington:</b></font> It would be cool if we had a NixOS feature to snapshot /var for each update<br/>
<font color="#A82F2F"><font size="2">(03:24:25 AM)</font> <b>wkennington:</b></font> Or parts of var<br/>
<font color="#A82F2F"><font size="2">(03:24:37 AM)</font> <b>wkennington:</b></font> On btrfs / zfs<br/>
<font color="#A82F2F"><font size="2">(03:24:45 AM)</font> <b>McEnroe:</b></font> This would work only if the breakage is obvious.<br/>
<font color="#16569E"><font size="2">(03:25:07 AM)</font> <b>magnetophon:</b></font> Thanks for your patient explanations guys. Hopefully I'll soon be able to give back some packages to the comunity as a thank you!<br/>
<font color="#A82F2F"><font size="2">(03:25:14 AM)</font> <b>McEnroe:</b></font> magnetophon: Np.<br/>
<font color="#A82F2F"><font size="2">(03:25:40 AM)</font> <b>wkennington:</b></font> McEnroe yes but you only ever roll back if breakage is obvious<br/>
<font color="#A82F2F"><font size="2">(03:25:54 AM)</font> <b>wkennington:</b></font> And it&apos;s not like it wouldn&apos;t keep the new data around<br/>
<font color="#A82F2F"><font size="2">(03:26:16 AM)</font> <b>McEnroe:</b></font> wkennington: think DB.<br/>
<font color="#A82F2F"><font size="2">(03:26:42 AM)</font> <b>wkennington:</b></font> Still fine<br/>
<font color="#A82F2F"><font size="2">(03:27:03 AM)</font> <b>McEnroe:</b></font> wkennington: What do you do with the new data then when you roll back?<br/>
<font color="#A82F2F"><font size="2">(03:27:39 AM)</font> <b>wkennington:</b></font> It stays in the subvol for the new NixOS version<br/>
<font color="#A82F2F"><font size="2">(03:27:51 AM)</font> <b>wkennington:</b></font> Heck<br/>
<font color="#A82F2F"><font size="2">(03:27:55 AM)</font> <b>wkennington:</b></font> What you really want<br/>
<font color="#A82F2F"><font size="2">(03:27:58 AM)</font> <b>dysinger:</b></font> I swear I read before that nixpkgs worked on freebsd.  I’m not seeing it now though. :|<br/>
<font color="#A82F2F"><font size="2">(03:28:22 AM)</font> <b>wkennington:</b></font> Is the ability to select the var version if you select a non default version<br/>
<font color="#A82F2F"><font size="2">(03:28:29 AM)</font> <b>wkennington:</b></font> Then you pick<br/>
<font color="#A82F2F"><font size="2">(03:29:12 AM)</font> <b>wkennington:</b></font> And sure, you lose newer transactions if the newest format isn&apos;t compatible. But the alternative is to have nothing<br/>
<font color="#A82F2F"><font size="2">(03:29:29 AM)</font> <b>McEnroe:</b></font> Use case: You&apos;re running a forum with, idk, 5 posts per minute ...<br/>
<font color="#A82F2F"><font size="2">(03:29:37 AM)</font> <b>wkennington:</b></font> And you could still leave it off / broken until it is fixed<br/>
<font color="#A82F2F"><font size="2">(03:29:41 AM)</font> <b>McEnroe:</b></font> wkennington: True.<br/>
<font color="#A82F2F"><font size="2">(03:29:53 AM)</font> <b>wkennington:</b></font> McEnroe this doesn&apos;t affect that case<br/>
<font color="#A82F2F"><font size="2">(03:29:56 AM)</font> <b>wkennington:</b></font> In that case you are hosed regardless<br/>
<font color="#A82F2F"><font size="2">(03:29:58 AM)</font> <b>McEnroe:</b></font> But then the merging will be really fun.<br/>
<font color="#A82F2F"><font size="2">(03:30:26 AM)</font> <b>McEnroe:</b></font> wkennington: That&apos;s my point. At this point it&apos;s just backup.<br/>
<font color="#A82F2F"><font size="2">(03:30:50 AM)</font> <b>McEnroe:</b></font> I don&apos;t think it&apos;s generic enough to be system-level functionality.<br/>
<font size="2">(03:31:23 AM)</font><b> sj_mackenzie [<em>~sj_macken@103.6.176.170</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(03:31:27 AM)</font> <b>wkennington:</b></font> Which might still be desirable<br/>
<font color="#A82F2F"><font size="2">(03:31:57 AM)</font> <b>McEnroe:</b></font> Absolutely. But the level of integration is debatable.<br/>
<font size="2">(03:33:12 AM)</font><b> mattdv left the room (quit: Quit: Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(03:33:12 AM)</font> <b>wkennington:</b></font> Right, but we would be doing snapshots per service<br/>
<font color="#A82F2F"><font size="2">(03:33:20 AM)</font> <b>wkennington:</b></font> So you could roll whatever you needed<br/>
<font size="2">(03:33:47 AM)</font><b> ajhager left the room (quit: Ping timeout: 258 seconds).</b><br/>
<font size="2">(03:34:55 AM)</font><b> ajhager [<em>~ajhager@99-8-18-142.lightspeed.iplsin.sbcglobal.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(03:35:08 AM)</font> <b>wkennington:</b></font> Anyway it&apos;s not really important, you should be doing backups of necessary var things anyway<br/>
<font color="#A82F2F"><font size="2">(03:35:31 AM)</font> <b>McEnroe:</b></font> Say, can you rollback configuration.nix?<br/>
<font size="2">(03:35:36 AM)</font><b> tobik left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font size="2">(03:36:10 AM)</font><b> ReinH left the room (quit: Disconnected by services).</b><br/>
<font size="2">(03:37:38 AM)</font><b> jb55 [<em>~jb55@S0106f46d049a0b83.vc.shawcable.net</em>] entered the room.</b><br/>
<font size="2">(03:37:49 AM)</font><b> tobik [<em>~tobik@p5DC7F407.dip0.t-ipconnect.de</em>] entered the room.</b><br/>
<font size="2">(03:39:11 AM)</font><b> emery left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font size="2">(03:49:20 AM)</font><b> Rastus_Vernon [<em>uid15187@wikimedia/Rastus-Vernon</em>] entered the room.</b><br/>
<font size="2">(03:50:36 AM)</font><b> begriffs left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(03:55:30 AM)</font><b> emery [<em>~emery@gateway/tor-sasl/nickemery</em>] entered the room.</b><br/>
<font size="2">(04:21:50 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
