<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Mon 02 Mar 2015 04:47:28 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Mon 02 Mar 2015 04:47:28 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(04:47:28 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(04:47:28 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(04:49:10 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] pSub pushed 1 new commit to master: http://git.io/x0bG<br/>
<font color="#A82F2F"><font size="2">(04:49:10 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b9540c5 Pascal Wittmann: rdesktop: update from 1.8.2 to 1.8.3<br/>
<font color="#A82F2F"><font size="2">(04:49:50 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bobvanderlinden opened pull request #6629: mssys: upgrade to 2.4.1 (master...mssys-2.4.1) http://git.io/x0bS<br/>
<font color="#A82F2F"><font size="2">(04:55:48 PM)</font> <b>goibhniu:</b></font> ____Tony: I presume you don&apos;t have a UEFI enabled system, right?<br/>
<font color="#A82F2F"><font size="2">(04:56:40 PM)</font> <b>goibhniu:</b></font> the error doesnt&apos; look familiar<br/>
<font color="#A82F2F"><font size="2">(04:57:44 PM)</font> <b>____Tony:</b></font> goibhniu: No. Actually am setting up in a VMware Guest. No UEFI. Only unencrypted GPT disk. I can try again with MBR<br/>
<font color="#A82F2F"><font size="2">(04:58:49 PM)</font> <b>goibhniu:</b></font> ____Tony: ah, and you have the BIOS partition?<br/>
<font color="#A82F2F"><font size="2">(05:00:45 PM)</font> <b>____Tony:</b></font> BIOS partition? I don&apos;t have a separate boot partition. According to the nixOS manual (which doesn&apos;t specify a recommended disk layout, was expecting /boot to be installed as a subdirectory of root<br/>
<font color="#A82F2F"><font size="2">(05:01:51 PM)</font> <b>Lethalman:</b></font> ____Tony, /boot partition is optional of course<br/>
<font color="#A82F2F"><font size="2">(05:02:13 PM)</font> <b>Lethalman:</b></font> ____Tony, what device did you set for grub?<br/>
<font color="#A82F2F"><font size="2">(05:02:22 PM)</font> <b>goibhniu:</b></font> ____Tony: IIRC you need a BIOS partition when using GPT<br/>
<font color="#A82F2F"><font size="2">(05:02:36 PM)</font> <b>Lethalman:</b></font> ____Tony, maybe you wrongly set device = &quot;/dev/sdaX&quot; but it must be &quot;/dev/sda&quot; for the MBR<br/>
<font color="#A82F2F"><font size="2">(05:02:38 PM)</font> <b>____Tony:</b></font> Lethalman: Yes. But since /boot partition wasn&apos;t specified I just followed steps<br/>
<font color="#A82F2F"><font size="2">(05:03:47 PM)</font> <b>LangeOortjes:</b></font> goibhniu, __Tony: you do indeed need a small partition to let GRUB boot of a GPT-partioned disk in bios mode<br/>
<font color="#A82F2F"><font size="2">(05:03:56 PM)</font> <b>____Tony:</b></font> goibhniu: If so, my bad. Now I seem to remember something like that, but wasn&apos;t sure because grub can&apos;t be on btfrs. Thought ext4 should be fine<br/>
<font color="#A82F2F"><font size="2">(05:04:29 PM)</font> <b>____Tony:</b></font> Lethalman: No, double-checked that. Pointing to correct partition and path<br/>
<font color="#A82F2F"><font size="2">(05:04:33 PM)</font> <b>goibhniu:</b></font> ____Tony:  https://wiki.archlinux.org/index.php/GRUB#GUID_Partition_Table_.28GPT.29_specific_instructions<br/>
<font color="#A82F2F"><font size="2">(05:04:40 PM)</font> <b>Lethalman:</b></font> no idea<br/>
<font color="#A82F2F"><font size="2">(05:04:54 PM)</font> <b>goibhniu:</b></font> thanks LangeOortjes<br/>
<font color="#A82F2F"><font size="2">(05:05:05 PM)</font> <b>____Tony:</b></font> goibhniu: Thx. I&apos;ll read your link and likely re-build with MBR<br/>
<font color="#A82F2F"><font size="2">(05:05:15 PM)</font> <b>goibhniu:</b></font> should be grand with MBR anyway<br/>
<font color="#A82F2F"><font size="2">(05:06:27 PM)</font> <b>Lethalman:</b></font> maybe this can be of any help? don&apos;t know<br/>
<font color="#A82F2F"><font size="2">(05:06:28 PM)</font> <b>Lethalman:</b></font> http://blog.lastlog.de/posts/booting_nixos_from_lvm_on_top_of_mdadm_using_gpt/<br/>
<font color="#A82F2F"><font size="2">(05:06:28 PM)</font> <b>LangeOortjes:</b></font> ____Tony: Are you sure that grub does not support booting of a btrfs partition?<br/>
<font color="#A82F2F"><font size="2">(05:06:32 PM)</font> <b>Lethalman:</b></font> nice blog post, I missed that one<br/>
<font color="#A82F2F"><font size="2">(05:06:38 PM)</font> <b>LangeOortjes:</b></font> I think Grub 2 does<br/>
<font color="#A82F2F"><font size="2">(05:07:06 PM)</font> <b>LangeOortjes:</b></font> I used it very recently, althouh I was booting in UEFI-mode<br/>
<font color="#A82F2F"><font size="2">(05:07:23 PM)</font> <b>____Tony:</b></font> LangeOortjes: My memory could be faulty. I&apos;d have to check<br/>
<font size="2">(05:09:22 PM)</font><b> pmahoney left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(05:09:30 PM)</font> <b>kmicu:</b></font> In UEFI you need a separate ESP boot partition. Btrfs is not an option here.<br/>
<font color="#A82F2F"><font size="2">(05:13:45 PM)</font> <b>kmicu:</b></font> (GRUB can handle btrfs)<br/>
<font size="2">(05:15:24 PM)</font><b> ____Tony left the room (&quot;http://quassel-irc.org - Chat comfortably. Anywhere.&quot;).</b><br/>
<font color="#16569E"><font size="2">(05:17:46 PM)</font> <b>magnetophon:</b></font> While building, I get: &quot;output path ‘/nix/store/foo’ should have sha256 hash ‘the has that is actually in the .nix’, instead has ‘the hash I had in the .nix before’&quot;. IOW nix is acting as if it didn't pick up my changes in the .nix. I tested that by making some random changes and building again, and they do get picked up.<br/>
<font color="#16569E"><font size="2">(05:19:44 PM)</font> <b>magnetophon:</b></font> Sorry, I didn't explain that well: I have the correct hash, but nix says I have another hash: one I used before.<br/>
<font color="#A82F2F"><font size="2">(05:23:46 PM)</font> <b>LangeOortjes:</b></font> kmicu: I am trying to see your point, of course btrfs isn&apos;t suitable for the ESP, but it shouldn&apos;t enhance GRUB&apos;s capabilities. I&apos;ve done some reading through the GRUB manual and all I can find is that it should support btrfs transparently.<br/>
<font color="#A82F2F"><font size="2">(05:24:51 PM)</font> <b>kmicu:</b></font> LangeOortjes: “GRUB *can* handle btrfs” :)<br/>
<font size="2">(05:26:07 PM)</font><b> pmahoney [<em>user@nat/rackspace/x-twldpowhucwneprn</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(05:28:24 PM)</font> <b>LangeOortjes:</b></font> you just confused me by bringing the ESP boot partition into the discussion which somehow gave me the idea that if grub&apos;s installed to a bios boot partition it may behave differently and not be able to boot from btrfs. But that&apos;s really not the case at all. ;)<br/>
<font color="#A82F2F"><font size="2">(05:29:12 PM)</font> <b>kmicu:</b></font> It’s confusing, b/c we have partition tables, boot loaders, firmwares, etc. And GRUB supports GPT *and* MBR.<br/>
<font color="#A82F2F"><font size="2">(05:30:07 PM)</font> <b>kmicu:</b></font> We should just wait for questions from __Tony instead explaining all that mess ;)<br/>
<font color="#16569E"><font size="2">(05:33:04 PM)</font> <b>magnetophon:</b></font> nm...  <br/>
<font color="#A82F2F"><font size="2">(06:00:42 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman closed pull request #6605: Adding Afterstep to nixos window manager modules (master...afterstep) http://git.io/xsEP<br/>
<font color="#A82F2F"><font size="2">(06:04:38 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman pushed 2 new commits to master: http://git.io/xEKJ<br/>
<font color="#A82F2F"><font size="2">(06:04:38 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 97079a0 Bob van der Linden: i3: upgrade to 4.9<br/>
<font color="#A82F2F"><font size="2">(06:04:38 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e5dd67f lethalman: Merge pull request #6619 from bobvanderlinden/i3-4.9...<br/>
<font size="2">(06:15:04 PM)</font><b> pmahoney left the room (quit: Ping timeout: 265 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(06:36:24 PM)</font> <b>mgregson:</b></font> I&apos;m interested in setting up some packages for personal use. What&apos;s the recommended way to manage this?<br/>
<font color="#A82F2F"><font size="2">(06:36:41 PM)</font> <b>hyper_ch:</b></font> you need to use magic<br/>
<font color="#A82F2F"><font size="2">(06:37:14 PM)</font> <b>Lethalman:</b></font> mgregson, there are like 149183 answers to your question, choose a random one<br/>
<font color="#A82F2F"><font size="2">(06:37:43 PM)</font> <b>hyper_ch:</b></font> Lethalman: you konw what happened to Phreedom?<br/>
<font color="#A82F2F"><font size="2">(06:37:47 PM)</font> <b>kmicu:</b></font> That is one from 149183 https://nixos.org/nixos/manual/sec-package-management.html#sec-custom-packages<br/>
<font color="#A82F2F"><font size="2">(06:37:55 PM)</font> <b>Lethalman:</b></font> hyper_ch, no idea, but I think he&apos;s here from time to time<br/>
<font color="#A82F2F"><font size="2">(06:38:08 PM)</font> <b>hyper_ch:</b></font> I haven&apos;t seen him for like 3 weeks :(<br/>
<font color="#A82F2F"><font size="2">(06:38:13 PM)</font> <b>mgregson:</b></font> kmicu: Thanks!<br/>
<font color="#A82F2F"><font size="2">(06:39:07 PM)</font> <b>mgregson:</b></font> kmicu: That one requires that I import each package individually. Is there a way to construct my own package repository? Something like Gentoo&apos;s local overlays would be nice.<br/>
<font color="#A82F2F"><font size="2">(06:41:29 PM)</font> <b>Lethalman:</b></font> mgregson, what to do you want to achieve specifically with the packages<br/>
<font color="#A82F2F"><font size="2">(06:41:41 PM)</font> <b>kmicu:</b></font> I cannot answer that, b/c I don’t know what is your definition of ‘package repository’ and ‘overlays’.<br/>
<font color="#A82F2F"><font size="2">(06:43:36 PM)</font> <b>kmicu:</b></font> Of course you can describe your goals|use–cases and we figure it out.<br/>
<font color="#A82F2F"><font size="2">(06:44:25 PM)</font> <b>mgregson:</b></font> cool<br/>
<font color="#A82F2F"><font size="2">(06:45:02 PM)</font> <b>mgregson:</b></font> So I&apos;d like to maintain a collection of packages independent of the main... channel?<br/>
<font color="#A82F2F"><font size="2">(06:45:36 PM)</font> <b>mgregson:</b></font> (Sorry, I&apos;m new to this nixos/nixpkg thing, and the terminology is a bit different. I&apos;m probably going to get it wrong for a while.)<br/>
<font color="#062585"><font size="2">(06:46:44 PM)</font> <b>***kmicu</b></font> is checking if we have ‘Glossary|Terminology|Nomenclature’ chapter in Nix* manuals.<br/>
<font color="#A82F2F"><font size="2">(06:47:16 PM)</font> <b>goibhniu:</b></font> mgregson: some things you can think about are adding some extra packages to your ~/.nixpkgs/config.nix ... or running your own build farm (hydra)<br/>
<font color="#A82F2F"><font size="2">(06:47:53 PM)</font> <b>goibhniu:</b></font> mgregson: it depends a bit on the scope of what you want to achieve ... e.g. why not put them in nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(06:48:09 PM)</font> <b>mgregson:</b></font> goibhniu: Perhaps eventually it makes sense to make them public<br/>
<font color="#A82F2F"><font size="2">(06:48:15 PM)</font> <b>mgregson:</b></font> goibhniu: but I&apos;d prefer to do that after they... work?<br/>
<font color="#A82F2F"><font size="2">(06:48:30 PM)</font> <b>goibhniu:</b></font> ah ok, so these are programs that you&apos;re working on yourself, right?<br/>
<font color="#A82F2F"><font size="2">(06:48:52 PM)</font> <b>mgregson:</b></font> goibhniu: Some are personal projects, others are pieces of software from around the internet that are not included in nixpkgs.<br/>
<font color="#A82F2F"><font size="2">(06:49:36 PM)</font> <b>mgregson:</b></font> goibhniu: I was going to start with someone else&apos;s project that I would like to install/use to get a feel for the process, and then move on to my own projects.<br/>
<font color="#A82F2F"><font size="2">(06:49:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lethalman closed pull request #6624: nixos: grsec-lock service fixes (master...grsec-lock) http://git.io/xBBe<br/>
<font color="#A82F2F"><font size="2">(06:51:11 PM)</font> <b>mgregson:</b></font> kmicu: I didn&apos;t see one, but I&apos;ve missed these things before.<br/>
<font color="#A82F2F"><font size="2">(06:51:27 PM)</font> <b>goibhniu:</b></font> mgregson: do you want to manage them as a set, or just build them individually from time to time?<br/>
<font color="#A82F2F"><font size="2">(06:51:51 PM)</font> <b>mgregson:</b></font> goibhniu: That&apos;s a tougher one - what does it mean for them to be a set vs built individually?<br/>
<font color="#A82F2F"><font size="2">(06:52:14 PM)</font> <b>goibhniu:</b></font> mgregson: I&apos;d say a good place to start would be to add a default.nix for you projects which builds them for you<br/>
<font color="#A82F2F"><font size="2">(06:52:31 PM)</font> <b>mgregson:</b></font> goibhniu: They&apos;re not interdependent (necessarily), but it&apos;d be easier to maintain this all in a single place.<br/>
<font color="#A82F2F"><font size="2">(06:52:33 PM)</font> <b>goibhniu:</b></font> it&apos;s a pretty nice way to get familiar with nix<br/>
<font color="#A82F2F"><font size="2">(06:53:04 PM)</font> <b>mgregson:</b></font> Yeah, I&apos;ve seen that before, but how do I apply it to installing a binary blob from some website?<br/>
<font color="#A82F2F"><font size="2">(06:53:18 PM)</font> <b>mgregson:</b></font> I have a few such blobs I&apos;d like to install.<br/>
<font color="#A82F2F"><font size="2">(06:53:25 PM)</font> <b>goibhniu:</b></font> mgregson: https://nixos.org/wiki/FAQ#I.27ve_downloaded_a_binary.2C_but_I_can.27t_run_it.2C_what_can_I_do.3F<br/>
<font color="#A82F2F"><font size="2">(06:53:59 PM)</font> <b>mgregson:</b></font> mmhm, that&apos;s helpful<br/>
<font color="#A82F2F"><font size="2">(06:54:00 PM)</font> <b>mgregson:</b></font> thanks<br/>
<font color="#A82F2F"><font size="2">(06:54:22 PM)</font> <b>mgregson:</b></font> continuing from there, where do people generally store nix ?scripts? like that?<br/>
<font color="#A82F2F"><font size="2">(06:54:24 PM)</font> <b>goibhniu:</b></font> nix-shell is also handy for hacking on your own projects<br/>
<font color="#A82F2F"><font size="2">(06:54:40 PM)</font> <b>mgregson:</b></font> Yea, nix-shell looks pretty awesome. It&apos;s part of why I&apos;m trying nixos.<br/>
<font color="#A82F2F"><font size="2">(06:54:50 PM)</font> <b>goibhniu:</b></font> mgregson: you could add the default.nix to your own projects<br/>
<font color="#A82F2F"><font size="2">(06:54:50 PM)</font> <b>Lethalman:</b></font> mgregson, wherever<br/>
<font color="#A82F2F"><font size="2">(06:55:00 PM)</font> <b>Lethalman:</b></font> place .nix files where you please<br/>
<font color="#A82F2F"><font size="2">(06:56:14 PM)</font> <b>mgregson:</b></font> And how do I tell nix where to find them all so that I don&apos;t have to constantly specify the scripts?<br/>
<font color="#A82F2F"><font size="2">(06:57:05 PM)</font> <b>mgregson:</b></font> A long list in configuration.nix seems like it would rapidly become impractical. (Maybe I&apos;m wrong and this works out better than it sounds...)<br/>
<font color="#A82F2F"><font size="2">(06:59:18 PM)</font> <b>kmicu:</b></font> mgregson: maybe *now* you need to check https://nixos.org/wiki/Real_World_NixOS_Dotfiles<br/>
<font color="#062585"><font size="2">(06:59:50 PM)</font> <b>***kmicu</b></font> is trying to figure out what to give a newcomer who don’t want to read manual. :)<br/>
<font color="#A82F2F"><font size="2">(07:00:18 PM)</font> <b>kmicu:</b></font> doesn’t*<br/>
<font color="#A82F2F"><font size="2">(07:00:29 PM)</font> <b>Lethalman:</b></font> mgregson,  ~/.nixpkgs/config.nix if you want<br/>
<font color="#A82F2F"><font size="2">(07:00:41 PM)</font> <b>Lethalman:</b></font> mgregson, and of course you can import .nix files into those other nix files<br/>
<font color="#A82F2F"><font size="2">(07:01:09 PM)</font> <b>Lethalman:</b></font> or use NIX_PATH=mypkgs=somepath...<br/>
<font color="#A82F2F"><font size="2">(07:01:12 PM)</font> <b>Lethalman:</b></font> then use &lt;mypkgs&gt;<br/>
<font color="#A82F2F"><font size="2">(07:01:31 PM)</font> <b>Lethalman:</b></font> many ways, as said<br/>
<font color="#A82F2F"><font size="2">(07:01:41 PM)</font> <b>Lethalman:</b></font> just write the nix expression somewhere, then import elsewhere or whatever<br/>
<font color="#A82F2F"><font size="2">(07:02:17 PM)</font> <b>mgregson:</b></font> kmicu: Your manual is a little difficult to read without some more hands-on experience.<br/>
<font color="#A82F2F"><font size="2">(07:02:39 PM)</font> <b>kmicu:</b></font> Lethalman, a newcomer reads that as “use WHOLE, then use WHOLE, or WHOLE=WHOLE…<br/>
<font color="#A82F2F"><font size="2">(07:03:01 PM)</font> <b>kmicu:</b></font> mgregson: anything new is difficult.<br/>
<font color="#A82F2F"><font size="2">(07:03:10 PM)</font> <b>mgregson:</b></font> Actually, I understood Lethalman just fine.<br/>
<font size="2">(07:04:40 PM)</font><b> Digit_ is now known as Digit</b><br/>
<font color="#A82F2F"><font size="2">(07:04:53 PM)</font> <b>kmicu:</b></font> Do you know what is ~/.nixpkgs/config.nix?<br/>
<font size="2">(07:04:53 PM)</font><b> roconnor [<em>~roconnor@e120-pool-d89a791f.brdbnd.voicenetwork.ca</em>] entered the room.</b><br/>
<font size="2">(07:05:10 PM)</font><b> Digit is now known as Guest71736</b><br/>
<font color="#A82F2F"><font size="2">(07:05:45 PM)</font> <b>mgregson:</b></font> kmicu: User-specific environment configuration, no?<br/>
<font color="#A82F2F"><font size="2">(07:05:49 PM)</font> <b>kmicu:</b></font> You can check in ‘Real World Dotfiles” link how that works for packages management e.g. https://github.com/jwiegley/nix-config/blob/master/config.nix<br/>
<font color="#A82F2F"><font size="2">(07:06:13 PM)</font> <b>Lethalman:</b></font> omg that nix file lol<br/>
<font color="#A82F2F"><font size="2">(07:06:14 PM)</font> <b>Lethalman:</b></font> impressive<br/>
<font color="#A82F2F"><font size="2">(07:07:34 PM)</font> <b>mgregson:</b></font> Hmm, okay. I think I understand a little more now.<br/>
<font size="2">(07:07:44 PM)</font><b> goibhniu left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(07:07:48 PM)</font> <b>kmicu:</b></font> I’m still not sure if mgregson wants to 1. develop some projects with nix 2. setup hydra server 3. create an overlay like e.g. https://github.com/wavewave/hep-nix-overlay 4….<br/>
<font color="#A82F2F"><font size="2">(07:08:15 PM)</font> <b>mgregson:</b></font> kmicu: What is an overlay used for?<br/>
<font size="2">(07:08:16 PM)</font><b> Digit_ is now known as Digit</b><br/>
<font color="#A82F2F"><font size="2">(07:08:28 PM)</font> <b>Lethalman:</b></font> oh wow, why isn&apos;t that contributed back to nixpkgs? :S<br/>
<font color="#A82F2F"><font size="2">(07:08:32 PM)</font> <b>mgregson:</b></font> kmicu: I probably don&apos;t want to set up a hydra server. That sounds (having no idea what it is) like total overkill.<br/>
<font size="2">(07:08:46 PM)</font><b> Digit is now known as Guest8347</b><br/>
<font color="#A82F2F"><font size="2">(07:09:04 PM)</font> <b>mgregson:</b></font> The overlay you linked looks like what I&apos;m aiming for.<br/>
<font color="#A82F2F"><font size="2">(07:09:42 PM)</font> <b>Lethalman:</b></font> gtg<br/>
<font size="2">(07:09:44 PM)</font><b> Lethalman left the room (quit: Quit: Sto andando via).</b><br/>
<font size="2">(07:10:01 PM)</font><b> Guest8347 is now known as Digit_</b><br/>
<font color="#A82F2F"><font size="2">(07:10:12 PM)</font> <b>mgregson:</b></font> From what I&apos;ve understood so far, to set up one of those I create a directory with a default.nix pointing at (through some web of includes) the expression files in subdirectories. Then, I point nixpkgs at that default.nix by including the directory it&apos;s located in.<br/>
<font color="#A82F2F"><font size="2">(07:10:35 PM)</font> <b>mgregson:</b></font> If I like, this directory can be a git repository that I then find my own way to keep in sync across various machines.<br/>
<font color="#A82F2F"><font size="2">(07:11:20 PM)</font> <b>malyn:</b></font> mgregson: That&apos;s what I want as well.  So far I can only find callPackages-filled examples like that aforementioned config.nix<br/>
<font color="#A82F2F"><font size="2">(07:11:35 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] brendanlong opened pull request #6631: syncthing: Update to 0.10.24 (master...syncthing-0.10.24) http://git.io/xuCN<br/>
<font color="#A82F2F"><font size="2">(07:11:58 PM)</font> <b>malyn:</b></font> mgregson: What I really want is just a &quot;private&quot; nixpkgs that I can refer to with some sort of prefix.  i.e. `nix-env -iA mypkgs.whatever`, perhaps by putting mypkgs=... in NIX_PATH?<br/>
<font color="#A82F2F"><font size="2">(07:12:08 PM)</font> <b>malyn:</b></font> mgregson: I haven&apos;t found any examples yet though...<br/>
<font color="#A82F2F"><font size="2">(07:12:21 PM)</font> <b>mgregson:</b></font> malyn: I&apos;d like to not have to refer to it explicitly.<br/>
<font color="#A82F2F"><font size="2">(07:12:38 PM)</font> <b>mgregson:</b></font> malyn: Doing so gets pretty annoying after a while. ;)<br/>
<font size="2">(07:12:52 PM)</font><b> pmahoney [<em>~user@50.57.17.244</em>] entered the room.</b><br/>
<font color="#062585"><font size="2">(07:12:56 PM)</font> <b>***kmicu</b></font> thinks the biggest confusion comes from ‘nixpkgs’ (lack of) definition .<br/>
<font color="#A82F2F"><font size="2">(07:13:17 PM)</font> <b>mgregson:</b></font> kmicu: Yeah, I&apos;m starting to agree that there&apos;s some confusion there.<br/>
<font color="#A82F2F"><font size="2">(07:13:44 PM)</font> <b>mgregson:</b></font> kmicu: My understanding before was that nixpkgs was akin to an apt repository. Now it seems more like a random collection of files that link together using includes.<br/>
<font color="#A82F2F"><font size="2">(07:14:13 PM)</font> <b>malyn:</b></font> mgregson: I think that namespacing can be valuable, although I am happy to give it up if it just works at all. :)<br/>
<font color="#A82F2F"><font size="2">(07:14:19 PM)</font> <b>kmicu:</b></font> malyn: callPackage–filled… https://github.com/NixOS/nixpkgs/blob/master/pkgs/top-level/all-packages.nix :)<br/>
<font color="#A82F2F"><font size="2">(07:14:43 PM)</font> <b>malyn:</b></font> That overlay does look interesting...  They appear to jam something into config.nix that merges their package list into the nixpkgs namespace?<br/>
<font color="#A82F2F"><font size="2">(07:15:52 PM)</font> <b>kmicu:</b></font> There is many overlay examples — for python, ruby, haskell, tex, etc…<br/>
<font color="#A82F2F"><font size="2">(07:15:58 PM)</font> <b>malyn:</b></font> kmicu: Yeah, good point. :) Maybe I am already doing this the &quot;best&quot; way then.<br/>
<font color="#A82F2F"><font size="2">(07:16:05 PM)</font> <b>mgregson:</b></font> malyn: That&apos;s a good point. I suppose I always had a way to specify which collection I wanted if there was a need to.<br/>
<font color="#A82F2F"><font size="2">(07:16:21 PM)</font> <b>mgregson:</b></font> kmicu: Am I on the right track here?<br/>
<font color="#A82F2F"><font size="2">(07:17:24 PM)</font> <b>mgregson:</b></font> hmm, perhaps it&apos;s more of a program... function definitions that I can call from elsewhere for the purpose of building/installing things<br/>
<font color="#A82F2F"><font size="2">(07:17:36 PM)</font> <b>malyn:</b></font> kmicu: FWIW, my main issue at the moment is that I have to manually nix-env -f my/callpackagesfile.nix -i whatever instead of just nix-env -i whatever.<br/>
<font color="#A82F2F"><font size="2">(07:17:54 PM)</font> <b>mgregson:</b></font> malyn: Exactly!<br/>
<font color="#A82F2F"><font size="2">(07:18:06 PM)</font> <b>mgregson:</b></font> malyn: I can totally -f &lt;path&gt;, but that&apos;s obnoxious.<br/>
<font color="#A82F2F"><font size="2">(07:18:39 PM)</font> <b>mgregson:</b></font> It also moves the burden of knowing where these things are defined into any default.nix I want to create using them, which might be all over the place.<br/>
<font color="#A82F2F"><font size="2">(07:19:18 PM)</font> <b>malyn:</b></font> mgregson: Yep. I feel like I am just missing something basic here. Like adding mypkgs=.../my-all-packages.nix to NIX_PATH.  I guess I should just try that and see what happens.<br/>
<font color="#A82F2F"><font size="2">(07:19:38 PM)</font> <b>the-kenny:</b></font> malyn: if you do that, you can import &lt;mypkgs&gt; {}<br/>
<font color="#A82F2F"><font size="2">(07:20:03 PM)</font> <b>malyn:</b></font> the-kenny: Do you happen to know if I can then say `nix-env -iA mypkgs.whatever` and that works? As I said, haven&apos;t tried it yet... (just &quot;came up&quot; with the idea now)<br/>
<font color="#A82F2F"><font size="2">(07:20:09 PM)</font> <b>the-kenny:</b></font> think so<br/>
<font size="2">(07:20:18 PM)</font><b> roconnor left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(07:20:24 PM)</font> <b>malyn:</b></font> Cool. Maybe that&apos;s the one piece that I have been missing then.<br/>
<font color="#A82F2F"><font size="2">(07:20:38 PM)</font> <b>RchrdB:</b></font> mgregson: have you ever seen (Free|Open)BSD Ports?<br/>
<font color="#A82F2F"><font size="2">(07:32:50 PM)</font> <b>malyn:</b></font> the-kenny: mgregson That does appear to work! I had to add a symlink to my top-level custom packages directory into ~/.nix-defexpr though (instead of to NIX_PATH, which didn&apos;t work).<br/>
<font color="#A82F2F"><font size="2">(07:33:19 PM)</font> <b>malyn:</b></font> I continue to be confused by NIX_PATH vs. ~/.nix-defexpr ... :(<br/>
<font color="#A82F2F"><font size="2">(07:33:35 PM)</font> <b>kmicu:</b></font> nix-env will not respect NIX_PATH only ~/.nix-defexpr.<br/>
<font color="#A82F2F"><font size="2">(07:33:43 PM)</font> <b>kmicu:</b></font> It’s described in its manual.<br/>
<font color="#A82F2F"><font size="2">(07:34:13 PM)</font> <b>kmicu:</b></font> (Don’t ask me if that inconsistency is beneficial for users though)<br/>
<font color="#A82F2F"><font size="2">(07:35:04 PM)</font> <b>malyn:</b></font> kmicu: I don&apos;t know, NIX_PATH is mentioned quite a bit in the nix-env man page and uses words like &quot;Add a path to the Nix expression search path&quot; which is similar to the text for ~/.nix-defexpr &quot;contains the default Nix expressions used by ... to obtain derivations.&quot;<br/>
<font color="#A82F2F"><font size="2">(07:35:43 PM)</font> <b>malyn:</b></font> Maybe this is the difference between &quot;Nix expressions&quot; and &quot;derivations&quot;?  And if so, what is that difference..?<br/>
<font color="#A82F2F"><font size="2">(07:36:27 PM)</font> <b>kmicu:</b></font> ‘Quite a bit’ = two times in one paragraph :)<br/>
<font color="#A82F2F"><font size="2">(07:37:05 PM)</font> <b>kmicu:</b></font> (and yes, there is a difference :)<br/>
<font color="#A82F2F"><font size="2">(07:37:30 PM)</font> <b>malyn:</b></font> kmicu: LOL... sure, but it still sounds like it is respecting NIX_PATH, at least based on my layman&apos;s understanding of all of this.<br/>
<font color="#A82F2F"><font size="2">(07:37:42 PM)</font> <b>kmicu:</b></font> We need a ‘hoogle’ for nix manuals.<br/>
<font color="#A82F2F"><font size="2">(07:37:55 PM)</font> <b>malyn:</b></font> So what&apos;s the difference?  When am I searchign for an expression (NIX_PATH) vs a derivation (~/.nix-defexpr)?  I feel like I only do the latter?<br/>
<font color="#A82F2F"><font size="2">(07:39:19 PM)</font> <b>malyn:</b></font> kmicu: BTW, it&apos;s still totally awesome that I can avoid `nix-env -f` now, I just want to understand how I made it work. :)<br/>
<font color="#A82F2F"><font size="2">(07:41:19 PM)</font> <b>kmicu:</b></font> -f = --file  will override .nix-defexpr. If you changed your .nix-defexpr instead of using -f, then you don’t need to use -f.<br/>
<font color="#A82F2F"><font size="2">(07:42:11 PM)</font> <b>malyn:</b></font> kmicu: Ah, okay, that makes sense. And that&apos;s why nix-defexpr is all about &quot;derivations&quot; which I understand.<br/>
<font color="#A82F2F"><font size="2">(07:42:29 PM)</font> <b>kmicu:</b></font> We should have a system where a newcomer could mark a part of docs are not clear. It would help with docs improvement.<br/>
<font color="#A82F2F"><font size="2">(07:42:33 PM)</font> <b>malyn:</b></font> So what is NIX_PATH used for then?  Which commands are consuming &quot;expressions&quot;.<br/>
<font color="#A82F2F"><font size="2">(07:42:58 PM)</font> <b>malyn:</b></font> Yeah, that would be awesome.  I am happy to go in and submit PRs, but I don&apos;t understand this myself yet...<br/>
<font color="#A82F2F"><font size="2">(07:43:04 PM)</font> <b>kmicu:</b></font> And we need a bot with predefined link to docs.<br/>
<font color="#A82F2F"><font size="2">(07:44:24 PM)</font> <b>kmicu:</b></font> Eventually Nix learning curve should be smoother.<br/>
<font size="2">(07:56:08 PM)</font><b> suvash is now known as suvash_away</b><br/>
<font color="#A82F2F"><font size="2">(08:01:55 PM)</font> <b>LangeOortjes:</b></font>  <br/>
<font size="2">(08:02:42 PM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:14:42 PM)</font> <b>joelteon:</b></font> man, I just can&apos;t run npm2nix<br/>
<font color="#A82F2F"><font size="2">(08:14:54 PM)</font> <b>iElectric:</b></font> me too<br/>
<font color="#A82F2F"><font size="2">(08:15:01 PM)</font> <b>iElectric:</b></font> it just clears out my generated file<br/>
<font color="#A82F2F"><font size="2">(08:15:13 PM)</font> <b>iElectric:</b></font> btw, who&apos;s having the AWS reboot fun?<br/>
<font color="#A82F2F"><font size="2">(08:15:15 PM)</font> <b>iElectric:</b></font> o/<br/>
<font size="2">(08:16:05 PM)</font><b> boegel|afk is now known as boegel</b><br/>
<font color="#A82F2F"><font size="2">(08:20:54 PM)</font> <b>aberdine:</b></font> man, I so want a day job where I get to use NixOs<br/>
<font color="#A82F2F"><font size="2">(08:21:15 PM)</font> <b>aberdine:</b></font> other Linuxs just seem soooo... old fashioned now :)<br/>
<font color="#A82F2F"><font size="2">(08:27:02 PM)</font> <b>mornfall:</b></font> aberdine: be careful for what you wish :P<br/>
<font color="#A82F2F"><font size="2">(08:27:07 PM)</font> <b>aberdine:</b></font> haha<br/>
<font color="#A82F2F"><font size="2">(08:27:32 PM)</font> <b>aberdine:</b></font> I guess what I mean is I want more time to get used to it :)<br/>
<font color="#A82F2F"><font size="2">(08:36:28 PM)</font> <b>mgregson:</b></font> RchrdB: Yes, I&apos;ve seen ports.<br/>
<font color="#A82F2F"><font size="2">(08:36:50 PM)</font> <b>mgregson:</b></font> RchrdB: I&apos;m most familiar with Gentoo&apos;s portage though. (Sorry for the delay, got sucked into a meeting.)<br/>
<font color="#A82F2F"><font size="2">(08:38:13 PM)</font> <b>vcunat:</b></font> aberdine: zalora used to offer such jobs here<br/>
<font color="#A82F2F"><font size="2">(08:38:51 PM)</font> <b>elasticdog:</b></font> malyn: http://lethalman.blogspot.com/2014/09/nix-pill-15-nix-search-paths.html<br/>
<font color="#A82F2F"><font size="2">(08:40:20 PM)</font> <b>malyn:</b></font> elasticdog: Thanks! I remember now seeing a nix pill on that... I need to re-read those every few weeks as I learn more, I guess. :)<br/>
<font color="#A82F2F"><font size="2">(08:43:24 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx created update-virtualbox (+1 new commit): http://git.io/xz38<br/>
<font color="#A82F2F"><font size="2">(08:43:24 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/update-virtualbox f214de2 Tobias Geerinckx-Rice: virtualbox 4.3.20 -&gt; 4.3.22<br/>
<font color="#A82F2F"><font size="2">(08:44:53 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx closed pull request #6467: virtualbox 4.3.20 -&gt; 4.3.22 (master...update-virtualbox) http://git.io/As0p<br/>
<font color="#A82F2F"><font size="2">(08:45:28 PM)</font> <b>kmicu:</b></font> ‘f* gsoc results… how do they work?’<br/>
<font color="#A82F2F"><font size="2">(08:45:40 PM)</font> <b>kmicu:</b></font> Clojure accepted, Blender not, Nix…<br/>
<font size="2">(08:46:16 PM)</font><b> goibhniu [<em>~goibhniu@pdpc/supporter/active/goibhniu</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:47:24 PM)</font> <b>vcunat:</b></font> honestly, at a glance, our gsoc project proposals didn&apos;t seem too well-prepared (and I didn&apos;t even really try to improve that)<br/>
<font color="#A82F2F"><font size="2">(08:53:56 PM)</font> <b>romanandreg:</b></font> do you provide help with nixpkg here or is there a special irc channel for that?<br/>
<font color="#A82F2F"><font size="2">(08:55:33 PM)</font> <b>vcunat:</b></font> romanandreg: this is the right place (for anything around nixos.org)<br/>
<font color="#A82F2F"><font size="2">(08:56:33 PM)</font> <b>romanandreg:</b></font> awesome, I’m trying to use nixpkg on ubuntu, and I would like to install mysql-server,  do you have any comments on how to deal with the data folder and the daemon scripts when using nixpkgs?<br/>
<font color="#A82F2F"><font size="2">(08:57:55 PM)</font> <b>eddyb_:</b></font> ttuegel: on the wiki &quot;There is not yet a specific display manager for KDE 5, but any display manager is suitable.&quot;<br/>
<font color="#A82F2F"><font size="2">(08:58:02 PM)</font> <b>eddyb_:</b></font> ttuegel: aren&apos;t we supposed to use sddm?<br/>
<font color="#062585"><font size="2">(08:58:53 PM)</font> <b>***kmicu</b></font> has sddm locally.<br/>
<font color="#A82F2F"><font size="2">(08:59:12 PM)</font> <b>eddyb_:</b></font> ttuegel: also, should I use desktopManager.kde5.enable = true; or desktopManager.plasma52.enable = true;?<br/>
<font color="#A82F2F"><font size="2">(08:59:24 PM)</font> <b>eddyb_:</b></font> ttuegel: from the versions, kde5 stuff looks like 5.1<br/>
<font color="#A82F2F"><font size="2">(09:00:06 PM)</font> <b>eddyb_:</b></font> wait, plasma52 is not an option there<br/>
<font color="#A82F2F"><font size="2">(09:00:58 PM)</font> <b>vcunat:</b></font> romanandreg: these are things addressed in nixos<br/>
<font color="#A82F2F"><font size="2">(09:00:58 PM)</font> <b>vcunat:</b></font> I know no details, but IIRC there were some ways of utilizing the generators of service config from nixos without nixos.<br/>
<font color="#A82F2F"><font size="2">(09:01:44 PM)</font> <b>eddyb_:</b></font> kmicu: actually, I can&apos;t find services.xserver.displayManager.sddm.enable :/<br/>
<font color="#A82F2F"><font size="2">(09:02:06 PM)</font> <b>kmicu:</b></font> B/c there is no sddm upstream.<br/>
<font color="#A82F2F"><font size="2">(09:02:07 PM)</font> <b>romanandreg:</b></font> vcunat: sorry if this is a dumb question, but where is IIRC (or what is it)?<br/>
<font color="#A82F2F"><font size="2">(09:02:15 PM)</font> <b>eddyb_:</b></font> kmicu: oh?<br/>
<font color="#A82F2F"><font size="2">(09:02:16 PM)</font> <b>eddyb_:</b></font> https://github.com/NixOS/nixos/tree/master/modules/services/x11/display-managers<br/>
<font color="#A82F2F"><font size="2">(09:02:18 PM)</font> <b>eddyb_:</b></font> q_q<br/>
<font color="#A82F2F"><font size="2">(09:02:42 PM)</font> <b>vcunat:</b></font> romanandreg: If I Remember Correctly :-)<br/>
<font color="#A82F2F"><font size="2">(09:02:59 PM)</font> <b>vcunat:</b></font> no problem to ask<br/>
<font color="#A82F2F"><font size="2">(09:03:01 PM)</font> <b>eddyb_:</b></font> kmicu: there&apos;s a kcm_sddm or something, in plasma52, I was hopeful...<br/>
<font color="#A82F2F"><font size="2">(09:03:15 PM)</font> <b>kmicu:</b></font> *kcm*_sddm<br/>
<font color="#A82F2F"><font size="2">(09:03:33 PM)</font> <b>kmicu:</b></font> It’s just display manager. You can use e.g. LightDM.<br/>
<font color="#A82F2F"><font size="2">(09:04:39 PM)</font> <b>romanandreg:</b></font> vcunat: oh… lol, ok I’ve been googling for a while but with no luck<br/>
<font color="#A82F2F"><font size="2">(09:05:02 PM)</font> <b>vcunat:</b></font> :-)<br/>
<font color="#A82F2F"><font size="2">(09:05:23 PM)</font> <b>eddyb_:</b></font> kmicu: yeah, I mean I was hoping it was paired with sddm. though, come to think of it - kcm_sddm would have to be rewritten to modify configuration.nix or something...<br/>
<font color="#A82F2F"><font size="2">(09:06:54 PM)</font> <b>kmicu:</b></font> eddyb: services.xserver.displayManager.kdm.enable and services.xserver.desktopManager.kde5.enable work FWIW.<br/>
<font color="#A82F2F"><font size="2">(09:07:16 PM)</font> <b>eddyb_:</b></font> kmicu: yeah, that&apos;s what I&apos;m trying now<br/>
<font color="#A82F2F"><font size="2">(09:07:27 PM)</font> <b>eddyb_:</b></font> ttuegel: filter and isDerivation aren&apos;t in scope by default...<br/>
<font color="#A82F2F"><font size="2">(09:12:10 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 1 new commit to staging: http://git.io/xz25<br/>
<font color="#A82F2F"><font size="2">(09:12:10 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/staging 5341196 Peter Simons: Merge branch &apos;master&apos; into staging.<br/>
<font color="#A82F2F"><font size="2">(09:12:56 PM)</font> <b>jml:</b></font> how do I use packageOverrides that I&apos;ve declared in my ~/.nixpkgs/config.nix in a project-specific shell.nix<br/>
<font color="#A82F2F"><font size="2">(09:17:15 PM)</font> <b>eddyb_:</b></font> ttuegel, kmicu: I ended up with let isDerivation = x: builtins.isAttrs x &amp;&amp; x ? type &amp;&amp; x.type == &quot;derivation&quot;; in<br/>
<font color="#A82F2F"><font size="2">(09:17:22 PM)</font> <b>eddyb_:</b></font> (which works fine by the looks of it)<br/>
<font color="#A82F2F"><font size="2">(09:20:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga pushed 2 new commits to master: http://git.io/xzoQ<br/>
<font color="#A82F2F"><font size="2">(09:20:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 77116a5 Brendan Long: syncthing: Update to 0.10.24...<br/>
<font color="#A82F2F"><font size="2">(09:20:30 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 229d65f Arseniy Seroka: Merge pull request #6631 from brendanlong/syncthing-0.10.24...<br/>
<font size="2">(09:29:22 PM)</font><b> boegel is now known as boegel|afk</b><br/>
<font color="#A82F2F"><font size="2">(09:34:00 PM)</font> <b>joelmo:</b></font> Can I override a resource in nix? I want to replace a icon that gets placed in ~/.nix-profile/share/pixbuf<br/>
<font color="#A82F2F"><font size="2">(09:35:25 PM)</font> <b>joelmo:</b></font> or what would happen if two derivations provide resouces with same name but different content<br/>
<font color="#A82F2F"><font size="2">(09:38:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] madjar pushed 2 new commits to master: http://git.io/xzyx<br/>
<font color="#A82F2F"><font size="2">(09:38:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 5821e91 Jordan Woehr: Restructure rustc derivations for ease of updating....<br/>
<font color="#A82F2F"><font size="2">(09:38:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 9e59c9a Georges Dubus: Merge pull request #6623 from woehr/master...<br/>
<font color="#A82F2F"><font size="2">(09:48:09 PM)</font> <b>avn:</b></font> offtopic question:  guys, anybody here use syslog-ng (and may be even in conjuction with kafka)?<br/>
<font color="#A82F2F"><font size="2">(09:50:27 PM)</font> <b>eddyb_:</b></font> builder for ‘/nix/store/fqy358k8vxd6s6a8py0853zr4ac2zvmx-kde-l10n-ca_valencia-14.12.2.tar.xz.drv’ failed with exit code 1<br/>
<font color="#A82F2F"><font size="2">(09:50:32 PM)</font> <b>eddyb_:</b></font> oops<br/>
<font color="#A82F2F"><font size="2">(09:50:44 PM)</font> <b>eddyb_:</b></font> ttuegel: error: cannot download kde-l10n-ca_valencia-14.12.2.tar.xz from any mirror<br/>
<font color="#A82F2F"><font size="2">(09:50:58 PM)</font> <b>bdimcheff:</b></font> is myEnvFun deprecated/dead?<br/>
<font color="#A82F2F"><font size="2">(09:52:19 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx deleted update-virtualbox at f214de2: http://git.io/xzd4<br/>
<font color="#A82F2F"><font size="2">(09:52:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nckx pushed 1 new commit to master: http://git.io/xzdr<br/>
<font color="#A82F2F"><font size="2">(09:52:44 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 39ff896 Tobias Geerinckx-Rice: virtualbox 4.3.20 -&gt; 4.3.22<br/>
<font color="#A82F2F"><font size="2">(09:53:06 PM)</font> <b>goibhniu:</b></font> bdimcheff: nope, but nix-shell is recommended<br/>
<font color="#A82F2F"><font size="2">(09:54:03 PM)</font> <b>ambro718:</b></font> Any advice for a GTK2 theme which looks nice within KDE4?<br/>
<font color="#A82F2F"><font size="2">(09:54:04 PM)</font> <b>bdimcheff:</b></font> fair enough... nix-instantiate . --indirect --add-root `pwd`/shell.drv is regrettably a little bit verbose is all ;)<br/>
<font color="#A82F2F"><font size="2">(09:56:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor pushed 1 new commit to master: http://git.io/xzNs<br/>
<font color="#A82F2F"><font size="2">(09:56:49 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c47a3b0 Bjørn Forsman: microscheme: update to latest release (0.9.2)...<br/>
<font color="#A82F2F"><font size="2">(09:57:21 PM)</font> <b>eddyb_:</b></font> wait, I think I can filter that one out<br/>
<font color="#A82F2F"><font size="2">(09:57:30 PM)</font> <b>eddyb_:</b></font> and the rest seem to work fine<br/>
<font color="#A82F2F"><font size="2">(09:57:38 PM)</font> <b>eddyb_:</b></font> not that I need any of the localization...<br/>
<font color="#A82F2F"><font size="2">(10:06:32 PM)</font> <b>codehero:</b></font> i have a problem. i set zsh as my default change but whenever i try to open a terminal emulator it won&apos;t open<br/>
<font color="#A82F2F"><font size="2">(10:06:48 PM)</font> <b>codehero:</b></font> if i explicitly tell urxvt to start zsh it works<br/>
<font color="#A82F2F"><font size="2">(10:07:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor pushed 1 new commit to release-14.12: http://git.io/xzjL<br/>
<font color="#A82F2F"><font size="2">(10:07:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/release-14.12 9a41575 Bjørn Forsman: microscheme: update to latest release (0.9.2)...<br/>
<font color="#A82F2F"><font size="2">(10:07:57 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bjornfor closed pull request #6541: microscheme: update to latest release (0.9.1) (master...microscheme-bump) http://git.io/A6Dh<br/>
<font color="#A82F2F"><font size="2">(10:08:42 PM)</font> <b>codehero:</b></font> xterm starts up but it has a bash shell<br/>
<font color="#A82F2F"><font size="2">(10:08:44 PM)</font> <b>codehero:</b></font> huh<br/>
<font color="#A82F2F"><font size="2">(10:19:56 PM)</font> <b>codehero:</b></font> okay. fixed it<br/>
<font color="#A82F2F"><font size="2">(10:42:10 PM)</font> <b>eddyb:</b></font> ttuegel: apparently the kcm modules use Qt5.4 and that makes them incompatible...<br/>
<font color="#A82F2F"><font size="2">(10:49:55 PM)</font> <b>nkar:</b></font> I&apos;m building a program (from git) that requires curses headers.  I installed ncurses, but it still cannot find them.  what&apos;s the right way to fix this?<br/>
<font color="#A82F2F"><font size="2">(10:51:43 PM)</font> <b>joelmo:</b></font> nkar: aren&apos;t they availible when you set buildInputs?<br/>
<font color="#A82F2F"><font size="2">(10:52:03 PM)</font> <b>the-kenny:</b></font> nkar: nixos doesn&apos;t install headers into the &apos;usual&apos; directories. You might want to write a nix-expression to build the program.<br/>
<font color="#A82F2F"><font size="2">(10:52:03 PM)</font> <b>nkar:</b></font> I&apos;m not setting buildInputs<br/>
<font color="#A82F2F"><font size="2">(10:52:26 PM)</font> <b>codehero:</b></font> could someone explain me how this wrapping stuff works? (https://nixos.org/wiki/FAQ#I.27ve_downloaded_a_binary.2C_but_I_can.27t_run_it.2C_what_can_I_do.3F)<br/>
<font color="#A82F2F"><font size="2">(10:52:34 PM)</font> <b>nkar:</b></font> the-kenny: okay, the program in question is ghc head :/<br/>
<font color="#A82F2F"><font size="2">(10:52:52 PM)</font> <b>the-kenny:</b></font> nkar: in that case you can just derive an existing ghc expression<br/>
<font color="#A82F2F"><font size="2">(10:53:01 PM)</font> <b>codehero:</b></font> i try to do this with firefox-nightly but it says that it&apos;s not an elf file<br/>
<font color="#A82F2F"><font size="2">(10:53:33 PM)</font> <b>the-kenny:</b></font> nkar: actually. haskell-ng has ghcHEAD<br/>
<font color="#A82F2F"><font size="2">(10:53:52 PM)</font> <b>the-kenny:</b></font> you might want t update it, but that&apos;s just changing the version and a hash<br/>
<font color="#A82F2F"><font size="2">(10:53:58 PM)</font> <b>the-kenny:</b></font> (and endless builds)<br/>
<font color="#A82F2F"><font size="2">(10:54:03 PM)</font> <b>joelmo:</b></font> if you install curses, headers may be in ~/.nix-profile/include, but don&apos;t know if that&apos;s a good idea or will work<br/>
<font color="#A82F2F"><font size="2">(10:54:28 PM)</font> <b>the-kenny:</b></font> joelmo: that&apos;s pointless, escpecially for ghc<br/>
<font color="#A82F2F"><font size="2">(10:54:39 PM)</font> <b>the-kenny:</b></font> nkar: check nixpkgs/pkgs/development/compilers/ghc/head.nix<br/>
<font color="#A82F2F"><font size="2">(10:55:04 PM)</font> <b>kalloc:</b></font> does somebody use nixos as salt masterless, for setup local environment?<br/>
<font color="#A82F2F"><font size="2">(10:55:10 PM)</font> <b>nkar:</b></font> the-kenny: I&apos;m not using ng, however, there&apos;s still head.nix.  I do wonder how I should build ghc on nix in order to contribute patches to it.<br/>
<font color="#A82F2F"><font size="2">(10:55:19 PM)</font> <b>joelmo:</b></font> the-kenny: can&apos;t ghc read symlinks?<br/>
<font color="#A82F2F"><font size="2">(10:55:19 PM)</font> <b>kalloc:</b></font> for centos, debian, something else<br/>
<font color="#A82F2F"><font size="2">(10:55:35 PM)</font> <b>the-kenny:</b></font> joelmo: with &apos;pointless&apos; I meant there are better ways.<br/>
<font color="#A82F2F"><font size="2">(10:55:47 PM)</font> <b>the-kenny:</b></font> nkar: just a second<br/>
<font color="#A82F2F"><font size="2">(10:57:06 PM)</font> <b>the-kenny:</b></font> nkar: nix-build &apos;&lt;nixpkgs&gt;&apos; -A haskell-ng.compiler.ghcHEAD --run-env should spawn you a shell with everything set up to build ghc from HEAD :)<br/>
<font color="#A82F2F"><font size="2">(10:57:08 PM)</font> <b>nkar:</b></font> the-kenny: sure, thanks for your help<br/>
<font color="#A82F2F"><font size="2">(10:57:30 PM)</font> <b>nkar:</b></font> can I do it without ng?<br/>
<font color="#A82F2F"><font size="2">(10:57:31 PM)</font> <b>the-kenny:</b></font> nkar: you can &apos;cd&apos; into your clone, then run &apos;configurePhase&apos;, &apos;buildPhase&apos; etc<br/>
<font color="#A82F2F"><font size="2">(10:57:53 PM)</font> <b>the-kenny:</b></font> nkar: why would you? It won&apos;t modify anything on your system except loading some dependencies into /nix/store<br/>
<font color="#A82F2F"><font size="2">(10:57:57 PM)</font> <b>codehero:</b></font> is anyone of you using firefox-nightl? or any other downloaded binaries?<br/>
<font color="#A82F2F"><font size="2">(10:58:11 PM)</font> <b>the-kenny:</b></font> nkar: it might work with any ghc, but I&apos;m not sure if any dependencies changed<br/>
<font color="#A82F2F"><font size="2">(10:58:15 PM)</font> <b>nkar:</b></font> the-kenny: I mean, I&apos;m just not familiar with it, so I&apos;m trying to stick to the default :/<br/>
<font color="#A82F2F"><font size="2">(10:58:20 PM)</font> <b>the-kenny:</b></font> (I&apos;m no haskell-guy myself)<br/>
<font color="#A82F2F"><font size="2">(10:58:27 PM)</font> <b>eddyb:</b></font> ttuegel: so kscreen-5.2 is kde5.7...<br/>
<font color="#A82F2F"><font size="2">(10:58:31 PM)</font> <b>the-kenny:</b></font> nkar: --run-env works for every package, so just try any ghc<br/>
<font color="#A82F2F"><font size="2">(10:58:51 PM)</font> <b>nkar:</b></font> the-kenny: okay, I&apos;ll try shortly<br/>
<font color="#A82F2F"><font size="2">(10:58:53 PM)</font> <b>nkar:</b></font> thanks!<br/>
<font color="#A82F2F"><font size="2">(10:59:09 PM)</font> <b>the-kenny:</b></font> you&apos;re welcome<br/>
<font color="#A82F2F"><font size="2">(11:00:55 PM)</font> <b>eddyb:</b></font> the-kenny: kf5.7 I mean. meanwhile, systemsettings... wait, no, it&apos;s the same version, so why is qt incompatible?!<br/>
<font color="#A82F2F"><font size="2">(11:01:20 PM)</font> <b>eddyb:</b></font> systemsettings5 uses /nix/store/fdi5gvdrnw3zn6nqij5f8454fjj9aa73-qtbase-5.4.0.drv<br/>
<font color="#A82F2F"><font size="2">(11:01:56 PM)</font> <b>eddyb:</b></font> while kscreeen uses /nix/store/fdi5gvdrnw3zn6nqij5f8454fjj9aa73-qtbase-5.4.0.drv<br/>
<font color="#A82F2F"><font size="2">(11:02:02 PM)</font> <b>eddyb:</b></font> they are identical :|<br/>
<font color="#A82F2F"><font size="2">(11:04:21 PM)</font> <b>nkar:</b></font> the-kenny: I can&apos;t find head in all-packages.nix, what&apos;s it called?<br/>
<font color="#A82F2F"><font size="2">(11:04:58 PM)</font> <b>the-kenny:</b></font> nkar: no need to use ghcHEAD, just use any GHC and cd into your git checkout. Else you can follow the path of haskell-ng = ... to find ghcHEAD.<br/>
<font color="#A82F2F"><font size="2">(11:05:33 PM)</font> <b>nkar:</b></font> k<br/>
<font color="#A82F2F"><font size="2">(11:06:22 PM)</font> <b>the-kenny:</b></font> nkar: what --run-env does is collecting all dependencies used by the NixOS build of the package and drop you into a shell with everything available. Assumed $ghc (any ghc) has the same (or compatible) dependencies as ghcHEAD, you can just run --run-env on $ghc and build your ghcHEAD from that shell<br/>
<font color="#A82F2F"><font size="2">(11:06:46 PM)</font> <b>nkar:</b></font> the-kenny: so, should &apos;configure&apos; &amp;&amp; &apos;make&apos; work?<br/>
<font color="#A82F2F"><font size="2">(11:07:04 PM)</font> <b>the-kenny:</b></font>  configurePhase &amp;&amp; buildPhase are more likely<br/>
<font color="#A82F2F"><font size="2">(11:07:14 PM)</font> <b>the-kenny:</b></font> (just enter them as commands)<br/>
<font color="#A82F2F"><font size="2">(11:07:30 PM)</font> <b>nkar:</b></font> but I need to change build.mk in order to build faster<br/>
<font color="#A82F2F"><font size="2">(11:07:52 PM)</font> <b>nkar:</b></font> let me try with make first<br/>
<font size="2">(11:07:56 PM)</font><b> romanandreg_ is now known as romanandreg</b><br/>
<font color="#A82F2F"><font size="2">(11:08:16 PM)</font> <b>nkar:</b></font> nah, it can&apos;t find the headers<br/>
<font color="#A82F2F"><font size="2">(11:08:55 PM)</font> <b>nkar:</b></font> the-kenny: also, where can I find the def&apos;n of buildPhase?<br/>
<font color="#A82F2F"><font size="2">(11:09:07 PM)</font> <b>nkar:</b></font> I don&apos;t see it in the nix recipe<br/>
<font color="#A82F2F"><font size="2">(11:09:28 PM)</font> <b>the-kenny:</b></font> nkar: in the corresponding nix file for the GHC you used. If it&apos;s not in there, it uses a &apos;default&apos; configurePhase which just runs ./configure with --prefix etc.<br/>
<font color="#A82F2F"><font size="2">(11:10:15 PM)</font> <b>nkar:</b></font> where&apos;s the source of the &apos;default&apos;, then?<br/>
<font color="#A82F2F"><font size="2">(11:11:09 PM)</font> <b>the-kenny:</b></font> pkgs/development/compilers/<br/>
<font color="#A82F2F"><font size="2">(11:11:12 PM)</font> <b>the-kenny:</b></font> and one of the files there<br/>
<font color="#A82F2F"><font size="2">(11:11:19 PM)</font> <b>the-kenny:</b></font> (actually, there&apos;s a ghcHEAD in there too)<br/>
<font color="#A82F2F"><font size="2">(11:11:36 PM)</font> <b>nkar:</b></font> haskellPackages.ghcHEAD didn&apos;t work when I tried it<br/>
<font color="#A82F2F"><font size="2">(11:11:51 PM)</font> <b>nkar:</b></font> it&apos;s not in all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(11:12:02 PM)</font> <b>nkar:</b></font> well, at least in my checkout<br/>
<font color="#A82F2F"><font size="2">(11:12:08 PM)</font> <b>nkar:</b></font> maybe it&apos;s old<br/>
<font color="#A82F2F"><font size="2">(11:12:26 PM)</font> <b>the-kenny:</b></font> nkar: no, that won&apos;t work. And not every package is in all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(11:13:14 PM)</font> <b>nkar:</b></font> the-kenny: okay, running buildPhase still gives me curses headers could not be found<br/>
<font color="#A82F2F"><font size="2">(11:13:49 PM)</font> <b>the-kenny:</b></font> hm. Is curses a new dependency?<br/>
<font color="#A82F2F"><font size="2">(11:14:13 PM)</font> <b>nkar:</b></font> no, that&apos;s in ghc-7.8.4.nix: libraries/terminfo_CONFIGURE_OPTS += --configure-option=--with-curses-libraries=&quot;${ncurses}/lib&quot;<br/>
<font color="#A82F2F"><font size="2">(11:14:17 PM)</font> <b>the-kenny:</b></font> let me try it with haskell-ng<br/>
<font color="#A82F2F"><font size="2">(11:14:23 PM)</font> <b>the-kenny:</b></font> did you run configurePhase?<br/>
<font color="#A82F2F"><font size="2">(11:14:27 PM)</font> <b>nkar:</b></font> yes<br/>
<font color="#A82F2F"><font size="2">(11:14:31 PM)</font> <b>the-kenny:</b></font> hm!<br/>
<font color="#A82F2F"><font size="2">(11:14:33 PM)</font> <b>the-kenny:</b></font> strange<br/>
<font color="#A82F2F"><font size="2">(11:14:40 PM)</font> <b>nkar:</b></font> git clone --recursive https://git.haskell.org/ghc.git<br/>
<font color="#A82F2F"><font size="2">(11:14:44 PM)</font> <b>nkar:</b></font> perl boot<br/>
<font color="#A82F2F"><font size="2">(11:15:08 PM)</font> <b>nkar:</b></font> well, here&apos;s the guide: https://ghc.haskell.org/trac/ghc/wiki/Newcomers<br/>
<font color="#A82F2F"><font size="2">(11:15:21 PM)</font> <b>the-kenny:</b></font> I&apos;ll give it a try<br/>
<font color="#A82F2F"><font size="2">(11:15:40 PM)</font> <b>nkar:</b></font> i&apos;m trying with ng, too<br/>
<font color="#A82F2F"><font size="2">(11:17:39 PM)</font> <b>nkar:</b></font> wget --spider http://deb.haskell.org/dailies/2015-01-18/ghc_7.11.20150118.orig.tar.bz2 is still connecting...<br/>
<font color="#A82F2F"><font size="2">(11:19:17 PM)</font> <b>nkar:</b></font> the-kenny: the server is down because it was compromised several weeks ago<br/>
<font color="#A82F2F"><font size="2">(11:20:03 PM)</font> <b>nkar:</b></font> i&apos;ll try with just ghc<br/>
<font color="#A82F2F"><font size="2">(11:22:40 PM)</font> <b>the-kenny:</b></font> nkar: cloning ghc now<br/>
<font color="#A82F2F"><font size="2">(11:23:48 PM)</font> <b>the-kenny:</b></font> fatal: repository &apos;https://github.com/ghc/packages/Cabal.git/&apos; not found - yay<br/>
<font color="#A82F2F"><font size="2">(11:24:07 PM)</font> <b>the-kenny:</b></font> their git is broken. ./sync-all works<br/>
<font color="#A82F2F"><font size="2">(11:28:19 PM)</font> <b>nkar:</b></font> why does nix-build &apos;&lt;nixpkgs&gt;&apos; -A haskell-ng.compiler.ghc784	--run-env give me ghc 7.4.2?<br/>
<font color="#A82F2F"><font size="2">(11:28:47 PM)</font> <b>the-kenny:</b></font> nkar: that&apos;s the bootstrap ghc I suppose<br/>
<font color="#A82F2F"><font size="2">(11:28:53 PM)</font> <b>the-kenny:</b></font> nkar: it gives you an *environment* to build ghc-7.8.4<br/>
<font color="#A82F2F"><font size="2">(11:29:06 PM)</font> <b>the-kenny:</b></font> nkar: oh, and the following seems to work for me:<br/>
<font color="#A82F2F"><font size="2">(11:29:35 PM)</font> <b>the-kenny:</b></font> nkar: nix-build &apos;&lt;nixpkgs&gt;&apos; -A haskell-ng.compiler.ghcHEAD --run-env; git clone ...; cd ghc; ./sync-all get; patchShebangs .; ./boot; configurePhase; buildPhase<br/>
<font color="#A82F2F"><font size="2">(11:30:17 PM)</font> <b>nkar:</b></font> I wonder whether the cache contains a compromised binary<br/>
<font color="#A82F2F"><font size="2">(11:30:22 PM)</font> <b>the-kenny:</b></font> (the patchShebangs might not be necessary)<br/>
<font color="#A82F2F"><font size="2">(11:30:29 PM)</font> <b>the-kenny:</b></font> why do you think that?<br/>
<font color="#A82F2F"><font size="2">(11:31:08 PM)</font> <b>nkar:</b></font> does ghcHEAD fetch from deb.haskell.org?<br/>
<font color="#A82F2F"><font size="2">(11:31:35 PM)</font> <b>the-kenny:</b></font> no, via git. see pkgs/development/compilers/ghc/head.nix<br/>
<font color="#A82F2F"><font size="2">(11:31:40 PM)</font> <b>the-kenny:</b></font> line 23<br/>
<font color="#A82F2F"><font size="2">(11:31:59 PM)</font> <b>nkar:</b></font> oh, cool<br/>
<font color="#A82F2F"><font size="2">(11:32:11 PM)</font> <b>the-kenny:</b></font> but that&apos;s not important here - you just spawn a shell which allows you to build ghc. Which GHC you build is up to you :)<br/>
<font color="#A82F2F"><font size="2">(11:32:30 PM)</font> <b>the-kenny:</b></font> nkar: --run-env basically sets everything just like nix-build without would, then drops you into a shell<br/>
<font color="#A82F2F"><font size="2">(11:32:32 PM)</font> <b>nkar:</b></font> well, it still contains the compiler that&apos;ll be used to bootstrap ghc<br/>
<font color="#A82F2F"><font size="2">(11:32:44 PM)</font> <b>the-kenny:</b></font> yup. of course.<br/>
<font color="#A82F2F"><font size="2">(11:33:15 PM)</font> <b>nkar:</b></font> the-kenny: where&apos;s run-env documented?<br/>
<font color="#A82F2F"><font size="2">(11:33:23 PM)</font> <b>the-kenny:</b></font> man nix-build<br/>
<font color="#A82F2F"><font size="2">(11:33:28 PM)</font> <b>nkar:</b></font> it&apos;s not there<br/>
<font color="#A82F2F"><font size="2">(11:33:48 PM)</font> <b>the-kenny:</b></font> Whoops<br/>
<font color="#A82F2F"><font size="2">(11:34:02 PM)</font> <b>nkar:</b></font> the-kenny: could you describe in your own words how it&apos;s different from just nix-shell<br/>
<font color="#A82F2F"><font size="2">(11:34:16 PM)</font> <b>the-kenny:</b></font> I&apos;m not sure if it&apos;s any different<br/>
<font color="#A82F2F"><font size="2">(11:34:21 PM)</font> <b>nkar:</b></font> ah<br/>
<font color="#A82F2F"><font size="2">(11:34:30 PM)</font> <b>the-kenny:</b></font> Sorry if that was confusing :/<br/>
<font color="#A82F2F"><font size="2">(11:35:03 PM)</font> <b>the-kenny:</b></font> nix-shell -A .. should work too<br/>
<font color="#A82F2F"><font size="2">(11:35:50 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga closed pull request #6629: mssys: upgrade to 2.4.1 (master...mssys-2.4.1) http://git.io/x0bS<br/>
<font color="#A82F2F"><font size="2">(11:36:15 PM)</font> <b>the-kenny:</b></font> please let me know if it works for you :) I&apos;m build *something* deep in ghc right now. stage1 I suppose?<br/>
<font color="#A82F2F"><font size="2">(11:36:24 PM)</font> <b>the-kenny:</b></font> s/build/building/<br/>
<font color="#A82F2F"><font size="2">(11:37:02 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edolstra pushed 1 new commit to master: http://git.io/xg1j<br/>
<font color="#A82F2F"><font size="2">(11:37:02 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 584ca36 Eelco Dolstra: linux: Disable CONFIG_DEBUG_STACKOVERFLOW...<br/>
<font color="#A82F2F"><font size="2">(11:38:13 PM)</font> <b>nkar:</b></font> the-kenny: I think so<br/>
<font color="#A82F2F"><font size="2">(11:38:17 PM)</font> <b>nkar:</b></font> that&apos;s about stage 1<br/>
<font color="#A82F2F"><font size="2">(11:38:22 PM)</font> <b>nkar:</b></font> I&apos;m rebuilding the world<br/>
<font color="#A82F2F"><font size="2">(11:38:43 PM)</font> <b>nkar:</b></font> (I just pulled master)<br/>
<font color="#A82F2F"><font size="2">(11:38:51 PM)</font> <b>the-kenny:</b></font> yup, me too<br/>
<font color="#A82F2F"><font size="2">(11:39:02 PM)</font> <b>the-kenny:</b></font> lets just hope I don&apos;t run out of /tmp<br/>
<font color="#A82F2F"><font size="2">(11:39:30 PM)</font> <b>nkar:</b></font> the-kenny: did you forget to specify -I /home/user, btw?<br/>
<font color="#A82F2F"><font size="2">(11:39:43 PM)</font> <b>the-kenny:</b></font> huh? why would I do that?<br/>
<font color="#A82F2F"><font size="2">(11:39:50 PM)</font> <b>nkar:</b></font> where user is the dir containing the nixpkgs checkout<br/>
<font color="#A82F2F"><font size="2">(11:40:04 PM)</font> <b>nkar:</b></font> or do you use an envvar?<br/>
<font color="#A82F2F"><font size="2">(11:40:10 PM)</font> <b>the-kenny:</b></font> ah! No, you can do nix-shell &apos;&lt;nixpkgs&gt; ... which will use the system&apos;s nixpkgs<br/>
<font color="#A82F2F"><font size="2">(11:40:16 PM)</font> <b>the-kenny:</b></font> sorry, I forgot to write that<br/>
<font color="#A82F2F"><font size="2">(11:40:22 PM)</font> <b>the-kenny:</b></font> (I use a shell alias)<br/>
<font color="#A82F2F"><font size="2">(11:41:44 PM)</font> <b>nkar:</b></font> okay, I&apos;ll let you know when it succeeds, if ever.  thanks again, I appreciate.  I&apos;ll also add the instructions to the ghc wiki if it works.<br/>
<font color="#A82F2F"><font size="2">(11:42:09 PM)</font> <b>JagaJaga:</b></font> I can&apos;t deploy to a real machine using nixops?<br/>
<font color="#A82F2F"><font size="2">(11:42:17 PM)</font> <b>the-kenny:</b></font> JagaJaga: you can<br/>
<font color="#A82F2F"><font size="2">(11:42:27 PM)</font> <b>JagaJaga:</b></font> the-kenny: how? Can&apos;t find in manual<br/>
<font color="#A82F2F"><font size="2">(11:42:35 PM)</font> <b>the-kenny:</b></font> targetEnv = &quot;none&quot;<br/>
<font color="#A82F2F"><font size="2">(11:42:49 PM)</font> <b>the-kenny:</b></font> You need to install NixOS &amp; enable ssh on the machine before that&apos;s possible though<br/>
<font color="#A82F2F"><font size="2">(11:43:39 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ts468 opened pull request #6633: Update: Enlightenment + EFL (master...enlightenment) http://git.io/xg9f<br/>
<font color="#A82F2F"><font size="2">(11:43:59 PM)</font> <b>JagaJaga:</b></font> targetEnv = none, and that&apos;s all? Maybe ip of machine or smth?..<br/>
<font color="#A82F2F"><font size="2">(11:44:07 PM)</font> <b>the-kenny:</b></font> that&apos;s done via targetHost<br/>
<font color="#A82F2F"><font size="2">(11:44:14 PM)</font> <b>the-kenny:</b></font> &quot;none&quot;, not none.<br/>
<font color="#A82F2F"><font size="2">(11:45:11 PM)</font> <b>FrozenCow:</b></font> is there any bash-completion around for the nix-tools? (nix-build, nix-shell, etc)<br/>
<font color="#A82F2F"><font size="2">(11:45:18 PM)</font> <b>JagaJaga:</b></font> the-kenny: oh! So it&apos;s going to do smth like `nixos-rebuild switch` on that target machine?<br/>
<font color="#A82F2F"><font size="2">(11:45:27 PM)</font> <b>the-kenny:</b></font> JagaJaga: yup<br/>
<font color="#A82F2F"><font size="2">(11:45:30 PM)</font> <b>FrozenCow:</b></font> would be cool to autocomplete attributes<br/>
<font color="#A82F2F"><font size="2">(11:45:50 PM)</font> <b>the-kenny:</b></font> JagaJaga: It will build all the stuff locally, then scp it over and switch the machine<br/>
<font color="#A82F2F"><font size="2">(11:47:18 PM)</font> <b>JagaJaga:</b></font> the-kenny: oh. that&apos;s awesome. But how to build it on the remote machine? Or is there a way to tell nix to build everything on machine A and then just copy the results?<br/>
<font color="#A82F2F"><font size="2">(11:47:43 PM)</font> <b>JagaJaga:</b></font> the-kenny: some kind of distributed build?<br/>
<font color="#A82F2F"><font size="2">(11:48:05 PM)</font> <b>the-kenny:</b></font> JagaJaga: I&apos;m not sure. Last time I checked there wasn&apos;t. There are distributed builds etc. in Nix, but that&apos;s unlikely to work like you want<br/>
<font color="#A82F2F"><font size="2">(11:48:14 PM)</font> <b>the-kenny:</b></font> I&apos;d like an option &apos;build on remote&apos; for Nixops too<br/>
<font color="#A82F2F"><font size="2">(11:48:54 PM)</font> <b>JagaJaga:</b></font> the-kenny: so what kind of distributed build are in nixos? :)<br/>
<font color="#A82F2F"><font size="2">(11:49:24 PM)</font> <b>the-kenny:</b></font> these: http://nixos.org/nix/manual/#chap-distributed-builds :)<br/>
<font color="#A82F2F"><font size="2">(11:49:25 PM)</font> <b>JagaJaga:</b></font> the-kenny: found in manual.<br/>
<font color="#A82F2F"><font size="2">(11:49:29 PM)</font> <b>JagaJaga:</b></font> the-kenny: yeah<br/>
<font color="#A82F2F"><font size="2">(11:50:01 PM)</font> <b>the-kenny:</b></font> JagaJaga: last time I checked it was like &apos;download source, copy over, build, copy back&apos;. At least that was my impression (tried during a boring university lecture)<br/>
<font color="#A82F2F"><font size="2">(11:50:53 PM)</font> <b>JagaJaga:</b></font> FrozenCow: I know about zsh compl https://github.com/svenkeidel/nixos-zsh-completion<br/>
<font color="#A82F2F"><font size="2">(11:51:45 PM)</font> <b>FrozenCow:</b></font> JagaJaga, ooh, even better! thanks!<br/>
<font color="#A82F2F"><font size="2">(11:52:53 PM)</font> <b>FrozenCow:</b></font> JagaJaga, doesn&apos;t seem like that&apos;s in nixpkgs yet?<br/>
<font color="#A82F2F"><font size="2">(11:55:58 PM)</font> <b>JagaJaga:</b></font> the-kenny: I have now 6 server machines. So going to create a master one and with the help of nixops deploy others. That will help my colleagues to complete their tasks. I&apos;m I right that nixops is just a tool to deploy?So isn&apos;t there a tool to make a separate  computing? I mean I have some program - exec it in parallel on several machines at once? And via some network fs gather the results? (We are into<br/>
<font color="#A82F2F"><font size="2">(11:56:00 PM)</font> <b>JagaJaga:</b></font> bioinformatics so we have lots of tasks like that)<br/>
<font color="#A82F2F"><font size="2">(11:56:54 PM)</font> <b>JagaJaga:</b></font> the-kenny: now I do it via ubuntu + ceph + slurm<br/>
<font color="#A82F2F"><font size="2">(11:57:20 PM)</font> <b>JagaJaga:</b></font> ceph - network fs, slurm - tool to make computing on several nodes at once<br/>
<font color="#A82F2F"><font size="2">(11:57:43 PM)</font> <b>JagaJaga:</b></font> the-kenny: or I have just to give up and use the same with nixos? :)<br/>
<font size="2">(11:59:03 PM)</font><b> vcunat left the room (quit: Quit: Leaving.).</b><br/>
<font size="2">(12:07:33 AM)</font><b> goibhniu left the room (quit: Ping timeout: 246 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(12:09:30 AM)</font> <b>the-kenny:</b></font> hmmm<br/>
<font color="#A82F2F"><font size="2">(12:09:38 AM)</font> <b>the-kenny:</b></font> no idea, sorry :/<br/>
<font color="#A82F2F"><font size="2">(12:09:43 AM)</font> <b>the-kenny:</b></font> nixops is for deploy, yeah<br/>
<font color="#A82F2F"><font size="2">(12:10:08 AM)</font> <b>the-kenny:</b></font> you *could* use nix.buildMachines for such stuff, but that&apos;s not for distributed computation but for remote builds<br/>
<font color="#A82F2F"><font size="2">(12:10:15 AM)</font> <b>the-kenny:</b></font> You could likely abuse it for such stuff<br/>
<font color="#A82F2F"><font size="2">(12:17:09 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bobvanderlinden opened pull request #6634: volumeicon: upgrade to 0.5.1 (master...volumeicon-0.5.1) http://git.io/xgj3<br/>
<font color="#A82F2F"><font size="2">(12:17:21 AM)</font> <b>avn:</b></font> Hmm, how I can run nix-build for one package (pkgs.fontforge with preferLocalBuild = true;?<br/>
<font color="#A82F2F"><font size="2">(12:28:18 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] cstrahan pushed 2 new commits to master: http://git.io/x2Jz<br/>
<font color="#A82F2F"><font size="2">(12:28:18 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 0deb3fc Nikolay Amiantov: bundler-env: add .env<br/>
<font color="#A82F2F"><font size="2">(12:28:18 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master b4d4b88 Charles Strahan: Merge pull request #6147 from abbradar/bundlerenv-env...<br/>
<font color="#A82F2F"><font size="2">(12:38:56 AM)</font> <b>codehero:</b></font> does somebody here know why this happens? http://pastebin.com/4D2jGWht<br/>
<font color="#A82F2F"><font size="2">(12:47:00 AM)</font> <b>eddyb:</b></font> OMG<br/>
<font color="#A82F2F"><font size="2">(12:47:09 AM)</font> <b>eddyb:</b></font> ttuegel: I had an older per-user systemsettings5 q_q<br/>
<font color="#A82F2F"><font size="2">(12:49:38 AM)</font> <b>codehero:</b></font> can nobody help me?<br/>
<font color="#A82F2F"><font size="2">(12:50:44 AM)</font> <b>avn:</b></font> I can&apos;t, sorry. Need some help myself<br/>
<font color="#A82F2F"><font size="2">(12:51:10 AM)</font> <b>bshelden:</b></font> Odd... looks like something didn&apos;t generate right.  Not a thing I&apos;ve seen though.  Sorry<br/>
<font color="#A82F2F"><font size="2">(12:57:30 AM)</font> <b>codehero:</b></font> hmm. kay<br/>
<font color="#A82F2F"><font size="2">(12:57:57 AM)</font> <b>codehero:</b></font> what i find weird is that it says &quot;not an ELF executable&quot;<br/>
<font color="#A82F2F"><font size="2">(12:59:12 AM)</font> <b>bshelden:</b></font> That&apos;s what made me thing something didn&apos;t generate right.  Somehow the final binary wasn&apos;t a proper executable?<br/>
<font color="#A82F2F"><font size="2">(12:59:20 AM)</font> <b>bshelden:</b></font> And of course if it wasn&apos;t an elf binary, strip would choke on it.<br/>
<font color="#A82F2F"><font size="2">(12:59:51 AM)</font> <b>bshelden:</b></font> (Pure guess) Maybe that specific file is actually a shell script and the nix package is written without this in mind?<br/>
<font color="#A82F2F"><font size="2">(01:04:34 AM)</font> <b>codehero:</b></font> no. i looked at it through nano<br/>
<font color="#A82F2F"><font size="2">(01:04:41 AM)</font> <b>codehero:</b></font> it even says ELF at the beginning<br/>
<font color="#A82F2F"><font size="2">(01:04:44 AM)</font> <b>rcyr:</b></font> Perhaps that firefox nightly is a 32bit package and nix is a 64bit os<br/>
<font color="#A82F2F"><font size="2">(01:05:11 AM)</font> <b>codehero:</b></font> nope. it&apos;s the 64bit version<br/>
<font color="#A82F2F"><font size="2">(01:14:41 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] bcdarwin closed pull request #6465: itk: 4.0.0 -&gt; 4.7.1 (master...master) http://git.io/AsLF<br/>
<font color="#A82F2F"><font size="2">(01:16:57 AM)</font> <b>T_S_:</b></font> Hi all. I am using the haskell-ng stuff to develop a package. &quot;nix-shell &apos;&lt;nixpkgs&gt;&apos; -A pkgs.haskell-ng.packages.ghc784.myPackage.env&quot; provides an interactive envrionment with ghc and related binaries with all the dependencies I need to build the executable of my project. However, to test I need to set some environment variables and I can&apos;t figure out out to set a shellHook or similar trick so it works with myPackage.env. Anyone know how<br/>
<font color="#A82F2F"><font size="2">(01:19:46 AM)</font> <b>T_S_:</b></font> I have used setupHook to acheive this goal on non-Haskell packages, but that doesn&apos;t seem to be supported for haskell packages.<br/>
<font color="#A82F2F"><font size="2">(01:23:56 AM)</font> <b>avn:</b></font> Hmm, how I can run nix-build for one package (pkgs.fontforge with preferLocalBuild = true;?<br/>
<font size="2">(01:24:04 AM)</font><b> T_S_ left the room (quit: Ping timeout: 246 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(01:39:56 AM)</font> <b>zoidberg:</b></font> Hello. I see a package listed at version 0.9.11 on master on GitHub (https://github.com/NixOS/nixpkgs/blob/master/pkgs/development/libraries/haskell/doctest/default.nix) but it looks like a different version has been built on Hydra (0.9.12) for a long time: http://hydra.nixos.org/build/18674949#tabs-summary. What&apos;s going on?<br/>
<font color="#A82F2F"><font size="2">(01:40:04 AM)</font> <b>zoidberg:</b></font> Newbie trying to add a package. :)<br/>
<font color="#A82F2F"><font size="2">(01:46:22 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ambrop72 opened pull request #6635: KDevelop: Update to 4.7.1. (master...kdevelop-471) http://git.io/x2up<br/>
<font color="#A82F2F"><font size="2">(01:47:22 AM)</font> <b>zoidberg:</b></font> Do packages get built on master, or is there another branch I should be writing a PR against?<br/>
<font color="#A82F2F"><font size="2">(01:48:17 AM)</font> <b>avn:</b></font> master usually (if it not trigger mass-rebuild, then to staging)<br/>
<font color="#A82F2F"><font size="2">(01:49:33 AM)</font> <b>zoidberg:</b></font> @avn Thanks. What does Hydra build from? That think (http://hydra.nixos.org/build/18674949#tabs-summary) references 0.9.12 but 0.9.11 is in master.<br/>
<font color="#A82F2F"><font size="2">(01:49:39 AM)</font> <b>zoidberg:</b></font> A bit confused...<br/>
<font color="#A82F2F"><font size="2">(01:49:45 AM)</font> <b>zoidberg:</b></font> *That link<br/>
<font color="#A82F2F"><font size="2">(01:50:08 AM)</font> <b>avn:</b></font> idk really<br/>
<font color="#A82F2F"><font size="2">(02:08:16 AM)</font> <b>MagBo:</b></font> Do we have any projects like MELPA2nix?<br/>
<font color="#A82F2F"><font size="2">(02:08:23 AM)</font> <b>codehero:</b></font> is there any way to install the nightly builds of software without having to build them?<br/>
<font color="#A82F2F"><font size="2">(02:08:37 AM)</font> <b>codehero:</b></font> MagBo: MELPA2nix would be awesome<br/>
<font color="#A82F2F"><font size="2">(02:08:42 AM)</font> <b>codehero:</b></font> and Marmalade2nix<br/>
<font color="#A82F2F"><font size="2">(02:09:35 AM)</font> <b>MagBo:</b></font> codehero: that&apos;s my first day of Emacs.<br/>
<font color="#A82F2F"><font size="2">(02:09:44 AM)</font> <b>codehero:</b></font> oh?<br/>
<font color="#A82F2F"><font size="2">(02:09:48 AM)</font> <b>MagBo:</b></font> Like fifteens first day of Emacs.<br/>
<font color="#A82F2F"><font size="2">(02:09:51 AM)</font> <b>MagBo:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(02:09:52 AM)</font> <b>codehero:</b></font> today&apos;s your first day of emacs<br/>
<font color="#A82F2F"><font size="2">(02:09:57 AM)</font> <b>codehero:</b></font> well. then welcome home :D<br/>
<font color="#A82F2F"><font size="2">(02:10:16 AM)</font> <b>Nafai:</b></font> There is this: https://github.com/NixOS/nixpkgs/pull/6250<br/>
<font color="#A82F2F"><font size="2">(02:12:00 AM)</font> <b>codehero:</b></font> that looks pretty cool<br/>
<font color="#A82F2F"><font size="2">(02:12:04 AM)</font> <b>avn:</b></font> we have something like   melpa2nix<br/>
<font color="#A82F2F"><font size="2">(02:12:05 AM)</font> <b>codehero:</b></font> just not sure how to use it<br/>
<font color="#A82F2F"><font size="2">(02:12:25 AM)</font> <b>avn:</b></font> pkgs/build-support/melpa<br/>
<font color="#A82F2F"><font size="2">(02:12:51 AM)</font> <b>avn:</b></font> and list of autoconverted packages somewhere in pkgs/top-level/<br/>
<font color="#A82F2F"><font size="2">(02:16:32 AM)</font> <b>codehero:</b></font> man. i want my firefox nightly back<br/>
<font color="#A82F2F"><font size="2">(02:41:41 AM)</font> <b>avn:</b></font> nix-build --no-out-link -E &apos;with import &lt;nixpkgs&gt; { }; pkgs.stdenv.lib.overrideDerivation pkgs.fontforge (oldAttrs: { preferLocalBuild = true;})&apos;<br/>
<font color="#A82F2F"><font size="2">(02:42:06 AM)</font> <b>avn:</b></font> Can someone run this, and prove does it my failure, or fontforge is broken?<br/>
<font color="#A82F2F"><font size="2">(03:28:13 AM)</font> <b>codehero:</b></font> huh. great<br/>
<font color="#A82F2F"><font size="2">(03:28:20 AM)</font> <b>codehero:</b></font> it doesn&apos;t seem to update any packages<br/>
<font color="#A82F2F"><font size="2">(03:28:36 AM)</font> <b>codehero:</b></font> oh wait. maybe they aren&apos;t built yet<br/>
<font color="#A82F2F"><font size="2">(03:28:41 AM)</font> <b>codehero:</b></font> that could be the problem<br/>
<font color="#A82F2F"><font size="2">(03:28:57 AM)</font> <b>codehero:</b></font> yeah. build failing<br/>
<font color="#A82F2F"><font size="2">(03:28:59 AM)</font> <b>codehero:</b></font> well<br/>
<font size="2">(03:31:01 AM)</font><b> pmahoney left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(03:36:20 AM)</font> <b>avn:</b></font> codehero: can you try nix-build expression which I posted hour ago?<br/>
<font color="#A82F2F"><font size="2">(03:36:40 AM)</font> <b>codehero:</b></font> sure<br/>
<font color="#A82F2F"><font size="2">(03:39:58 AM)</font> <b>avn:</b></font> codehero: Want to know, if problem reproducible<br/>
<font color="#A82F2F"><font size="2">(03:40:15 AM)</font> <b>codehero:</b></font> okay. it&apos;s doing something<br/>
<font color="#A82F2F"><font size="2">(03:40:29 AM)</font> <b>codehero:</b></font> https://www.youtube.com/watch?v=AdYaTa_lOf4&amp;feature=youtu.be this is hilarious<br/>
<font color="#A82F2F"><font size="2">(03:41:01 AM)</font> <b>avn:</b></font> It create some stuff in /nix/store then fail, --no-out-link prevent it from pemnanent stuff<br/>
<font color="#A82F2F"><font size="2">(03:41:12 AM)</font> <b>avn:</b></font> If it fail, I post a bug<br/>
<font color="#A82F2F"><font size="2">(03:46:17 AM)</font> <b>avn:</b></font> or &quot;the&quot; bug? ;)<br/>
<font color="#A82F2F"><font size="2">(03:46:25 AM)</font> <b>avn:</b></font> codehero: does it finished, or failed?<br/>
<font color="#A82F2F"><font size="2">(03:47:10 AM)</font> <b>codehero:</b></font> avn: http://pastebin.com/hiNGiE3L<br/>
<font color="#A82F2F"><font size="2">(03:47:14 AM)</font> <b>codehero:</b></font> i think it failed<br/>
<font color="#A82F2F"><font size="2">(03:52:22 AM)</font> <b>avn:</b></font> no, it built successful.<br/>
<font size="2">(04:10:48 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
