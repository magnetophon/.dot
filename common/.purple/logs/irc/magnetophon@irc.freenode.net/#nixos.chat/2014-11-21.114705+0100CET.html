<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Fri 21 Nov 2014 11:47:05 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Fri 21 Nov 2014 11:47:05 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(11:47:05 AM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(11:47:06 AM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font size="2">(11:47:26 AM)</font><b> vlopez [<em>~vlopez@schumpeter.ekb.sgsnet.se</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:48:01 AM)</font> <b>Lethalman:</b></font> madjar, by path what you mean?<br/>
<font color="#A82F2F"><font size="2">(11:48:16 AM)</font> <b>Lethalman:</b></font> madjar, you were using the ancestry path?<br/>
<font color="#A82F2F"><font size="2">(11:50:34 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] vcunat pushed 2 new commits to master: http://git.io/-Y5Zdw<br/>
<font color="#A82F2F"><font size="2">(11:50:35 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8a17536 Andreas Herrmann: maintainers: Add aherrmann<br/>
<font color="#A82F2F"><font size="2">(11:50:35 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master f89eac3 Andreas Herrmann: blitz: New package, version 0.10 (close #5062)...<br/>
<font color="#A82F2F"><font size="2">(11:50:51 AM)</font> <b>madjar:</b></font> Lethalman: in other words, it&apos;s not because I have two commits that I have all the commits between those two<br/>
<font color="#A82F2F"><font size="2">(11:51:07 AM)</font> <b>madjar:</b></font> Lethalman: what do you call the ancestry path ?<br/>
<font color="#A82F2F"><font size="2">(11:52:10 AM)</font> <b>Lethalman:</b></font> madjar, commit1..commit2 is the all ancestors of commit2 that are not ancestors of commit1<br/>
<font color="#A82F2F"><font size="2">(11:52:28 AM)</font> <b>Lethalman:</b></font> madjar, how are you determining needed commits?<br/>
<font color="#A82F2F"><font size="2">(11:53:32 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edwtjo pushed 1 new commit to master: http://git.io/1A2tLg<br/>
<font color="#A82F2F"><font size="2">(11:53:32 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2151abb Edward Tjörnhammar: i2pd: 0.2.0 -&gt; 0.3.0<br/>
<font color="#A82F2F"><font size="2">(11:53:46 AM)</font> <b>madjar:</b></font> Lethalman: for now, I fetch exponentially more until &quot;git merge-base master PR&quot; (the pull requests) returns something<br/>
<font color="#A82F2F"><font size="2">(11:54:34 AM)</font> <b>madjar:</b></font> but it looks like I actually need all the commits in merge_base..master<br/>
<font color="#A82F2F"><font size="2">(11:56:24 AM)</font> <b>madjar:</b></font> no, that&apos;s not right<br/>
<font color="#A82F2F"><font size="2">(11:56:37 AM)</font> <b>madjar:</b></font> well, maybe it is<br/>
<font color="#A82F2F"><font size="2">(11:56:45 AM)</font> <b>madjar:</b></font> (sorry, hesitating)<br/>
<font size="2">(12:04:18 PM)</font><b> Takle left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(12:05:28 PM)</font><b> Takle [<em>~takle@130.185.130.212</em>] entered the room.</b><br/>
<font size="2">(12:10:49 PM)</font><b> sogatori [<em>~quassel@dslb-088-067-118-020.088.067.pools.vodafone-ip.de</em>] entered the room.</b><br/>
<font size="2">(12:17:35 PM)</font><b> zz_flazz is now known as flazz</b><br/>
<font size="2">(12:17:35 PM)</font><b> logann2019 left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(12:17:35 PM)</font><b> viric left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(12:18:37 PM)</font><b> lucidd left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font size="2">(12:22:06 PM)</font><b> komarov [<em>~komarov@178.62.189.37</em>] entered the room.</b><br/>
<font size="2">(12:24:30 PM)</font><b> sj_mackenzie left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(12:25:53 PM)</font><b> eddyb left the room (quit: Ping timeout: 240 seconds).</b><br/>
<font size="2">(12:26:26 PM)</font><b> flazz is now known as zz_flazz</b><br/>
<font size="2">(12:26:55 PM)</font><b> elifrey [<em>~elifrey@2601:8:9f00:74:d873:fdf9:5c0e:65f3</em>] entered the room.</b><br/>
<font size="2">(12:27:56 PM)</font><b> elifrey_ [<em>~elifrey@c-50-159-28-215.hsd1.wa.comcast.net</em>] entered the room.</b><br/>
<font size="2">(12:31:13 PM)</font><b> elifrey left the room (quit: Ping timeout: 258 seconds).</b><br/>
<font size="2">(12:31:45 PM)</font><b> elifrey_ left the room (quit: Remote host closed the connection).</b><br/>
<font size="2">(12:32:31 PM)</font><b> lucidd [<em>~lucid@HSI-KBW-078-042-152-111.hsi3.kabel-badenwuerttemberg.de</em>] entered the room.</b><br/>
<font size="2">(12:34:26 PM)</font><b> elifrey [<em>~elifrey@c-50-159-28-215.hsd1.wa.comcast.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(12:39:31 PM)</font> <b>ewemoa:</b></font> goibhniu: i confirmed that nix-shell produces the env-vars file in TMPDIR and that loading it seems to produce a more-or-less appropriate environment<br/>
<font color="#A82F2F"><font size="2">(12:40:49 PM)</font> <b>ewemoa:</b></font> with myEnvFun i think /run/current-system/sw/bin was still in my path, whereas with nix-shell (at least in this set up) that doesn&apos;t seem to be the case<br/>
<font size="2">(12:43:09 PM)</font><b> copumpkin left the room (quit: Quit: My MacBook Pro has gone to sleep. ZZZzzz…).</b><br/>
<font color="#A82F2F"><font size="2">(12:43:23 PM)</font> <b>goibhniu:</b></font> ewemoa: oh, and you&apos;re not using nix-shell --pure?<br/>
<font color="#A82F2F"><font size="2">(12:45:53 PM)</font> <b>ewemoa:</b></font> goibhniu: i&apos;m not explicitly passing --pure -- could that get set some other way?<br/>
<font color="#A82F2F"><font size="2">(12:46:57 PM)</font> <b>goibhniu:</b></font> hmm, it surprises me, but I don&apos;t use nix-shell much<br/>
<font color="#A82F2F"><font size="2">(12:47:48 PM)</font> <b>goibhniu:</b></font> is it that sourcing env-vars is different from initializing the environment with nix-shell?<br/>
<font color="#A82F2F"><font size="2">(12:48:09 PM)</font> <b>ewemoa:</b></font> goibhniu: i will check<br/>
<font size="2">(12:49:09 PM)</font><b> logann2019 [<em>~logann201@47.61.239.235</em>] entered the room.</b><br/>
<font size="2">(12:49:17 PM)</font><b> viric [<em>~viric@unaffiliated/viric</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(12:49:49 PM)</font> <b>ewemoa:</b></font> goibhniu: ah, they are different -- source env-vars lacks /run/current-system/sw/bin, but the nix-shell approach doesn&apos;t<br/>
<font color="#A82F2F"><font size="2">(12:50:23 PM)</font> <b>goibhniu:</b></font> aha!<br/>
<font color="#A82F2F"><font size="2">(12:51:51 PM)</font> <b>goibhniu:</b></font> if there&apos;s a suitable work around, and myEnvFun is broken ... perhaps it should be removed from the release and this can be mentioned in the release notes<br/>
<font size="2">(12:52:09 PM)</font><b> civodul left the room (quit: Quit: ERC Version 5.3 (IRC client for Emacs)).</b><br/>
<font color="#A82F2F"><font size="2">(12:53:53 PM)</font> <b>ewemoa:</b></font> goibhniu: the following shows a commit i found by bisecting that seems to be at least partially responsible for myEnvFun not working: https://pastee.org/3cphs<br/>
<font color="#A82F2F"><font size="2">(12:54:41 PM)</font> <b>ewemoa:</b></font> envs created before that commit load fine<br/>
<font color="#A82F2F"><font size="2">(12:54:59 PM)</font> <b>ewemoa:</b></font> those created after report some errors when loading<br/>
<font color="#A82F2F"><font size="2">(12:55:33 PM)</font> <b>ewemoa:</b></font> at least that&apos;s how it looks -- unfortunately it takes rather a long time to test<br/>
<font color="#A82F2F"><font size="2">(12:55:54 PM)</font> <b>goibhniu:</b></font> IIUC, you&apos;ve already spent quite some time debugging it, so I guess it&apos;s far from trivial to fix ... and it would be nice to avoid having two ways to do the same thing anyway<br/>
<font color="#A82F2F"><font size="2">(12:56:25 PM)</font> <b>goibhniu:</b></font> I think ocharles uses myEnvFun quite a bit too<br/>
<font color="#A82F2F"><font size="2">(12:56:31 PM)</font> <b>ewemoa:</b></font> aha<br/>
<font color="#A82F2F"><font size="2">(12:57:02 PM)</font> <b>ewemoa:</b></font> spelunking the git repos, i had the impression that MarcWeber might understand it well<br/>
<font size="2">(12:57:22 PM)</font><b> o11c left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font size="2">(01:00:19 PM)</font><b> bezirg left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(01:00:46 PM)</font> <b>ocharles:</b></font> Do we have an idiomatic way of turning &quot;{ foo = &quot;/waffles/pancakes&quot;; bar = &quot;/icecream&quot;; }&quot; into &quot;ln -s /waffles/pancakes $out/foo; ln -s /icecream $out/bar&quot; ?<br/>
<font color="#A82F2F"><font size="2">(01:01:14 PM)</font> <b>ocharles:</b></font> I could fold the attribute set, but then I have to keep track of concatting it all back together<br/>
<font size="2">(01:02:27 PM)</font><b> ebzzry_ [<em>~ebzzry@112.204.28.97</em>] entered the room.</b><br/>
<font size="2">(01:02:37 PM)</font><b> ebzzry left the room (quit: Read error: Connection reset by peer).</b><br/>
<font color="#A82F2F"><font size="2">(01:03:57 PM)</font> <b>ocharles:</b></font> ah, there is mapAttrsToList<br/>
<font color="#A82F2F"><font size="2">(01:11:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edwtjo pushed 2 new commits to master: http://git.io/lSRJzg<br/>
<font color="#A82F2F"><font size="2">(01:11:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 4c9c9c3 Boris Sukholitko: libdwarf: upgrade to the latest version...<br/>
<font color="#A82F2F"><font size="2">(01:11:27 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master db25ecf Edward Tjörnhammar: Merge pull request #5065 from bosu/libdwarf-upgrade...<br/>
<font size="2">(01:32:31 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
