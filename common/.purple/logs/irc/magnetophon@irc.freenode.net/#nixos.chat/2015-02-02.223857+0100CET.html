<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Mon 02 Feb 2015 10:38:57 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Mon 02 Feb 2015 10:38:57 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(10:38:57 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(10:38:57 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(10:40:59 PM)</font> <b>_deepfire:</b></font> why, oh why, didn&apos;t they put the ucode under the regular https://www.kernel.org/pub/ root<br/>
<font color="#A82F2F"><font size="2">(10:41:10 PM)</font> <b>_deepfire:</b></font> why the goddamn wiki<br/>
<font size="2">(10:41:10 PM)</font><b> vcunat left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(10:43:11 PM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:44:13 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] edwtjo opened pull request #6110: ihaskell-with-packages: add environment (master...ihaskell-ng-wrapper) http://git.io/bTN8<br/>
<font color="#A82F2F"><font size="2">(10:44:53 PM)</font> <b>_deepfire:</b></font> ok, I don&apos;t know if the latest committer of the iwlwifi ucode in the linux-firmware.git is supposed to know, but I&apos;m mailing him -- Emmanuel Grumbach &lt;emmanuel.grumbach@intel.com&gt;<br/>
<font color="#A82F2F"><font size="2">(10:46:14 PM)</font> <b>_deepfire:</b></font> vcunat, should I put you on cc?<br/>
<font size="2">(10:46:14 PM)</font><b> vcunat left the room (quit: Read error: Connection reset by peer).</b><br/>
<font size="2">(10:48:19 PM)</font><b> vcunat [<em>~admin@vetr-0455.koleje.cuni.cz</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(10:50:00 PM)</font> <b>zopa:</b></font> I&apos;m having some trouble with nix-copy-closure on nix-1.8. Are there known issues I should know about?<br/>
<font color="#A82F2F"><font size="2">(10:50:49 PM)</font> <b>vcunat:</b></font> http://nixos.org/releases/nix/nix-1.8/manual/#ssec-relnotes-1.8<br/>
<font color="#A82F2F"><font size="2">(10:50:49 PM)</font> <b>vcunat:</b></font> nix-copy-closure now uses   nix-store --serve on the remote side to send or   receive closures. This fixes a race condition between   nix-copy-closureE and the garbage   collector.<br/>
<font color="#A82F2F"><font size="2">(10:51:32 PM)</font> <b>vcunat:</b></font> zopa: it will be best to update to 1.8 on both sides, I believe<br/>
<font color="#A82F2F"><font size="2">(10:51:55 PM)</font> <b>zopa:</b></font> that makes sense. Thanks!<br/>
<font color="#A82F2F"><font size="2">(10:52:00 PM)</font> <b>vcunat:</b></font> :-)<br/>
<font size="2">(10:52:11 PM)</font><b> vcunat left the room (quit: Client Quit).</b><br/>
<font color="#A82F2F"><font size="2">(10:53:17 PM)</font> <b>_deepfire:</b></font> vcunat, oh, just seen your email..<br/>
<font color="#A82F2F"><font size="2">(10:54:58 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] nbp reopened pull request #2563: Fully declarative modules (master...fully-declarative-modules) http://git.io/meAKWQ<br/>
<font color="#A82F2F"><font size="2">(10:55:07 PM)</font> <b>copumpkin:</b></font> pierron: &lt;3<br/>
<font color="#A82F2F"><font size="2">(10:56:52 PM)</font> <b>Sonarpulse:</b></font> kmicu: thank you!<br/>
<font color="#A82F2F"><font size="2">(11:00:37 PM)</font> <b>miguelnegrao:</b></font> hi. I&apos;m getting this error, how can I fix this so I can see the log ? error: creating log file ‘/nix/var/log/nix/drvs/z4//bxab8bnggn9kv10yzrz4jcijfk4i29-haskell-doctest-ghc7.8.4-0.9.12-shared.drv.bz2’: Permission denied<br/>
<font color="#A82F2F"><font size="2">(11:02:45 PM)</font> <b>miguelnegrao:</b></font> the full error here: http://lpaste.net/119827<br/>
<font color="#A82F2F"><font size="2">(11:03:54 PM)</font> <b>miguelnegrao:</b></font> also, can&apos;t seem to install ghc-mod in latest from unstable channel http://lpaste.net/119828<br/>
<font color="#A82F2F"><font size="2">(11:09:36 PM)</font> <b>realizable-pyon:</b></font> Sorry for the n00b question. I am trying to create a bootable USB for NixOS. I tried two different things and neither worked: (1) &quot;dd if=nixos.iso of=/dev/sdb&quot;, (2) create a partition table for /dev/sdb containing a single partition /dev/sdb1, and then &quot;dd if=nixos.iso of=/dev/sdb1&quot;.<br/>
<font color="#A82F2F"><font size="2">(11:10:34 PM)</font> <b>iElectric:</b></font> realizable-pyon: read nixos manual how to create an iso with unetbootin<br/>
<font color="#A82F2F"><font size="2">(11:10:37 PM)</font> <b>realizable-pyon:</b></font> The manual suggests using unetbootin, but for some reason it does not detect my USB drive either. :-|<br/>
<font color="#A82F2F"><font size="2">(11:10:50 PM)</font> <b>Sonarpulse:</b></font> kmicu not sure it is working, still building a bunch of things I assume would be built e.g. parsec<br/>
<font color="#A82F2F"><font size="2">(11:11:22 PM)</font> <b>realizable-pyon:</b></font> iElectric: Okay, will try again, thanks.<br/>
<font color="#A82F2F"><font size="2">(11:12:12 PM)</font> <b>kmicu:</b></font> Sonarpulse: what is your ‘nixos-version’?<br/>
<font color="#A82F2F"><font size="2">(11:12:31 PM)</font> <b>Sonarpulse:</b></font> 15.05pre57096.2d19af8 (Dingo)<br/>
<font color="#A82F2F"><font size="2">(11:12:40 PM)</font> <b>iElectric:</b></font> realizable-pyon: mount it first<br/>
<font color="#A82F2F"><font size="2">(11:13:37 PM)</font> <b>realizable-pyon:</b></font> Oh, it has to be mounted first? I thought it was similar to dd, in that the device has to be unmounted.<br/>
<font color="#A82F2F"><font size="2">(11:14:06 PM)</font> <b>meditans:</b></font> hey, I&apos;m really interested in realizable-pyon&apos;s question<br/>
<font color="#A82F2F"><font size="2">(11:14:25 PM)</font> <b>meditans:</b></font> I&apos;m not able to boot in uefi<br/>
<font color="#A82F2F"><font size="2">(11:15:02 PM)</font> <b>meditans:</b></font> I keep getting a &apos;Operative System Not Found&quot;<br/>
<font color="#A82F2F"><font size="2">(11:18:10 PM)</font> <b>iElectric:</b></font> meditans: I&apos;ll try it tomorrow<br/>
<font color="#16569E"><font size="2">(11:18:26 PM)</font> <b>magnetophon:</b></font> When I try to install ctagsWrapped, I get: &quot;cannot coerce a set to a string&quot;. Full output of --show-trace: http://nixpaste.noip.me/ZWk-w2Yc  <br/>
<font color="#A82F2F"><font size="2">(11:20:32 PM)</font> <b>copumpkin:</b></font> anyone want to merge staging into master?<br/>
<font color="#A82F2F"><font size="2">(11:20:53 PM)</font> <b>copumpkin:</b></font> or is there any special procedure for that?<br/>
<font color="#A82F2F"><font size="2">(11:20:56 PM)</font> <b>copumpkin:</b></font> I can do it in a bit<br/>
<font color="#A82F2F"><font size="2">(11:28:08 PM)</font> <b>MagneticDuck:</b></font> realizable-pyon: I had that same problem when I was trying to install nixos via bootable flash<br/>
<font color="#A82F2F"><font size="2">(11:28:17 PM)</font> <b>MagneticDuck:</b></font> .. just a few days ago =P<br/>
<font color="#A82F2F"><font size="2">(11:28:24 PM)</font> <b>MagneticDuck:</b></font> ended up booting off a dvd<br/>
<font color="#A82F2F"><font size="2">(11:28:40 PM)</font> <b>realizable-pyon:</b></font> MagneticDuck: Heh, if I only had any blank CDs at home...<br/>
<font color="#A82F2F"><font size="2">(11:29:31 PM)</font> <b>MagneticDuck:</b></font> luckily I bought a stack a year ago<br/>
<font color="#A82F2F"><font size="2">(11:31:06 PM)</font> <b>MagneticDuck:</b></font> realizable-pyon: out of curiosity, what hardware are you working on?<br/>
<font color="#A82F2F"><font size="2">(11:33:52 PM)</font> <b>realizable-pyon:</b></font> I don&apos;t really know! All that I know is that it is a Toshiba laptop, i5 processor, 16 GB RAM, 1 TB hard disk.<br/>
<font color="#062585"><font size="2">(11:34:21 PM)</font> <b>***realizable-pyon</b></font> is very much a n00b when it comes to hardware.<br/>
<font color="#16569E"><font size="2">(11:37:18 PM)</font> <b>magnetophon:</b></font> Is no one using ctagsWrapped? The package hasn't changed in 5 years, and I can't find anyone who has it in their config on github.<br/>
<font color="#A82F2F"><font size="2">(11:38:08 PM)</font> <b>viric:</b></font> maybe it just works<br/>
<font color="#A82F2F"><font size="2">(11:38:32 PM)</font> <b>viric:</b></font> no idea :)<br/>
<font color="#A82F2F"><font size="2">(11:39:06 PM)</font> <b>auntie:</b></font> huh. I wrote a systemd service. when I run the service (systemctl start swc-launch), the script dies right away with a segfault<br/>
<font color="#A82F2F"><font size="2">(11:39:45 PM)</font> <b>auntie:</b></font> but when I run the script from the nix pool with bash (bash /nix/store/blahblahblah/swc-launch-start) it works just fine<br/>
<font color="#A82F2F"><font size="2">(11:40:11 PM)</font> <b>auntie:</b></font> not sure how to debug that<br/>
<font color="#A82F2F"><font size="2">(11:41:56 PM)</font> <b>auntie:</b></font> probably... systemd prevents it from messing with the tty&apos;s. probably some cgroup thing I don&apos;t know about<br/>
<font color="#A82F2F"><font size="2">(11:42:06 PM)</font> <b>auntie:</b></font> idk. I&apos;m using setuid wrappers<br/>
<font color="#A82F2F"><font size="2">(11:42:13 PM)</font> <b>auntie:</b></font> maybe that pisses systemd off<br/>
<font color="#A82F2F"><font size="2">(11:44:50 PM)</font> <b>MagneticDuck:</b></font> erm, could somebody remind me what pointy brackets mean in the nix language?<br/>
<font color="#A82F2F"><font size="2">(11:45:03 PM)</font> <b>ktosiek:</b></font> &lt;&gt;?<br/>
<font color="#A82F2F"><font size="2">(11:45:03 PM)</font> <b>MagneticDuck:</b></font> &lt;nixpkgs&gt; &lt;nixos-config&gt; etc<br/>
<font color="#A82F2F"><font size="2">(11:45:23 PM)</font> <b>MagneticDuck:</b></font> they return paths, right?<br/>
<font color="#A82F2F"><font size="2">(11:45:23 PM)</font> <b>ktosiek:</b></font> Path found by searching the NIX_PATH<br/>
<font color="#A82F2F"><font size="2">(11:45:36 PM)</font> <b>MagneticDuck:</b></font> ahk, god it<br/>
<font color="#A82F2F"><font size="2">(11:45:39 PM)</font> <b>MagneticDuck:</b></font> got*<br/>
<font color="#A82F2F"><font size="2">(11:45:45 PM)</font> <b>ktosiek:</b></font> (I think it&apos;s a path, it surely is something import can use :-))<br/>
<font color="#A82F2F"><font size="2">(11:45:50 PM)</font> <b>MagneticDuck:</b></font> I understood something clearly for the first time in the last 3 minutes<br/>
<font color="#A82F2F"><font size="2">(11:48:53 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar opened pull request #6111: haskellng-mysql: fix build (master...haskellng-mysql) http://git.io/bk8s<br/>
<font color="#A82F2F"><font size="2">(11:49:27 PM)</font> <b>kmicu:</b></font> magnetophon: use ctagsWrapped.ctagsWrapped<br/>
<font color="#16569E"><font size="2">(11:53:00 PM)</font> <b>magnetophon:</b></font> kmicu: thanks, that works!  :) Could you explain why?<br/>
<font color="#062585"><font size="2">(11:56:48 PM)</font> <b>***kmicu</b></font> goes to sleep in five minutes…<br/>
<font color="#16569E"><font size="2">(11:56:59 PM)</font> <b>magnetophon:</b></font> kmicu: I see  now it's mentioned in the package itself to install it that way, but I don't get what it means/does.<br/>
<font color="#A82F2F"><font size="2">(11:57:02 PM)</font> <b>kmicu:</b></font> It’s described in ctagsWrapped.nix<br/>
<font color="#16569E"><font size="2">(11:57:29 PM)</font> <b>magnetophon:</b></font> kmicu: OK, sleep well :)<br/>
<font color="#A82F2F"><font size="2">(11:57:36 PM)</font> <b>kmicu:</b></font> You could explore that in nix-repl.<br/>
<font color="#A82F2F"><font size="2">(11:57:45 PM)</font> <b>kmicu:</b></font> It would be obvious then.<br/>
<font color="#A82F2F"><font size="2">(11:57:52 PM)</font> <b>kmicu:</b></font> Use REPL Luke.<br/>
<font color="#A82F2F"><font size="2">(11:58:10 PM)</font> <b>edwtjo_:</b></font> meditans: if I remember correctly I just needed to change the menuentry in grub.cfg so that the linux entry was changed to &quot;linux ... root=LABEL=NIXOS_ISO ...&quot;<br/>
<font size="2">(11:58:15 PM)</font><b> edwtjo_ is now known as edwtjo</b><br/>
<font color="#16569E"><font size="2">(12:00:30 AM)</font> <b>magnetophon:</b></font> kmicu: http://i.imgur.com/0ReNQxb.jpg ?<br/>
<font color="#A82F2F"><font size="2">(12:01:02 AM)</font> <b>benley:</b></font> excellent image<br/>
<font color="#062585"><font size="2">(12:01:07 AM)</font> <b>***benley</b></font> files away for later use<br/>
<font color="#A82F2F"><font size="2">(12:01:09 AM)</font> <b>edwtjo:</b></font> realizable-pyon: see my reply to meditans<br/>
<font color="#A82F2F"><font size="2">(12:01:39 AM)</font> <b>benley:</b></font> anyone here following the &quot;Use Haskell for Shell Scripting&quot; thread on nix-dev?<br/>
<font color="#A82F2F"><font size="2">(12:02:13 AM)</font> <b>realizable-pyon:</b></font> edwtjo: What happens is that the system simply does not boot from the USB. It boots from the hard drive as if the USB had never been plugged.<br/>
<font color="#A82F2F"><font size="2">(12:02:15 AM)</font> <b>benley:</b></font> I&apos;m hesitant to post this to the list, but I&apos;m curious why &quot;extend Nix itself to do it&quot; hasn&apos;t come up<br/>
<font color="#A82F2F"><font size="2">(12:02:24 AM)</font> <b>realizable-pyon:</b></font> plugged in*<br/>
<font color="#A82F2F"><font size="2">(12:02:43 AM)</font> <b>benley:</b></font> or like, &quot;actually maybe we _could_ use guile, even though guix exists&quot;<br/>
<font color="#A82F2F"><font size="2">(12:02:45 AM)</font> <b>realizable-pyon:</b></font> edwtjo: And this is in spite of the fact that I specified the boot order to be &quot;USB first, then hard drive&quot;.<br/>
<font color="#A82F2F"><font size="2">(12:03:16 AM)</font> <b>MagneticDuck:</b></font> is the options / config setup a piece of nix language magic?<br/>
<font color="#A82F2F"><font size="2">(12:03:23 AM)</font> <b>MagneticDuck:</b></font> or is it defined inside the nix language?<br/>
<font color="#062585"><font size="2">(12:03:25 AM)</font> <b>***MagneticDuck</b></font> a bit confused<br/>
<font color="#16569E"><font size="2">(12:03:25 AM)</font> <b>magnetophon:</b></font> realizable-pyon: have you retried unetbootin?<br/>
<font color="#A82F2F"><font size="2">(12:04:06 AM)</font> <b>MagneticDuck:</b></font> I already noticed that recursive sets, overriding, and other things that might be introduced as a language feature are definable from inside nix<br/>
<font color="#A82F2F"><font size="2">(12:04:17 AM)</font> <b>MagneticDuck:</b></font> does this extend to options and that jazz?<br/>
<font color="#062585"><font size="2">(12:04:28 AM)</font> <b>***MagneticDuck</b></font> not quiite sure what he&apos;s talking about<br/>
<font color="#A82F2F"><font size="2">(12:04:33 AM)</font> <b>realizable-pyon:</b></font> magnetophon: I am downloading the Live CD this time. (Last time I downloaded the minimal installer.)<br/>
<font color="#A82F2F"><font size="2">(12:04:38 AM)</font> <b>benley:</b></font> MagneticDuck: it&apos;s all implemented in nix, in nixpkgs/nixos/<br/>
<font color="#A82F2F"><font size="2">(12:04:48 AM)</font> <b>MagneticDuck:</b></font> right<br/>
<font color="#16569E"><font size="2">(12:05:18 AM)</font> <b>magnetophon:</b></font> realizable-pyon: shouldn't matter<br/>
<font color="#A82F2F"><font size="2">(12:05:27 AM)</font> <b>edwtjo:</b></font> realizable-pyon: well I don&apos;t know about that, the boot order should do it. also different uefi firmware seem to behave somewhat differently. there was one machine I was never able to get to boot from uefi, with secure boot disabled. fortunately that one could be switched over to bios boot.<br/>
<font color="#A82F2F"><font size="2">(12:05:48 AM)</font> <b>benley:</b></font> MagneticDuck: err correction, looks like options and such are in nixpkgs/lib/*.nix<br/>
<font color="#A82F2F"><font size="2">(12:06:14 AM)</font> <b>auntie:</b></font> ah, setuid-wrapper.c gets angry when run by another setuid program (probably systemd)  https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/security/setuid-wrapper.c<br/>
<font color="#A82F2F"><font size="2">(12:06:25 AM)</font> <b>auntie:</b></font> now... what to do :|<br/>
<font color="#A82F2F"><font size="2">(12:06:27 AM)</font> <b>realizable-pyon:</b></font> AFAICT, this laptop does not use UEFI.<br/>
<font color="#16569E"><font size="2">(12:07:21 AM)</font> <b>magnetophon:</b></font> realizable-pyon: iiuc you are now trying with a usb made with dd? That cannot work.<br/>
<font color="#A82F2F"><font size="2">(12:07:42 AM)</font> <b>realizable-pyon:</b></font> magnetophon:Why can&apos;t that work?<br/>
<font color="#A82F2F"><font size="2">(12:09:15 AM)</font> <b>MagneticDuck:</b></font> any good explination of the meaning of /etc/static in nix and stuff?<br/>
<font color="#16569E"><font size="2">(12:09:16 AM)</font> <b>magnetophon:</b></font> realizable-pyon: you're supposed to use unetbootin. Not sure what it does differently.<br/>
<font color="#062585"><font size="2">(12:09:22 AM)</font> <b>***MagneticDuck</b></font> navigating symlinks, a bit confused<br/>
<font color="#A82F2F"><font size="2">(12:09:27 AM)</font> <b>auntie:</b></font> realizable-pyon: nixos doesn&apos;t use the nifty debian/ubuntu boot scripts that magically make dd to usb work. there are plans to use it though<br/>
<font color="#A82F2F"><font size="2">(12:11:18 AM)</font> <b>realizable-pyon:</b></font> auntie: Ah, I noticed something like that. I don&apos;t really understand much about this stuff, but it seems to me that what this guide [ https://nixos.org/wiki/Installing_NixOS_from_a_USB_stick ] does is (1) copy the files from the (mounted) ISO to the USB, (2) manually install the bootloader. [Does this even make sense?]<br/>
<font color="#A82F2F"><font size="2">(12:12:03 AM)</font> <b>realizable-pyon:</b></font> If there are any subtleties besides that, sadly I can&apos;t tell.<br/>
<font color="#A82F2F"><font size="2">(12:12:19 AM)</font> <b>auntie:</b></font> realizable-pyon: that&apos;s how it works, yes<br/>
<font color="#A82F2F"><font size="2">(12:13:23 AM)</font> <b>auntie:</b></font> unetbootin just knows how isolinux iso&apos;s look like, and it fudges them into usb bootable images<br/>
<font color="#A82F2F"><font size="2">(12:13:31 AM)</font> <b>realizable-pyon:</b></font> Oh.<br/>
<font color="#A82F2F"><font size="2">(12:14:10 AM)</font> <b>auntie:</b></font> idk what magic debian uses, but their iso is a valid bootable usb image and CD image. I think Arch and Ubuntu copied their boot system from debian<br/>
<font color="#A82F2F"><font size="2">(12:14:15 AM)</font> <b>Ralith:</b></font> the easiest thing to do by far is make a UEFI bootable usb stick<br/>
<font color="#A82F2F"><font size="2">(12:14:20 AM)</font> <b>Ralith:</b></font> doesn&apos;t need any faffing about with bootloaders<br/>
<font color="#A82F2F"><font size="2">(12:14:56 AM)</font> <b>auntie:</b></font> especially if you need to boot from UEFI later @ UEFI bootable usb stick<br/>
<font color="#A82F2F"><font size="2">(12:15:51 AM)</font> <b>realizable-pyon:</b></font> Do UEFI bootable USB sticks work with BIOS machines? [Is this the right term?]<br/>
<font size="2">(12:16:48 AM)</font><b> roconnor left the room (quit: Quit: Konversation terminated!).</b><br/>
<font color="#A82F2F"><font size="2">(12:17:21 AM)</font> <b>MichaelRaskin:</b></font> UEFI bootability can be achieved independently of BIOS bootability<br/>
<font color="#A82F2F"><font size="2">(12:17:30 AM)</font> <b>meditans:</b></font> realizable-pyon: as far as I understood they are indipendent<br/>
<font color="#A82F2F"><font size="2">(12:17:37 AM)</font> <b>realizable-pyon:</b></font> Ah!<br/>
<font color="#A82F2F"><font size="2">(12:17:52 AM)</font> <b>meditans:</b></font> realizable-pyon: you should be able to disable UEFI and return to legacy boot<br/>
<font color="#A82F2F"><font size="2">(12:18:20 AM)</font> <b>auntie:</b></font> MichaelRaskin: some firmwares it&apos;s a pain to add linux to the EFI boot menu. if you&apos;ve booted linux to EFI, you can do it with a command<br/>
<font color="#A82F2F"><font size="2">(12:18:22 AM)</font> <b>meditans:</b></font> realizable-pyon: the point is, you won&apos;t be able to boot uefi systems at that point, such as windows, for example<br/>
<font color="#A82F2F"><font size="2">(12:18:33 AM)</font> <b>meditans:</b></font> realizable-pyon: or other linux installations on uefi<br/>
<font color="#A82F2F"><font size="2">(12:18:45 AM)</font> <b>auntie:</b></font> lenovo, I&apos;m looking at you &gt;:|<br/>
<font color="#A82F2F"><font size="2">(12:19:48 AM)</font> <b>meditans:</b></font> auntie: MichaelRaskin: the point is, I&apos;m able to boot via uefi ubuntu created with unetbootin, but not nixos created with unetbootin<br/>
<font color="#A82F2F"><font size="2">(12:19:48 AM)</font> <b>auntie:</b></font> ugh, there are good UEFI firmwares, and there are shitty ones that make my blood boil :)<br/>
<font color="#A82F2F"><font size="2">(12:20:39 AM)</font> <b>MichaelRaskin:</b></font> meditans: I think NixOS ISOs are sometimes unfriendly towards unetbootin<br/>
<font color="#A82F2F"><font size="2">(12:21:08 AM)</font> <b>auntie:</b></font> someone should make the nix iso dd-compatible :(<br/>
<font color="#A82F2F"><font size="2">(12:21:12 AM)</font> <b>edwtjo:</b></font> meditans: try editing grub.cfg<br/>
<font color="#A82F2F"><font size="2">(12:21:13 AM)</font> <b>meditans:</b></font> edwtjo: do you change the grub entry to boot the nixos live cd?<br/>
<font color="#A82F2F"><font size="2">(12:21:14 AM)</font> <b>auntie:</b></font> I should do it<br/>
<font color="#A82F2F"><font size="2">(12:21:18 AM)</font> <b>MichaelRaskin:</b></font> I usually just install to USB flash using Qemu when I need to do ISO -&gt; USB drive<br/>
<font color="#A82F2F"><font size="2">(12:22:02 AM)</font> <b>edwtjo:</b></font> meditans: yes, granted my memory is intact<br/>
<font color="#A82F2F"><font size="2">(12:22:16 AM)</font> <b>meditans:</b></font> edwtjo: could you be a little more precise? I&apos;m on ubuntu now, the grub entry is on the EFI partition?<br/>
<font color="#A82F2F"><font size="2">(12:23:47 AM)</font> <b>meditans:</b></font> edwtjo: id est, how do I modify grub.cfg?<br/>
<font color="#A82F2F"><font size="2">(12:24:19 AM)</font> <b>edwtjo:</b></font> exactly, you should find a file, grub.cfg on the efi partition, each menuentry contains a kernel line, which looks like &quot;linux ... root=LABEL=...&quot; you should just change the root parameter to &quot;root=LABEL=NIXOS_ISO&quot;<br/>
<font color="#A82F2F"><font size="2">(12:24:55 AM)</font> <b>edwtjo:</b></font> meditans: using your favorite editor :)<br/>
<font color="#A82F2F"><font size="2">(12:25:14 AM)</font> <b>meditans:</b></font> edwtjo: ok, now I&apos;m doing this; and the usb stick should be prepared how, for this to work? unetbootin? dd?<br/>
<font color="#A82F2F"><font size="2">(12:25:31 AM)</font> <b>edwtjo:</b></font> unetbootin<br/>
<font color="#A82F2F"><font size="2">(12:26:30 AM)</font> <b>meditans:</b></font> edwtjo: and the label of the disk should be changed to NIXOS_ISO. Can I use the graphical installer iso for 14.12?<br/>
<font color="#A82F2F"><font size="2">(12:26:47 AM)</font> <b>meditans:</b></font> edwtjo: or do I need a special constructed iso?<br/>
<font color="#A82F2F"><font size="2">(12:27:20 AM)</font> <b>edwtjo:</b></font> the installer should work<br/>
<font color="#062585"><font size="2">(12:29:05 AM)</font> <b>***edwtjo</b></font> crosses fingers ;)<br/>
<font color="#A82F2F"><font size="2">(12:29:15 AM)</font> <b>meditans:</b></font> edwtjo: so, I have grub.cfg and grubx64.efi<br/>
<font color="#A82F2F"><font size="2">(12:29:32 AM)</font> <b>meditans:</b></font> edwtjo: could you confirm that I should go for grub.cfg?<br/>
<font color="#A82F2F"><font size="2">(12:31:44 AM)</font> <b>nkar:</b></font> what do I need to enable tor?  I&apos;ve already put this in my config file: services.tor = { enable = true; client.enable = true; client.privoxy.enable = true; };  I&apos;ve also configured firefox to use localhost:9050, but it says that the proxy server doesn&apos;t accept connections.<br/>
<font color="#A82F2F"><font size="2">(12:31:56 AM)</font> <b>meditans:</b></font> edwtjo: no, ok, grubx64.efi is binary, but grub.cfg do not contain a root=LABEL.. entry<br/>
<font color="#A82F2F"><font size="2">(12:32:40 AM)</font> <b>meditans:</b></font> edwtjo: it contains three lines that I&apos;m going to paste, wait<br/>
<font color="#A82F2F"><font size="2">(12:32:43 AM)</font> <b>nkar:</b></font> and where&apos;s the privoxy config?  setting http_proxy=localhost:9050 and https_proxy=localhost:9050 doesn&apos;t work either.<br/>
<font color="#A82F2F"><font size="2">(12:33:26 AM)</font> <b>meditans:</b></font> edwtjo: here http://lpaste.net/119831<br/>
<font color="#A82F2F"><font size="2">(12:34:01 AM)</font> <b>viric:</b></font> meditans: check if tor and privoxy run.<br/>
<font color="#A82F2F"><font size="2">(12:34:17 AM)</font> <b>viric:</b></font> meditans: if not, ask systemd why not<br/>
<font color="#A82F2F"><font size="2">(12:34:24 AM)</font> <b>meditans:</b></font> viric: nkar ^<br/>
<font color="#A82F2F"><font size="2">(12:34:28 AM)</font> <b>viric:</b></font> right<br/>
<font color="#A82F2F"><font size="2">(12:34:54 AM)</font> <b>nkar:</b></font> they&apos;re running<br/>
<font color="#A82F2F"><font size="2">(12:35:09 AM)</font> <b>Ralith:</b></font> sudo netstat -ltp will tell you which port<br/>
<font color="#A82F2F"><font size="2">(12:36:54 AM)</font> <b>nkar:</b></font> Ralith: there are two default ports, as documented in man configuration.nix<br/>
<font color="#A82F2F"><font size="2">(12:37:00 AM)</font> <b>nkar:</b></font> one of them is 9050<br/>
<font color="#A82F2F"><font size="2">(12:37:19 AM)</font> <b>nkar:</b></font> should http_proxy and https_proxy work?<br/>
<font color="#A82F2F"><font size="2">(12:38:50 AM)</font> <b>nkar:</b></font> https_proxy=localhost:9050 wget -O - https://check.torproject.org returns Proxy tunneling failed: Tor is not an HTTP ProxyUnable to establish SSL connection.<br/>
<font color="#A82F2F"><font size="2">(12:38:59 AM)</font> <b>nkar:</b></font> I guess I should have used the privoxy port<br/>
<font color="#A82F2F"><font size="2">(12:41:01 AM)</font> <b>nkar:</b></font> ah, I guess I also need to enable privoxy in the config file and specify the tor port<br/>
<font color="#A82F2F"><font size="2">(12:41:14 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] arjuncomar opened pull request #6112: Added Inconsolata-dz For Powerline (master...master) http://git.io/bk1l<br/>
<font color="#A82F2F"><font size="2">(12:42:13 AM)</font> <b>auntie:</b></font> my systemd service segfaults, but I can&apos;t debug it because setuid-wrapper doesn&apos;t like being run with strace<br/>
<font color="#A82F2F"><font size="2">(12:44:43 AM)</font> <b>nkar:</b></font> yay! enabling privoxy and specifying localhost:8118 (privoxy&apos;s port) worked<br/>
<font color="#A82F2F"><font size="2">(12:44:55 AM)</font> <b>nkar:</b></font> specifying in firefox*<br/>
<font color="#A82F2F"><font size="2">(12:46:13 AM)</font> <b>nkar:</b></font> http_proxy=localhost:9050 https_proxy=$http_proxy wget -O - https://check.torproject.org works as well<br/>
<font color="#A82F2F"><font size="2">(01:13:30 AM)</font> <b>realizable-pyon:</b></font> One last question: Should I mount /dev/sdb1 or /dev/sdb before using unetbootin?<br/>
<font color="#A82F2F"><font size="2">(01:14:06 AM)</font> <b>realizable-pyon:</b></font> Normally one mounts partitions [which would suggest mounting /dev/sdb1], but I would like to be sure...<br/>
<font color="#A82F2F"><font size="2">(01:16:42 AM)</font> <b>meditans:</b></font> realizable-pyon: yes, otherwise unetbootin will complain<br/>
<font color="#A82F2F"><font size="2">(01:16:42 AM)</font> <b>meditans:</b></font> realizable-pyon: I just did that<br/>
<font color="#A82F2F"><font size="2">(01:16:42 AM)</font> <b>meditans:</b></font> realizable-pyon: if you solve the problem, could you tell me how you did it afterwards?<br/>
<font color="#A82F2F"><font size="2">(01:17:05 AM)</font> <b>realizable-pyon:</b></font> unetbootin completed, so I will need to reboot. I will be back using my tablet.<br/>
<font color="#A82F2F"><font size="2">(01:17:29 AM)</font> <b>meditans:</b></font> realizable-pyon: perfect!<br/>
<font color="#A82F2F"><font size="2">(01:17:43 AM)</font> <b>meditans:</b></font> realizable-pyon: let&apos;s keep fingers crossed<br/>
<font size="2">(01:18:44 AM)</font><b> realizable-pyon left the room (quit: Quit: brb).</b><br/>
<font color="#A82F2F"><font size="2">(01:20:05 AM)</font> <b>ewemoa:</b></font> edwtjo: thanks for updating idea and friends :)<br/>
<font color="#A82F2F"><font size="2">(01:20:47 AM)</font> <b>pyon:</b></font> meditans: Nope, still boots from my hard disk.<br/>
<font color="#A82F2F"><font size="2">(01:22:04 AM)</font> <b>nkar:</b></font> thinkpad users, how do I mount a card using the builtin cardreader?<br/>
<font color="#A82F2F"><font size="2">(01:23:21 AM)</font> <b>codehero:</b></font> i was wondering. is there anything being done to prevent mitm attacks when installing packages?<br/>
<font color="#A82F2F"><font size="2">(01:23:47 AM)</font> <b>meditans:</b></font> pyon: :(<br/>
<font color="#A82F2F"><font size="2">(01:24:04 AM)</font> <b>meditans:</b></font> pyon: on what machine are you trying to install?<br/>
<font color="#A82F2F"><font size="2">(01:24:52 AM)</font> <b>pyon:</b></font> meditans: Toshiba Satellite, BIOS boot, i5, 16GB RAM...<br/>
<font color="#A82F2F"><font size="2">(01:25:23 AM)</font> <b>pyon:</b></font> I will try writing to sdb instead of sdb1.<br/>
<font color="#A82F2F"><font size="2">(01:27:01 AM)</font> <b>pyon:</b></font> Wait, not even possible...<br/>
<font color="#A82F2F"><font size="2">(01:27:07 AM)</font> <b>codehero:</b></font> pyon: try &quot;lsblk&quot;<br/>
<font color="#A82F2F"><font size="2">(01:27:27 AM)</font> <b>codehero:</b></font> remove the sd card &quot;lsblk&quot;. plug the sd card in &quot;lsblk&quot;<br/>
<font color="#A82F2F"><font size="2">(01:27:32 AM)</font> <b>codehero:</b></font> and then you&apos;ll see which one it is<br/>
<font color="#A82F2F"><font size="2">(01:29:03 AM)</font> <b>pyon:</b></font> There are both /dev/sdb (which I guess is the USB stick itself) and /dev/sdb1 (which I guess is the partition containing the installer).<br/>
<font color="#A82F2F"><font size="2">(01:30:13 AM)</font> <b>pyon:</b></font> In any case, unetbootin only sees /dev/sdb1.<br/>
<font color="#A82F2F"><font size="2">(01:31:21 AM)</font> <b>codehero:</b></font> hmm<br/>
<font color="#A82F2F"><font size="2">(01:31:48 AM)</font> <b>pyon:</b></font> I&apos;m starting to think the problem is with my machine itself. Perhaps it doesn&apos;t detect the USB stick at boot time.<br/>
<font color="#A82F2F"><font size="2">(01:32:14 AM)</font> <b>meditans:</b></font> pyon, I don&apos;t think that&apos;s the case, but if you want to proof that<br/>
<font color="#A82F2F"><font size="2">(01:32:32 AM)</font> <b>meditans:</b></font> pyon: just download a ubuntu installer and use it with unetbootin<br/>
<font color="#A82F2F"><font size="2">(01:33:04 AM)</font> <b>meditans:</b></font> pyon: in my case, ubuntu works, and nixos not :(<br/>
<font color="#A82F2F"><font size="2">(01:33:12 AM)</font> <b>pyon:</b></font> Is there any very small distro I could use for this purpose?<br/>
<font color="#A82F2F"><font size="2">(01:33:27 AM)</font> <b>meditans:</b></font> pyon... hmm let me see.. maybe ubuntu has a minimal version<br/>
<font color="#A82F2F"><font size="2">(01:33:33 AM)</font> <b>codehero:</b></font> arch linux<br/>
<font color="#A82F2F"><font size="2">(01:33:40 AM)</font> <b>codehero:</b></font> or puppy linux<br/>
<font color="#A82F2F"><font size="2">(01:34:00 AM)</font> <b>pyon:</b></font> Ah, okay, will try, thanks.<br/>
<font color="#A82F2F"><font size="2">(01:34:16 AM)</font> <b>codehero:</b></font> btw. does uefi work when dd&apos;ing the image to a usb drive?<br/>
<font color="#A82F2F"><font size="2">(01:35:03 AM)</font> <b>meditans:</b></font> codehero: I *think* that doesn&apos;t work, although I am no sure<br/>
<font color="#A82F2F"><font size="2">(01:35:48 AM)</font> <b>codehero:</b></font> hmm. well, guess there&apos;s no other way than to try out<br/>
<font color="#A82F2F"><font size="2">(01:35:48 AM)</font> <b>meditans:</b></font> *not<br/>
<font color="#A82F2F"><font size="2">(01:37:19 AM)</font> <b>ewemoa:</b></font> nkar: i think for mounting sdcards and such i&apos;ve just looked at dmesg output to find a relevant name (e.g. sdc) and then used the ordinary mount command on an appropriate partition<br/>
<font color="#A82F2F"><font size="2">(01:43:12 AM)</font> <b>benley:</b></font> random thought: It would be kinda awesome if nixops could generate and deploy aws cloudformation templates.<br/>
<font color="#A82F2F"><font size="2">(01:44:16 AM)</font> <b>codehero:</b></font> is it possible to use a custom repo for system-wide package installation?<br/>
<font size="2">(01:53:49 AM)</font><b> roconnor [<em>~roconnor@e120-pool-d89a617b.brdbnd.voicenetwork.ca</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(01:56:12 AM)</font> <b>nkar:</b></font> ewemoa: I don&apos;t see anything except sda in dmesg<br/>
<font color="#A82F2F"><font size="2">(02:03:17 AM)</font> <b>auntie:</b></font> codehero: I have used a custom repository for system-wide packages. It&apos;s a bit of a pain to manage though<br/>
<font color="#A82F2F"><font size="2">(02:04:29 AM)</font> <b>codehero:</b></font> auntie: is it?<br/>
<font color="#A82F2F"><font size="2">(02:04:49 AM)</font> <b>codehero:</b></font> and how did you do it? is there any documentation on how to do it?<br/>
<font color="#A82F2F"><font size="2">(02:04:58 AM)</font> <b>auntie:</b></font> codehero: you have to be on the right version of the repo in order to get builds from hydra<br/>
<font color="#A82F2F"><font size="2">(02:05:15 AM)</font> <b>codehero:</b></font> hmm<br/>
<font color="#A82F2F"><font size="2">(02:05:29 AM)</font> <b>codehero:</b></font> can i also just install certain applications from the custom repo?<br/>
<font color="#A82F2F"><font size="2">(02:05:48 AM)</font> <b>codehero:</b></font> because i mainly want to use the local repo for stuff like gnupg<br/>
<font color="#A82F2F"><font size="2">(02:05:50 AM)</font> <b>auntie:</b></font> uh, no documentation... checkout nixpkgs, and you can nixos-rebuild with the &quot;-I nixpkgs=/path/to/my/nixpkgs&quot; flag<br/>
<font color="#A82F2F"><font size="2">(02:05:54 AM)</font> <b>MP2E:</b></font> funnily enough, I moved to NixOS because I wanted a &apos;better Gentoo&apos;, and run exclusively on master. That&apos;s pretty much what I got :P<br/>
<font color="#A82F2F"><font size="2">(02:06:13 AM)</font> <b>codehero:</b></font> and in that case compiling would be a good idea<br/>
<font color="#A82F2F"><font size="2">(02:06:31 AM)</font> <b>codehero:</b></font> i really don&apos;t like the idea that a mitm attack can just sneak up while installing gpg<br/>
<font color="#A82F2F"><font size="2">(02:06:34 AM)</font> <b>MP2E:</b></font> also I keep my packages that aren&apos;t ready for nixpkgs yet in their own repo<br/>
<font color="#A82F2F"><font size="2">(02:06:35 AM)</font> <b>MP2E:</b></font> https://github.com/MP2E/nix-projects<br/>
<font color="#A82F2F"><font size="2">(02:06:55 AM)</font> <b>MP2E:</b></font> nixpkgs-config and nixos-config are my ~/.nixpkgs/config.nix and /etc/nixos/configuration.nix, respecively<br/>
<font color="#A82F2F"><font size="2">(02:06:57 AM)</font> <b>codehero:</b></font> auntie: i&apos;ll check that out<br/>
<font color="#A82F2F"><font size="2">(02:06:58 AM)</font> <b>MP2E:</b></font> respectively*<br/>
<font color="#A82F2F"><font size="2">(02:06:59 AM)</font> <b>auntie:</b></font> codehero: if it doesn&apos;t require system modules (i.e. root privilages), you can do that with &quot;nix-env -f /path/to/my/nixpkgs thingToInstall<br/>
<font color="#A82F2F"><font size="2">(02:07:17 AM)</font> <b>codehero:</b></font> well, having gpg installed in the user folder isn&apos;t a good idea<br/>
<font color="#A82F2F"><font size="2">(02:07:25 AM)</font> <b>codehero:</b></font> imo<br/>
<font color="#A82F2F"><font size="2">(02:08:49 AM)</font> <b>auntie:</b></font> codehero: if you want to avoid hours and hours of building things, do this:   git merge `curl -sI http://nixos.org/channels/nixos-unstable/ | grep Location | perl -n -e&apos;/([0-9a-f]{7})\/\s*$/ &amp;&amp; print $1&apos;`<br/>
<font color="#A82F2F"><font size="2">(02:09:06 AM)</font> <b>auntie:</b></font> which merges with the latest commit that hydra built<br/>
<font color="#A82F2F"><font size="2">(02:09:19 AM)</font> <b>auntie:</b></font> (only useful if you&apos;re building the entire system...)<br/>
<font color="#A82F2F"><font size="2">(02:09:37 AM)</font> <b>auntie:</b></font> hydra runs regression tests on that commit too<br/>
<font color="#A82F2F"><font size="2">(02:13:00 AM)</font> <b>ewemoa:</b></font> nkar: do you see anything cardreader-like mentioned in dmesg output?<br/>
<font color="#A82F2F"><font size="2">(02:18:01 AM)</font> <b>codehero:</b></font> auntie: okay :)<br/>
<font color="#A82F2F"><font size="2">(02:19:33 AM)</font> <b>codehero:</b></font> MP2E: you&apos;re using yi?<br/>
<font color="#A82F2F"><font size="2">(02:19:33 AM)</font> <b>benley:</b></font> auntie, codehero: you can use symlinks in ~/.nix-defexpr to make things available to nix-env without adding -f or -I<br/>
<font color="#A82F2F"><font size="2">(02:19:53 AM)</font> <b>codehero:</b></font> cool<br/>
<font color="#A82F2F"><font size="2">(02:19:59 AM)</font> <b>MP2E:</b></font> codehero: a bit, tbh haven&apos;t switched over entirely :P<br/>
<font color="#A82F2F"><font size="2">(02:20:01 AM)</font> <b>MP2E:</b></font> i still fallback to emacs<br/>
<font color="#A82F2F"><font size="2">(02:20:16 AM)</font> <b>codehero:</b></font> heh. i&apos;m also using emacs<br/>
<font color="#A82F2F"><font size="2">(02:20:36 AM)</font> <b>codehero:</b></font> benley: can i also somehow use a custom repo for specific packages?<br/>
<font color="#A82F2F"><font size="2">(02:20:51 AM)</font> <b>ewemoa:</b></font> nkar: here&apos;s what i see after inserted an sdhc card (via an adapater) in the card reader on a thinkpad: https://pastee.org/xcjk6<br/>
<font color="#A82F2F"><font size="2">(02:21:06 AM)</font> <b>ewemoa:</b></font> so sorry, not sdX, but something else<br/>
<font color="#A82F2F"><font size="2">(02:21:13 AM)</font> <b>benley:</b></font> codehero: yeah - the way I do that is I have a repo that imports nixpkgs but only exports custom packages that I want<br/>
<font color="#A82F2F"><font size="2">(02:21:32 AM)</font> <b>benley:</b></font> codehero: and I add a symlink from ~/.nix-defexpr/myrepo.nix to ~/path/to/my/repo/default.nix<br/>
<font color="#A82F2F"><font size="2">(02:21:34 AM)</font> <b>ewemoa:</b></font> nkar: bashmount will show some relevant info, fwiw<br/>
<font color="#A82F2F"><font size="2">(02:21:42 AM)</font> <b>codehero:</b></font> it imports nixpkgs. hmm<br/>
<font color="#A82F2F"><font size="2">(02:21:51 AM)</font> <b>codehero:</b></font> do you have your dotfiles posted somewhere?<br/>
<font color="#A82F2F"><font size="2">(02:22:18 AM)</font> <b>ewemoa:</b></font> nkar: at least it does here :)<br/>
<font color="#A82F2F"><font size="2">(02:22:22 AM)</font> <b>benley:</b></font> it&apos;s not in my dotfiles unfortunately. I could put together a publishable example though.<br/>
<font color="#A82F2F"><font size="2">(02:23:00 AM)</font> <b>codehero:</b></font> okay :)<br/>
<font color="#A82F2F"><font size="2">(02:23:16 AM)</font> <b>benley:</b></font> actually it&apos;s going to end up looking similar to this: https://github.com/7c6f434c/7c6f434c-configurations/blob/master/private-packages.nix<br/>
<font color="#A82F2F"><font size="2">(02:24:17 AM)</font> <b>codehero:</b></font> i really like that you have makefiles that get the source from the official page and not have to trust a package maintainer, but there&apos;s still a trust issue with the makefiles themselves<br/>
<font color="#A82F2F"><font size="2">(02:24:26 AM)</font> <b>benley:</b></font> codehero: another good read is http://sandervanderburg.blogspot.com/2014/07/managing-private-nix-packages-outside.html<br/>
<font color="#A82F2F"><font size="2">(02:24:27 AM)</font> <b>codehero:</b></font> and that&apos;s what i would like to avoid<br/>
<font color="#A82F2F"><font size="2">(02:25:20 AM)</font> <b>benley:</b></font> hrm?<br/>
<font color="#A82F2F"><font size="2">(02:25:26 AM)</font> <b>auntie:</b></font> any makefile would be hashed in nix<br/>
<font color="#A82F2F"><font size="2">(02:25:48 AM)</font> <b>benley:</b></font> yeah, the key thing that makes that stuff OK is hashing all the inputs to every nix expression<br/>
<font color="#A82F2F"><font size="2">(02:25:49 AM)</font> <b>codehero:</b></font> benley: http://mikegerwitz.com/papers/git-horror-story<br/>
<font color="#A82F2F"><font size="2">(02:25:50 AM)</font> <b>auntie:</b></font> as long as you trust the file when you first make the derivation...<br/>
<font color="#A82F2F"><font size="2">(02:26:03 AM)</font> <b>benley:</b></font> so you can be sure it actually hasn&apos;t changed, unless you don&apos;t trust sha256<br/>
<font color="#A82F2F"><font size="2">(02:26:10 AM)</font> <b>codehero:</b></font> oh<br/>
<font color="#A82F2F"><font size="2">(02:26:13 AM)</font> <b>codehero:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(02:26:15 AM)</font> <b>codehero:</b></font> that&apos;s cool<br/>
<font color="#A82F2F"><font size="2">(02:26:22 AM)</font> <b>codehero:</b></font> i didn&apos;t know that&apos;s how it worked<br/>
<font color="#A82F2F"><font size="2">(02:26:36 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iyzsong pushed 2 new commits to master: http://git.io/bInO<br/>
<font color="#A82F2F"><font size="2">(02:26:36 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 629357c wyvie: mudlet version<br/>
<font color="#A82F2F"><font size="2">(02:26:36 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master f2fe5df Sou Bunnbu: Merge pull request #6079 from wyvie/mudletversion...<br/>
<font color="#A82F2F"><font size="2">(02:26:40 AM)</font> <b>benley:</b></font> that&apos;s what all the crazy paths in /nix/store are about :)<br/>
<font color="#A82F2F"><font size="2">(02:26:48 AM)</font> <b>codehero:</b></font> so i can just read the makefile on github and then install it<br/>
<font color="#A82F2F"><font size="2">(02:26:57 AM)</font> <b>codehero:</b></font> and nix will tell me if the makefile has been tampered with?<br/>
<font color="#A82F2F"><font size="2">(02:26:58 AM)</font> <b>auntie:</b></font> it&apos;s the same way git builds trust<br/>
<font color="#A82F2F"><font size="2">(02:27:21 AM)</font> <b>auntie:</b></font> http://en.wikipedia.org/wiki/Merkle_tree<br/>
<font color="#A82F2F"><font size="2">(02:27:53 AM)</font> <b>auntie:</b></font> codehero: nix will flip shit if a makefile changes, which could happen with a mitm attack + http<br/>
<font color="#A82F2F"><font size="2">(02:28:00 AM)</font> <b>codehero:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(02:28:08 AM)</font> <b>auntie:</b></font> but it doesn&apos;t matter because sha256 is cryptographically secure<br/>
<font color="#A82F2F"><font size="2">(02:28:22 AM)</font> <b>codehero:</b></font> would that also worked if the github repo was somehow compromised and the makefiles would be changed on there?<br/>
<font color="#A82F2F"><font size="2">(02:28:52 AM)</font> <b>benley:</b></font> if the makefile changed, the sha256 hash of the source would change, and nix would notice.<br/>
<font color="#A82F2F"><font size="2">(02:29:04 AM)</font> <b>codehero:</b></font> okay. nice<br/>
<font color="#A82F2F"><font size="2">(02:29:16 AM)</font> <b>benley:</b></font> codehero: here&apos;s the entrypoint to my custom packages repo fwiw, https://gist.github.com/benley/4d7f01805e60b39c2556<br/>
<font color="#A82F2F"><font size="2">(02:29:29 AM)</font> <b>auntie:</b></font> codehero: as long as the package mantainer doesn&apos;t bump the version manually to the compromised version<br/>
<font color="#A82F2F"><font size="2">(02:29:35 AM)</font> <b>codehero:</b></font> from were does nix get the expected hash?<br/>
<font color="#A82F2F"><font size="2">(02:29:52 AM)</font> <b>auntie:</b></font> the package mantainer computes it (with sha256sum usually)<br/>
<font color="#A82F2F"><font size="2">(02:30:07 AM)</font> <b>benley:</b></font> generally they&apos;re checked into git, yeah.<br/>
<font color="#A82F2F"><font size="2">(02:30:07 AM)</font> <b>codehero:</b></font> were is it stored?<br/>
<font color="#A82F2F"><font size="2">(02:30:08 AM)</font> <b>auntie:</b></font> sometimes there&apos;s a script, like with the python or haskell packages, that computes a whole bunch of hashes<br/>
<font color="#A82F2F"><font size="2">(02:30:59 AM)</font> <b>auntie:</b></font> the nixpkgs git repo, along with the fetchurl = { url = &quot;http://example.com/blah.tar.gz&quot;; sha256 = &quot;1226ba1a8dec15eba12f08d6a4defcf0376fafa211ef1c3e42e90b87368a9929&quot;; };<br/>
<font color="#A82F2F"><font size="2">(02:31:23 AM)</font> <b>auntie:</b></font> the tarball has a hash on it, so it cannot change<br/>
<font color="#A82F2F"><font size="2">(02:31:49 AM)</font> <b>codehero:</b></font> isn&apos;t the hash for the tar that&apos;s downloaded from the url?<br/>
<font color="#A82F2F"><font size="2">(02:32:10 AM)</font> <b>benley:</b></font> that&apos;s the expected sha256sum of the file to be downloaded.<br/>
<font color="#A82F2F"><font size="2">(02:32:19 AM)</font> <b>auntie:</b></font> it is. If the downloaded file changes by even a bit, nix would notice and it would yell at you<br/>
<font color="#A82F2F"><font size="2">(02:32:29 AM)</font> <b>codehero:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(02:32:36 AM)</font> <b>codehero:</b></font> but here for example https://github.com/NixOS/nixpkgs/blob/master/pkgs/tools/security/gnupg/21.nix<br/>
<font color="#A82F2F"><font size="2">(02:32:49 AM)</font> <b>codehero:</b></font> were is the hash for the actual &quot;21.nix&quot; file stored?<br/>
<font color="#A82F2F"><font size="2">(02:33:12 AM)</font> <b>auntie:</b></font> 21.nix is hashed by git<br/>
<font color="#A82F2F"><font size="2">(02:33:29 AM)</font> <b>benley:</b></font> all of nixpkgs gets a combined hash, more or less<br/>
<font color="#A82F2F"><font size="2">(02:33:33 AM)</font> <b>auntie:</b></font> git&apos;s hash is also cryptographically secure, and in a merkle tree with ALL of the commit history<br/>
<font color="#A82F2F"><font size="2">(02:33:53 AM)</font> <b>benley:</b></font> p.s. &quot;merkle tree&quot; is the funniest data structure name<br/>
<font color="#A82F2F"><font size="2">(02:34:17 AM)</font> <b>avn:</b></font> benley: and how you set your private packages file as &quot;root&quot; composition?<br/>
<font color="#A82F2F"><font size="2">(02:34:30 AM)</font> <b>avn:</b></font> I want to setup &lt;private&gt; as overlay over &lt;nixpkgs&gt;<br/>
<font color="#A82F2F"><font size="2">(02:34:42 AM)</font> <b>auntie:</b></font> not only is 21.nix&apos;s contents guaranteed (by the hash of the nixpkgs commit), the history of the entire repository is also guaranteed against any funny business<br/>
<font color="#A82F2F"><font size="2">(02:35:13 AM)</font> <b>codehero:</b></font> even if github could not be trusted for some reason?<br/>
<font color="#A82F2F"><font size="2">(02:35:17 AM)</font> <b>benley:</b></font> avn: I put a symlink at ~/.nix-defexpr/mypackages.nix to ~/myprivatepackagesrepo/default.nix<br/>
<font color="#A82F2F"><font size="2">(02:35:23 AM)</font> <b>auntie:</b></font> codehero: even if github could not be trusted<br/>
<font color="#A82F2F"><font size="2">(02:35:28 AM)</font> <b>codehero:</b></font> okay<br/>
<font color="#A82F2F"><font size="2">(02:35:29 AM)</font> <b>benley:</b></font> avn: then I can nix-env -i oneofmyprivatepackages<br/>
<font color="#A82F2F"><font size="2">(02:35:31 AM)</font> <b>codehero:</b></font> nice to know<br/>
<font color="#A82F2F"><font size="2">(02:35:52 AM)</font> <b>avn:</b></font> benley: are this possible to point to &lt;private&gt; from configuration.nix?<br/>
<font color="#A82F2F"><font size="2">(02:36:23 AM)</font> <b>benley:</b></font> avn: in /etc/nixos/configuration.nix?  Probably, but I&apos;m not sure how. Haven&apos;t tried yet.<br/>
<font color="#A82F2F"><font size="2">(02:36:31 AM)</font> <b>auntie:</b></font> github cannot compute sha256 collisions. unless there&apos;s some huge flaw in sha256 (not likely, but possible), then it would take more computation than the universe is capable of<br/>
<font color="#A82F2F"><font size="2">(02:37:19 AM)</font> <b>codehero:</b></font> okay. well, i thought that github could somehow spoof the commit and just supply a fake hash that corresponds to the fake commit<br/>
<font color="#A82F2F"><font size="2">(02:37:26 AM)</font> <b>benley:</b></font> avn: I&apos;m actually mostly not using NixOS yet; instead I&apos;m using nix as a per-user package manager on another distro<br/>
<font color="#A82F2F"><font size="2">(02:37:29 AM)</font> <b>auntie:</b></font> codehero: you should be more concerned about the NSA controlling github&apos;s (and everyone else&apos;s) ssl certificates. perfect trust is difficult to achieve when they&apos;re trying to fuck everyone over<br/>
<font color="#A82F2F"><font size="2">(02:38:24 AM)</font> <b>auntie:</b></font> codehero: in the end, you have to trust all of the nixos devs at the very least<br/>
<font color="#A82F2F"><font size="2">(02:39:17 AM)</font> <b>benley:</b></font> avn: this looks useful too: http://ordinatechnic.com/os-specific-guides/nixos/nixos-configuration#section-5<br/>
<font color="#A82F2F"><font size="2">(02:40:11 AM)</font> <b>codehero:</b></font> auntie: well. yeah<br/>
<font color="#A82F2F"><font size="2">(02:42:51 AM)</font> <b>avn:</b></font> benley: well, at least I can &quot;import &lt;private/all.nix&gt;&quot; as an option<br/>
<font color="#A82F2F"><font size="2">(02:42:56 AM)</font> <b>codehero:</b></font> i&apos;m just not entirely sure if git does enough to ensure that code cannot be tampered with<br/>
<font color="#A82F2F"><font size="2">(02:42:57 AM)</font> <b>auntie:</b></font> stuff the NSA does is real though... they can (and will) compromise your home router and use the SSL private keys (the ones only the certificate authority is supposed to have) to have their way with your traffic<br/>
<font color="#A82F2F"><font size="2">(02:43:05 AM)</font> <b>benley:</b></font> avn: yep :)<br/>
<font color="#A82F2F"><font size="2">(02:43:30 AM)</font> <b>auntie:</b></font> they can do anything. it&apos;s why snowden leaked all those documents<br/>
<font color="#A82F2F"><font size="2">(02:43:42 AM)</font> <b>auntie:</b></font> (they&apos;re probably watching me on this chat now :D)<br/>
<font color="#A82F2F"><font size="2">(02:44:25 AM)</font> <b>benley:</b></font> yeah, if you&apos;re really trying to protect yourself from NSA style intervention, honestly you&apos;ve probably already lost :-P<br/>
<font color="#A82F2F"><font size="2">(02:45:32 AM)</font> <b>benley:</b></font> I figure if an organization like that is actually after you, there&apos;s plenty of ways they can trump pretty much all your online security<br/>
<font color="#A82F2F"><font size="2">(02:45:45 AM)</font> <b>codehero:</b></font> well. yeah<br/>
<font color="#A82F2F"><font size="2">(02:45:49 AM)</font> <b>benley:</b></font> e.g. sneaking into your office and tampering with your keyboard cable<br/>
<font color="#A82F2F"><font size="2">(02:45:57 AM)</font> <b>codehero:</b></font> but you also want to protect yourself from hackers<br/>
<font color="#A82F2F"><font size="2">(02:46:02 AM)</font> <b>benley:</b></font> right, of course<br/>
<font color="#A82F2F"><font size="2">(02:46:28 AM)</font> <b>codehero:</b></font> which is where mitm attacks would probably be the first thing<br/>
<font color="#A82F2F"><font size="2">(02:47:33 AM)</font> <b>auntie:</b></font> codehero: hah, if github screwed with the commits, every developer that was using that repo would get error messages in git saying that they did so<br/>
<font color="#A82F2F"><font size="2">(02:47:45 AM)</font> <b>auntie:</b></font> codehero: it&apos;s impossible<br/>
<font color="#A82F2F"><font size="2">(02:48:13 AM)</font> <b>benley:</b></font> you&apos;d at least see &quot;ZOMG FORCED UPDATE&quot; messages upon git pull<br/>
<font color="#A82F2F"><font size="2">(02:48:32 AM)</font> <b>auntie:</b></font> you should be more wary of the nixos devs, not github<br/>
<font color="#A82F2F"><font size="2">(02:50:47 AM)</font> <b>codehero:</b></font> :D<br/>
<font color="#A82F2F"><font size="2">(02:50:49 AM)</font> <b>codehero:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(02:50:51 AM)</font> <b>codehero:</b></font> i am<br/>
<font color="#A82F2F"><font size="2">(02:51:02 AM)</font> <b>auntie:</b></font> lawdy<br/>
<font color="#A82F2F"><font size="2">(02:52:36 AM)</font> <b>avn:</b></font> well, but resist to thermal cryptoanalysis is a hardest thing<br/>
<font color="#A82F2F"><font size="2">(02:53:20 AM)</font> <b>codehero:</b></font> however the nixos devs probably aren&apos;t worse than the archlinux devs<br/>
<font color="#A82F2F"><font size="2">(02:53:27 AM)</font> <b>codehero:</b></font> you have to trust someone eventually<br/>
<font color="#A82F2F"><font size="2">(02:54:42 AM)</font> <b>benley:</b></font> Also, I&apos;m not sure there&apos;s a solid chain of trust through the binary caches<br/>
<font color="#A82F2F"><font size="2">(02:55:19 AM)</font> <b>benley:</b></font> like, are those always https downloads? Are the bits that nix-channel --update downloads hashed/signed/something?<br/>
<font color="#A82F2F"><font size="2">(02:55:25 AM)</font> <b>avn:</b></font> benley: If u not trust, just not use them, build everything yourself<br/>
<font color="#A82F2F"><font size="2">(02:55:41 AM)</font> <b>benley:</b></font> avn: that is of course possible<br/>
<font color="#A82F2F"><font size="2">(02:55:59 AM)</font> <b>auntie:</b></font> benley: there is. The nix channel is served over https<br/>
<font color="#A82F2F"><font size="2">(02:56:05 AM)</font> <b>benley:</b></font> I do trust the nixos devs, and github, and hydra.  Just not sure I understand the end-to-end trust model fully.<br/>
<font color="#A82F2F"><font size="2">(02:56:08 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] AndersonTorres opened pull request #6113: WindowMaker: adding support for more image formats (master...windowmaker) http://git.io/bI0b<br/>
<font color="#A82F2F"><font size="2">(02:56:21 AM)</font> <b>auntie:</b></font> benley: maybe you have to trust hydra :P<br/>
<font color="#A82F2F"><font size="2">(02:56:31 AM)</font> <b>benley:</b></font> hehe<br/>
<font color="#A82F2F"><font size="2">(02:57:46 AM)</font> <b>auntie:</b></font> the NSA could be anywhere man. The Chinese have a little chip installed on every Dell motherboard. North Korea has an entire population of script kiddies ready and waiting to own your NixOS box<br/>
<font color="#A82F2F"><font size="2">(02:59:11 AM)</font> <b>MP2E:</b></font> we welcome pull requests<br/>
<font color="#A82F2F"><font size="2">(02:59:53 AM)</font> <b>goodwill:</b></font> I read a hilarious article recently about how NSA is now having difficulties hiring mathematicians cause ... morals and ethics<br/>
<font color="#A82F2F"><font size="2">(03:00:17 AM)</font> <b>goodwill:</b></font> apparently this was brought up at a recent NSA booth at some university<br/>
<font color="#A82F2F"><font size="2">(03:01:05 AM)</font> <b>codehero:</b></font> huh<br/>
<font color="#A82F2F"><font size="2">(03:01:07 AM)</font> <b>benley:</b></font> MP2E: I&apos;ll keep sending &apos;em :)<br/>
<font color="#A82F2F"><font size="2">(03:02:14 AM)</font> <b>auntie:</b></font> goodwill: I think I saw that on /.<br/>
<font color="#A82F2F"><font size="2">(03:03:44 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] wkennington pushed 1 new commit to master: http://git.io/bIz2<br/>
<font color="#A82F2F"><font size="2">(03:03:44 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master acbf8eb William A. Kennington III: unifi: 3.2.7 -&gt; 3.2.10<br/>
<font color="#A82F2F"><font size="2">(03:08:36 AM)</font> <b>auntie:</b></font> benley: you should look up merkle trees for understanding the trust. all of the trust is distilled in the commit hash for nixpkgs. (currently acbf8eb5617bb601e81cdc783f941773032cf400)<br/>
<font color="#A82F2F"><font size="2">(03:09:22 AM)</font> <b>auntie:</b></font> of course, there&apos;s like a dozen or so people, plus thousands upon thousands of open source developers you need to trust (at least a little bit)<br/>
<font color="#A82F2F"><font size="2">(03:10:52 AM)</font> <b>benley:</b></font> auntie: I get that - codehero was the one asking<br/>
<font color="#A82F2F"><font size="2">(03:11:15 AM)</font> <b>benley:</b></font> the only part I wasn&apos;t sure about was integrity guarantees on channel manifests<br/>
<font color="#A82F2F"><font size="2">(03:12:35 AM)</font> <b>auntie:</b></font> codehero: http://youtu.be/4XpnKHJAok8?t=56m30s<br/>
<font color="#A82F2F"><font size="2">(03:13:17 AM)</font> <b>auntie:</b></font> benley: hydra generates that, right? you probably have to trust that hardware, and the ssl key that serves the manifests<br/>
<font color="#A82F2F"><font size="2">(03:13:27 AM)</font> <b>benley:</b></font> yup<br/>
<font color="#A82F2F"><font size="2">(03:14:49 AM)</font> <b>codehero:</b></font> auntie: oh. nice. straight from the horse&apos;s mouth<br/>
<font color="#A82F2F"><font size="2">(03:14:58 AM)</font> <b>codehero:</b></font> i guess that settles the question then :)<br/>
<font color="#A82F2F"><font size="2">(03:15:12 AM)</font> <b>benley:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(03:15:27 AM)</font> <b>auntie:</b></font> eh, anything is possible if you&apos;re a conspiracy theorist<br/>
<font color="#A82F2F"><font size="2">(03:15:40 AM)</font> <b>auntie:</b></font> the whole nixos project could be a front set up by the NSA!<br/>
<font color="#A82F2F"><font size="2">(03:15:47 AM)</font> <b>auntie:</b></font> heh<br/>
<font color="#A82F2F"><font size="2">(03:15:55 AM)</font> <b>MP2E:</b></font> don&apos;t let facts get in the way of a strong opinion!<br/>
<font color="#A82F2F"><font size="2">(03:16:03 AM)</font> <b>codehero:</b></font> :D<br/>
<font color="#A82F2F"><font size="2">(03:16:07 AM)</font> <b>codehero:</b></font> well, of course<br/>
<font color="#A82F2F"><font size="2">(03:16:16 AM)</font> <b>benley:</b></font> github could be a front set up by the NSA!<br/>
<font color="#A82F2F"><font size="2">(03:16:28 AM)</font> <b>benley:</b></font> The internet could be a front set up by the US government!<br/>
<font color="#A82F2F"><font size="2">(03:17:00 AM)</font> <b>o11c:</b></font> uh, it is<br/>
<font color="#A82F2F"><font size="2">(03:17:05 AM)</font> <b>codehero:</b></font> well, duh<br/>
<font color="#A82F2F"><font size="2">(03:17:09 AM)</font> <b>MP2E:</b></font> it&apos;s worse than we feared: the internet is the illuminati, and the government probing us is actually making them stronger<br/>
<font color="#A82F2F"><font size="2">(03:17:15 AM)</font> <b>o11c:</b></font> but like all artificial intelligences, it got loose<br/>
<font color="#A82F2F"><font size="2">(03:17:28 AM)</font> <b>codehero:</b></font> MP2E: where do the freemasons fit in there?<br/>
<font color="#A82F2F"><font size="2">(03:17:41 AM)</font> <b>MP2E:</b></font> hmm... good question<br/>
<font color="#A82F2F"><font size="2">(03:17:59 AM)</font> <b>MP2E:</b></font> freemasons are the FSF?<br/>
<font color="#A82F2F"><font size="2">(03:19:34 AM)</font> <b>codehero:</b></font> probably<br/>
<font color="#A82F2F"><font size="2">(03:27:25 AM)</font> <b>codehero:</b></font> the software that solved the trust issue the best is bitcoin. but it comes at a huge cost..<br/>
<font size="2">(03:28:34 AM)</font><b> realizable-pyon is now known as Guest46380</b><br/>
<font size="2">(03:29:01 AM)</font><b> pyon_ is now known as realizable-pyon</b><br/>
<font color="#A82F2F"><font size="2">(03:30:32 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] shlevy pushed 2 new commits to master: http://git.io/bIKS<br/>
<font color="#A82F2F"><font size="2">(03:30:32 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c45372f Shea Levy: Merge commit &apos;cfb29ab882323d379aba20a95020c7c24f883eae&apos;...<br/>
<font color="#A82F2F"><font size="2">(03:30:32 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master aea1254 Shea Levy: cc-wrapper merge fixes<br/>
<font color="#A82F2F"><font size="2">(03:30:36 AM)</font> <b>codehero:</b></font> however that cost should be reduced over time, at lesat i hope so<br/>
<font color="#A82F2F"><font size="2">(03:46:55 AM)</font> <b>Digit:</b></font> is there a way to list packages by category or whatever?   like list all available games<br/>
<font color="#A82F2F"><font size="2">(03:51:05 AM)</font> <b>benley:</b></font> Digit: not that I know of, other than taking a look in the nixpkgs repo, which is fairly well organized by category<br/>
<font color="#A82F2F"><font size="2">(03:51:25 AM)</font> <b>benley:</b></font> https://github.com/NixOS/nixpkgs/tree/master/pkgs/games<br/>
<font color="#A82F2F"><font size="2">(03:51:40 AM)</font> <b>benley:</b></font> damn I cannot for the life of me get go2nix to work<br/>
<font color="#A82F2F"><font size="2">(04:01:25 AM)</font> <b>benley:</b></font> oh, maybe I got it.  It silently fails if it can&apos;t find nix-prefetch-{git,hg,bzr,zip} and go-repo-root executables.<br/>
<font color="#A82F2F"><font size="2">(04:03:12 AM)</font> <b>benley:</b></font> Would it make sense for nix-prefetch-{variousthings} to be installable as packages?<br/>
<font color="#A82F2F"><font size="2">(04:03:24 AM)</font> <b>NixThor:</b></font> I still don&apos;t know how packages get their paths...  pkgs.xlibs.etc... what defines pkgs.xlibs? Is it all-packages.nix?<br/>
<font color="#A82F2F"><font size="2">(04:03:32 AM)</font> <b>benley:</b></font> NixThor: yep pretty much<br/>
<font color="#A82F2F"><font size="2">(04:04:40 AM)</font> <b>NixThor:</b></font> benley: because I&apos;ve been trying to use nix-build to build a couple of packages that are dependent upon each other, but once I have one built and have added it to the buildInputs nix tells me that the &quot;variable doesn&apos;t exist&quot;<br/>
<font color="#A82F2F"><font size="2">(04:05:32 AM)</font> <b>benley:</b></font> are they mutually dependent?<br/>
<font color="#A82F2F"><font size="2">(04:07:24 AM)</font> <b>benley:</b></font> if so you can do something like firstPackage = secondPackage.overrideDerivation(oldAttrs: {buildInputs = oldAttrs.buildInputs ++ [ firstPackage ]});<br/>
<font color="#A82F2F"><font size="2">(04:08:24 AM)</font> <b>NixThor:</b></font> benley: naw, one depends on regular xlib libraries, the other depends on the first, and the third depends on the second<br/>
<font color="#A82F2F"><font size="2">(04:08:30 AM)</font> <b>realizable-pyon:</b></font> In these instructions: https://nixos.org/wiki/Installing_NixOS_from_a_USB_stick -- In the syslinux.cfg file, how do I find the UUID I have to use?<br/>
<font color="#A82F2F"><font size="2">(04:08:35 AM)</font> <b>benley:</b></font> ah so it&apos;s just normal dependencies<br/>
<font color="#A82F2F"><font size="2">(04:09:02 AM)</font> <b>benley:</b></font> NixThor: so the third one just needs the second in its buildInputs, and second needs the first in its buildInputs ... where are you getting stuck?<br/>
<font color="#A82F2F"><font size="2">(04:10:38 AM)</font> <b>realizable-pyon:</b></font> Is it in &quot;lsblk /dev/sdb&quot; or &quot;lsblk /dev/sdb1&quot; ?<br/>
<font color="#A82F2F"><font size="2">(04:13:32 AM)</font> <b>benley:</b></font> this is a guess, but I suspect the latter - you want the uuid of the partition<br/>
<font color="#A82F2F"><font size="2">(04:13:38 AM)</font> <b>NixThor:</b></font> benley: for some reason the first dependency isn&apos;t even found<br/>
<font color="#A82F2F"><font size="2">(04:13:41 AM)</font> <b>NixThor:</b></font> https://gist.github.com/thorhop/770dcb1a5d1bbf0ae11f<br/>
<font color="#A82F2F"><font size="2">(04:13:52 AM)</font> <b>NixThor:</b></font> Here, the nix files and excerpt from  all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(04:15:12 AM)</font> <b>realizable-pyon:</b></font> This is the output of &quot;lsblk /dev/sdb1&quot;: &quot;/dev/sdb1: UUID=&quot;2015-02-01-04-35-10-00&quot; LABEL=&quot;ARCH_201502&quot; TYPE=&quot;iso9660&quot; PTUUID=&quot;25a9244e&quot; PTTYPE=&quot;dos&quot; PARTUUID=&quot;25a9244e-01&quot;&quot;<br/>
<font color="#A82F2F"><font size="2">(04:15:28 AM)</font> <b>realizable-pyon:</b></font> So I should use &quot;25a9244e-01&quot;, right?<br/>
<font color="#A82F2F"><font size="2">(04:16:01 AM)</font> <b>realizable-pyon:</b></font> Anyway, need to reboot, but I&apos;m also here as pyon.<br/>
<font color="#A82F2F"><font size="2">(04:16:08 AM)</font> <b>benley:</b></font> realizable-pyon: I&apos;m clueless here :P<br/>
<font color="#A82F2F"><font size="2">(04:16:13 AM)</font> <b>realizable-pyon:</b></font> Awww.<br/>
<font color="#A82F2F"><font size="2">(04:16:41 AM)</font> <b>NixThor:</b></font> benley: if those look okay it might be the way I use nix-build...<br/>
<font color="#A82F2F"><font size="2">(04:16:59 AM)</font> <b>benley:</b></font> NixThor: which one is failing?<br/>
<font color="#A82F2F"><font size="2">(04:18:21 AM)</font> <b>NixThor:</b></font> benley: grail fails to find frame<br/>
<font color="#A82F2F"><font size="2">(04:18:49 AM)</font> <b>NixThor:</b></font> I&apos;ve tried NIX_PATH=/path/to/nixpkgs, I&apos;ve tried -f /path/to/nixpkgs, and yet... no go<br/>
<font color="#A82F2F"><font size="2">(04:19:43 AM)</font> <b>benley:</b></font> and you&apos;re getting an error along the lines of &quot;missing attribute: frame&quot; or something?<br/>
<font size="2">(04:20:28 AM)</font><b> realizable-pyon left the room (quit: Ping timeout: 246 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(04:20:28 AM)</font> <b>NixThor:</b></font> Yes<br/>
<font color="#A82F2F"><font size="2">(04:21:37 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iyzsong pushed 2 new commits to master: http://git.io/bIdZ<br/>
<font color="#A82F2F"><font size="2">(04:21:37 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1c0c07c AndersonTorres: WindowMaker: adding support for more image formats...<br/>
<font color="#A82F2F"><font size="2">(04:21:37 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 7f17bfc Sou Bunnbu: Merge pull request #6113 from AndersonTorres/windowmaker...<br/>
<font size="2">(04:23:42 AM)</font><b> realizable-pyon [<em>b3075050@gateway/web/freenode/ip.179.7.80.80</em>] entered the room.</b><br/>
<font size="2">(04:23:58 AM)</font><b> realizable-pyon left the room (quit: Changing host).</b><br/>
<font size="2">(04:23:58 AM)</font><b> realizable-pyon [<em>b3075050@unaffiliated/pyon</em>] entered the room.</b><br/>
<font size="2">(04:23:58 AM)</font><b> realizable-pyon left the room (quit: Changing host).</b><br/>
<font size="2">(04:23:58 AM)</font><b> realizable-pyon [<em>b3075050@gateway/web/freenode/ip.179.7.80.80</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(04:23:58 AM)</font> <b>NixThor:</b></font> benley: got a simple explanation? :3<br/>
<font color="#A82F2F"><font size="2">(04:25:00 AM)</font> <b>benley:</b></font> maybe?<br/>
<font color="#A82F2F"><font size="2">(04:25:08 AM)</font> <b>benley:</b></font> I forked your gist and poked at it some: https://gist.github.com/benley/e26232398c298d1664d7<br/>
<font color="#A82F2F"><font size="2">(04:25:49 AM)</font> <b>benley:</b></font> letting it rely on callPackage to pass things along, and being more explicit about where frame comes from in all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(04:26:24 AM)</font> <b>benley:</b></font> oh good, this exists: https://gist.github.com/benley/e26232398c298d1664d7/revisions<br/>
<font color="#A82F2F"><font size="2">(04:26:39 AM)</font> <b>benley:</b></font> I didn&apos;t try building that, so ymmv :P<br/>
<font color="#062585"><font size="2">(04:30:20 AM)</font> <b>***benley</b></font> tries building<br/>
<font color="#A82F2F"><font size="2">(04:30:30 AM)</font> <b>pyon:</b></font> So... I got my &quot;bootable&quot; USB to at least try to boot. At boot time, I get an error message saying that &quot;this is not a bootable disk&quot;, which I guess is progress over booting from my hard drive outright.<br/>
<font color="#A82F2F"><font size="2">(04:30:47 AM)</font> <b>pyon:</b></font> Hard disk *<br/>
<font color="#A82F2F"><font size="2">(04:34:30 AM)</font> <b>benley:</b></font> NixThor: revision 4 of my gist fork can build grail and frame<br/>
<font color="#A82F2F"><font size="2">(04:35:18 AM)</font> <b>NixThor:</b></font> benley: great :D I&apos;m adding the changes<br/>
<font color="#A82F2F"><font size="2">(04:35:40 AM)</font> <b>NixThor:</b></font> benley: I&apos;m still not sure which way to load dependencies is best..<br/>
<font color="#A82F2F"><font size="2">(04:36:35 AM)</font> <b>benley:</b></font> you mean using pkgs.things vs listing them in the function header?<br/>
<font color="#A82F2F"><font size="2">(04:36:55 AM)</font> <b>benley:</b></font> the latter is nice in that it makes it way easier to override individual things<br/>
<font color="#A82F2F"><font size="2">(04:37:50 AM)</font> <b>NixThor:</b></font> Frame was always building, btw..<br/>
<font color="#A82F2F"><font size="2">(04:38:14 AM)</font> <b>benley:</b></font> well this makes grail work at least :)<br/>
<font color="#A82F2F"><font size="2">(04:38:32 AM)</font> <b>benley:</b></font> geis gets stuck during the configure script trying to fine grail. Probably just needs some configure flags or something.<br/>
<font color="#A82F2F"><font size="2">(04:41:18 AM)</font> <b>NixThor:</b></font> benley: yeah, I got that far to xD<br/>
<font color="#A82F2F"><font size="2">(04:41:25 AM)</font> <b>NixThor:</b></font> I think I may have regressed in getting it to work...<br/>
<font color="#A82F2F"><font size="2">(04:41:42 AM)</font> <b>NixThor:</b></font> benley: now I&apos;m getting this error &gt; error: cannot auto-call a function that has an argument without a default value (‘stdenv’)<br/>
<font color="#A82F2F"><font size="2">(04:41:50 AM)</font> <b>benley:</b></font> well if it&apos;s getting as far as building geis, it means it already built grail and frame successfully<br/>
<font color="#A82F2F"><font size="2">(04:43:04 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] Fuuzetsu closed pull request #6103: haskell: updated yi-language to 0.1.1.0 (master...master) http://git.io/bJk8<br/>
<font color="#A82F2F"><font size="2">(04:43:22 AM)</font> <b>NixThor:</b></font> benley: I can&apos;t remember what variation of nix-build/nix-shell I did to get that far...<br/>
<font color="#A82F2F"><font size="2">(04:43:28 AM)</font> <b>NixThor:</b></font> I am thurougly confused<br/>
<font color="#A82F2F"><font size="2">(04:44:12 AM)</font> <b>benley:</b></font> you shouldn&apos;t need to build them in a particular order; if you just do nix-build -A geis it will build whatever it depends on<br/>
<font color="#A82F2F"><font size="2">(04:46:24 AM)</font> <b>NixThor:</b></font> benley: I&apos;m struggling with nix... not the building part<br/>
<font color="#A82F2F"><font size="2">(04:47:03 AM)</font> <b>NixThor:</b></font> I have to read the docus again -.-;<br/>
<font color="#A82F2F"><font size="2">(04:47:05 AM)</font> <b>benley:</b></font> oh I got geis to build<br/>
<font color="#A82F2F"><font size="2">(04:47:09 AM)</font> <b>benley:</b></font> sweeeeeeeeeet<br/>
<font color="#A82F2F"><font size="2">(04:47:20 AM)</font> <b>benley:</b></font> nevermind I lied<br/>
<font color="#A82F2F"><font size="2">(04:48:49 AM)</font> <b>NixThor:</b></font> benley: good :P<br/>
<font color="#A82F2F"><font size="2">(04:49:02 AM)</font> <b>NixThor:</b></font> I&apos;d be pissed if someone younger than me did this easier and quicker ^^;<br/>
<font size="2">(04:53:28 AM)</font><b> wkennington left the room (quit: Remote host closed the connection).</b><br/>
<font color="#A82F2F"><font size="2">(04:58:22 AM)</font> <b>benley:</b></font> weird, I don&apos;t see why configure can&apos;t find grail. I&apos;m in a shell with nix-shell -A geis, and $PKG_CONFIG_PATH is set, and it includes the path to /nix/store/blabla-grail-3.1.0/lib/pkgconfig<br/>
<font color="#A82F2F"><font size="2">(04:58:28 AM)</font> <b>benley:</b></font> which contains grail.pc<br/>
<font color="#A82F2F"><font size="2">(05:00:23 AM)</font> <b>benley:</b></font> NixThor: I need to get offline - hopefully you get that figured out<br/>
<font color="#A82F2F"><font size="2">(05:00:29 AM)</font> <b>benley:</b></font> NixThor: I posted a revision 5 to my gist: https://gist.github.com/benley/e26232398c298d1664d7<br/>
<font color="#A82F2F"><font size="2">(05:00:35 AM)</font> <b>benley:</b></font> simplified things a bit more<br/>
<font color="#A82F2F"><font size="2">(05:05:18 AM)</font> <b>NixThor:</b></font> benley: cool - maybe I&apos;ll learn something ^^<br/>
<font color="#A82F2F"><font size="2">(05:06:22 AM)</font> <b>NixThor:</b></font> Ah - you&apos;ve built it outside of nixpkgs<br/>
<font color="#A82F2F"><font size="2">(05:06:51 AM)</font> <b>NixThor:</b></font> Though if all three build nice job<br/>
<font color="#A82F2F"><font size="2">(05:07:38 AM)</font> <b>NixThor:</b></font> so the maintainer meta is only to be put in place if you&apos;re apart of the nixpkgs committers...<br/>
<font size="2">(05:12:33 AM)</font><b> wkennington [<em>~william@76.77.180.204</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(05:15:58 AM)</font> <b>NixThor:</b></font> Is there an example of a nix expression based off of a .deb file?<br/>
<font color="#A82F2F"><font size="2">(05:27:44 AM)</font> <b>benley:</b></font> NixThor: I set it up that way so it would work the same when you put it in nixpkgs directly<br/>
<font color="#A82F2F"><font size="2">(05:39:54 AM)</font> <b>NixThor:</b></font> benley: ah - I&apos;m sort of working with a fork of nixpkgs<br/>
<font color="#A82F2F"><font size="2">(05:40:07 AM)</font> <b>NixThor:</b></font> benley: wanna add some touch gesture goodness to nix ^^<br/>
<font color="#A82F2F"><font size="2">(05:40:15 AM)</font> <b>benley:</b></font> tht will be nice :)<br/>
<font color="#A82F2F"><font size="2">(05:40:17 AM)</font> <b>benley:</b></font> *that<br/>
<font size="2">(05:40:22 AM)</font><b> MichaelRaskin left the room (quit: Quit: MichaelRaskin).</b><br/>
<font color="#A82F2F"><font size="2">(05:40:46 AM)</font> <b>NixThor:</b></font> benley: yeah, those packages are all dependencies of touchegg - a touch gesture daemon that the user can configure<br/>
<font color="#A82F2F"><font size="2">(05:41:22 AM)</font> <b>benley:</b></font> I haven&apos;t yet put NixOS on my laptop for lack of a convenient time to deal with it, but when I do it will be nice to have some touchscreen stuff working<br/>
<font color="#A82F2F"><font size="2">(05:41:46 AM)</font> <b>benley:</b></font> (I wonder if it&apos;s possible to get uefi secure boot working)<br/>
<font color="#A82F2F"><font size="2">(05:42:36 AM)</font> <b>NixThor:</b></font> benley: Well it does work, to some extent, but since Xorg treats the touchscreen like any other mouse and doesn&apos;t have a protocol for handling touch devices stuff like rotating fingers, using more than one finger, etc<br/>
<font color="#A82F2F"><font size="2">(05:42:43 AM)</font> <b>NixThor:</b></font> benley: I skipped secure boot :/<br/>
<font color="#A82F2F"><font size="2">(05:43:15 AM)</font> <b>benley:</b></font> I currently have secure boot working with an ubuntu install. There was some voodoo involved.<br/>
<font color="#A82F2F"><font size="2">(05:43:17 AM)</font> <b>NixThor:</b></font> I know both Fedora and Ubuntu can now be installed on a UEFI secure boot machine, but I think that&apos;s through the kernel EFI shim<br/>
<font color="#A82F2F"><font size="2">(05:43:28 AM)</font> <b>NixThor:</b></font> Now I&apos;m using gummiboot, which is standard on nixos for uefi...<br/>
<font color="#A82F2F"><font size="2">(05:43:34 AM)</font> <b>benley:</b></font> not sure what the point is though, since it can just be turned off<br/>
<font color="#A82F2F"><font size="2">(05:43:46 AM)</font> <b>benley:</b></font> yeah, it&apos;s using the shim<br/>
<font color="#A82F2F"><font size="2">(05:44:29 AM)</font> <b>NixThor:</b></font> Well the point is if someone tries to change the executable of the kernel in some way it will be prevented<br/>
<font color="#A82F2F"><font size="2">(05:44:42 AM)</font> <b>NixThor:</b></font> or at least the system will not boot because of checksums, I think<br/>
<font color="#A82F2F"><font size="2">(05:44:47 AM)</font> <b>benley:</b></font> *nod* yeah<br/>
<font color="#A82F2F"><font size="2">(05:45:19 AM)</font> <b>benley:</b></font> I guess securing against physical access is already a lost cause, so it&apos;s fine that secure boot doesn&apos;t really help there<br/>
<font color="#A82F2F"><font size="2">(05:45:20 AM)</font> <b>NixThor:</b></font> I&apos;m not an expert on the subject, but I have done some ansillary research in regards to EFI/UEFI boot<br/>
<font color="#A82F2F"><font size="2">(05:45:52 AM)</font> <b>NixThor:</b></font> benley: golden rule:if someone has unrestricted physical access to the hardware... the data is already comprimised<br/>
<font color="#A82F2F"><font size="2">(05:46:15 AM)</font> <b>benley:</b></font> aye.<br/>
<font color="#A82F2F"><font size="2">(05:48:18 AM)</font> <b>NixThor:</b></font> It&apos;s sort of the reason why military instances doesn&apos;t rely on passwords anymore - they prefer some form of physical key system, which can be taken from someone without having to force said person to divulge the credentials - to minimize the risk that the person would be harmed, tortured, etc, for the credentials<br/>
<font color="#A82F2F"><font size="2">(05:49:52 AM)</font> <b>benley:</b></font> not to mention it&apos;s a lot harder to brute-force multifactor auth systems<br/>
<font color="#A82F2F"><font size="2">(05:50:05 AM)</font> <b>NixThor:</b></font> definetley<br/>
<font color="#A82F2F"><font size="2">(05:53:02 AM)</font> <b>NixThor:</b></font> I need to get a better grasp around nixpkgs and nix expressions...<br/>
<font color="#A82F2F"><font size="2">(05:55:28 AM)</font> <b>NixThor:</b></font> It&apos;s apparent I&apos;m doing something wrong in regards to pkgs/top-level/all-packages.nix<br/>
<font color="#A82F2F"><font size="2">(06:11:33 AM)</font> <b>benley:</b></font> oy vey, earlier I was lamenting that I couldn&apos;t use nix-prefetch-git and friends as build inputs.  It turns out that nix-prefetch-scripts exists as a package. welp<br/>
<font color="#A82F2F"><font size="2">(06:16:22 AM)</font> <b>NixThor:</b></font> Aha! I got frame to build with --enable-x11 :D<br/>
<font color="#A82F2F"><font size="2">(06:17:22 AM)</font> <b>NixThor:</b></font> benley: which basically means the dependencies are OK...  either that or the headers are actually properly placed in path since I used pkgs.myEnvFun to build Xorg<br/>
<font color="#A82F2F"><font size="2">(06:19:11 AM)</font> <b>NixThor:</b></font> benley: maybe I should add xorg to {}:?<br/>
<font color="#A82F2F"><font size="2">(06:22:09 AM)</font> <b>benley:</b></font> which thing needs --enable-x11? geis?<br/>
<font color="#A82F2F"><font size="2">(06:22:49 AM)</font> <b>benley:</b></font> I think including the various xlibs.foo packages are right - just looking at the expr for xulrunner for somparison<br/>
<font color="#A82F2F"><font size="2">(06:22:52 AM)</font> <b>benley:</b></font> *comparison<br/>
<font color="#A82F2F"><font size="2">(06:22:56 AM)</font> <b>NixThor:</b></font> All of them, I think<br/>
<font color="#A82F2F"><font size="2">(06:23:07 AM)</font> <b>NixThor:</b></font> grail requires xorg-gtest... so I installed gtest, with no effect..<br/>
<font color="#A82F2F"><font size="2">(06:24:01 AM)</font> <b>NixThor:</b></font> or no... X11 is included when gtest is installed, even though the configure script says it can&apos;t find it<br/>
<font color="#A82F2F"><font size="2">(06:24:20 AM)</font> <b>benley:</b></font> wasn&apos;t frame already building without --enable-x11?<br/>
<font color="#A82F2F"><font size="2">(06:26:32 AM)</font> <b>NixThor:</b></font> benley: yes, but it does not have x11 support then.. disabled it to see if it built<br/>
<font color="#A82F2F"><font size="2">(06:26:38 AM)</font> <b>NixThor:</b></font> benley: but without X11 support touchegg won&apos;t work<br/>
<font color="#A82F2F"><font size="2">(06:35:13 AM)</font> <b>NixThor:</b></font> benley: https://gist.github.com/thorhop/770dcb1a5d1bbf0ae11f<br/>
<font color="#A82F2F"><font size="2">(06:37:30 AM)</font> <b>NixThor:</b></font> benley: I should make it optional and call enableX11 as a dependency from the app that calls it... right?<br/>
<font color="#A82F2F"><font size="2">(06:37:46 AM)</font> <b>NixThor:</b></font> Like I&apos;m sure some people will want to enable wayland or mir once that support drops...<br/>
<font size="2">(07:08:08 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
