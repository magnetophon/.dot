<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Tue 03 Feb 2015 08:32:45 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Tue 03 Feb 2015 08:32:45 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(08:32:46 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(08:32:46 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#A82F2F"><font size="2">(08:32:48 PM)</font> <b>viric:</b></font> a database thing<br/>
<font color="#A82F2F"><font size="2">(08:32:48 PM)</font> <b>ikwildrpepper:</b></font> viric: yeah, postgresql died due to full disk, gc&apos;ing nwo<br/>
<font color="#A82F2F"><font size="2">(08:32:49 PM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(08:33:22 PM)</font> <b>viric:</b></font> ikwildrpepper: stop hydra evaluations on X GB free :)<br/>
<font color="#A82F2F"><font size="2">(08:33:34 PM)</font> <b>ikwildrpepper:</b></font> viric: DB server is on another server<br/>
<font color="#A82F2F"><font size="2">(08:33:43 PM)</font> <b>viric:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(08:35:23 PM)</font> <b>boegel:</b></font> pierron: is this for making the Nix daemon talk to EasyBuild?<br/>
<font color="#A82F2F"><font size="2">(08:35:51 PM)</font> <b>pierron:</b></font> boegel: to use the Nix daemon as a backend of easy build.<br/>
<font color="#A82F2F"><font size="2">(08:36:03 PM)</font> <b>boegel:</b></font> pierron: don&apos;t bother looking it up now, I have very little time the next couple of days/weeks to dive into Nix, but it&apos;s high on my list of things to look into when more time becomes available again<br/>
<font color="#A82F2F"><font size="2">(08:36:16 PM)</font> <b>ikwildrpepper:</b></font> what&apos;s easybuild?<br/>
<font color="#A82F2F"><font size="2">(08:36:29 PM)</font> <b>boegel:</b></font> pierron: it&apos;s the other way around, no? let the Nix daemon ask EasyBuild to install something?<br/>
<font color="#A82F2F"><font size="2">(08:36:40 PM)</font> <b>boegel:</b></font> ikwildrpepper: hpcugent.github.io/easybuild<br/>
<font color="#A82F2F"><font size="2">(08:36:44 PM)</font> <b>boegel:</b></font> ikwildrpepper: http://hpcugent.github.io/easybuild<br/>
<font color="#A82F2F"><font size="2">(08:36:51 PM)</font> <b>ikwildrpepper:</b></font> ty<br/>
<font color="#A82F2F"><font size="2">(08:37:15 PM)</font> <b>ikwildrpepper:</b></font> viric: hydra up again<br/>
<font color="#A82F2F"><font size="2">(08:37:53 PM)</font> <b>goodwill:</b></font> pierron: I was nto at fosdem ... what was the sticker? the log?<br/>
<font color="#A82F2F"><font size="2">(08:37:54 PM)</font> <b>pierron:</b></font> boegel: I think both.  You want to register EasyBuild recipe against the Nix Daemon, such that it can spawn a build user.<br/>
<font color="#A82F2F"><font size="2">(08:37:55 PM)</font> <b>goodwill:</b></font> logo<br/>
<font color="#A82F2F"><font size="2">(08:38:51 PM)</font> <b>pierron:</b></font> goodwill: basically this was the same, except that I added some keywords above and under.  &quot;Purely Functional&quot; &quot;Linux Distribution&quot;<br/>
<font color="#A82F2F"><font size="2">(08:39:16 PM)</font> <b>pierron:</b></font> goodwill: the same as the &quot;O&quot; and as on the box.<br/>
<font color="#A82F2F"><font size="2">(08:39:58 PM)</font> <b>goodwill:</b></font> pierron: did you guys sell tees at fosdem or anything?<br/>
<font color="#A82F2F"><font size="2">(08:40:01 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti closed pull request #6123: Haskell: Correct dependencies for hzk and haskakafka libraries (master...master) http://git.io/bOR6<br/>
<font color="#A82F2F"><font size="2">(08:40:10 PM)</font> <b>boegel:</b></font> pierron: ok<br/>
<font color="#A82F2F"><font size="2">(08:40:11 PM)</font> <b>pierron:</b></font> goodwill: no.<br/>
<font color="#A82F2F"><font size="2">(08:40:29 PM)</font> <b>boegel:</b></font> pierron: I&apos;ll figure things out when I&apos;ve had some time to get to know Nix<br/>
<font color="#A82F2F"><font size="2">(08:40:37 PM)</font> <b>goodwill:</b></font> I am thinking of printing tees and selling them at cost and maybe give some for free<br/>
<font color="#A82F2F"><font size="2">(08:40:51 PM)</font> <b>goodwill:</b></font> pierron: thats why the cute hedgehog<br/>
<font color="#A82F2F"><font size="2">(08:41:02 PM)</font> <b>pierron:</b></font> goodwill: we have the cafepress link in the topic of the channel<br/>
<font color="#A82F2F"><font size="2">(08:41:23 PM)</font> <b>goodwill:</b></font> pierron: I mean with the hedgehog<br/>
<font color="#A82F2F"><font size="2">(08:41:28 PM)</font> <b>goodwill:</b></font> pierron: I wanted a mascot<br/>
<font color="#A82F2F"><font size="2">(08:41:38 PM)</font> <b>goodwill:</b></font> I am trying to get my company to sponsor the tees<br/>
<font color="#A82F2F"><font size="2">(08:41:49 PM)</font> <b>pierron:</b></font> goodwill: what is your company?<br/>
<font color="#A82F2F"><font size="2">(08:41:58 PM)</font> <b>goodwill:</b></font> cars.com (well newcars.com division of it)<br/>
<font color="#A82F2F"><font size="2">(08:44:59 PM)</font> <b>goodwill:</b></font> MP2E: so you coming to Scale?<br/>
<font color="#A82F2F"><font size="2">(08:45:12 PM)</font> <b>goodwill:</b></font> MP2E: iElectric and I are running the NixOS booth there<br/>
<font color="#A82F2F"><font size="2">(08:49:22 PM)</font> <b>MP2E:</b></font> goodwill: cool, didn&apos;t realize there was another event so soon :) I&apos;ll have to ask to take a few days off and see if I can come too<br/>
<font color="#A82F2F"><font size="2">(08:49:34 PM)</font> <b>MP2E:</b></font> are there more t-shirts? :P<br/>
<font color="#A82F2F"><font size="2">(08:50:11 PM)</font> <b>goodwill:</b></font> MP2E: I mentioned it sometime back: http://socallinuxexpo.org/<br/>
<font color="#A82F2F"><font size="2">(08:50:27 PM)</font> <b>goodwill:</b></font> MP2E: booth is on Friday, Saturday and Sunday<br/>
<font color="#A82F2F"><font size="2">(08:50:29 PM)</font> <b>pierron:</b></font> goodwill: really? then you should ask iElectric to take a few stickers for you ;)<br/>
<font color="#A82F2F"><font size="2">(08:50:38 PM)</font> <b>goodwill:</b></font> pierron: or even tees?<br/>
<font color="#A82F2F"><font size="2">(08:50:39 PM)</font> <b>goodwill:</b></font> ;)<br/>
<font color="#A82F2F"><font size="2">(08:50:54 PM)</font> <b>goodwill:</b></font> pierron: I am making the stickers too ... with the hedgehog :)<br/>
<font color="#A82F2F"><font size="2">(08:51:07 PM)</font> <b>goodwill:</b></font> though now you mentioned wording<br/>
<font color="#A82F2F"><font size="2">(08:51:11 PM)</font> <b>goodwill:</b></font> I kinda like it<br/>
<font color="#A82F2F"><font size="2">(08:51:27 PM)</font> <b>iElectric:</b></font> MP2E: I can bring you wone<br/>
<font color="#A82F2F"><font size="2">(08:51:27 PM)</font> <b>pierron:</b></font> goodwill: if you want I have the svg<br/>
<font color="#A82F2F"><font size="2">(08:51:29 PM)</font> <b>iElectric:</b></font> one*<br/>
<font color="#A82F2F"><font size="2">(08:52:19 PM)</font> <b>goodwill:</b></font> pierron: sure ... but what do you think of having the &quot;Nix The Hedgdehog&quot; stickers?<br/>
<font color="#A82F2F"><font size="2">(08:52:50 PM)</font> <b>MP2E:</b></font> awesome thanks :) the t-shirts look great<br/>
<font color="#A82F2F"><font size="2">(08:52:59 PM)</font> <b>MP2E:</b></font> (i&apos;m a medium, but a large would work too if you don&apos;t have any mediums left)<br/>
<font color="#A82F2F"><font size="2">(08:53:11 PM)</font> <b>pierron:</b></font> goodwill: can you make one without the pinguin?<br/>
<font color="#A82F2F"><font size="2">(08:53:49 PM)</font> <b>goodwill:</b></font> pierron: I can probably have the penguin removed ... but I liked the penguin<br/>
<font color="#A82F2F"><font size="2">(08:54:12 PM)</font> <b>pierron:</b></font> goodwill: the bec sounds wrong.<br/>
<font color="#A82F2F"><font size="2">(08:54:21 PM)</font> <b>goodwill:</b></font> bec?<br/>
<font color="#A82F2F"><font size="2">(08:54:42 PM)</font> <b>pierron:</b></font> beak<br/>
<font color="#A82F2F"><font size="2">(08:54:56 PM)</font> <b>pierron:</b></font> and it is too thin.<br/>
<font color="#A82F2F"><font size="2">(08:55:16 PM)</font> <b>goodwill:</b></font> beak? or penguin all together<br/>
<font color="#A82F2F"><font size="2">(08:55:39 PM)</font> <b>goodwill:</b></font> I can not really redo the design now anymore (unless I remove stuff) ... but I really like the penguin :(<br/>
<font color="#A82F2F"><font size="2">(08:55:46 PM)</font> <b>pierron:</b></font> the beak is too sharp, and the pinguin is too thin.<br/>
<font color="#A82F2F"><font size="2">(08:55:52 PM)</font> <b>goodwill:</b></font> shows solidarity with Nix<br/>
<font color="#A82F2F"><font size="2">(08:56:04 PM)</font> <b>goodwill:</b></font> the penguin is on a diet<br/>
<font color="#A82F2F"><font size="2">(08:56:05 PM)</font> <b>goodwill:</b></font> ?<br/>
<font color="#A82F2F"><font size="2">(08:57:31 PM)</font> <b>pierron:</b></font> goodwill: it does not look like this was made by the same person as the hedgedog<br/>
<font color="#A82F2F"><font size="2">(08:58:11 PM)</font> <b>pierron:</b></font> goodwill: either it should be changed to be of the same style of the hedgedog, or it should be remove.<br/>
<font color="#A82F2F"><font size="2">(08:58:24 PM)</font> <b>iElectric:</b></font> MP2E: k<br/>
<font color="#A82F2F"><font size="2">(08:58:44 PM)</font> <b>goodwill:</b></font> pierron: it was<br/>
<font color="#A82F2F"><font size="2">(08:58:56 PM)</font> <b>goodwill:</b></font> same designer<br/>
<font color="#A82F2F"><font size="2">(08:58:57 PM)</font> <b>pierron:</b></font> goodwill: does not feel like.<br/>
<font color="#062585"><font size="2">(08:59:06 PM)</font> <b>***goodwill</b></font> does not know what to say<br/>
<font color="#A82F2F"><font size="2">(08:59:31 PM)</font> <b>goodwill:</b></font> I&apos;ll probably keep the penguin ... but you can have the .ai file if you want in case you want to do your own print later?<br/>
<font color="#A82F2F"><font size="2">(08:59:59 PM)</font> <b>pierron:</b></font> goodwill: and I never saw a pinguin raising its wings that way either.<br/>
<font color="#A82F2F"><font size="2">(09:00:16 PM)</font> <b>goodwill:</b></font> he is carrying a box<br/>
<font color="#A82F2F"><font size="2">(09:02:00 PM)</font> <b>pierron:</b></font> goodwill: maybe you should ask other<br/>
<font color="#A82F2F"><font size="2">(09:02:17 PM)</font> <b>pierron:</b></font> goodwill: but I would remove it.<br/>
<font color="#A82F2F"><font size="2">(09:05:02 PM)</font> <b>Haskellfant:</b></font> wtf why am I now compiling cabal again<br/>
<font color="#A82F2F"><font size="2">(09:05:06 PM)</font> <b>Haskellfant:</b></font> I have no idea what I&apos;m doing<br/>
<font color="#A82F2F"><font size="2">(09:07:03 PM)</font> <b>Haskellfant:</b></font> wait, I&apos;m building ghc? this is getting crazier every minute<br/>
<font color="#A82F2F"><font size="2">(09:15:01 PM)</font> <b>joelmo:</b></font> I also think the penguins arm looks strange, I don&apos;t think they can raise their arms straight up, maybe at most likew this http://www.photovolcanica.com/PenguinSpecies/Galapagos/GAL10_3607c.jpg<br/>
<font color="#A82F2F"><font size="2">(09:20:30 PM)</font> <b>ryantrinkle:</b></font> how do i get exfat support?<br/>
<font color="#A82F2F"><font size="2">(09:21:01 PM)</font> <b>Haskellfant:</b></font> ah damnit I think the problem was me not having nix_path set<br/>
<font color="#A82F2F"><font size="2">(09:21:14 PM)</font> <b>thoughtpolice:</b></font> ryantrinkle: looks like fuse-exfat is there; nix-env -i fuse-exfat<br/>
<font color="#A82F2F"><font size="2">(09:21:37 PM)</font> <b>ryantrinkle:</b></font> ah, that&apos;ll do<br/>
<font color="#A82F2F"><font size="2">(09:21:39 PM)</font> <b>ryantrinkle:</b></font> thanks<br/>
<font color="#A82F2F"><font size="2">(09:21:57 PM)</font> <b>thoughtpolice:</b></font> I guess someone could also package up the Samsung driver these days, too<br/>
<font color="#A82F2F"><font size="2">(09:22:01 PM)</font> <b>thoughtpolice:</b></font> under linuxPackages.*<br/>
<font color="#A82F2F"><font size="2">(09:22:05 PM)</font> <b>ryantrinkle:</b></font> if it were a non-fuse filesystem, how would i add it?<br/>
<font color="#A82F2F"><font size="2">(09:22:08 PM)</font> <b>ryantrinkle:</b></font> ah, ok<br/>
<font color="#A82F2F"><font size="2">(09:22:23 PM)</font> <b>ryantrinkle:</b></font> haha, that reminds me, i&apos;m still running kernel 3.12...<br/>
<font color="#A82F2F"><font size="2">(09:22:34 PM)</font> <b>ryantrinkle:</b></font> it might be *too* easy to switch kernels on this OS...<br/>
<font color="#A82F2F"><font size="2">(09:23:25 PM)</font> <b>thoughtpolice:</b></font> yeah, I mean, fuse-exfat will do all the exfat nonsense itself (in userspace) and makes the &apos;filesystem&apos; available through FUSE, so fuse-exfat or using the Samsung driver should be no different<br/>
<font color="#A82F2F"><font size="2">(09:23:41 PM)</font> <b>thoughtpolice:</b></font> the real trick is the Samsung driver can&apos;t go upstream due to patents or whatever, so the kernel driver has to be kept out-of-tree and up to date<br/>
<font color="#A82F2F"><font size="2">(09:23:47 PM)</font> <b>thoughtpolice:</b></font> while fuse-exfat will likely keep working for, like, forever<br/>
<font color="#A82F2F"><font size="2">(09:24:13 PM)</font> <b>ryantrinkle:</b></font> ah, ok, that makes sense<br/>
<font color="#A82F2F"><font size="2">(09:24:37 PM)</font> <b>ryantrinkle:</b></font> i don&apos;t think my SD cards are really going to suffer from FUSE&apos;s overhead, either<br/>
<font color="#A82F2F"><font size="2">(09:24:51 PM)</font> <b>thoughtpolice:</b></font> yeah, FUSE is actually quite acceptable IME<br/>
<font color="#A82F2F"><font size="2">(09:25:02 PM)</font> <b>thoughtpolice:</b></font> if you want to be bold and try the driver package, it&apos;s here apparently: http://opensource.samsung.com/reception/receptionSub.do?method=sub&amp;sub=F&amp;searchValue=exfat<br/>
<font color="#A82F2F"><font size="2">(09:26:43 PM)</font> <b>thoughtpolice:</b></font> well, &apos;bold&apos;<br/>
<font color="#A82F2F"><font size="2">(09:26:45 PM)</font> <b>ryantrinkle:</b></font> nah, job done already :) thanks!<br/>
<font color="#A82F2F"><font size="2">(09:27:03 PM)</font> <b>thoughtpolice:</b></font> `nixos-rebuild build-vm` FTW :)<br/>
<font color="#16569E"><font size="2">(09:30:09 PM)</font> <b>magnetophon:</b></font> Speaking of T-shirts: I and many others where given one at fosdem, and I wanted to ask whether the financier (I think vcuncat) has gotten/will get his money back.  I'd feel bad otherwise...<br/>
<font color="#A82F2F"><font size="2">(09:31:21 PM)</font> <b>viric:</b></font> ikwildrpepper: thank you!<br/>
<font color="#A82F2F"><font size="2">(09:34:20 PM)</font> <b>iElectric:</b></font> magnetophon: it was me and I sponsored them<br/>
<font color="#A82F2F"><font size="2">(09:34:31 PM)</font> <b>iElectric:</b></font> (kiberpipa is also giving me part of that back from the sprint)<br/>
<font color="#16569E"><font size="2">(09:35:30 PM)</font> <b>magnetophon:</b></font> iElectric: so once again thanks for the t-shirt!  I really do hope you'll get all your money back!<br/>
<font color="#A82F2F"><font size="2">(09:36:27 PM)</font> <b>iElectric:</b></font> don&apos;t care that much, I like paying for stuff that has a good cause / makes people happy :)<br/>
<font color="#A82F2F"><font size="2">(09:36:48 PM)</font> <b>thoughtpolice:</b></font> heh, although we couldn&apos;t make it to FOSDEM, we did have some American Nix mindshare over the weekend in NYC. me, johnw, copumpkin, puffnfresh and cstrahan_ - that&apos;s like 80% of all American Nix users in one place!<br/>
<font color="#A82F2F"><font size="2">(09:36:52 PM)</font> <b>thoughtpolice:</b></font> sounds like it was fun, tho<br/>
<font color="#A82F2F"><font size="2">(09:37:01 PM)</font> <b>auntie:</b></font> nixos is awesome:  (pkgs.lib.overrideDerivation pkgs.systemd (attrs: {  configureFlags = attrs.configureFlags ++ [ &quot;--enable-coredump&quot; ]; }))<br/>
<font color="#A82F2F"><font size="2">(09:37:16 PM)</font> <b>viric:</b></font> oh, nix is spreading in the New World<br/>
<font color="#A82F2F"><font size="2">(09:37:38 PM)</font> <b>iElectric:</b></font> thoughtpolice: are you all able to come to SoCal?<br/>
<font color="#A82F2F"><font size="2">(09:37:45 PM)</font> <b>iElectric:</b></font> oh, NYC.<br/>
<font color="#A82F2F"><font size="2">(09:37:51 PM)</font> <b>viric:</b></font> :)<br/>
<font color="#A82F2F"><font size="2">(09:37:52 PM)</font> <b>iElectric:</b></font> scratch that :-)<br/>
<font color="#A82F2F"><font size="2">(09:38:05 PM)</font> <b>iElectric:</b></font> well, you&apos;re still invited<br/>
<font color="#A82F2F"><font size="2">(09:39:42 PM)</font> <b>auntie:</b></font> yay, I&apos;m building systemd on my 1.6GHz netbook xD<br/>
<font color="#A82F2F"><font size="2">(09:39:48 PM)</font> <b>auntie:</b></font> if I&apos;m lucky, it will be done by the end of the day<br/>
<font color="#A82F2F"><font size="2">(09:40:47 PM)</font> <b>viric:</b></font> I should upload my nixos talk somewhere<br/>
<font color="#A82F2F"><font size="2">(09:41:08 PM)</font> <b>viric:</b></font> it got erased from vimeo<br/>
<font color="#A82F2F"><font size="2">(09:42:03 PM)</font> <b>viric:</b></font> I think I have the first recorded talk :)<br/>
<font color="#A82F2F"><font size="2">(09:42:28 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] ktosiek opened pull request #6125: Build and install the .so for glfw 2.x (master...dynamic-glfw2) http://git.io/b32q<br/>
<font color="#A82F2F"><font size="2">(09:42:43 PM)</font> <b>auntie:</b></font> I just patched the build config for systemd :|<br/>
<font color="#A82F2F"><font size="2">(09:42:49 PM)</font> <b>auntie:</b></font> without batting an eyelid<br/>
<font color="#A82F2F"><font size="2">(09:43:12 PM)</font> <b>auntie:</b></font> this is way too much fun<br/>
<font color="#A82F2F"><font size="2">(09:46:16 PM)</font> <b>ktosiek:</b></font> is there some way to have out-of-store install of a package?<br/>
<font color="#A82F2F"><font size="2">(09:46:23 PM)</font> <b>ktosiek:</b></font> for hacking/testing purposes?<br/>
<font color="#A82F2F"><font size="2">(09:47:33 PM)</font> <b>ktosiek:</b></font> what I&apos;m thinking about is: if I want to play with some library and see what my changes do to applications using it I&apos;d have to rebuild those applications after each change<br/>
<font color="#A82F2F"><font size="2">(09:48:26 PM)</font> <b>ktosiek:</b></font> but if the library could be installed out of store, I could only rebuild the reverse dependencies once and then change that library as much as I want<br/>
<font color="#A82F2F"><font size="2">(09:49:26 PM)</font> <b>ktosiek:</b></font> hmm, or I can add postInstallHook that moves the library out and replaces top level directories with links...<br/>
<font color="#A82F2F"><font size="2">(09:53:48 PM)</font> <b>auntie:</b></font> ktosiek: uh, nix-env -i can install packages in your home directory from a custom repo if you point it to your repo with the -f flag<br/>
<font color="#A82F2F"><font size="2">(09:54:18 PM)</font> <b>auntie:</b></font> or edit ~/.nix-defexpr like it says in the man page<br/>
<font color="#A82F2F"><font size="2">(09:54:31 PM)</font> <b>ktosiek:</b></font> auntie: sure, but that&apos;s not what I&apos;m talking about. I want a package that I can change after installation<br/>
<font color="#A82F2F"><font size="2">(09:55:14 PM)</font> <b>auntie:</b></font> ktosiek: um, if you change a library that something depends on, you MUST rebuild all the applications that use it. That&apos;s a fundamental part of how nix worsks<br/>
<font color="#A82F2F"><font size="2">(09:55:18 PM)</font> <b>auntie:</b></font> *works<br/>
<font color="#A82F2F"><font size="2">(09:55:23 PM)</font> <b>johnw:</b></font> can I ask nix-build to print all shell lines that are executed?  (ala bash -x)<br/>
<font color="#A82F2F"><font size="2">(09:55:40 PM)</font> <b>johnw:</b></font> i have a builder that&apos;s causing a problem, but I have no idea which builder<br/>
<font color="#A82F2F"><font size="2">(09:55:44 PM)</font> <b>auntie:</b></font> testing those applications without rebuilding them would be a hack... and of limited usefulness with how nix works<br/>
<font color="#A82F2F"><font size="2">(09:55:45 PM)</font> <b>thoughtpolice:</b></font> you can do this with replaceDependency. be wary, for dragons lie here<br/>
<font color="#A82F2F"><font size="2">(09:55:54 PM)</font> <b>ktosiek:</b></font> auntie: right, that&apos;s the part that I&apos;m thinging about working around (for hacking/fast experiments purposes, not production)<br/>
<font color="#062585"><font size="2">(09:56:11 PM)</font> <b>***auntie</b></font> looks up replaceDependency<br/>
<font color="#A82F2F"><font size="2">(09:56:19 PM)</font> <b>thoughtpolice:</b></font> also, it is a hack. but it is a useful hack (e.g. replaceDependency is very useful in the case of e.g. a security vulnerability in openssl)<br/>
<font color="#A82F2F"><font size="2">(09:56:54 PM)</font> <b>thoughtpolice:</b></font> you can replace your openssl in the store by mutably rewriting it, without rebuilding 50,000 downstream packages. it&apos;s not something you should use lightly. but it is there.<br/>
<font color="#A82F2F"><font size="2">(09:56:59 PM)</font> <b>auntie:</b></font> thoughtpolice: is that how they&apos;re rolling out quick security updates now?<br/>
<font color="#A82F2F"><font size="2">(09:57:00 PM)</font> <b>ktosiek:</b></font> oh, right. I think it&apos;s known to be broken for whole languages? (I&apos;m thinking Haskell, mostly)<br/>
<font color="#A82F2F"><font size="2">(09:57:19 PM)</font> <b>ktosiek:</b></font> wait, mutably?<br/>
<font color="#A82F2F"><font size="2">(09:57:37 PM)</font> <b>ktosiek:</b></font> I was sure it&apos;s copying reverse dependencies...<br/>
<font color="#A82F2F"><font size="2">(09:57:53 PM)</font> <b>auntie:</b></font> I need a faster laptop, specifically for nixos. I&apos;d rather not resort to such hacks :s<br/>
<font color="#A82F2F"><font size="2">(09:58:19 PM)</font> <b>thoughtpolice:</b></font> well, if nginx depends on openssl, it&apos;s going to find libopenssl.so in /nix/store/&lt;HASH&gt;-libopenssl-ver/libssl.so. you have to mutably update that libssl.so, because nginx is linked to look specifically for the library there<br/>
<font color="#A82F2F"><font size="2">(09:58:51 PM)</font> <b>ktosiek:</b></font> are you sure that&apos;s how replaceDependency works?<br/>
<font color="#A82F2F"><font size="2">(09:59:00 PM)</font> <b>thoughtpolice:</b></font> I may be totally wrong, I&apos;m not sure<br/>
<font color="#A82F2F"><font size="2">(09:59:18 PM)</font> <b>thoughtpolice:</b></font> but anyway, I figured it was an answer to your question. I can&apos;t tell you if it&apos;s broken for Haskell, I don&apos;t really know<br/>
<font color="#A82F2F"><font size="2">(09:59:31 PM)</font> <b>ktosiek:</b></font> https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/replace-dependency.nix#L18-L19 seems to suggest it copies all reverse dependencies, and patches the copied versions<br/>
<font color="#A82F2F"><font size="2">(10:00:00 PM)</font> <b>thoughtpolice:</b></font> oh yes, that&apos;s right. it copies/rewrites in place<br/>
<font color="#A82F2F"><font size="2">(10:00:15 PM)</font> <b>thoughtpolice:</b></font> this is why it&apos;s a requirement the replaceDependency result path must have the same length as the original path<br/>
<font color="#A82F2F"><font size="2">(10:00:23 PM)</font> <b>auntie:</b></font> ktosiek: that&apos;s what I&apos;m trying to figure out... it just uses patchelf, right?<br/>
<font color="#A82F2F"><font size="2">(10:00:26 PM)</font> <b>thoughtpolice:</b></font> otherwise rewriting references in the dependencies will fail (since it&apos;s impossible to do in general)<br/>
<font color="#A82F2F"><font size="2">(10:00:37 PM)</font> <b>ktosiek:</b></font> auntie: replaceDependency?<br/>
<font color="#A82F2F"><font size="2">(10:00:43 PM)</font> <b>auntie:</b></font> yeah<br/>
<font color="#A82F2F"><font size="2">(10:00:51 PM)</font> <b>ktosiek:</b></font> I think it&apos;s doing a dumb replace :-)<br/>
<font color="#A82F2F"><font size="2">(10:00:56 PM)</font> <b>auntie:</b></font> lol<br/>
<font color="#A82F2F"><font size="2">(10:01:00 PM)</font> <b>thoughtpolice:</b></font> no, it literally uses sed<br/>
<font color="#A82F2F"><font size="2">(10:01:03 PM)</font> <b>auntie:</b></font> that&apos;s scarey<br/>
<font color="#A82F2F"><font size="2">(10:01:10 PM)</font> <b>auntie:</b></font> but... should work in theory xD<br/>
<font color="#A82F2F"><font size="2">(10:01:12 PM)</font> <b>thoughtpolice:</b></font> that&apos;s why the length of the original and new path must be the same<br/>
<font color="#A82F2F"><font size="2">(10:01:23 PM)</font> <b>auntie:</b></font> to avoid using patchelf<br/>
<font color="#A82F2F"><font size="2">(10:01:27 PM)</font> <b>ktosiek:</b></font> see https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/replace-dependency.nix#L64<br/>
<font color="#A82F2F"><font size="2">(10:01:30 PM)</font> <b>thoughtpolice:</b></font> well, because then you can actually replace all occurrences of &apos;/nix/store/...&apos; inside the binary executable<br/>
<font color="#A82F2F"><font size="2">(10:01:39 PM)</font> <b>thoughtpolice:</b></font> what if it wasn&apos;t a .so dependency, what if like<br/>
<font color="#A82F2F"><font size="2">(10:01:52 PM)</font> <b>thoughtpolice:</b></font> my binary has a path inside the executable that it derived from ./configure, etc<br/>
<font color="#A82F2F"><font size="2">(10:02:19 PM)</font> <b>auntie:</b></font> that&apos;s... terrifying and genius at the same time<br/>
<font color="#A82F2F"><font size="2">(10:03:29 PM)</font> <b>auntie:</b></font> the fact that replaceDependency even works is a testament to nix&apos;s flexability<br/>
<font color="#A82F2F"><font size="2">(10:04:24 PM)</font> <b>ktosiek:</b></font> BTW is anyone here using chroot env for games? Do you have sound?<br/>
<font color="#A82F2F"><font size="2">(10:11:09 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lukaslihotzki opened pull request #6126: gitlab: Fix typo (master...gitlab) http://git.io/b3yF<br/>
<font color="#A82F2F"><font size="2">(10:11:33 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lukaslihotzki opened pull request #6127: nvidia: install selected version of 32-bit library (master...nvidia) http://git.io/b3SJ<br/>
<font color="#A82F2F"><font size="2">(10:12:05 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] lukaslihotzki closed pull request #6120: nvidia: install selected version of 32-bit library (master...master) http://git.io/bOkd<br/>
<font size="2">(10:13:18 PM)</font><b> wkennington left the room (quit: Quit: No Ping reply in 180 seconds.).</b><br/>
<font size="2">(10:14:29 PM)</font><b> emery_ is now known as emery</b><br/>
<font size="2">(10:14:40 PM)</font><b> emery is now known as nickemery</b><br/>
<font color="#A82F2F"><font size="2">(10:18:24 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] jagajaga pushed 1 new commit to master: http://git.io/b37I<br/>
<font color="#A82F2F"><font size="2">(10:18:24 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master e01997e Arseniy Seroka: vim-plugins: add xkb-switch<br/>
<font size="2">(10:21:09 PM)</font><b> wkennington [<em>~william@76.77.180.204</em>] entered the room.</b><br/>
<font size="2">(10:25:47 PM)</font><b> realizable-pyon is now known as Guest47061</b><br/>
<font size="2">(10:25:53 PM)</font><b> unrealizablepyon is now known as realizable-pyon</b><br/>
<font color="#A82F2F"><font size="2">(10:44:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] peti pushed 3 new commits to master: http://git.io/bseT<br/>
<font color="#A82F2F"><font size="2">(10:44:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 1f25998 Peter Simons: all-packages.nix: don&apos;t print a message every time &apos;cmplayer&apos; is evaluated<br/>
<font color="#A82F2F"><font size="2">(10:44:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 40af5a2 Ben Ford: Fix haskakafka library to use rdkafka<br/>
<font color="#A82F2F"><font size="2">(10:44:56 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 9adc826 Ben Ford: Update hzk to use correct zookeeper_mt<br/>
<font color="#A82F2F"><font size="2">(10:48:50 PM)</font> <b>Haskellfant:</b></font> how exactly can I switch to a different ghc for just one project, aka setting it in shell.nix?<br/>
<font color="#A82F2F"><font size="2">(11:03:13 PM)</font> <b>the-kenny:</b></font> Haskellfant: what&apos;s in your shell.nix right now?<br/>
<font color="#A82F2F"><font size="2">(11:03:44 PM)</font> <b>Haskellfant:</b></font> the-kenny: http://lpaste.net/119913<br/>
<font color="#A82F2F"><font size="2">(11:03:55 PM)</font> <b>Haskellfant:</b></font> the thing cabal2nix generated<br/>
<font color="#A82F2F"><font size="2">(11:04:03 PM)</font> <b>Haskellfant:</b></font> cabal2nix --shell to be precise<br/>
<font color="#A82F2F"><font size="2">(11:14:56 PM)</font> <b>benley:</b></font> gah, the new bundlerEnv ruby stuff installs Gemfile and Gemfile.lock at the root level of the output directory, which means you get conflicts and errors if you try to install two ruby apps at the same time :-|<br/>
<font color="#A82F2F"><font size="2">(11:15:07 PM)</font> <b>benley:</b></font> unless I&apos;m doing something totally wrong.<br/>
<font color="#A82F2F"><font size="2">(11:17:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric pushed 2 new commits to master: http://git.io/bssV<br/>
<font color="#A82F2F"><font size="2">(11:17:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master c848d05 Lukas Lihotzki: gitlab: Fix typo<br/>
<font color="#A82F2F"><font size="2">(11:17:54 PM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 8aad92f Domen Kožar: Merge pull request #6126 from lukaslihotzki/gitlab...<br/>
<font color="#A82F2F"><font size="2">(11:18:48 PM)</font> <b>benley:</b></font> cstrahan_: if you happen to be around at some point, I&apos;d love to get your feedback on the way I&apos;m trying to use bundlerEnv<br/>
<font color="#A82F2F"><font size="2">(11:20:08 PM)</font> <b>NixThor:</b></font> Hey guys - another build fail. This time the python command is missing...<br/>
<font color="#A82F2F"><font size="2">(11:20:12 PM)</font> <b>NixThor:</b></font> https://gist.github.com/thorhop/4a9ff2881f173ab8700f<br/>
<font color="#A82F2F"><font size="2">(11:22:56 PM)</font> <b>NixThor:</b></font> benley: btw, the touch gesture recognition software is working smoothly ^^<br/>
<font color="#A82F2F"><font size="2">(11:23:04 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] iElectric closed pull request #6090: xbmc: Add rtmp support (master...xbmc_rtmp) http://git.io/FhSL<br/>
<font color="#A82F2F"><font size="2">(11:23:38 PM)</font> <b>benley:</b></font> NixThor: awesome<br/>
<font size="2">(11:33:07 PM)</font><b> deepfire_ is now known as deepfire_away</b><br/>
<font color="#A82F2F"><font size="2">(11:33:34 PM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] abbradar opened pull request #6130: util-linux: fix unshare -r on linux &gt;=3.19 (master...unshare-fix) http://git.io/bs8B<br/>
<font size="2">(11:43:06 PM)</font><b> roconnor [<em>roconnor@nat/google/x-tyxtkqdxdifugwkq</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(11:53:20 PM)</font> <b>NixThor:</b></font> out of curiosity,  to get windows apps to work according to nix...does each package have it&apos;s own registry hive?<br/>
<font color="#A82F2F"><font size="2">(11:55:42 PM)</font> <b>kragniz:</b></font> NixThor: nix doesn&apos;t support windows<br/>
<font color="#A82F2F"><font size="2">(11:57:26 PM)</font> <b>joelteon:</b></font> but probably<br/>
<font color="#A82F2F"><font size="2">(11:58:46 PM)</font> <b>Profpatsch:</b></font> What is the ominous &lt;nixpkgs&gt; ?<br/>
<font color="#A82F2F"><font size="2">(11:58:54 PM)</font> <b>Profpatsch:</b></font> I can’t find any documentation.<br/>
<font color="#A82F2F"><font size="2">(12:00:13 AM)</font> <b>joelteon:</b></font> when $NIX_PATH is foo=/some/path, &quot;import &lt;foo&gt;&quot; is the same as &quot;import /some/path&quot;<br/>
<font color="#A82F2F"><font size="2">(12:01:38 AM)</font> <b>Profpatsch:</b></font> joelteon: You mean &lt;nixpkgs&gt; is an alias for $NIX_PATH?<br/>
<font color="#A82F2F"><font size="2">(12:01:54 AM)</font> <b>Profpatsch:</b></font> joelteon: Are there other &lt;&gt; variables?<br/>
<font color="#A82F2F"><font size="2">(12:02:02 AM)</font> <b>joelteon:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(12:02:11 AM)</font> <b>joelteon:</b></font> I mean &lt;nixpkgs&gt; is whatever nixpkgs is set to in NIX_PATH<br/>
<font color="#A82F2F"><font size="2">(12:02:28 AM)</font> <b>shlevy:</b></font> Profpatsch: http://nixos.org/nix/manual/#sec-common-env<br/>
<font color="#A82F2F"><font size="2">(12:02:30 AM)</font> <b>shlevy:</b></font> Check NIX_PATH<br/>
<font color="#A82F2F"><font size="2">(12:04:40 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] gridaphobe opened pull request #6131: New darwin stdenv (master...new-darwin-stdenv) http://git.io/bsK5<br/>
<font color="#A82F2F"><font size="2">(12:05:15 AM)</font> <b>Profpatsch:</b></font> shlevy: My NIX_PATH has nixpkgs=/etc/nixos/nixpkgs<br/>
<font color="#A82F2F"><font size="2">(12:05:27 AM)</font> <b>Profpatsch:</b></font> But that folder doesn’t exist.<br/>
<font color="#A82F2F"><font size="2">(12:10:01 AM)</font> <b>shlevy:</b></font> Profpatsch: missing paths are just ignored<br/>
<font color="#A82F2F"><font size="2">(12:12:40 AM)</font> <b>Profpatsch:</b></font> So `with import &lt;nixpkgs&gt;;` means I can use the set defined in $NIX-PATH/default.nix?<br/>
<font color="#A82F2F"><font size="2">(12:14:13 AM)</font> <b>Profpatsch:</b></font> Ah, and it looks like { pkgs = … )<br/>
<font color="#A82F2F"><font size="2">(12:14:47 AM)</font> <b>Profpatsch:</b></font> So with import &lt;nixpkgs&gt; basically gives me the pkgs set.<br/>
<font color="#A82F2F"><font size="2">(12:19:23 AM)</font> <b>erasmas:</b></font> Profpatsch: it&apos;s not quite $NIX_PATH/default.nix btw. &lt;anything&gt; looks for &quot;anything=some/path&quot; in $NIX_PATH. your $NIX_PATH might have a whole lot of things in there but prefix any you might want to reference separately. NIX_PATH=path1:path1:nixpkgs=my/nixpkgs:foo=my/other/path<br/>
<font color="#A82F2F"><font size="2">(12:19:34 AM)</font> <b>erasmas:</b></font> Profpatsch: then you can import &lt;nixpkgs&gt; or import &lt;foo&gt;<br/>
<font color="#A82F2F"><font size="2">(12:20:00 AM)</font> <b>Profpatsch:</b></font> erasmas: Ah, I see!<br/>
<font color="#A82F2F"><font size="2">(12:20:16 AM)</font> <b>Profpatsch:</b></font> erasmas: Why do I need the {} then? All examples use with import &lt;nixpkgs&gt; {}; …<br/>
<font color="#A82F2F"><font size="2">(12:20:43 AM)</font> <b>erasmas:</b></font> Profpatsch: I&apos;ve found it helpful to &quot;nix-env -i nix-repl&quot; to experiment btw. you can override the nix path with -I on most nix utilties, so something like nix-repl -I nixpkgs=my/own/cool/stuff; :l &lt;nixpkgs&gt;<br/>
<font color="#A82F2F"><font size="2">(12:20:48 AM)</font> <b>joelteon:</b></font> because default.nix takes an argument<br/>
<font color="#A82F2F"><font size="2">(12:20:57 AM)</font> <b>Profpatsch:</b></font> But normally I’d use import like `with (import &apos;./something.nix&apos;); …<br/>
<font color="#A82F2F"><font size="2">(12:21:07 AM)</font> <b>joelteon:</b></font> that&apos;s only if something.nix doesn&apos;t take arguments<br/>
<font color="#A82F2F"><font size="2">(12:21:23 AM)</font> <b>Profpatsch:</b></font> Ah, right.<br/>
<font color="#A82F2F"><font size="2">(12:21:26 AM)</font> <b>Profpatsch:</b></font> It’s a function.<br/>
<font color="#A82F2F"><font size="2">(12:22:26 AM)</font> <b>Profpatsch:</b></font> Wow, very cool. I didn’t know there was a repl.<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] shlevy pushed 9 new commits to master: http://git.io/bsyk<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 2ca3015 Eric Seidel: add llvm-3.5<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 6f7632a Eric Seidel: update libcxx[abi] to 3.5<br/>
<font color="#A82F2F"><font size="2">(12:22:40 AM)</font> <b>NixOS_GitHub:</b></font> (notice) nixpkgs/master 92188d9 Eric Seidel: new darwin stdenv<br/>
<font color="#A82F2F"><font size="2">(12:22:50 AM)</font> <b>NixOS_GitHub:</b></font> (notice) [nixpkgs] shlevy closed pull request #6131: New darwin stdenv (master...new-darwin-stdenv) http://git.io/bsK5<br/>
<font color="#A82F2F"><font size="2">(12:23:31 AM)</font> <b>Profpatsch:</b></font> lel, import &lt;nixpkgs&gt; {} on nix-repl is not a good idea. :)<br/>
<font color="#A82F2F"><font size="2">(12:26:11 AM)</font> <b>erasmas:</b></font> Profpatsch: &quot;:l &lt;nixpkgs&gt;&quot; is a shortcut in the repl if you want to make everything available (still a lot of things to load though)<br/>
<font size="2">(01:05:20 AM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
