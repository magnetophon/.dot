<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #nixos at Wed 03 Dec 2014 08:00:36 PM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #nixos at Wed 03 Dec 2014 08:00:36 PM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(08:00:36 PM)</font><b> The topic for #nixos is: <a href="http://nixos.org/">http://nixos.org/</a> || Latest NixOS: <a href="http://nixos.org/nixos/download.html">http://nixos.org/nixos/download.html</a> || Latest Nix: <a href="http://nixos.org/nix/download.html">http://nixos.org/nix/download.html</a> || Logs: <a href="http://nixos.org/irc/logs/">http://nixos.org/irc/logs/</a> || Swag: <a href="http://www.cafepress.co.uk/NixOS">http://www.cafepress.co.uk/NixOS</a></b><br/>
<font size="2">(08:00:36 PM)</font><b> Topic for #nixos set by niksnut!~eelco@ec2-54-216-36-73.eu-west-1.compute.amazonaws.com at 12:56:59 PM on 04/11/2014</b><br/>
<font color="#16569E"><font size="2">(08:02:10 PM)</font> <b>magnetophon:</b></font> What's wrong with this: https://github.com/magnetophon/nixosConfig/blob/zshSetup/configuration.nix#L189  When I test it, the next build will say:  failed to set up the build environment for ...<br/>
<font color="#16569E"><font size="2">(08:02:35 PM)</font> <b>magnetophon:</b></font> when i comment out line 189 trough 193, all is well.<br/>
<font color="#16569E"><font size="2">(08:03:10 PM)</font> <b>magnetophon:</b></font> when i manually run those commands: AOK!<br/>
<font size="2">(08:04:27 PM)</font><b> goibhniu1 left the room (quit: Ping timeout: 245 seconds).</b><br/>
<font size="2">(08:08:18 PM)</font><b> enolan left the room (quit: Quit: Leaving).</b><br/>
<font size="2">(08:09:35 PM)</font><b> eddyb__ left the room (quit: Ping timeout: 244 seconds).</b><br/>
<font size="2">(08:09:46 PM)</font><b> bezirg [<em>~bezirg@31-151-105-123.dynamic.upc.nl</em>] entered the room.</b><br/>
<font size="2">(08:10:13 PM)</font><b> thawes left the room (quit: Ping timeout: 252 seconds).</b><br/>
<font color="#16569E"><font size="2">(08:12:54 PM)</font> <b>magnetophon:</b></font> looks like the problem was actually here: https://github.com/magnetophon/nixosConfig/blob/zshSetup/configuration.nix#L43    I'm supposed to create that dir myself, right?<br/>
<font color="#A82F2F"><font size="2">(08:14:41 PM)</font> <b>joelteon:</b></font> how do I make postPhases run?<br/>
<font color="#16569E"><font size="2">(08:15:45 PM)</font> <b>magnetophon:</b></font> joelteon: from the nix-shell you mean?<br/>
<font color="#A82F2F"><font size="2">(08:16:06 PM)</font> <b>joelteon:</b></font> no<br/>
<font color="#A82F2F"><font size="2">(08:16:06 PM)</font> <b>joelteon:</b></font> during a build<br/>
<font color="#A82F2F"><font size="2">(08:16:11 PM)</font> <b>joelteon:</b></font> where postPhases = &quot;finalPhase&quot; and finalPhase = &quot;exit 1&quot;<br/>
<font color="#16569E"><font size="2">(08:16:52 PM)</font> <b>magnetophon:</b></font> joelteon: have you tried defining phases?<br/>
<font color="#A82F2F"><font size="2">(08:17:12 PM)</font> <b>joelteon:</b></font> source-tarball.nix doesn&apos;t<br/>
<font color="#16569E"><font size="2">(08:17:27 PM)</font> <b>magnetophon:</b></font> link?<br/>
<font color="#A82F2F"><font size="2">(08:17:47 PM)</font> <b>joelteon:</b></font> https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/release/source-tarball.nix<br/>
<font color="#16569E"><font size="2">(08:20:02 PM)</font> <b>magnetophon:</b></font> joelteon: how do you know yours isn't being ran?<br/>
<font color="#A82F2F"><font size="2">(08:20:15 PM)</font> <b>joelteon:</b></font> because the build doesn&apos;t exit 1?<br/>
<font size="2">(08:22:23 PM)</font><b> phreedom left the room (quit: Ping timeout: 250 seconds).</b><br/>
<font color="#16569E"><font size="2">(08:22:25 PM)</font> <b>magnetophon:</b></font> joelteon: right. are you sure it can? I'm quite new to nix, but I have noticed some things a normal shell can do and the builder can't<br/>
<font color="#A82F2F"><font size="2">(08:22:47 PM)</font> <b>joelteon:</b></font> am I sure what can what<br/>
<font color="#16569E"><font size="2">(08:23:01 PM)</font> <b>magnetophon:</b></font> exit 1<br/>
<font color="#A82F2F"><font size="2">(08:23:20 PM)</font> <b>joelteon:</b></font> am I sure that &quot;exit 1&quot; works during a nix build?<br/>
<font color="#A82F2F"><font size="2">(08:23:22 PM)</font> <b>joelteon:</b></font> yes.<br/>
<font size="2">(08:23:28 PM)</font><b> petar [<em>~petar@77-57-42-79.dclient.hispeed.ch</em>] entered the room.</b><br/>
<font color="#16569E"><font size="2">(08:23:50 PM)</font> <b>magnetophon:</b></font> sorry, that's all I've got...<br/>
<font color="#A82F2F"><font size="2">(08:26:03 PM)</font> <b>joelteon:</b></font> oh, setting buildCommand overrides everything else.<br/>
<font size="2">(08:26:46 PM)</font><b> psnively left the room (quit: Quit: psnively).</b><br/>
<font size="2">(08:27:57 PM)</font><b> thawes [<em>~quassel@168.215.121.235</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:28:16 PM)</font> <b>joelteon:</b></font> hey, why is source-tarball.nix allowed to refer to its own outpath?<br/>
<font color="#A82F2F"><font size="2">(08:28:19 PM)</font> <b>joelteon:</b></font> normally that&apos;s not allowed<br/>
<font size="2">(08:28:24 PM)</font><b> psnively [<em>~psnively@pool-98-119-9-129.lsanca.fios.verizon.net</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:29:05 PM)</font> <b>psnively:</b></font> joelteon: I took your name in vain on ##nix-darwin. Actually, at some point Iâ€™d love a confab on Darwin + nixops. :-D<br/>
<font color="#A82F2F"><font size="2">(08:29:18 PM)</font> <b>joelteon:</b></font> okay<br/>
<font size="2">(08:29:33 PM)</font><b> Pr073u5 [<em>~Pr073u5@ipd50a10d3.speed.planet.nl</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:30:17 PM)</font> <b>joelteon:</b></font> so source-tarball.nix is all niksnut and rbvermaa<br/>
<font color="#A82F2F"><font size="2">(08:30:19 PM)</font> <b>Pr073u5:</b></font> could someone explain to me why so mant manpages for installed software are missing?<br/>
