<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #ardour at Thu 08 Jan 2015 10:59:19 AM CET on magnetophon@irc.freenode.net (irc)</title></head><body><h3>Conversation with #ardour at Thu 08 Jan 2015 10:59:19 AM CET on magnetophon@irc.freenode.net (irc)</h3>
<font size="2">(10:59:19 AM)</font><b> The topic for #ardour is: ardour 3.5.403 is released | download: <a href="http://ardour.org/download">http://ardour.org/download</a> |  paste to <a href="http://pastebin.com/">http://pastebin.com/</a> | OS X users please /join #ardour-osx</b><br/>
<font size="2">(10:59:19 AM)</font><b> Topic for #ardour set by las at 07:07:26 PM on 10/02/2014</b><br/>
<font color="#A82F2F"><font size="2">(11:22:36 AM)</font> <b>the_CLA:</b></font> About screen is way behind: &quot;Copyright (C) 1999-2013 Paul Davis&quot;<br/>
<font size="2">(01:16:24 PM)</font><b> corresponder_ is now known as corresponder</b><br/>
<font color="#A82F2F"><font size="2">(01:31:42 PM)</font> <b>jsr:</b></font> What&apos;s the equivilant of an insert for using external midi hardware? I&apos;d like to program midi in on a midi track, send it to a midi unit and the audio to be routed back into ardour. What&apos;s the most sensible way of doing this and can i do it with just a midi track? Or do i need to route the audio back in via a bus?<br/>
<font color="#A82F2F"><font size="2">(01:45:35 PM)</font> <b>the_CLA:</b></font> jsr: I have a feeling that it currently is not possible to use an insert that way on a Midi track. Personally I&apos;d use a separate audio track for the return, wich would have the benefit that you also could record the audio output of your external gear. Might be nice for archiving. :)<br/>
<font color="#A82F2F"><font size="2">(01:46:35 PM)</font> <b>jsr:</b></font> the_CLA: is there any benefit to using an audio track over a bus other than being able to record it? I suppose i would have to record it anyway? I suppose what i&apos;m asking is, an audio bus set to monitor its input is the same as a bus, for those purposes anyway? <br/>
<font color="#A82F2F"><font size="2">(01:48:04 PM)</font> <b>the_CLA:</b></font> jsr: Yes, should be the same. No other benefit over recording that I&apos;m aware of.<br/>
<font color="#A82F2F"><font size="2">(01:48:48 PM)</font> <b>rgareus:</b></font> tracks have latency compensation, busses in ardour currently don&apos;t<br/>
<font color="#A82F2F"><font size="2">(01:49:22 PM)</font> <b>rgareus:</b></font> jsr: also for final export. you&apos;ll have to have the audio or synth inside ardour.<br/>
<font color="#A82F2F"><font size="2">(01:50:00 PM)</font> <b>rgareus:</b></font> exporting happens faster than realtime (no external HW)<br/>
<font color="#A82F2F"><font size="2">(01:50:25 PM)</font> <b>jsr:</b></font> rgareus: so it would actually be better to use an audio track instead of a bus?<br/>
<font color="#A82F2F"><font size="2">(01:50:32 PM)</font> <b>rgareus:</b></font> jsr: yes.<br/>
<font color="#A82F2F"><font size="2">(01:52:00 PM)</font> <b>jsr:</b></font> I kinda figured that was how i would have to do it but just wanted to be clear about it. Thanks for the help guys<br/>
<font color="#A82F2F"><font size="2">(01:52:19 PM)</font> <b>the_CLA:</b></font> rgareus: But I think latency compensation on tracks doesn&apos;t have an effect as long as the input is only monitored live, does it?<br/>
<font color="#A82F2F"><font size="2">(01:52:28 PM)</font> <b>rgareus:</b></font> well, there are all kind of possible ways..  you could also use busses and eventually  capture the output of the master-out on an audio track.<br/>
<font color="#A82F2F"><font size="2">(01:56:24 PM)</font> <b>rgareus:</b></font> the_CLA: I don&apos;t remember what upstream ardour does at the moment. but it should make a difference<br/>
<font color="#A82F2F"><font size="2">(01:56:24 PM)</font> <b>rgareus:</b></font> the_CLA: it makes a difference. the port&apos;s input is added to the total-session latency<br/>
<font color="#A82F2F"><font size="2">(01:56:24 PM)</font> <b>the_CLA:</b></font> Ah, ok.<br/>
<font color="#A82F2F"><font size="2">(01:56:24 PM)</font> <b>rgareus:</b></font> the_CLA: but when just *monitoring*. it&apos;s not yet delayed.   total_atency - other_tracks_latency to align it.<br/>
<font color="#A82F2F"><font size="2">(01:57:59 PM)</font> <b>rgareus:</b></font> the_CLA: do you have an external synth?<br/>
<font color="#A82F2F"><font size="2">(01:59:04 PM)</font> <b>the_CLA:</b></font> rgareus: Yes, but not set up currently.<br/>
<font color="#A82F2F"><font size="2">(01:59:39 PM)</font> <b>rgareus:</b></font> at some point we need to verify alignment   Ardour-Midi-Track -&gt; HW -&gt; Synth -&gt; HW -&gt; Ardour-Audio-Track <br/>
<font color="#A82F2F"><font size="2">(02:00:09 PM)</font> <b>rgareus:</b></font> I did that in the past with a MIDI -&gt;  audio  dongle<br/>
<font color="#A82F2F"><font size="2">(02:01:19 PM)</font> <b>rgareus:</b></font> I&apos;ll re-check that later today. there were &gt; 1000 changes to MIDI since I last verified that.<br/>
<font color="#A82F2F"><font size="2">(02:01:57 PM)</font> <b>the_CLA:</b></font> rgareus: Difficult with a HW synth. I did that a while ago and the signal from the synth was slightly delayed. But that of course might be due to the sound generation and the converters in the synth itself. So testing via your dongle might be a better idea.<br/>
<font color="#A82F2F"><font size="2">(02:02:48 PM)</font> <b>the_CLA:</b></font> rgareus: This was when testing your alsa backend with compensation for midi roundtrip.<br/>
<font color="#A82F2F"><font size="2">(02:03:43 PM)</font> <b>rgareus:</b></font> yep<br/>
<font color="#A82F2F"><font size="2">(02:16:26 PM)</font> <b>las:</b></font> rgareus: that alignment will be quite hard to ever get right<br/>
<font color="#A82F2F"><font size="2">(02:17:00 PM)</font> <b>las:</b></font> rgareus: you&apos;re talking about including a factor that we don&apos;t have any separate parameter for, which is the latency of the synth (MIDI in &gt; audio out)<br/>
<font color="#A82F2F"><font size="2">(02:17:20 PM)</font> <b>las:</b></font> rgareus: i don&apos;t know where we would store that (assuming we could measure it accurately, which i think we can)<br/>
<font color="#A82F2F"><font size="2">(02:17:52 PM)</font> <b>the_CLA:</b></font> las, rgareus: That may be one reason why some sequencers have a (manual) Midi track delay (positive and negative).<br/>
<font color="#A82F2F"><font size="2">(02:18:04 PM)</font> <b>las:</b></font> rgareus: and unless we include that number, the alignment will never be right, as the_CLA noted<br/>
<font color="#A82F2F"><font size="2">(02:18:06 PM)</font> <b>rgareus:</b></font> las: I was expecting most HW synths to have no noticable latency.<br/>
<font color="#A82F2F"><font size="2">(02:18:16 PM)</font> <b>las:</b></font> rgareus: they&apos;re just computers :)<br/>
<font color="#A82F2F"><font size="2">(02:18:30 PM)</font> <b>las:</b></font> rgareus: at least the modern digital ones<br/>
<font color="#A82F2F"><font size="2">(02:18:46 PM)</font> <b>las:</b></font> rgareus: i&apos;d be really surprised if they had no delay<br/>
<font color="#A82F2F"><font size="2">(02:19:03 PM)</font> <b>rgareus:</b></font> las: yes. I was just going to mention analog ones (with a midi converter)<br/>
<font color="#A82F2F"><font size="2">(02:20:25 PM)</font> <b>the_CLA:</b></font> IMHO it&apos;s really up to the user to adjust for that delays, but Ardour currently doesn&apos;t really offer that parameter for Midi tracks.<br/>
<font color="#A82F2F"><font size="2">(02:21:24 PM)</font> <b>las:</b></font> the_CLA: i guess if we could compute the number we could store that as the latency for the source MIDI track, though semantically that isn&apos;t quite right<br/>
<font color="#A82F2F"><font size="2">(02:24:03 PM)</font> <b>las:</b></font> rgareus: there has to be some latency for MIDI transmission too, and possibly parsing by the receiver<br/>
<font color="#A82F2F"><font size="2">(02:31:01 PM)</font> <b>rgareus:</b></font> las: the transmission and transceiver we can measure (with a loopback cable) <br/>
<font size="2">(02:51:21 PM)</font><b> oofus___ is now known as oofus</b><br/>
<font color="#A82F2F"><font size="2">(02:59:36 PM)</font> <b>tartina:</b></font> HI, just tried the nightly build and I think there is still the click problem caused by Curve::_get_vector when veclen == 1<br/>
<font color="#A82F2F"><font size="2">(03:01:55 PM)</font> <b>rgareus:</b></font> tartina: yes. if  fade-length == period-size .<br/>
<font color="#A82F2F"><font size="2">(03:02:31 PM)</font> <b>rgareus:</b></font> Evoral::Curve is still due an overhaul<br/>
<font color="#A82F2F"><font size="2">(03:02:55 PM)</font> <b>tartina:</b></font> I think it&apos;s _get_vector<br/>
<font color="#A82F2F"><font size="2">(03:02:58 PM)</font> <b>tartina:</b></font> in this case<br/>
<font color="#A82F2F"><font size="2">(03:03:12 PM)</font> <b>rgareus:</b></font> the overlap issue are fixed tough<br/>
<font color="#A82F2F"><font size="2">(03:03:30 PM)</font> <b>rgareus:</b></font> (and #5953 is not closed)<br/>
<font color="#A82F2F"><font size="2">(03:04:00 PM)</font> <b>tartina:</b></font> yes I believe so<br/>
<font color="#A82F2F"><font size="2">(03:04:28 PM)</font> <b>tartina:</b></font> but if you try the session in 5953 and start from start locator you&apos;ll get the click<br/>
<font color="#A82F2F"><font size="2">(03:04:32 PM)</font> <b>tartina:</b></font> a big one<br/>
<font color="#A82F2F"><font size="2">(03:04:49 PM)</font> <b>rgareus:</b></font> IIRC the veclen patch does not fully address the issues. but it&apos;s been over a month since I last looked at it<br/>
<font color="#A82F2F"><font size="2">(03:05:03 PM)</font> <b>rgareus:</b></font> ^^ *all the* issues<br/>
<font color="#A82F2F"><font size="2">(03:05:07 PM)</font> <b>tartina:</b></font> the patch is only for veclen == 1<br/>
<font color="#A82F2F"><font size="2">(03:06:07 PM)</font> <b>tartina:</b></font> if you want now I&apos; ve got the git history of my &quot;studies&quot; with some debug functions added<br/>
<font color="#A82F2F"><font size="2">(03:06:48 PM)</font> <b>rgareus:</b></font> my gut feeling is that the complete code can be simplified a lot.  all those special if() cases just make ones head spin and bonud to produce mistakes<br/>
<font color="#A82F2F"><font size="2">(03:08:00 PM)</font> <b>tartina:</b></font> yes I agree<br/>
<font color="#A82F2F"><font size="2">(03:08:17 PM)</font> <b>rgareus:</b></font> likley just via  induction.  define for 1,2 points and then recurse<br/>
<font color="#A82F2F"><font size="2">(03:08:27 PM)</font> <b>tartina:</b></font> but I don&apos;t know how soon you&apos;ll release the new version<br/>
<font color="#A82F2F"><font size="2">(03:08:51 PM)</font> <b>rgareus:</b></font> tartina: we don&apos;t know either.<br/>
<font color="#A82F2F"><font size="2">(03:09:13 PM)</font> <b>tartina:</b></font> but you always have to consider 1 point case<br/>
<font color="#A82F2F"><font size="2">(03:09:16 PM)</font> <b>rgareus:</b></font> tartina: but it will be fixed before 4.0<br/>
<font color="#A82F2F"><font size="2">(03:09:32 PM)</font> <b>tartina:</b></font> this is a great news<br/>
<font color="#A82F2F"><font size="2">(03:10:26 PM)</font> <b>tartina:</b></font> did you try my test session?<br/>
<font color="#A82F2F"><font size="2">(03:10:33 PM)</font> <b>rgareus:</b></font> tartina: me? no.<br/>
<font color="#A82F2F"><font size="2">(03:11:05 PM)</font> <b>tartina:</b></font> I think colinf was looking at that issue<br/>
<font color="#A82F2F"><font size="2">(03:11:30 PM)</font> <b>rgareus:</b></font> yeah. he wrote unit-tests for the overlap case. and then fixed that part<br/>
<font color="#A82F2F"><font size="2">(03:11:53 PM)</font> <b>tartina:</b></font> yes, I noticed that<br/>
<font color="#A82F2F"><font size="2">(03:12:20 PM)</font> <b>tartina:</b></font> if you want i&apos;ve got some debug prints that can clearly show the issue<br/>
<font color="#A82F2F"><font size="2">(03:13:06 PM)</font> <b>colinf:</b></font> tartina, rgareus: yes, that&apos;s right. I was intending to make unit tests for Evoral::Curve as a first step, but I haven&apos;t had much spare time of late.<br/>
<font color="#A82F2F"><font size="2">(03:13:32 PM)</font> <b>colinf:</b></font> tartina: I&apos;d like to see your experiments, definitely.<br/>
<font color="#A82F2F"><font size="2">(03:13:56 PM)</font> <b>tartina:</b></font> well I&apos;ve a git branch<br/>
<font color="#A82F2F"><font size="2">(03:13:59 PM)</font> <b>tartina:</b></font> locally<br/>
<font color="#A82F2F"><font size="2">(03:14:08 PM)</font> <b>colinf:</b></font> tartina: cool. On github?<br/>
<font color="#A82F2F"><font size="2">(03:14:13 PM)</font> <b>tartina:</b></font> there are many wrong attempts<br/>
<font color="#A82F2F"><font size="2">(03:14:51 PM)</font> <b>tartina:</b></font> sorry not, and most of them couldn&apos;t apply to current master<br/>
<font color="#A82F2F"><font size="2">(03:15:22 PM)</font> <b>tartina:</b></font> colinf: because of your changes<br/>
<font color="#A82F2F"><font size="2">(03:15:33 PM)</font> <b>tartina:</b></font> but i can send the main part of it<br/>
<font color="#A82F2F"><font size="2">(03:15:52 PM)</font> <b>colinf:</b></font> tartina: could you attach patches to the mantis report?<br/>
<font color="#A82F2F"><font size="2">(03:16:00 PM)</font> <b>tartina:</b></font> the main patch is already in 5953<br/>
<font color="#A82F2F"><font size="2">(03:16:11 PM)</font> <b>tartina:</b></font> but not the debug prints<br/>
<font color="#A82F2F"><font size="2">(03:17:19 PM)</font> <b>colinf:</b></font> tartina: I&apos;d like to see them.<br/>
<font color="#A82F2F"><font size="2">(03:17:29 PM)</font> <b>tartina:</b></font> ok<br/>
<font color="#A82F2F"><font size="2">(03:19:14 PM)</font> <b>tartina:</b></font> I&apos;m working on it...<br/>
<font color="#A82F2F"><font size="2">(03:21:03 PM)</font> <b>colinf:</b></font> tartina: thank you! <br/>
<font color="#A82F2F"><font size="2">(03:21:07 PM)</font> <b>tartina:</b></font> colinf: you should use my test session (it&apos;s a sine wave so turn down the volume)<br/>
<font color="#A82F2F"><font size="2">(03:21:15 PM)</font> <b>tartina:</b></font> and start from start locator<br/>
<font color="#A82F2F"><font size="2">(03:21:20 PM)</font> <b>colinf:</b></font> tartina: yes, I&apos;ve got it already.<br/>
<font color="#A82F2F"><font size="2">(03:21:29 PM)</font> <b>tartina:</b></font> it&apos;s important to start exactly from start locator<br/>
<font size="2">(03:48:25 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
