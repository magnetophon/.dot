<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #i3 at Thu 31 Oct 2013 08:26:53 PM CET on magnetophon@irc.twice-irc.de (irc)</title></head><body><h3>Conversation with #i3 at Thu 31 Oct 2013 08:26:53 PM CET on magnetophon@irc.twice-irc.de (irc)</h3>
<font size="2">(08:26:54 PM)</font><b> The topic for #i3 is: i3 v4.6 released | i3status 2.7 released | i3lock 2.5 released | <a href="http://code.i3wm.org/">http://code.i3wm.org/</a> | <a href="http://i3wm.org/">http://i3wm.org/</a> | <a href="http://faq.i3wm.org/">http://faq.i3wm.org/</a> | <a href="http://build.i3wm.org/download-count.txt">http://build.i3wm.org/download-count.txt</a> | paste at <a href="http://p.nnev.de/">http://p.nnev.de/</a> | file upload at <a href="http://bayfiles.com/">http://bayfiles.com/</a></b><br/>
<font size="2">(08:31:06 PM)</font><b> Kiryx left the room (quit: Ping timeout).</b><br/>
<font size="2">(08:31:52 PM)</font><b> sebmag left the room.</b><br/>
<font size="2">(08:33:06 PM)</font><b> jaseemabid left the room (quit: HELP! i see everything TWiCE /  Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(08:35:30 PM)</font> <b>kushou:</b></font> hmmm, a command that permits to annonate the logfile while making it could be useful<br/>
<font color="#A82F2F"><font size="2">(08:35:59 PM)</font> <b>kushou:</b></font> like, you it a keybinding that pops a window, you can type whatever you want and it&apos;s added to the logfile<br/>
<font color="#A82F2F"><font size="2">(08:36:04 PM)</font> <b>sECuRE:</b></font> that exists<br/>
<font size="2">(08:36:07 PM)</font><b> orkun [<em>~orkun@D190876B.1ECD7B74.B8A0E0CD.IP</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:36:08 PM)</font> <b>sECuRE:</b></font> i3-msg &apos;nop foobar&apos;<br/>
<font color="#A82F2F"><font size="2">(08:36:23 PM)</font> <b>kushou:</b></font> oh yeah, indeed<br/>
<font color="#A82F2F"><font size="2">(08:36:26 PM)</font> <b>kushou:</b></font> rox<br/>
<font color="#A82F2F"><font size="2">(08:36:31 PM)</font> <b>moju:</b></font> I need to learn how to use i3-msg<br/>
<font color="#A82F2F"><font size="2">(08:36:36 PM)</font> <b>moju:</b></font> so I can become 1337 as fuck<br/>
<font color="#A82F2F"><font size="2">(08:37:21 PM)</font> <b>kushou:</b></font> sECuRE: do you have time to backlog the problem of last time/if I explain it back to you?<br/>
<font color="#A82F2F"><font size="2">(08:37:31 PM)</font> <b>kushou:</b></font> if not, I&apos;ll shoot a mail to the mailing list I think<br/>
<font color="#A82F2F"><font size="2">(08:37:45 PM)</font> <b>sECuRE:</b></font> if you re-explain, i can have a look<br/>
<font color="#A82F2F"><font size="2">(08:39:51 PM)</font> <b>kushou:</b></font> ok, you can browse files here: http://git.kushou.eu/?p=i3.git;a=shortlog;h=refs/heads/parser-refactor or &quot;DIR=`mktemp -d`; mkdir &quot;$DIR&quot;; cd &quot;$DIR&quot;; git clone git://git.kushou.eu/i3.git -b parser-refactor; cd i3; make&quot;<br/>
<font color="#A82F2F"><font size="2">(08:39:52 PM)</font> <b>frank:</b></font> [Link Info] Franck Michea&apos;s personal git repositories - i3.git/shortlog<br/>
<font color="#A82F2F"><font size="2">(08:40:15 PM)</font> <b>kushou:</b></font> the problem is in generate-command-parser.pl<br/>
<font color="#A82F2F"><font size="2">(08:41:01 PM)</font> <b>kushou:</b></font> to refresh your memory: it generates three files: GENERATED_${parsername}_{tokens,calls,idontrememberuselesshere}.h<br/>
<font color="#A82F2F"><font size="2">(08:41:24 PM)</font> <b>kushou:</b></font> it translates the grammar in C in short<br/>
<font color="#A82F2F"><font size="2">(08:42:18 PM)</font> <b>kushou:</b></font> the grammar permits to write what can be found in parser-spec/criteria.spec line 29 for example<br/>
<font color="#A82F2F"><font size="2">(08:42:21 PM)</font> <b>kushou:</b></font> http://git.kushou.eu/?p=i3.git;a=blob;f=parser-specs/criteria.spec;h=dcfbd59a6e7865bd55f62046a97dbe4e98e8b360;hb=refs/heads/parser-refactor#l29<br/>
<font color="#A82F2F"><font size="2">(08:42:22 PM)</font> <b>frank:</b></font> [Link Info] Franck Michea&apos;s personal git repositories - i3.git/blob - parser-specs/criteria.spec<br/>
<font color="#A82F2F"><font size="2">(08:42:38 PM)</font> <b>kushou:</b></font> it means &quot;call this func, then go to state FOO instead of INITIAL&quot;<br/>
<font size="2">(08:43:02 PM)</font><b> Kiryx [<em>~Kiryx@twice-3DF5AD4F.centertel.pl</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(08:43:24 PM)</font> <b>kushou:</b></font> this was formerly used in the GENERATED_${parsername}_call.h, where the dispatcher would call the function and return the next token<br/>
<font color="#A82F2F"><font size="2">(08:43:47 PM)</font> <b>kushou:</b></font> I moved that out of the dispatcher, back in the token during the refactoring<br/>
<font color="#A82F2F"><font size="2">(08:44:44 PM)</font> <b>kushou:</b></font> so now, instead of using it in block line 134-190 in generate-command-parser.pl, it should be used in the block after that<br/>
<font color="#A82F2F"><font size="2">(08:44:54 PM)</font> <b>kushou:</b></font> (the one that generates the token file)<br/>
<font color="#A82F2F"><font size="2">(08:45:27 PM)</font> <b>kushou:</b></font> BUT the information is lost somewhere in the call block or something, so I have a bug where this synthax is not used, and so I end up always on INITIAL<br/>
<font color="#A82F2F"><font size="2">(08:46:10 PM)</font> <b>kushou:</b></font> I can show you how to see the bug while using ./test.commands_parser program (I have explicit debug messages that show that I don&apos;t jump on the right token)<br/>
<font color="#A82F2F"><font size="2">(08:46:30 PM)</font> <b>kushou:</b></font> raaaaah and wall of text<br/>
<font color="#A82F2F"><font size="2">(08:47:02 PM)</font> <b>kushou:</b></font> sooo, basically, I don&apos;t know perl, I tried to fix it but I already lost much time on this little thing, I was wondering if I could have a hand<br/>
<font color="#A82F2F"><font size="2">(08:47:40 PM)</font> <b>sECuRE:</b></font> looking<br/>
<font color="#A82F2F"><font size="2">(08:50:27 PM)</font> <b>kushou:</b></font> http://bpaste.net/show/v02y4gtzOuK3P3zilvdl/ &lt;- I tried things like that<br/>
<font color="#A82F2F"><font size="2">(08:50:28 PM)</font> <b>frank:</b></font> [Link Info] Paste #v02y4gtzOuK3P3zilvdl at spacepaste<br/>
<font color="#A82F2F"><font size="2">(08:51:38 PM)</font> <b>sECuRE:</b></font> 20:53  kushou&gt; I can show you how to see the bug while using ./test.commands_parser program (I <br/>
<font color="#A82F2F"><font size="2">(08:51:43 PM)</font> <b>sECuRE:</b></font> so, how do i see that bug?<br/>
<font color="#A82F2F"><font size="2">(08:51:54 PM)</font> <b>kushou:</b></font> LOL=1 ./test.commands_parser &quot;[class=lol] nop foo&quot;<br/>
<font color="#A82F2F"><font size="2">(08:52:08 PM)</font> <b>kushou:</b></font> you&apos;ll see what the parser is doing step by step<br/>
<font color="#A82F2F"><font size="2">(08:52:33 PM)</font> <b>kushou:</b></font> it will call a subparser to parse the criteria, when doing &apos;]&apos;, it&apos;ll be on INITIAL, not CRITERIA_VALUES<br/>
<font color="#A82F2F"><font size="2">(08:52:44 PM)</font> <b>kushou:</b></font> (8 instead of 5)<br/>
<font color="#A82F2F"><font size="2">(08:53:42 PM)</font> <b>kushou:</b></font> it&apos;s also visible in the GENERATED_criteria_tokens.h file, where CRITERIA_INT and CRITERIA_STR tokens go to INITIAL (the last field of the sub structures)<br/>
<font size="2">(08:57:53 PM)</font><b> _Ultrabug [<em>~Ultrabug@E3E3468C.6E394538.F95A07A6.IP</em>] entered the room.</b><br/>
<font size="2">(09:00:56 PM)</font><b> robcsi left the room (quit: HELP! i see everything TWiCE /  Leaving).</b><br/>
<font color="#A82F2F"><font size="2">(09:01:57 PM)</font> <b>sECuRE:</b></font> kushou: in commit 0dcffdfb, you introduced some code (line 222 to 226) that breaks it — you try to match call [A-Z_]+, but the token contains something like “call 7” (just use say Dumper($tokens); before the “for” loop)<br/>
<font color="#A82F2F"><font size="2">(09:03:34 PM)</font> <b>kushou:</b></font> rah, bug fix that breaks everything, I&apos;ll look into it, thanks<br/>
<font size="2">(09:08:10 PM)</font><b> Kiryx left the room (quit: Ping timeout).</b><br/>
<font color="#A82F2F"><font size="2">(09:08:40 PM)</font> <b>kushou:</b></font> well am I not trying to match call .*; NEXT_STATE here?<br/>
<font color="#A82F2F"><font size="2">(09:08:50 PM)</font> <b>kushou:</b></font> &quot;call .*; NEXT_STATE&quot;<br/>
<font color="#A82F2F"><font size="2">(09:10:51 PM)</font> <b>kushou:</b></font> but line 186 discards &quot;; ...&quot; and only keeps &quot;call $num&quot;<br/>
<font size="2">(09:24:01 PM)</font><b> The account has disconnected and you are no longer in this chat. You will automatically rejoin the chat when the account reconnects.</b><br/>
</body></html>
