<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with #i3 at Tue 02 Dec 2014 03:29:27 PM CET on magnetophon@irc.twice-irc.de (irc)</title></head><body><h3>Conversation with #i3 at Tue 02 Dec 2014 03:29:27 PM CET on magnetophon@irc.twice-irc.de (irc)</h3>
<font size="2">(03:29:27 PM)</font><b> The topic for #i3 is: i3 v4.8 released | i3status 2.8 released | i3lock 2.6 released | <a href="http://code.i3wm.org/">http://code.i3wm.org/</a> | <a href="http://i3wm.org/">http://i3wm.org/</a> | <a href="http://faq.i3wm.org/">http://faq.i3wm.org/</a> | <a href="http://build.i3wm.org/download-count.txt">http://build.i3wm.org/download-count.txt</a> | paste at <a href="http://p.nnev.de/">http://p.nnev.de/</a> | file upload at <a href="https://transfer.sh/">https://transfer.sh/</a></b><br/>
<font size="2">(03:29:27 PM)</font><b> Topic for #i3 set by sECuRE at 09:42:18 AM on 10/06/2014</b><br/>
<font size="2">(03:40:46 PM)</font><b> jonasj left the room (quit: HELP! i see everything TWiCE /  Leaving.).</b><br/>
<font size="2">(03:44:13 PM)</font><b> ideasman42 left the room (quit: HELP! i see everything TWiCE /  Ex-Chat).</b><br/>
<font size="2">(03:49:10 PM)</font><b> alexpbrown [<em>~alex.brow@35769EA7.537B6FBC.9051C884.IP</em>] entered the room.</b><br/>
<font size="2">(03:56:14 PM)</font><b> xaviern left the room (quit: Ping timeout: 520 seconds).</b><br/>
<font size="2">(03:57:20 PM)</font><b> isene [<em>~isene@twice-48C64B37.getinternet.no</em>] entered the room.</b><br/>
<font size="2">(03:59:41 PM)</font><b> rathier [<em>~pi@twice-D6D7C50C.hsi7.kabel-badenwuerttemberg.de</em>] entered the room.</b><br/>
<font size="2">(04:05:31 PM)</font><b> cutuchiqueno [<em>~cutuchiqu@twice-AAB413C7.pool.mediaways.net</em>] entered the room.</b><br/>
<font size="2">(04:06:36 PM)</font><b> cutuchiqueno left the room (quit: HELP! i see everything TWiCE /  leaving).</b><br/>
<font size="2">(04:11:47 PM)</font><b> jonasj [<em>~jonas@twice-860AA74A.cpe.webspeed.dk</em>] entered the room.</b><br/>
<font size="2">(04:14:32 PM)</font><b> Ultrabug left the room (quit: Ping timeout: 528 seconds).</b><br/>
<font size="2">(04:34:31 PM)</font><b> nslqqq [<em>~nsl@twice-E9825798.net</em>] entered the room.</b><br/>
<font size="2">(04:35:41 PM)</font><b> isene left the room (quit: Ping timeout: 520 seconds).</b><br/>
<font size="2">(04:36:44 PM)</font><b> dardevelin [<em>~dardeveli@twice-E316FD0.cpe.netcabo.pt</em>] entered the room.</b><br/>
<font size="2">(04:38:18 PM)</font><b> f8l left the room (quit: Ping timeout: 527 seconds).</b><br/>
<font size="2">(04:40:23 PM)</font><b> cornerma1 [<em>~cornerman@twice-80188841.netcologne.de</em>] entered the room.</b><br/>
<font size="2">(04:48:04 PM)</font><b> cornerman left the room (quit: Ping timeout: 523 seconds).</b><br/>
<font size="2">(04:48:16 PM)</font><b> cornerma1 is now known as cornerman</b><br/>
<font size="2">(04:50:41 PM)</font><b> mseed left the room (quit: Ping timeout: 528 seconds).</b><br/>
<font size="2">(04:59:05 PM)</font><b> mseed [<em>~mseed@3B77313B.345FC955.FA18CADE.IP</em>] entered the room.</b><br/>
<font size="2">(05:07:24 PM)</font><b> airblader [<em>~airblader@twice-309CC.clients.kiwiirc.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(05:08:21 PM)</font> <b>airblader:</b></font> TonyC: Hey, remember me from last night? I have a completely fresh installation of Ubuntu and set up everything all over again and the same test is hanging still.<br/>
<font size="2">(05:11:22 PM)</font><b> f8l [<em>~f8l@twice-96A5A150.adsl.inetia.pl</em>] entered the room.</b><br/>
<font size="2">(05:13:15 PM)</font><b> zamaterian [<em>~Thomas@twice-1E89BA8A.ds1-oebr.adsl.cybercity.dk</em>] entered the room.</b><br/>
<font size="2">(05:26:13 PM)</font><b> marcosmoyano [<em>~marcosmoy@40765A4F.DA881DD5.D70F2471.IP</em>] entered the room.</b><br/>
<font size="2">(05:29:24 PM)</font><b> onorua [<em>~onorua@53531AFE.D0852857.B5EB42BD.IP</em>] entered the room.</b><br/>
<font size="2">(05:41:52 PM)</font><b> LucaB left the room (quit: HELP! i see everything TWiCE /  Lost terminal).</b><br/>
<font size="2">(05:42:01 PM)</font><b> spion__ left the room (quit: Ping timeout: 524 seconds).</b><br/>
<font size="2">(05:44:52 PM)</font><b> fmoreau left the room (quit: Ping timeout: 523 seconds).</b><br/>
<font color="#A82F2F"><font size="2">(05:49:59 PM)</font> <b>sECuRE:</b></font> airblader: use ./complete-run.pl --parallel=1 in order to identify which test is actually causing the problem<br/>
<font color="#A82F2F"><font size="2">(05:50:37 PM)</font> <b>airblader:</b></font> I know which test it is, it&apos;s 175-*. I also figured out which line seems to cause the problem<br/>
<font color="#A82F2F"><font size="2">(05:50:45 PM)</font> <b>sECuRE:</b></font> can you still run this command please?<br/>
<font color="#A82F2F"><font size="2">(05:50:53 PM)</font> <b>sECuRE:</b></font> it may be that the output you’re seeing was misleading<br/>
<font color="#A82F2F"><font size="2">(05:51:06 PM)</font> <b>airblader:</b></font> I even ran that test only and it hangs. :)<br/>
<font color="#A82F2F"><font size="2">(05:51:10 PM)</font> <b>airblader:</b></font> But sure, I&apos;ll run it.<br/>
<font color="#A82F2F"><font size="2">(05:51:17 PM)</font> <b>sECuRE:</b></font> okay, then that’s good enough<br/>
<font color="#A82F2F"><font size="2">(05:51:43 PM)</font> <b>sECuRE:</b></font> can you run strace -f -s 2048 -o /tmp/strace.log ./complete-run.pl t/175-* and provide /tmp/strace.log?<br/>
<font color="#A82F2F"><font size="2">(05:52:00 PM)</font> <b>airblader:</b></font> Sure thing, one sec<br/>
<font color="#A82F2F"><font size="2">(05:53:11 PM)</font> <b>airblader:</b></font> Do you want me to keep it running for a while before terminating it?<br/>
<font color="#A82F2F"><font size="2">(05:53:22 PM)</font> <b>sECuRE:</b></font> yeah, a couple of seconds should be enough (like 10s)<br/>
<font color="#A82F2F"><font size="2">(05:53:35 PM)</font> <b>airblader:</b></font> Alright<br/>
<font color="#A82F2F"><font size="2">(05:54:42 PM)</font> <b>airblader:</b></font> Awesome, pastebin doesn&apos;t like such big files. *sigh*.<br/>
<font color="#A82F2F"><font size="2">(05:56:27 PM)</font> <b>airblader:</b></font> http://www.airblader.de/strace.log<br/>
<font color="#A82F2F"><font size="2">(06:01:31 PM)</font> <b>sECuRE:</b></font> as a general observation: i’d recommend to install libev-perl, so that AnyEvent can use that as a backend. typically it’s faster than the AnyEvent::Impl::Perl fallback you’re using, but i don’t think that causes the problem<br/>
<font color="#A82F2F"><font size="2">(06:03:36 PM)</font> <b>airblader:</b></font> I&apos;ll try anyway. Can&apos;t hurt<br/>
<font color="#A82F2F"><font size="2">(06:04:21 PM)</font> <b>airblader:</b></font> Yeah, no change.<br/>
<font size="2">(06:05:52 PM)</font><b> lahol left the room (quit: HELP! i see everything TWiCE /  leaving).</b><br/>
<font color="#A82F2F"><font size="2">(06:07:44 PM)</font> <b>sECuRE:</b></font> 2412  write(1, &quot;ok 3 - startup_id not empty\n&quot;, 28 &lt;unfinished ...&gt;<br/>
<font color="#A82F2F"><font size="2">(06:07:53 PM)</font> <b>sECuRE:</b></font> this is the last line the testcase executes<br/>
<font color="#A82F2F"><font size="2">(06:08:08 PM)</font> <b>sECuRE:</b></font> that’s line 97<br/>
<font color="#A82F2F"><font size="2">(06:08:16 PM)</font> <b>sECuRE:</b></font> so, my guess is that the init_ctx() fails<br/>
<font color="#A82F2F"><font size="2">(06:08:48 PM)</font> <b>sECuRE:</b></font> could also be that $x-&gt;get_xcb_conn() fails<br/>
<font color="#A82F2F"><font size="2">(06:09:09 PM)</font> <b>airblader:</b></font> Yeah, that&apos;s what I got down to as well<br/>
<font color="#A82F2F"><font size="2">(06:09:30 PM)</font> <b>airblader:</b></font> When I deleted everything after that line, it still froze. Then if I delete that line too, it runs through.<br/>
<font color="#A82F2F"><font size="2">(06:09:43 PM)</font> <b>sECuRE:</b></font> you could add a printf to init_ctx(), and add diag(&quot;XCB conn: &quot; . $x-&gt;get_xcb_conn()); to figure out which of the two is the problem<br/>
<font color="#A82F2F"><font size="2">(06:10:03 PM)</font> <b>sECuRE:</b></font> i remember i also had trouble with this some time ago<br/>
<font color="#A82F2F"><font size="2">(06:10:20 PM)</font> <b>sECuRE:</b></font> i think it was caused by some sort of version mismatch, perhaps between the version of XCB used to compile libstartup-notification and X11::XCB<br/>
<font color="#A82F2F"><font size="2">(06:10:30 PM)</font> <b>sECuRE:</b></font> i guess the latter you compiled yourself (via cpan) and the former you just installed<br/>
<font color="#A82F2F"><font size="2">(06:10:47 PM)</font> <b>sECuRE:</b></font> so perhaps rebuilding libstartup-notification (and then cleaning out your _Inline dir to be sure) helps…?<br/>
<font color="#A82F2F"><font size="2">(06:10:50 PM)</font> <b>airblader:</b></font> Correct. I couldn&apos;t pull X11:XCB from cpan because then the tests complained<br/>
<font color="#A82F2F"><font size="2">(06:11:05 PM)</font> <b>sECuRE:</b></font> yeah, i also noticed that (patches welcome). i installed it with -n (to skip tests)<br/>
<font color="#A82F2F"><font size="2">(06:11:21 PM)</font> <b>airblader:</b></font> (Patches coming, but for something else ;) )<br/>
<font color="#A82F2F"><font size="2">(06:11:55 PM)</font> <b>airblader:</b></font> so you mean build libstartup-notification from source?<br/>
<font color="#A82F2F"><font size="2">(06:11:58 PM)</font> <b>airblader:</b></font> Or just reinstalling it?<br/>
<font size="2">(06:14:55 PM)</font><b> Ultrabug [<em>~Ultrabug@9ABBBBCD.F04A0BA2.45F37F53.IP</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:19:24 PM)</font> <b>sECuRE:</b></font> rebuilding the debian package on your local machine (i.e. not using pbuilder) should be enough to pick up the proper xcb version from your system<br/>
<font size="2">(06:20:33 PM)</font><b> airblader left the room (quit: HELP! i see everything TWiCE /  http://www.kiwiirc.com/ - A hand crafted IRC client).</b><br/>
<font size="2">(06:21:12 PM)</font><b> airblader [<em>~airblader@twice-309CC.clients.kiwiirc.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:21:39 PM)</font> <b>airblader:</b></font> Sorry, I guess i3 didn&apos;t like switching from normal i3 to my forked i3.<br/>
<font color="#A82F2F"><font size="2">(06:21:51 PM)</font> <b>airblader:</b></font> Just gonna ignore that crash.<br/>
<font color="#A82F2F"><font size="2">(06:23:53 PM)</font> <b>airblader:</b></font> Anyway, I purged &amp; reinstalled libstartup-notification0-dev, deleted _Inline/ and it&apos;s still not working<br/>
<font color="#A82F2F"><font size="2">(06:26:47 PM)</font> <b>airblader:</b></font> On the bright side, I just messed up my system. Good thing it&apos;s just my playground.<br/>
<font color="#A82F2F"><font size="2">(06:28:39 PM)</font> <b>airblader:</b></font> I&apos;m just gonna be booting to my actual system really quick then.<br/>
<font size="2">(06:28:47 PM)</font><b> airblader left the room (quit: HELP! i see everything TWiCE /  http://www.kiwiirc.com/ - A hand crafted IRC client).</b><br/>
<font size="2">(06:30:05 PM)</font><b> airblader [<em>airblader@twice-309CC.clients.kiwiirc.com</em>] entered the room.</b><br/>
<font color="#A82F2F"><font size="2">(06:30:08 PM)</font> <b>airblader:</b></font> and back.<br/>
<font size="2">(06:40:03 PM)</font><b> marcosmoyano left the room (quit: Ping timeout: 525 seconds).</b><br/>
<font size="2">(06:49:01 PM)</font><b> Twonky left the room (quit: HELP! i see everything TWiCE /  WeeChat 1.0.1).</b><br/>
<font size="2">(06:51:45 PM)</font><b> nslqqq left the room (quit: Ping timeout: 522 seconds).</b><br/>
<font size="2">(07:06:32 PM)</font><b> iskatu left the room (quit: Ping timeout: 528 seconds).</b><br/>
<font size="2">(07:07:10 PM)</font><b> iskatu [<em>~iskatu@twice-ABAB2154.dip0.t-ipconnect.de</em>] entered the room.</b><br/>
<font size="2">(07:17:02 PM)</font><b> xaviern [<em>~xaviern@twice-D6A357D4.bredband.comhem.se</em>] entered the room.</b><br/>
<font size="2">(07:22:05 PM)</font><b> isene [<em>~isene@twice-48C64B37.getinternet.no</em>] entered the room.</b><br/>
<font size="2">(07:25:56 PM)</font><b> airblader left the room (quit: HELP! i see everything TWiCE /  http://www.kiwiirc.com/ - A hand crafted IRC client).</b><br/>
<font size="2">(07:34:04 PM)</font><b> xaviern left the room (quit: Ping timeout: 524 seconds).</b><br/>
<font size="2">(08:00:46 PM)</font><b> zerotech left the room (quit: HELP! i see everything TWiCE /  WeeChat 1.0.1).</b><br/>
<font size="2">(08:04:41 PM)</font><b> isene left the room (quit: Ping timeout: 527 seconds).</b><br/>
<font size="2">(08:10:37 PM)</font><b> michaelrose [<em>~mike@twice-BE52E7BB.tukw.qwest.net</em>] entered the room.</b><br/>
<font size="2">(08:15:16 PM)</font><b> orkun left the room (quit: HELP! i see everything TWiCE /  WeeChat 0.4.2).</b><br/>
<font size="2">(08:15:58 PM)</font><b> causasui left the room (quit: HELP! i see everything TWiCE /  1.0.1).</b><br/>
